{"version":3,"sources":["store/store.js","History.js","images/OkIcon.jsx","Data.js","server/DatabaseApi.js","Settings.js","components/utility/Popover.jsx","components/utility/Loader.jsx","images/RemoveIcon.jsx","components/user/WishlistButton.jsx","utilities/Functions.js","components/user/ReactionButton.jsx","server/MoviesApi.js","components/user/TrailerPlayer.jsx","components/utility/Modal.jsx","components/user/MoveToWatchedButton.jsx","components/user/AddReview.jsx","components/user/MoviesList.jsx","components/user/PopularMovies.jsx","components/user/Recommendations.jsx","components/utility/Paigination.jsx","components/user/ReplyToReview.jsx","components/user/PopularReviews.jsx","components/user/RecentReviews.jsx","components/user/Home.jsx","components/user/EditComment.jsx","components/user/MovieReviews.jsx","components/user/Movie.jsx","components/user/ReviewsList.jsx","components/user/SearchResults.jsx","images/Logo.jsx","components/admin/LeftSideMenu.jsx","components/admin/Settings.jsx","components/admin/RightSideMenuFloating.jsx","components/utility/Select.jsx","components/utility/Checkbox.jsx","components/admin/Reviews.jsx","components/admin/Comments.jsx","components/admin/ReviewAndComments.jsx","components/admin/EditReview.jsx","components/admin/EditComment.jsx","components/admin/Announcements.jsx","components/admin/EditAnnouncement.jsx","components/admin/AddNewAnnouncement.jsx","components/admin/Promotions.jsx","components/admin/EditPromotion.jsx","components/admin/AddNewPromotion.jsx","components/admin/Notifications.jsx","components/utility/Autocomplete.jsx","components/admin/EditNotification.jsx","components/admin/AddNewNotification.jsx","components/admin/Users.jsx","components/admin/AddNewUser.jsx","components/admin/EditUser.jsx","components/admin/AdminDashboard.jsx","components/login/Login.jsx","documents/PrivacyPolicy.js","documents/TermsAndConditions.js","documents/CookiesPolicy.js","components/user/LegalDocument.jsx","components/login/Signup.jsx","components/user/Toast.jsx","components/user/profile/MoviesList.jsx","components/user/profile/Wishlist.jsx","components/user/profile/Watchedlist.jsx","components/user/profile/Reviews.jsx","components/user/profile/Comments.jsx","components/user/profile/EditProfile.jsx","components/user/profile/Profile.jsx","utilities/PrivateRoute.jsx","components/user/Announcement.jsx","images/Notifications.jsx","components/user/MoviesListMinified.jsx","components/user/ReviewsListMinified.jsx","components/user/SearchBox.jsx","components/user/Navbar.jsx","components/user/Footer.jsx","components/user/Serie.jsx","components/login/ForgotPassword.jsx","components/login/ResetPassword.jsx","App.js","index.js"],"names":["rootReducer","combineReducers","publicUsers","state","action","type","Object","assign","publicUser","ratings","rating","user","first_name","last_name","display_name","photo","token","email","reviews","wishlist","watchedlist","notifications","userProperty","search","query","category","notification","title","message","expired","settings","movies_api_key","captcha_api_key","movie_data_api","latest_movies_api","no_popular_reviews","no_popular_movies","no_allowed_reviews","no_comment_characters","no_display_name_characters","no_review_words","bg_image_refresh_time_days","bg_image_refresh_time_hours","bg_image_refresh_time_minutes","FacebookLink","InstagramLink","TwitterLink","LinkedinLink","current_bg_movie","date_set","Date","now","id","poster_path","backdrop_path","release_date","overview","genres","name","runtime","navbarHeight","height","dashboardMenuOpened","isOpened","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","createBrowserHistory","OkIcon","props","size","viewBox","width","transform","y","x","rx","fill","className","d","stroke","OfficialMoviesGenres","OfficialSeriesGenres","Ratings","element","style","lineHeight","emoji","set","origin","SendPostRequest","path","data","fetch","method","body","JSON","stringify","headers","then","res","json","SendGetRequest","Login","credentials","LoginWithToken","GetAllRatings","callback","GetAllPublicUsers","WriteReview","review","movieId","apiKey","EditReview","prevReview","userId","DeleteReview","GetMovieReviews","GetMoviePromotedReviews","WriteComment","comment","EditComment","commentId","DeleteComment","commentsIds","GetReviewComments","reviewId","AddToWishList","AddViewToMovie","LikeReview","LikeComment","ReportReview","ReportComment","GetUser","GetUserReviews","reviewIds","GetUserReview","GetUserComments","commentIds","EditUser","update","GetPopularReviews","limit","GetRecentReviews","GetRecommendations","SearchReviews","UpdateOrCreateSettings","GetSettings","GetUsers","GetReviews","GetComments","EditReviewForAdmin","EditCommentForAdmin","DeleteMultipleReviews","ids","DeleteMultipleComments","EditMultipleUsers","pids","GetAnnouncements","CreateAnnouncement","announcement","DeleteMultipleAnnouncements","EditAnnouncement","GetActiveAnnouncements","GetPromotions","EditPromotion","promotion","GetUserNotifications","GetNotifications","CreateNotification","EditNotification","DeleteMultipleNotifications","MoveMovieToWatchList","GetPromotedReviews","SendPasswordResetLink","ResetPassword","password","Popover","onOpen","position","arrow","theme","content","trigger","delay","animation","open","undefined","onHide","rest","popoverWidth","useState","contentWidth","setContentWidth","useEffect","popovers","document","getElementsByClassName","i","length","parentNode","removeChild","wasShowed","setWasShowed","onShow","hideDelay","html","interactive","unmountHTMLWhenHide","React","cloneElement","children","ref","el","getBoundingClientRect","current","Loader","loading","RemoveIcon","fillOpacity","paintOrder","ry","connect","ownProps","movie","setLoading","handleClick","a","console","log","updatedUser","dispatch","ratingsArr","forEach","tmdb_id","error","replace","currentlyAdded","findIndex","movie_id","toString","w","pointerEvents","color","onClick","marginRight","nFormatter","num","digits","si","value","symbol","toFixed","FormatDuration","minutes","h","Math","floor","m","validateEmail","test","String","toLowerCase","allowRate","selected","marginTop","marginBottom","FormatRequestUrl","params","concat","join","GetPopularMoviesByGenre","GetTrailers","finalId","substring","GetTvShow","GetMovie","GetCredits","SearchMovies","url","SearchSeries","encodeURI","onEnded","modalOpened","setIsEmpty","videoIds","setVideoIds","problem","setProblem","isReady","setIsReady","trailers","results","map","key","getData","Fragment","onReady","config","youtube","playerVars","showinfo","iv_load_policy","playing","controls","Modal","overflow","mobileCloserColor","desktopCloserColor","top","zIndex","onClose","fontSize","strokeWidth","refreshProfile","movieIndex","splice","refreshReviews","userIsOwner","newReview","setNewReview","prev","backgroundImage","split","onChange","e","persist","text","target","spellCheck","placeholder","resize","excellent_rate","good_rate","ok_rate","bad_rate","opacity","_id","push","reviewsList","userRatings","rate_type","left","bottom","margin","display","alignItems","movies","prefix","trailerMovieId","setTrailerMovieId","openTrailer","setOpenTrailer","addReviewOpen","setAddReviewOpen","setMovie","alt","borderRadius","src","history","stopPropagation","genre_ids","gid","genre","find","g","genresPairs","genresIds","horizontalMenu","useRef","setGenresIds","genreName","setGenreName","setMovies","userWishList","setUserWishList","userWatchedList","setUserWatchedList","filteredMovies","setFilteredMovies","recalculate","filter","includes","slice","padding","background","maxWidth","overflowX","whiteSpace","Recommendations","movie_poster","movie_title","movie_genres","Pagination","count","setCurrent","classNames","notSelected","first","second","third","reviewAuthor","setReviewIdOfVisibleComments","setComments","refreshComments","newComment","setNewComment","finalComment","author_name","comment_id","review_id","review_author","author","notificationReceivers","finalUser","comments","setReviews","promotedReviews","setPromotedReviews","reviewIdOfVisibleComments","loadingComment","setLoadingComment","loadingReview","setLoadingReview","loadingReport","setLoadingReport","commentsPage","setCommentsPage","topOfReviewsBlock","movie_release_date","setReview","addReplyOpen","setAddReplyOpen","setRefreshComments","setRefreshReviews","promotedContents","setPromotedContents","commentsObj","promoted","promotedContentIds","promoContents","content_id","promReviews","notPromotedReviews","cursor","date","format","likes","Collapse","in","marginLeft","values","renderComments","ind","b","Paigination","ceil","GetClosestValidWidth","closestSize","minDifference","diff","abs","innerWidth","setHeight","useLayoutEffect","updateSize","innerHeight","addEventListener","removeEventListener","useWindowSize","recommendedMovies","setRecommendedMovies","backgroundMovie","setBackgroundMovie","trailerIsEmpty","setTrailerIsEmpty","right","fontWeight","editFn","refreshReviewsFromParent","seekReviewId","seekCommentId","deletingComment","setDeletingComment","deletingReview","setDeletingReview","userIsOwnerOfReview","setUserIsOwnerOfReview","setComment","page","setPage","replyOpen","setReplyOpen","editCommentOpen","setEditCommentOpen","scrolledOnce","setScrolledOnce","reverse","unshift","realPage","scrollIntoView","behavior","content_author","userInd","r","match","director","cast","serieId","serieData","first_air_date","success","credits","directors","crew","job","scrollTo","currentTarget","classList","contains","remove","add","userHasWrittenReview","extractGenres","0","series","setSeries","selectedMovieGenre","setSelectedMovieGenre","selectedSerieGenre","setSelectedSerieGenre","onFail","moviesGenres","seriesGenres","minHeight","keys","Logo","clipPathUnits","strokeLinecap","clipPath","menuItems","icon","MdSettings","MdGroup","MdRateReview","FaBullhorn","BsFillTagFill","BsBellFill","LeftSideMenu","section","setSection","isMenuOpened","mobile","borderLeft","socialIcons","FaFacebookF","FaInstagram","FaLinkedinIn","FaTwitter","validations","valid","min","disabled","invalid","RightSideMenuFloating","transition","Select","items","btnName","multipleSelect","popoverClass","onSelect","isOpen","setIsOpen","opener","maxHeight","overflowY","uniqid","click","item","createMuiTheme","palette","primary","main","secondary","Checkbox","setEditReviewSection","setEditReview","setAction","role","setRole","searchKey","setSearchKey","lastVisibleColumn","setLastVisibleColumn","roleFilter","setRoleFilter","setSearch","mainFilter","setMainFilter","filteredReviews","setFilteredReviews","refresh","setRefresh","arr","boundaries","handleApply","columns","deleted","index","minWidth","onSwipedLeft","onSwipedRight","checked","reported","colSpan","setEditCommentSection","setEditComment","setCommentsObj","filteredComments","setFilteredComments","obj","allIds","fetchIds","idsArr","ReviewsAndComments","containerSpacing","tab","setTab","admin","currentReview","getBack","setUser","adminRatings","currentComment","setEditAnnouncement","setEditAnnouncementSection","setAddNewAnouncementSection","setType","typeFilter","setTypeFilter","announcements","setAnnouncements","filteredAnnouncements","setFilteredAnnouncements","description","actions","types","status","start_date","end_date","currentAnnouncement","setAnnouncement","statuses","component","onDayChange","day","year","getFullYear","month","getMonth","niceDay","getDate","setFullYear","setMonth","setDate","getTime","clearIcon","clockIcon","newTime","setHours","setMinutes","Edit","setEditPromotion","setAddNewPromotionSection","setEditPromotionSection","promotions","setPromotions","filteredPromotions","setFilteredPromotions","content_type","RegExp","searchOptions","publish_status","c","j","currentPromotion","active_status","setPromotion","publishStatuses","newContent","candidates","setCandidates","searchKeys","rev","p","promos","Notifications","setEditNotification","setEditNotificationSection","setAddNewNotificationSection","setNotifications","filteredNotifications","setFilteredNotifications","subject","useStyles","makeStyles","inputRoot","border","Autocomplete","classes","multiple","filterSelectedOptions","renderInput","TextField","variant","currentNotification","initialDate","receivers","setNotification","val","options","All","getOptionLabel","option","setEditUser","setEditUserSection","setAddNewUserSection","statusFilter","setStatusFilter","users","setUsers","filteredUsers","setFilteredUsers","newPublicUsers","editUsers","last_login","TimeAgo","last_activity","username","re_password","newUser","setNewUser","roles","user_id","pid","currentUser","allowEdit","getState","sections","editReview","editComment","editAnnouncement","editPromotion","editNotification","editUser","u","ann","prom","not","handleSubmit","LoginFunction","localStorage","setItem","setEmail","setPassword","onKeyDown","keyCode","href","LegalDocument","PrivacyPolicy","TermsAndConditions","CookiesPolicy","confirmPassword","setConfirmPassword","validated","setValidated","agreedWithPolicies","setAgreedWithPolicies","legalDocument","setLegalDocument","notValid","sitekey","hovered","setHovered","setExpired","timeout","setTimeout","clearTimeout","adminNotification","onMouseOver","onMouseLeave","listType","owner","formatedMovie","Wishlist","selectedGenre","setSelectedGenre","EditProfile","editProfileOpen","confirm_assword","setUpdate","photoUploader","handleFileUpload","imageFile","files","maxSizeMB","maxWidthOrHeight","useWebWorker","imageCompression","compressedFile","getDataUrlFromFile","dataUrl","finalUpdate","updatedPublicUser","newToken","sectionInUrl","profileData","setProfileData","reviewsFetched","commentsFetched","setEditProfileOpen","setRefreshProfile","borderTop","borderBottom","Watchedlist","PrivateRoute","Component","bearerPath","successPath","computedMatch","ready","validity","setValidity","getItem","render","to","pathname","Announcement","notClosedAnnouncement","closedAnnouncements","parse","closed","setClosed","flexBasis","flexGrow","movieGenre","seriesGenre","categories","setQuery","populateBox","setPopulateBox","queryCleaned","onBlur","Promise","resolve","onFocus","onKeyUp","withResizeDetector","scrolledToTop","setScrolledTopTop","lastScroll","direction","setDirection","profilePopover","location","useLocation","handleScrolling","scrollY","seen","prevNotifications","delIndex","n","removeItem","condition","secodaryItems","addReviewTrigger","setAddReviewTrigger","directorObj","ResetPasswordPage","App","publicUsersArr","userToken","exact","Home","Movie","Serie","SearchResults","AdminDashboard","Signup","ForgotPassword","Profile","ReactDOM","StrictMode","getElementById"],"mappings":"oPA6IA,IAAMA,EAAcC,YAAgB,CAClCC,YAlHF,WAAiD,IAArBC,EAAoB,uDAAZ,GAAIC,EAAQ,uCAC9C,OAAQA,EAAOC,MACb,IAAK,kBACH,OAAOD,EAAOF,YAChB,IAAK,qBACH,OAAOI,OAAOC,OAAO,GAAIJ,EAAOC,EAAOI,YACzC,QACE,OAAOL,IA4GXM,QAxGF,WAA6C,IAArBN,EAAoB,uDAAZ,GAAIC,EAAQ,uCAC1C,OAAQA,EAAOC,MACb,IAAK,cACH,OAAOD,EAAOK,QAChB,IAAK,iBACH,OAAOH,OAAOC,OAAO,GAAIJ,EAAOC,EAAOM,QACzC,QACE,OAAOP,IAkGXQ,KA9IF,WAeG,IAdDR,EAcA,uDAdQ,CACNS,WAAY,GACZC,UAAW,GACXC,aAAc,GACdC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPR,QAAS,GACTS,QAAS,GACTC,SAAU,GACVC,YAAa,GACbC,cAAe,IAEjBjB,EACA,uCACA,OAAQA,EAAOC,MACb,IAAK,WACH,OAAOD,EAAOO,KAChB,IAAK,cACH,OAAOL,OAAOC,OAAO,GAAIJ,EAAOC,EAAOkB,cACzC,QACE,OAAOnB,IAyHXoB,OAjFF,WAAwE,IAAjDpB,EAAgD,uDAAxC,CAAEqB,MAAO,GAAIC,SAAU,OAASrB,EAAQ,uCACrE,OAAQA,EAAOC,MACb,IAAK,aACH,OAAOD,EAAOmB,OAChB,IAAK,gBACH,OAAOjB,OAAOC,OAAO,GAAIJ,EAAOC,EAAOmB,QACzC,QACE,OAAOpB,IA2EXuB,aAhGF,WAGG,IAFDvB,EAEA,uDAFQ,CAAEwB,MAAO,GAAIC,QAAS,GAAIC,SAAS,GAC3CzB,EACA,uCACA,OAAQA,EAAOC,MACb,IAAK,mBACH,OAAOD,EAAOsB,aAChB,IAAK,sBACH,OAAOpB,OAAOC,OAAO,GAAIJ,EAAOC,EAAOsB,cACzC,QACE,OAAOvB,IAuFX2B,SAtDF,WAqCG,IApCD3B,EAoCA,uDApCQ,CACN4B,eAAgB,GAChBC,gBAAiB,2CACjBC,eAAgB,GAChBC,kBAAmB,GACnBC,mBAAoB,EACpBC,kBAAmB,EACnBC,mBAAoB,EACpBC,sBAAuB,IACvBC,2BAA4B,GAC5BC,gBAAiB,GACjBC,2BAA4B,EAC5BC,4BAA6B,EAC7BC,8BAA+B,EAC/BC,aAAc,GACdC,cAAe,GACfC,YAAa,GACbC,aAAc,GACdC,iBAAkB,CAChBC,SAAUC,KAAKC,MACfC,GAAI,SACJC,YAAa,mCACbC,cAAe,mCACfC,aAAc,aACdC,SACE,6IACF7B,MAAO,4CACP8B,OAAQ,CACN,CAAEL,GAAI,GAAIM,KAAM,UAChB,CAAEN,GAAI,GAAIM,KAAM,WAChB,CAAEN,GAAI,GAAIM,KAAM,aAElBC,QAAS,MAGbvD,EACA,uCACA,OAAQA,EAAOC,MACb,IAAK,eACH,OAAOD,EAAO0B,SAChB,IAAK,kBACH,OAAOxB,OAAOC,OAAO,GAAIJ,EAAOC,EAAO0B,UACzC,QACE,OAAO3B,IAWXyD,aAzEF,WAAiD,IAApBzD,EAAmB,uDAAX,EAAGC,EAAQ,uCAC9C,OAAQA,EAAOC,MACb,IAAK,aACH,OAAOD,EAAOyD,OAChB,QACE,OAAO1D,IAqEX2D,oBAjEF,WAAsD,IAAxB3D,EAAuB,wDAARC,EAAQ,uCACnD,OAAQA,EAAOC,MACb,IAAK,4BACH,OAAOD,EAAO2D,SAChB,QACE,OAAO5D,MAoEE6D,EALDC,YACZjE,EACAkE,OAAOC,8BAAgCD,OAAOC,gC,wBCxJjCC,gB,sBC2DAC,MA3Df,SAAgBC,GACd,IAAIC,EAAOD,EAAMC,KAAOD,EAAMC,KAAO,GACrC,OACE,qCACEnB,GAAG,eACHoB,QAAQ,kBACRX,OAAQU,EACRE,MAAOF,GACHD,GAEJ,wBAAMlB,GAAG,iBACP,yBAAOA,GAAG,YAEN,sFAIN,qBAAGsB,UAAU,2BAA2BtB,GAAG,kBACzC,qBAAGsB,UAAU,wCAAwCtB,GAAG,gBACtD,wBACEuB,EAAG,EACHC,EAAG,EACHH,MAAO,GACPZ,OAAQ,GACRgB,GAAI,EACJzB,GAAG,kBACH0B,KAAK,SAEP,wBACEC,UAAU,YACVL,UAAU,iBACVtB,GAAG,mBAEH,yBAAOwB,EAAG,EAAGD,EAAG,EAAGvB,GAAG,oBACnB,OAGL,wBACE2B,UAAU,YACVL,UAAU,kBACVtB,GAAG,mBAEH,yBAAOwB,EAAG,EAAGD,EAAG,EAAGvB,GAAG,oBACnB,OAGL,wBACE4B,EAAE,kBACFN,UAAU,4BACVtB,GAAG,kBACH0B,KAAK,OACLG,OAAO,aCjDNC,EAAuB,CAClC,CAAE9B,GAAI,GAAIM,KAAM,UAChB,CAAEN,GAAI,GAAIM,KAAM,aAChB,CAAEN,GAAI,GAAIM,KAAM,aAChB,CAAEN,GAAI,GAAIM,KAAM,UAChB,CAAEN,GAAI,GAAIM,KAAM,SAChB,CAAEN,GAAI,GAAIM,KAAM,eAChB,CAAEN,GAAI,GAAIM,KAAM,SAChB,CAAEN,GAAI,MAAOM,KAAM,UACnB,CAAEN,GAAI,GAAIM,KAAM,WAChB,CAAEN,GAAI,GAAIM,KAAM,WAChB,CAAEN,GAAI,GAAIM,KAAM,UAChB,CAAEN,GAAI,MAAOM,KAAM,SACnB,CAAEN,GAAI,KAAMM,KAAM,WAClB,CAAEN,GAAI,MAAOM,KAAM,WACnB,CAAEN,GAAI,IAAKM,KAAM,mBACjB,CAAEN,GAAI,MAAOM,KAAM,YACnB,CAAEN,GAAI,GAAIM,KAAM,YAChB,CAAEN,GAAI,MAAOM,KAAM,OACnB,CAAEN,GAAI,GAAIM,KAAM,YAwBLyB,EAAuB,CAClC,CACE/B,GAAI,MACJM,KAAM,sBAER,CACEN,GAAI,GACJM,KAAM,aAER,CACEN,GAAI,GACJM,KAAM,UAER,CACEN,GAAI,GACJM,KAAM,SAER,CACEN,GAAI,GACJM,KAAM,eAER,CACEN,GAAI,GACJM,KAAM,SAER,CACEN,GAAI,MACJM,KAAM,UAER,CACEN,GAAI,MACJM,KAAM,QAER,CACEN,GAAI,KACJM,KAAM,WAER,CACEN,GAAI,MACJM,KAAM,QAER,CACEN,GAAI,MACJM,KAAM,WAER,CACEN,GAAI,MACJM,KAAM,oBAER,CACEN,GAAI,MACJM,KAAM,QAER,CACEN,GAAI,MACJM,KAAM,QAER,CACEN,GAAI,MACJM,KAAM,kBAER,CACEN,GAAI,GACJM,KAAM,YAuBG0B,EAAU,CACrB,CACE1B,KAAM,iBACN2B,QACE,yBAAKN,UAAU,mBAAmBO,MAAO,CAAEC,WAAY,SACrD,kBAAC,IAAD,CAAOC,MAAM,OAAOC,IAAI,WAAWlB,KAAM,OAI/C,CACEb,KAAM,YACN2B,QACE,yBAAKN,UAAU,mBAAmBO,MAAO,CAAEC,WAAY,SACrD,kBAAC,IAAD,CAAOC,MAAM,QAAQC,IAAI,WAAWlB,KAAM,OAIhD,CACEb,KAAM,UACN2B,QACE,yBAAKN,UAAU,mBAAmBO,MAAO,CAAEC,WAAY,SACrD,kBAAC,EAAD,CAAQhB,KAAM,OAIpB,CACEb,KAAM,WACN2B,QACE,yBAAKN,UAAU,mBAAmBO,MAAO,CAAEC,WAAY,SACrD,kBAAC,IAAD,CAAOC,MAAM,OAAOC,IAAI,WAAWlB,KAAM,Q,QChK3CmB,ECCA,yCDCAC,EAAkB,SAACC,EAAMC,GAC7B,OAAOC,MAAM,GAAD,OAAIJ,GAAJ,OAAaE,GAAQ,CAC/BG,OAAQ,OACRC,KAAMC,KAAKC,UAAUL,GACrBM,QAAS,CACP,eAAgB,sBAEjBC,MAAK,SAACC,GAAD,OAASA,EAAIC,WAGjBC,EAAiB,SAACX,GACtB,OAAOE,MAAM,GAAD,OAAIJ,GAAJ,OAAaE,IAAQQ,MAAK,SAACC,GAAD,OAASA,EAAIC,WAexCE,EAAQ,SAACC,GACpB,OAAOd,EAAgB,cAAec,IAG3BC,EAAiB,SAAC1F,GAC7B,OAAO2E,EAAgB,uBAAwB3E,IAGpC2F,EAAgB,SAACC,GAC5BL,EAAe,oBAAoBH,MAAK,SAACC,GAAD,OAASO,EAASP,OAG/CQ,EAAoB,SAACD,GAChC,OAAOL,EAAe,wBAAwBH,MAAK,SAACC,GAAD,OAASO,EAASP,OAO1DS,EAAc,SAACC,EAAQC,EAASrG,EAAMsG,GACjD,OAAOtB,EAAgB,eAAgB,CAAEoB,SAAQC,UAASrG,OAAMsG,YAGrDC,EAAa,SAACH,EAAQI,EAAYC,GAC7C,OAAOzB,EAAgB,gBAAiB,CAAEoB,SAAQI,aAAYC,YAGnDC,EAAe,SAACN,GAC3B,OAAOpB,EAAgB,kBAAmB,CAAEoB,YAGjCO,EAAkB,SAACN,GAC9B,OAAOrB,EAAgB,qBAAsB,CAAEqB,aAGpCO,EAA0B,SAACP,GACtC,OAAOrB,EAAgB,6BAA8B,CAAEqB,aAG5CQ,EAAe,SAACC,EAAS9G,GACpC,OAAOgF,EAAgB,mBAAoB,CAAEhF,OAAM8G,aAGxCC,EAAc,SAACD,EAASE,GACnC,OAAOhC,EAAgB,iBAAkB,CAAEgC,YAAWF,aAG3CG,EAAgB,SAACD,GAC5B,OAAOhC,EAAgB,mBAAoB,CAAEkC,YAAa,CAACF,MAGhDG,EAAoB,SAACC,GAChC,OAAOpC,EAAgB,uBAAwB,CAAEoC,cAGtCC,EAAgB,SAACrH,EAAMqG,EAASC,GAC3C,OAAOtB,EAAgB,uBAAwB,CAAEhF,OAAMqG,UAASC,YAOrDgB,EAAiB,SAACjB,EAASC,GACtC,OAAOtB,EAAgB,mBAAoB,CAAEqB,UAASC,YAG3CiB,EAAa,SAACvH,EAAMoH,GAC/B,OAAOpC,EAAgB,gBAAiB,CAAEhF,OAAMoH,cAGrCI,EAAc,SAACxH,EAAMgH,GAChC,OAAOhC,EAAgB,iBAAkB,CAAEhF,OAAMgH,eAGtCS,EAAe,SAACzH,EAAMoH,GACjC,OAAOpC,EAAgB,kBAAmB,CAAEhF,OAAMoH,cAGvCM,EAAgB,SAAC1H,EAAMgH,GAClC,OAAOhC,EAAgB,mBAAoB,CAAEhF,OAAMgH,eAGxCW,EAAU,SAAClB,GACtB,OAAOzB,EAAgB,aAAc,CAAEyB,YAG5BmB,EAAiB,SAACC,GAC7B,OAAO7C,EAAgB,oBAAqB,CAAE6C,eAGnCC,EAAgB,SAACrB,EAAQJ,GACpC,OAAOrB,EAAgB,wBAAyB,CAAEyB,SAAQJ,aAG/C0B,EAAkB,SAACC,GAC9B,OAAOhD,EAAgB,qBAAsB,CAAEgD,gBAGpCC,EAAW,SAACC,GACvB,OAAOlD,EAAgB,cAAe,CAAEkD,YAG7BC,EAAoB,SAACC,GAChC,OAAOpD,EAAgB,uBAAwB,CAAEoD,WAGtCC,EAAmB,SAACD,GAC/B,OAAOpD,EAAgB,sBAAuB,CAAEoD,WAGrCE,GAAqB,SAACF,GACjC,OAAOpD,EAAgB,0BAA2B,CAAEoD,WAGzCG,GAAgB,SAAC1H,GAC5B,OAAOmE,EAAgB,kBAAmB,CAAEnE,WAGjC2H,GAAyB,SAACrH,GACrC,OAAO6D,EAAgB,2BAA4B7D,IAGxCsH,GAAc,SAACxC,GAC1BL,EAAe,iBAAiBH,MAAK,SAACC,GAAD,OAASO,EAASP,OAG5CgD,GAAW,WACtB,OAAO9C,EAAe,qBAWX+C,GAAa,WACxB,OAAO/C,EAAe,uBAGXgD,GAAc,WACzB,OAAOhD,EAAe,wBAGXiD,GAAqB,SAACzC,EAAQpG,GACzC,OAAOgF,EAAgB,sBAAuB,CAAEoB,SAAQpG,UAE7C8I,GAAsB,SAAChC,EAAS9G,GAC3C,OAAOgF,EAAgB,uBAAwB,CAAE8B,UAAS9G,UAG/C+I,GAAwB,SAACC,GACpC,OAAOhE,EAAgB,wBAAyBgE,IAGrCC,GAAyB,SAACD,GACrC,OAAOhE,EAAgB,yBAA0BgE,IAGtCE,GAAoB,SAACF,EAAKG,EAAMjB,GAC3C,OAAOlD,EAAgB,4BAA6B,CAAEgE,MAAKG,OAAMjB,YAGtDkB,GAAmB,WAC9B,OAAOxD,EAAe,6BAGXyD,GAAqB,SAACC,GACjC,OAAOtE,EAAgB,8BAA+BsE,IAG3CC,GAA8B,SAACP,GAC1C,OAAOhE,EAAgB,8BAA+BgE,IAG3CQ,GAAmB,SAACF,GAC/B,OAAOtE,EAAgB,4BAA6BsE,IAGzCG,GAAyB,WACpC,OAAO7D,EAAe,6BAGX8D,GAAgB,WAC3B,OAAO9D,EAAe,0BAOX+D,GAAgB,SAACC,GAC5B,OAAO5E,EAAgB,yBAA0B4E,IAOtCC,GAAuB,SAACb,GACnC,OAAOhE,EAAgB,2BAA4B,CAAEgE,SAO1Cc,GAAmB,WAC9B,OAAOlE,EAAe,6BAGXmE,GAAqB,SAAChJ,GACjC,OAAOiE,EAAgB,8BAA+BjE,IAG3CiJ,GAAmB,SAACjJ,GAC/B,OAAOiE,EAAgB,4BAA6BjE,IAGzCkJ,GAA8B,SAACjB,EAAKd,GAC/C,OAAOlD,EAAgB,8BAA+B,CAAEgE,MAAKd,YAGlDgC,GAAuB,SAAClK,EAAMqG,EAASC,GAClD,OAAOtB,EAAgB,2BAA4B,CAAEhF,OAAMqG,UAASC,YAezD6D,GAAqB,WAChC,OAAOvE,EAAe,yBAGXwE,GAAwB,SAAC9J,GACpC,OAAO0E,EAAgB,+BAAgC,CAAE1E,WAG9C+J,GAAgB,SAACC,EAAUjK,GACtC,OAAO2E,EAAgB,uBAAwB,CAAE3E,QAAOiK,c,6BE7M3CC,GAzEC,SAAC,GAcV,IAbLnG,EAaI,EAbJA,UAaI,IAZJoG,cAYI,MAZK,aAYL,MAXJC,gBAWI,MAXO,SAWP,MAVJC,aAUI,aATJC,aASI,MATI,QASJ,MARJC,eAQI,MARM,aAQN,MAPJC,eAOI,MAPM,QAON,MANJC,aAMI,MANI,EAMJ,MALJC,iBAKI,MALQ,QAKR,MAJJC,YAII,WAJGC,EAIH,MAHJC,cAGI,MAHK,aAGL,EADDC,GACC,EAFJC,aAEI,4IACoCC,mBAAS,GAD7C,mBACGC,EADH,KACiBC,EADjB,KAGJC,qBAAU,WACR,OAAO,WAEL,IADA,IAAIC,EAAWC,SAASC,uBAAuB,gBACtCC,EAAI,EAAGA,EAAIH,EAASI,OAAQD,IACnCH,EAASG,GAAGE,WAAWC,YAAYN,EAASG,OAG/C,IAVC,MAW8BP,oBAAS,GAXvC,mBAWGW,EAXH,KAWcC,EAXd,KAYJ,OACE,kBAAC,WAAD,CACEC,OAAQ,WACDF,IACHC,GAAa,GACbzB,MAGJU,OAAQA,EACRJ,MAAOA,EACPqB,UAAW,EACXC,KAAMxB,EAAQU,GACdb,SAAUA,EACVI,QAASA,EACTF,MAAOA,EACPD,MAAOA,EACP2B,aAAa,EACbtB,UAAWA,EACXC,KAAMA,EACNsB,qBAAqB,EACrBlI,UAAWA,GAEVmI,IAAMC,aACLrB,EAAKsB,SACL9M,OAAOC,OAAO,GAAIuL,EAAKsB,SAAS9I,MAAO,CACrC+I,IAAK,SAACC,GACJ,GAAIA,IACmB,IAAjBrB,GACFC,EAAgBoB,EAAGC,wBAAwB9I,OAEzCqH,EAAKsB,UAAU,CAAC,IACVC,EAAQvB,EAAKsB,SAAbC,IACJA,GAAO,YAAaA,IACtBA,EAAIG,QAAUF,GAEG,oBAARD,GACTA,EAAIC,UCnDPG,GAbA,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,QAA0C,IAAjCnJ,YAAiC,MAA1B,GAA0B,MAAtB+G,aAAsB,MAAd,QAAc,EAC1D,OACEoC,GACE,yBAAK3I,UAAU,kCACb,yBACEA,UAAS,iBAAYuG,GACrBhG,MAAO,CAAEb,MAAM,GAAD,OAAKF,EAAL,MAAeV,OAAO,GAAD,OAAKU,EAAL,WCwC9BoJ,OA9Cf,SAAoBrJ,GAClB,IAAIC,EAAOD,EAAMC,KAAOD,EAAMC,KAAO,GACrC,OACE,qCAAKC,QAAQ,kBAAkBX,OAAQU,EAAME,MAAOF,GAAUD,GAC5D,qBACEI,UAAU,4BACVkJ,YAAa,KACbC,WAAW,uBAEX,wBACEhJ,GAAI,EACJF,EAAG,OACHC,EAAG,MACHf,OAAQ,GACRY,MAAO,MACPqJ,GAAI,OAEN,wBACErJ,MAAO,MACPZ,OAAQ,GACRe,EAAG,OACHD,EAAG,OACHE,GAAI,EACJiJ,GAAI,OAEN,wBACErJ,MAAO,MACPZ,OAAQ,KACRe,EAAG,OACHD,EAAG,OACHE,GAAI,EACJiJ,GAAI,OAEN,wBACEjJ,GAAI,EACJF,EAAG,OACHC,EAAG,KACHf,OAAQ,KACRY,MAAO,MACPqJ,GAAI,UCqFCC,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACL/G,OAAQ9G,EAAM2B,SAASC,gBACpBiM,KAIQD,EArHQ,SAAC,GAA6B,IAA3BpN,EAA0B,EAA1BA,KAAMsN,EAAoB,EAApBA,MAAOhH,EAAa,EAAbA,OAAa,EACpB+E,oBAAS,GADW,mBAC3C0B,EAD2C,KAClCQ,EADkC,KAG5CC,EAAW,uCAAG,WAAOvM,GAAP,eAAAwM,EAAA,kEAEhBC,QAAQC,IAAI,oBAAqBL,EAAM7K,KACnCzC,EAAKG,aAHO,qBAIVmN,EAAM7K,GAJI,wBAKZ8K,GAAW,GALC,SAMIlG,EAAcrH,EAAMsN,EAAM7K,GAAI6D,GANlC,OAMRZ,EANQ,OAOZ6H,GAAW,GACP7H,EAAIkI,aACNvK,EAAMwK,SAAS,CACbnO,KAAM,cACNiB,aAAc+E,EAAIkI,cAEpBvK,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAM,SAAD,OAAWC,EAAX,aACLA,QAAQ,sBAAD,OAAwBA,EAAxB,kBACPvB,KAAM,aAGVsG,GAAc,SAAC8H,GACb,IAAIhO,EAAU,GACdgO,EAAWC,SAAQ,SAAC9J,GAClBnE,EAAQmE,EAAE+J,SAAW/J,KAEvBZ,EAAMwK,SAAS,CAAEnO,KAAM,cAAeI,gBAGxCuD,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASqE,KAAKC,UAAUG,EAAIuI,OAAOC,QAAQ,KAAM,IACjDxO,KAAM,aAlCA,gCAwCd2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,qBACPC,QAAS,6CACTvB,KAAM,aA7CI,0DAkDhB2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,gBACPC,QAAS,iCACTvB,KAAM,aAvDM,0DAAH,sDA6DXyO,GACoE,IAAxEnO,EAAKQ,SAAS4N,WAAU,SAACnK,GAAD,OAAOA,EAAEoK,WAAaf,EAAM7K,GAAG6L,cAKzD,OAFG,IADDtO,EAAKS,YAAY2N,WAAU,SAACnK,GAAD,OAAOA,EAAEoK,WAAaf,EAAM7K,GAAG6L,cAuC1D,GAnCA,kBAAC,GAAD,CACE3D,MAAM,OACNF,SAAS,MACTG,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,aACZ+J,EAAiB,uBAAyB,oBAG/CtD,QAAQ,cAER,yBACElG,MAAO,CAAE6J,cAAe,OACxBpK,UAAS,qBACP+J,EAAiB,oBAAsB,sBAGxCpB,EACC,kBAAC,GAAD,CAAQnJ,KAAM,GAAImJ,QAASA,EAAS0B,MAAO,UACzCN,EACF,kBAAC,GAAD,CACEM,MAAO,QACPtK,KAAM,QACNuK,QAAS,kBAAMlB,EAAY,iBAC3B5J,KAAM,KAGR,kBAAC,IAAD,CACE8K,QAAS,kBAAMlB,EAAY,aAC3BpJ,UAAU,gBACVO,MAAO,CAAEgK,YAAa,eC7GrBC,GAAa,SAACC,EAAKC,GAC9B,IAUIlD,EAVAmD,EAAK,CACP,CAAEC,MAAO,EAAGC,OAAQ,IACpB,CAAED,MAAO,IAAKC,OAAQ,KACtB,CAAED,MAAO,IAAKC,OAAQ,KACtB,CAAED,MAAO,IAAKC,OAAQ,KACtB,CAAED,MAAO,KAAMC,OAAQ,KACvB,CAAED,MAAO,KAAMC,OAAQ,KACvB,CAAED,MAAO,KAAMC,OAAQ,MAIzB,IAAKrD,EAAImD,EAAGlD,OAAS,EAAGD,EAAI,KACtBiD,GAAOE,EAAGnD,GAAGoD,OADYpD,KAK/B,OAAQiD,EAAME,EAAGnD,GAAGoD,OAAOE,QAAQJ,GAAQZ,QAPlC,2BAO8C,MAAQa,EAAGnD,GAAGqD,QAG1DE,GAAiB,SAACC,GAC7B,IAAIC,EAAIC,KAAKC,MAAMH,EAAU,IACzBI,EAAIJ,EAAc,GAAJC,EAClB,MAAM,GAAN,OAAUA,EAAV,aAAgBG,EAAhB,MAEWC,GAAgB,SAACnP,GAG5B,MADW,0JACDoP,KAAKC,OAAOrP,GAAOsP,gBCwChBxC,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACLrN,KAAMR,EAAMQ,KACZF,QAASN,EAAMM,SACZuN,KAIQD,EA9DQ,SAAC,GAQjB,IAPLvI,EAOI,EAPJA,MACA6J,EAMI,EANJA,QAMI,IALJ9K,YAKI,MALG,SAKH,MAJJiM,iBAII,SAHJC,EAGI,EAHJA,SACA1L,EAEI,EAFJA,UACA4K,EACI,EADJA,MAEA,OACE,yBACEN,QAAO,sBAAE,sBAAAjB,EAAA,sDACHoC,GACEnB,GACFA,IAHG,2CAOTtK,UAAS,gCAA2BR,EAA3B,YACPiM,EAAY,eAAiB,IADtB,OAENC,EAAW,yBAA2B,IAFhC,OAGP1L,EAAS,WAAOA,GAAc,KAGhC,yBAAKA,UAAU,uEACF6G,IAAV+D,GAAiC,OAAVA,EACtB,yBAAK5K,UAAS,iBAAqB,UAATR,EAAmB,IAAM,MAChDgL,GAAWI,EAAMnD,OAAQ,IAG5B,GAEF,yBAAKzH,UAAU,YACF,wBAAVS,EACC,yBAAKF,MAAO,CAAEoL,UAAoB,WAATnM,EAAoB,OAAS,SACpD,kBAAC,EAAD,CACEA,KAAe,UAATA,EAAmB,GAAc,WAATA,EAAoB,GAAK,MAI3D,yBAAKe,MAAO,CAAEqL,aAAuB,WAATpM,EAAoB,OAAS,SACvD,kBAAC,IAAD,CACEiB,MAAOA,EACPC,IAAI,WACJlB,KAAe,UAATA,EAAmB,GAAc,WAATA,EAAoB,GAAK,Y,qBC/CjEqM,I,MAAmB,SAAChL,GAA+B,IAAzBiL,EAAwB,uDAAf,GAAI5J,EAAW,uCACtD,MAAM,GAAN,OAHa,gCAGb,OAAmBrB,EAAnB,oBAAmCqB,EAAnC,YAA6C,CAAC,kBAC3C6J,OAAOD,GACPE,KAAK,QAaGC,GAA0B,SAACvN,EAAQwD,GAC9C,OAAOnB,MACL8K,GACE,kBACA,CAAC,0BAAD,sBAA2CnN,EAAOsN,KAAK,OACvD9J,IAEFb,MAAK,SAACC,GAAD,OAASA,EAAIC,WAGT2K,GAAc,SAACjK,EAASC,GACnC,IAAIiK,EAC0B,WAA5BlK,EAAQmK,UAAU,EAAG,GAAkBnK,EAAQmK,UAAU,GAAKnK,EAChE,OAAOlB,MACL8K,GAAiB,IAAD,OAEgB,WAA5B5J,EAAQmK,UAAU,EAAG,GAAkB,KAAO,QAFlC,YAGVD,EAHU,WAId,GACAjK,IAEFb,MAAK,SAACC,GAAD,OAASA,EAAIC,WAOT8K,GAAY,SAACpK,EAASC,GACjC,OAAOnB,MAAM8K,GAAiB,OAAD,OAAQ5J,GAAW,GAAIC,IAASb,MAAK,SAACC,GAAD,OAChEA,EAAIC,WAIK+K,GAAW,SAACrK,EAASC,GAChC,OAAOnB,MAAM8K,GAAiB,UAAD,OAAW5J,GAAW,GAAIC,IAASb,MAAK,SAACC,GAAD,OACnEA,EAAIC,WAIKgL,GAAa,SAACtK,EAASC,GAClC,IAAIiK,EAC0B,WAA5BlK,EAAQmK,UAAU,EAAG,GAAkBnK,EAAQmK,UAAU,GAAKnK,EAChE,OAAOlB,MACL8K,GAAiB,IAAD,OAEgB,WAA5B5J,EAAQmK,UAAU,EAAG,GAAkB,KAAO,QAFlC,YAGVD,EAHU,YAId,GACAjK,IAEFb,MAAK,SAACC,GAAD,OAASA,EAAIC,WAGTiL,GAAe,SAAC/P,EAAOyF,GAClC,IAAIuK,EAAMZ,GAAiB,gBAAiB,CAAC,SAAD,OAAUpP,IAAUyF,GAChE,OAAOnB,MAAM0L,GAAKpL,MAAK,SAACC,GAAD,OAASA,EAAIC,WAGzBmL,GAAe,SAACjQ,EAAOyF,GAClC,IAAIuK,EAAMZ,GACR,aACA,CAAC,SAAD,OAAUc,UAAUlQ,KACpByF,GAEF,OAAOnB,MAAM0L,GAAKpL,MAAK,SAACC,GAAD,OAASA,EAAIC,WCFvByH,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACLlM,SAAU3B,EAAM2B,UACbkM,KAIQD,EA3EO,SAAC,GAMhB,IALL/G,EAKI,EALJA,QACAlF,EAII,EAJJA,SACA6P,EAGI,EAHJA,QACAC,EAEI,EAFJA,YAEI,IADJC,kBACI,MADS,aACT,IAC4B7F,mBAAS,IADrC,mBACG8F,EADH,KACaC,EADb,OAE0B/F,mBAAS,IAFnC,mBAEGgG,EAFH,KAEYC,EAFZ,OAG0BjG,oBAAS,GAHnC,mBAGGkG,EAHH,KAGYC,EAHZ,KAwBJ,OAnBAhG,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,0DACMpH,IAAWlF,EAASC,eAD1B,gCAEyBkP,GACnBjK,EAAQiI,WACRnN,EAASC,gBAJf,QAEQqQ,EAFR,QAMkBC,SAAYD,EAASC,QAAQ7F,OAIzCuF,EAAYK,EAASC,QAAQC,KAAI,SAAC1N,GAAD,OAAOA,EAAE2N,SAH1CN,EAAW,2CACXJ,KARN,4CADc,uBAAC,WAAD,wBAgBdW,KACC,CAACxL,EAASlF,EAASC,iBAGpB,yBAAKgD,UAAU,kDACb,yBAAKA,UAAU,kBACZ+M,EAAStF,QAAUoF,EAClB,kBAAC,IAAMa,SAAP,KACE,yBAAK1N,UAAS,gBAAYmN,EAAsB,GAAZ,YAClC,yBAAKnN,UAAU,0BACb,kBAAC,KAAD,CACE2N,QAAS,kBAAMP,GAAW,IAC1BR,QAASA,EACTgB,OAAQ,CACNC,QAAS,CACPC,WAAY,CAAEC,SAAU,EAAGC,eAAgB,KAG/CC,SAAO,EACPjO,UAAU,iBACVkO,UAAQ,EACRxO,MAAM,OACNZ,OAAO,OACP2N,IAAG,0CAAqCM,EAAS,QAIvD,yBAAK/M,UAAS,gBAAWmN,EAAU,UAAY,KAC7C,kBAAC,GAAD,CAAQ3N,KAAM,GAAImJ,SAAS,MAG7BsE,EACF,yBAAKjN,UAAU,wBAAwBiN,GAEvC,Q,QCXKkB,GAtDD,SAAC5O,GACb6H,qBAAU,WACJ7H,EAAMqH,KACRU,SAASrG,KAAKV,MAAM6N,SAAW,SAE/B9G,SAASrG,KAAKV,MAAM6N,SAAW,YAEhC,CAAC7O,EAAMqH,OAEV,IAAIyH,EAAoB9O,EAAM8O,kBAC1B9O,EAAM8O,kBACN,QAEAC,EAAqB/O,EAAM+O,mBAC3B/O,EAAM+O,mBACN,QAEJ,OACE,yBACEtO,UAAS,wEACNT,EAAMqH,KAAmB,GAAZ,YAGhB,yBACE5G,UAAU,sDACVO,MAAO,CAAE8F,SAAU,SAAUkI,IAAK,EAAGC,OAAQ,KAE7C,yBACElE,QAAS/K,EAAMkP,QACfzO,UAAU,eACVO,MAAO,CAAE8J,MAAOiE,IAEhB,kBAAC,KAAD,CAAKI,SAAS,OAAOC,YAAY,UAGrC,yBACE3O,UAAU,sDACVO,MAAO,CAAE8F,SAAU,SAAUkI,IAAK,EAAGC,OAAQ,KAE7C,yBACElE,QAAS/K,EAAMkP,QACfzO,UAAU,gCACVO,MAAO,CAAE8J,MAAOgE,IAEhB,kBAAC,KAAD,CAAKK,SAAS,OAAOC,YAAY,UAGrC,yBAAK3O,UAAU,kEACZT,EAAM8I,Y,kBCiDAW,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACL/G,OAAQ9G,EAAM2B,SAASC,gBACpBiM,KAIQD,EA5Fa,SAAC,GAKtB,IAJLpN,EAII,EAJJA,KACAqG,EAGI,EAHJA,QAGI,IAFJ2M,sBAEI,MAFa,aAEb,EADJ1M,EACI,EADJA,OACI,EAC0B+E,oBAAS,GADnC,mBACG0B,EADH,KACYQ,EADZ,KAGEC,EAAW,uCAAG,gCAAAC,EAAA,0DACdzN,EAAKG,aADS,qBAEZkG,EAFY,uBAGdkH,GAAW,GAHG,SAIErD,GAAqBlK,EAAMqG,EAASC,GAJtC,OAIVZ,EAJU,OAKd6H,GAAW,GACP7H,EAAIkI,aACFpN,EADe,aACAR,EAAKQ,WAEJ,KADhByS,EAAazS,EAAS4N,WAAU,SAACnK,GAAD,OAAOA,EAAEoK,WAAahI,OAExD7F,EAAS0S,OAAOD,GAElB5P,EAAMwK,SAAS,CACbnO,KAAM,cACNiB,aAAc+E,EAAIkI,cAEpBvK,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAM,0BACNC,QAAQ,gDACRvB,KAAM,aAGV2D,EAAMwK,SAAS,CACbnO,KAAM,iBACNK,OAAO,gBACJsG,EAAUX,EAAI3F,UAGnBiT,KAEA3P,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASqE,KAAKC,UAAUG,EAAIuI,OAAOC,QAAQ,KAAM,IACjDxO,KAAM,aArCE,+BA2ChB2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,qBACPC,QAAS,6CACTvB,KAAM,aAhDM,4CAAH,qDAqDjB,OACE,kBAAC,GAAD,CACEiL,MAAM,OACNF,SAAS,MACTG,QAAS,SAAC2D,GAAD,OAAO,yBAAKnK,UAAU,aAAf,oBAChByG,QAAQ,cAER,yBACEzG,UAAU,+BACVO,MAAO,CAAE6J,cAAe,QAEvBzB,EACC,kBAAC,GAAD,CAAQnJ,KAAM,GAAImJ,QAASA,EAAS0B,MAAO,UAE3C,kBAAC,IAAD,CACEC,QAASlB,EACTpJ,UAAU,uBCmNPgJ,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACLlM,SAAU3B,EAAM2B,SAChBrB,QAASN,EAAMM,SACZuN,KAIQD,EA/RG,SAAC,GAUZ,IATLpC,EASI,EATJA,KACA6H,EAQI,EARJA,QACAvF,EAOI,EAPJA,MACAtN,EAMI,EANJA,KACAoG,EAKI,EALJA,OAKI,IAJJ+M,sBAII,MAJa,aAIb,EAHJhS,EAGI,EAHJA,SACArB,EAEI,EAFJA,QACAsT,EACI,EADJA,YACI,EAC8B/H,mBAAS,CACzCjF,OAAQ,GACRrG,OAAQ,KAHN,mBACGsT,EADH,KACcC,EADd,OAK0BjI,mBAAS,IALnC,mBAKGgG,EALH,KAKYC,EALZ,OAM0BjG,oBAAS,GANnC,mBAMG0B,EANH,KAMYQ,EANZ,KAkBJ,OAVA/B,qBAAU,WACJpF,GACFkN,GAAa,SAACC,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBnN,OAAQA,EAAOA,OACfrG,OAAQqG,EAAOrG,cAIpB,CAACqG,IACGkH,EACL,kBAAC,GAAD,CAAOtC,KAAMA,EAAM6H,QAASA,GAC1B,yBAAKzO,UAAU,mDACb,yBAAKA,UAAU,0BACZgP,EAAc,OAAS,MAD1B,aAC2C9F,EAAMtM,MADjD,KAEGsM,EAAM1K,aAAa4N,UAAU,EAAG,GAFnC,KAIA,yBAAKpM,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CAAE6O,gBAAgB,OAAD,OAASxT,EAAKI,MAAd,SAG5B,yBAAKgE,UAAU,OACb,yBAAKA,UAAU,gEACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,oCACVO,MAAO,CAAE6O,gBAAgB,OAAD,OAASxT,EAAKI,MAAd,SAG5B,yBACEgE,UAAS,0CACPiP,EAAUjN,OAAOqN,MAAM,KAAK5H,QAC5B1K,EAASU,gBAAkB,EACvB,aACA,gBAGLwR,EAAUjN,OACPjF,EAASU,gBACTwR,EAAUjN,OAAOqN,MAAM,KAAK5H,OAC5B1K,EAASU,gBAAiB,IAXhC,eAeF,yBAAKuC,UAAU,sBAAsBO,MAAO,CAAEzB,OAAQ,UACpD,8BACEwQ,SAAU,SAACC,GACTA,EAAEC,UACF,IAAIC,EAAOF,EAAEG,OAAO9E,MAChB6E,EAAKJ,MAAM,KAAK5H,QAAU1K,EAASU,iBACrCyR,GAAa,SAACC,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEnN,OAAQyN,QAIxC7E,MAAOqE,EAAUjN,OACjB2N,YAAY,EACZC,YAAY,qBACZrP,MAAO,CAAEsP,OAAQ,QACjB7P,UAAU,0BAGd,yBAAKA,UAAU,+CACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACEyL,WAAW,EACXjM,KAAM,MACN8K,QAAS,kBACP4E,GAAa,SAACC,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAExT,OAAQ,uBAGtC+P,SAA+B,mBAArBuD,EAAUtT,OACpB8E,MAAM,OACNT,UAAS,YACT4K,MACElP,EAAQwN,EAAM7K,IAAM3C,EAAQwN,EAAM7K,IAAIyR,eAAiB,IAG3D,kBAAC,GAAD,CACErE,WAAW,EACXjM,KAAM,MACN8K,QAAS,kBACP4E,GAAa,SAACC,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAExT,OAAQ,kBAGtC+P,SAA+B,cAArBuD,EAAUtT,OACpB8E,MAAM,QACNT,UAAS,YACT4K,MAAOlP,EAAQwN,EAAM7K,IAAM3C,EAAQwN,EAAM7K,IAAI0R,UAAY,IAE3D,kBAAC,GAAD,CACEtE,WAAW,EACXjM,KAAM,MACN8K,QAAS,kBACP4E,GAAa,SAACC,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAExT,OAAQ,gBAGtC+P,SAA+B,YAArBuD,EAAUtT,OACpB8E,MAAM,sBACNT,UAAS,YACT4K,MAAOlP,EAAQwN,EAAM7K,IAAM3C,EAAQwN,EAAM7K,IAAI2R,QAAU,IAEzD,kBAAC,GAAD,CACEvE,WAAW,EACXjM,KAAM,MACN8K,QAAS,kBACP4E,GAAa,SAACC,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAExT,OAAQ,iBAGtC8E,MAAM,OACNiL,SAA+B,aAArBuD,EAAUtT,OACpBqE,UAAS,OACT4K,MAAOlP,EAAQwN,EAAM7K,IAAM3C,EAAQwN,EAAM7K,IAAI4R,SAAW,MAI9D,yBACEjQ,UAAS,qCACPiP,EAAUjN,OAAOqN,MAAM,KAAK5H,QAC5B1K,EAASU,gBAAkB,EACvB,aACA,gBAGLwR,EAAUjN,OACPjF,EAASU,gBACTwR,EAAUjN,OAAOqN,MAAM,KAAK5H,OAC5B1K,EAASU,gBAAiB,IAXhC,eAeF,yBACEuC,UAAU,oEACVO,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,IAE/CA,GAEH,yBAAKjN,UAAU,gEACb,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,kCAAAjB,EAAA,kEAEA4F,EAAUtT,OAFV,gBAGHuR,EAAW,iBAHR,0BAIO+B,EAAUjN,OAJjB,gBAKHkL,EAAW,mBALR,0BAOH/D,GAAW,IACD6F,EARP,kCASO7M,EAAW8M,EAAWjN,EAAQpG,EAAKuU,KAT1C,6DAUOpO,EACJkN,EACA/F,EAAM7K,GACNzC,EACAmB,EAASC,gBAdZ,4BAQCsE,EARD,KAgBH6H,GAAW,GACX+F,EAAa,CAAElN,OAAQ,GAAIrG,OAAQ,KAC/B2F,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAM,YAAD,OACHoS,EAAc,OAAS,MADpB,WAGL1T,KAAM,UACNuB,QAASqE,KAAKC,UAAUG,EAAIuI,OAAOC,QACjC,KACA,QAKN7K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAM,oBAAD,OACHoS,EAAc,SAAW,QADtB,WAGL1T,KAAM,UACNuB,QAAQ,gCAAD,OACLmS,EAAc,SAAW,YAK/B/P,EAAMwK,SAAS,CACbnO,KAAM,iBACNK,OAAO,gBACJuN,EAAM7K,GAAKiD,EAAI3F,UAIfqT,KACC3S,EADY,aACMT,EAAKS,cACf+T,KAAK,CAAEnG,SAAUf,EAAM7K,GAAG6L,cAClCmG,EAHY,aAGMzU,EAAKO,UACfiU,KAAK9O,EAAI0B,UACrB/D,EAAMwK,SAAS,CACbnO,KAAM,cACNiB,aAAc,CACZF,cACAF,QAASkU,OAKXC,EAnCC,eAmCkB1U,EAAKF,UAChBwN,EAAM7K,IAAM,CACtB4L,SAAUf,EAAM7K,GAChBkS,UAAWtB,EAAUtT,QAGvBsD,EAAMwK,SAAS,CACbnO,KAAM,cACNiB,aAAc,CACZb,QAAS4U,KAIb7B,IACAM,KAjFC,qHAuFT,kBAAC,GAAD,CACE1E,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KArGV,eA+GV,MCtFWwJ,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACLrN,KAAMR,EAAMQ,KACZF,QAASN,EAAMM,SACZuN,KAIQD,EA1LI,SAAC,GAA4C,IAA1C6H,EAAyC,EAAzCA,OAAQjV,EAAiC,EAAjCA,KAAMF,EAA2B,EAA3BA,QAA2B,KAAlBoV,OACC7J,mBAAS,KADQ,mBACtD8J,EADsD,KACtCC,EADsC,OAEvB/J,oBAAS,GAFc,mBAEtDgK,EAFsD,KAEzCC,EAFyC,OAGnBjK,oBAAS,GAHU,mBAGtDkK,EAHsD,KAGvCC,EAHuC,OAKnCnK,oBAAS,GAL0B,mBAKtDiC,EALsD,KAK/CmI,EAL+C,KAM7D,OACE,yBAAKrR,UAAU,2BACb,kBAAC,GAAD,CAAO4G,KAAMqK,EAAaxC,QAAS,kBAAMyC,GAAe,KACtD,kBAAC,GAAD,CACErE,YAAaoE,EACbhP,QAAS8O,EACTnE,QAAS,kBAAMsE,GAAe,OAGlC,kBAAC,GAAD,CACEtK,KAAMuK,EACN1C,QAAS,kBAAM2C,GAAiB,IAChClI,MAAOA,EACPtN,KAAMA,IAEPiV,EAAOtD,KAAI,SAAC1N,EAAG2H,GACd,OACE,yBACEgG,IAAG,iBAAYhG,GACfxH,UAAU,uDAEV,yBACEA,UAAU,6EACVO,MAAO,CACLqL,aAAc,QACd4C,OAAQ,EACR1P,OAAQ,OACRsL,cAAe,SAGjB,kBAAC,GAAD,CAAgBlB,MAAOrJ,EAAGjE,KAAMA,IAChC,yBAAKoE,UAAU,SACf,kBAAC,GAAD,CACE4O,eAAgB,WACdyC,EAASxR,GACTuR,GAAiB,IAEnBxV,KAAMA,EACNqG,QAASpC,EAAExB,MAGf,yBAAK2B,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,2DACb,yBACEsR,IAAKzR,EAAEvB,YACPoB,MAAM,OACNa,MAAO,CAAEgR,aAAc,QACvBvR,UAAU,gBACVwR,IACE3R,EAAEvB,YAAF,yCACsCuB,EAAEvB,aACpC,yDAGR,yBACEgM,QAAS,kBACPmH,EAAQrB,KAAR,iBAAuBvQ,EAAElB,KAAF,gBAAkBkB,EAAExB,IAAOwB,EAAExB,MAEtD2B,UAAU,sEACVO,MAAO,CACLiQ,KAAM,EACNjC,IAAK,EACLlI,SAAU,WACVmI,OAAQ,EACR+C,aAAc,SAGhB,yBACEvR,UAAU,uDACVsK,QAAS,SAACiF,GACRA,EAAEmC,kBACFV,EAAkBnR,EAAExB,IACpB6S,GAAe,KAGjB,kBAAC,KAAD,CACE3Q,MAAO,CACLmO,SAAU,OACVrE,MAAO,QACPE,YAAa,cAOzB,yBAAKvK,UAAU,iBACb,yBACEA,UAAU,mDACVsK,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBvQ,EAAExB,OAExC,yBAAK2B,UAAU,iBACZH,EAAEjD,MAAQiD,EAAEjD,MAAQiD,EAAElB,OAG3B,yBAAKqB,UAAU,kCACb,yBAAKA,UAAU,iBACZH,EAAE8R,UAAUlK,OACT5H,EAAE8R,UACCpE,KAAI,SAACqE,GACJ,IAAIC,EAAQhS,EAAEjD,MACVuD,EAAqB2R,MAAK,SAACC,GAAD,OAAOA,EAAE1T,KAAOuT,KAC1CxR,EAAqB0R,MAAK,SAACC,GAAD,OAAOA,EAAE1T,KAAOuT,KAE9C,OAAOC,EAAQA,EAAMlT,KAAO,aAE7BqN,KAAK,KACR,YAGR,yBAAKhM,UAAU,8CACb,kBAAC,GAAD,CACE0L,WACE9P,EAAKF,QAAQmE,EAAExB,KACsB,mBAAjCzC,EAAKF,QAAQmE,EAAExB,IAAIkS,UAGzBrH,MAAOrJ,EACPY,MAAM,OACNT,UAAU,YACVR,KAAK,QACLoL,MAAOlP,EAAQmE,EAAExB,IAAM3C,EAAQmE,EAAExB,IAAIyR,eAAiB,KAExD,kBAAC,GAAD,CACEtQ,KAAK,QACLkM,WACE9P,EAAKF,QAAQmE,EAAExB,KACsB,cAAjCzC,EAAKF,QAAQmE,EAAExB,IAAIkS,UAGzBrH,MAAOrJ,EACPY,MAAM,QACNT,UAAU,YACV4K,MAAOlP,EAAQmE,EAAExB,IAAM3C,EAAQmE,EAAExB,IAAI0R,UAAY,KAEnD,kBAAC,GAAD,CACEvQ,KAAK,QACLkM,WACE9P,EAAKF,QAAQmE,EAAExB,KACsB,YAAjCzC,EAAKF,QAAQmE,EAAExB,IAAIkS,UAGzBrH,MAAOrJ,EACPG,UAAU,YACVS,MAAM,sBACNmK,MAAOlP,EAAQmE,EAAExB,IAAM3C,EAAQmE,EAAExB,IAAI2R,QAAU,KAEjD,kBAAC,GAAD,CACExQ,KAAK,QACLiB,MAAM,OACNmK,MAAOlP,EAAQmE,EAAExB,IAAM3C,EAAQmE,EAAExB,IAAI4R,SAAW,GAChDvE,WACE9P,EAAKF,QAAQmE,EAAExB,KACsB,aAAjCzC,EAAKF,QAAQmE,EAAExB,IAAIkS,UAGzBrH,MAAOrJ,KAGX,yBAAKG,UAAU,mCACb,kBAAC,GAAD,CAAgBkJ,MAAOrJ,EAAGjE,KAAMA,e,SC5K5CoW,GAAc,CAClB,CAAErT,KAAM,MAAOsT,UAAW,IAC1B,CAAEtT,KAAM,sBAAuBsT,UAAW,CAAC,GAAI,KAC/C,CAAEtT,KAAM,qBAAsBsT,UAAW,CAAC,GAAI,KAC9C,CAAEtT,KAAM,UAAWsT,UAAW,CAAC,QAC/B,CAAEtT,KAAM,gBAAiBsT,UAAW,CAAC,GAAI,KACzC,CAAEtT,KAAM,SAAUsT,UAAW,CAAC,MAC9B,CAAEtT,KAAM,wBAAyBsT,UAAW,CAAC,GAAI,MAiHpCjJ,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACLlM,SAAU3B,EAAM2B,SAChBnB,KAAMR,EAAMQ,MACTqN,KAIQD,EA9GO,SAAC,GAAgC,IAA9B9G,EAA6B,EAA7BA,OAAQnF,EAAqB,EAArBA,SAAUnB,EAAW,EAAXA,KACnCsW,EAAiBC,mBAD6B,EAGlBlL,mBAAS,IAHS,mBAG7CgL,EAH6C,KAGlCG,EAHkC,OAIlBnL,mBAAS,OAJS,mBAI7CoL,EAJ6C,KAIlCC,EAJkC,OAKxBrL,mBAAS,IALe,mBAK7C4J,EAL6C,KAKrC0B,EALqC,OAOZtL,mBAAS,IAPG,mBAO7CuL,EAP6C,KAO/BC,EAP+B,OAQNxL,mBAAS,IARH,mBAQ7CyL,EAR6C,KAQ5BC,EAR4B,OAUR1L,mBAAS,IAVD,mBAU7C2L,EAV6C,KAU7BC,EAV6B,KA+CpD,OAnCAzL,qBAAU,WACJxL,IACF6W,EAAgB7W,EAAKQ,SAASmR,KAAI,SAAC1N,GAAD,OAAOA,EAAEoK,aAC3C0I,EAAmB/W,EAAKS,YAAYkR,KAAI,SAAC1N,GAAD,OAAOA,EAAEoK,gBAElD,CAACrO,IAEJwL,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,0DACMnH,IAAUnF,EAASM,kBADzB,gCAEqB4O,GAAwBgG,EAAW/P,GAFxD,OAEQpB,EAFR,OAGIyR,EAAUzR,EAAKwM,SAHnB,4CADc,uBAAC,WAAD,wBAOdG,KACC,CAACwE,EAAW/P,EAAQnF,IAEvBqK,qBAAU,WACR8K,EAAezJ,QAAQqK,gBACtB,CAACjC,IAEJzJ,qBAAU,WACJyJ,GACFgC,EACEhC,EACGkC,QACC,SAAClT,GAAD,OACG2S,EAAaQ,SAASnT,EAAExB,GAAG6L,cAC3BwI,EAAgBM,SAASnT,EAAExB,GAAG6L,eAElC+I,MAAM,EAAGlW,EAASM,sBAGxB,CAACqV,EAAiBF,EAAc3B,IAGjC,yBAAK7Q,UAAU,oDACb,yBAAKA,UAAU,8CACb,yBAAKA,UAAU,qBACb,yBACEA,UAAU,WACVO,MAAO,CACL2S,QAAS,mBACTC,WAAY,iDACZ5B,aAAc,gBALlB,mBAWF,yBAAKvR,UAAU,6BAAf,uCAGA,yBAAKA,UAAU,yEACb,yBAAKA,UAAU,YACb,kBAAC,KAAD,CACEsI,IAAK4J,EACL3R,MAAO,CACL2S,QAAS,SACTE,SAAU,OACVC,UAAW,OACXC,WAAY,WAGbtB,GAAYzE,KAAI,SAAC1N,EAAG2H,GAAJ,OACf,yBACE8C,QAAS,WACPgI,EAAazS,EAAElB,MACfyT,EAAavS,EAAEoS,YAEjB1R,MAAO,CAAEoQ,QAAS,gBAClBnD,IAAG,kCAA6BhG,GAChCxH,UAAS,eACPqS,IAAcxS,EAAElB,KACZ,mCACA,kCAGLkB,EAAElB,YAMb,kBAAC,GAAD,CAAYkS,OAAQ+B,SCrEbW,GAzCS,SAAC,GAAgB,IAAd1C,EAAa,EAAbA,OACzB,OACE,yBAAK7Q,UAAU,kBACZ6Q,EAAOtD,KAAI,SAAC1N,EAAG2H,GAAJ,OACV,yBACExH,UAAU,8EACVwN,IAAG,kCAA6BhG,IAEhC,yBAAKxH,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBACEsR,IAAKzR,EAAE2T,aACPxT,UAAU,kCACVsK,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBvQ,EAAEoK,YACxCvK,MAAM,OACNa,MAAO,CACLgR,aAAc,QAEhBC,IAAG,yCAAoC3R,EAAE2T,iBAG7C,yBAAKxT,UAAU,mCACb,yBACEA,UAAU,gCACVsK,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBvQ,EAAEoK,aAEvCpK,EAAE4T,aAEL,yBAAKzT,UAAU,6BACb,2BAAOA,UAAU,iBACdH,EAAE6T,aAAa1H,KAAK,e,8BC4FxB2H,GA1HI,SAAC,GAKb,IAJLC,EAII,EAJJA,MACAnL,EAGI,EAHJA,QACAoL,EAEI,EAFJA,WAEI,IADJC,kBACI,MADS,CAAEpI,SAAU,uBAAwBqI,YAAa,eAC1D,EACAC,EACFvL,IAAYmL,EAAQnL,EAAU,EAAIA,EAAU,GAAK,EAAIA,EAAU,EAAIA,EACjEwL,EAASD,EAAQ,EACjBE,EAAQD,EAAS,EAQrB,OANA7M,qBAAU,WACM,IAAVwM,GACFC,EAAW,KAEZ,CAACD,IAEGA,EAAQ,EACb,kBAAC,IAAMlG,SAAP,KACE,yBAAK1N,UAAU,oDACb,yBACEA,UAAS,mBAAc8T,EAAU,YAAxB,6BACTxJ,QAAS,kBAAMuJ,EAAWpL,EAAU,GAAK,EAAIA,EAAU,EAAIA,KAE3D,kBAAC,KAAD,CAAeiG,SAAS,UAE1B,yBACE1O,UAAS,UAAK8T,EAAU,SAAf,8BACTvT,MAAO,CAAEb,MAAO,SAEf+I,GAEH,yBACEzI,UAAS,mBAAc8T,EAAU,YAAxB,wBACTxJ,QAAS,kBACPuJ,EAAWpL,EAAU,GAAKmL,EAAQnL,EAAU,EAAIA,KAGlD,kBAAC,KAAD,CAAgBiG,SAAS,WAG7B,yBAAK1O,UAAU,oDACb,yBACEA,UAAS,mBAAc8T,EAAU,YAAxB,6BACTxJ,QAAS,kBAAMuJ,EAAWpL,EAAU,GAAK,EAAIA,EAAU,EAAIA,KAF7D,YAMCuL,EAAQ,GAAK,GACZ,yBACEhU,UAAS,mBAAc8T,EAAU,YAAxB,oCACTvT,MAAO,CAAEb,MAAO,QAChB4K,QAAS,kBAAMuJ,EAAWG,EAAQ,GAAK,EAAIA,EAAQ,EAAIA,KAHzD,OAQDA,GAAS,GACR,yBACEzT,MAAO,CAAEb,MAAO,QAChBM,UAAS,wBACPyI,IAAYuL,EACRF,EAAU,SACVA,EAAU,YAHP,oCAKTxJ,QAAS,kBAAMuJ,EAAWG,KAEzBA,GAIJC,GAAUL,GAASK,GAAU,GAC5B,yBACE1T,MAAO,CAAEb,MAAO,QAChBM,UAAS,wBACPyI,IAAYwL,EACRH,EAAU,SACVA,EAAU,YAHP,oCAKTxJ,QAAS,kBAAMuJ,EAAWI,KAEzBA,GAGJC,GAASN,GAASM,GAAS,GAC1B,yBACElU,UAAS,wBACPyI,IAAYyL,EACRJ,EAAU,SACVA,EAAU,YAHP,oCAKTvT,MAAO,CAAEb,MAAO,QAChB4K,QAAS,kBAAMuJ,EAAWK,KAEzBA,GAIJA,EAAQ,GAAKN,GACZ,yBACEtJ,QAAS,kBAAMuJ,EAAWK,EAAQ,GAAKN,EAAQM,EAAQ,EAAIzL,IAC3DzI,UAAS,mBAAc8T,EAAU,YAAxB,oCACTvT,MAAO,CAAEb,MAAO,SAHlB,OAQF,yBACEM,UAAS,mBAAc8T,EAAU,YAAxB,wBACTxJ,QAAS,kBACPuJ,EAAWpL,EAAU,GAAKmL,EAAQnL,EAAU,EAAIA,KAHpD,UAWJ,ICwEWO,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACLlM,SAAU3B,EAAM2B,UACbkM,KAIQD,EA1LO,SAAC,GAYhB,IAXLpC,EAWI,EAXJA,KACA6H,EAUI,EAVJA,QACA7S,EASI,EATJA,KACAoG,EAQI,EARJA,OACAkH,EAOI,EAPJA,MACAiL,EAMI,EANJA,aAEAC,GAII,EALJC,YAKI,EAJJD,8BACAE,EAGI,EAHJA,gBACAvF,EAEI,EAFJA,eACAhS,EACI,EADJA,SACI,EACgCkK,mBAAS,CAAEvE,QAAS,KADpD,mBACG6R,EADH,KACeC,EADf,OAE0BvN,mBAAS,IAFnC,mBAEGgG,EAFH,KAEYC,EAFZ,OAG0BjG,oBAAS,GAHnC,mBAGG0B,EAHH,KAGYQ,EAHZ,KAKJ,OACE,kBAAC,GAAD,CAAOvC,KAAMA,EAAM6H,QAASA,GAC1B,yBAAKzO,UAAU,mDACb,yBAAKA,UAAU,0BAAf,YACYmU,EAAapY,cAEzB,yBAAKiE,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CAAE6O,gBAAgB,OAAD,OAASxT,EAAKI,MAAd,SAG5B,yBAAKgE,UAAU,OACb,yBAAKA,UAAU,gEACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,oCACVO,MAAO,CAAE6O,gBAAgB,OAAD,OAASxT,EAAKI,MAAd,SAG5B,yBACEgE,UAAS,0CACPuU,EAAW7R,QAAQ+E,QACnB1K,EAASQ,sBAAwB,EAC7B,aACA,gBAGLgX,EAAW7R,QACR3F,EAASQ,sBAAwBgX,EAAW7R,QAAQ+E,OACpD1K,EAASQ,sBAAuB,IAVtC,oBAcF,yBAAKyC,UAAU,sBAAsBO,MAAO,CAAEzB,OAAQ,UACpD,8BACEwQ,SAAU,SAACC,GACTA,EAAEC,UACF,IAAIC,EAAOF,EAAEG,OAAO9E,MAChB6E,EAAKhI,QAAU1K,EAASQ,uBAC1BiX,GAAc,SAACrF,GAAD,OACZ5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEzM,QAAS+M,QAIzC7E,MAAO2J,EAAW7R,QAClBiN,YAAY,EACZC,YAAY,sBACZrP,MAAO,CAAEsP,OAAQ,QACjB7P,UAAU,0BAGd,yBAAKA,UAAU,gEACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,sCACb,yBACEA,UAAS,qCACPuU,EAAW7R,QAAQ+E,QACnB1K,EAASQ,sBAAwB,EAC7B,aACA,gBAGLgX,EAAW7R,QACR3F,EAASQ,sBACTgX,EAAW7R,QAAQ+E,OACnB1K,EAASQ,sBAAuB,IAXtC,qBAgBJ,yBAAKyC,UAAU,UACb,yBACEA,UAAU,oEACVO,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,IAE/CA,IAGL,yBACEjN,UAAU,0CACVsK,QAAO,sBAAE,gCAAAjB,EAAA,yDACFkL,EAAW7R,QADT,gBAELwK,EAAW,gBAFN,2BAIDtR,EAAKK,MAJJ,wBAKHkN,GAAW,GACPsL,EAAelZ,OAAOC,OAAO,GAAI+Y,EAAY,CAC/CG,YAAa9Y,EAAKG,aAClBkO,SAAUf,EAAM7K,GAChBsW,WAAY3S,EAAO2S,WACnBC,UAAW5S,EAAOmO,IAClBnO,OAAQA,EAAOA,OACf6S,cAAe7S,EAAO8S,OACtBC,sBAAuB/S,EAAO+S,+BAE5BC,EAfD,eAekBpZ,IACL,MAChB4Y,EAAc,CAAE9R,QAAS,KAjBtB,UAkBaD,EACdgS,EACAO,GApBC,QAkBC1T,EAlBD,OAuBH6H,GAAW,GACP7H,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,4BACPtB,KAAM,UACNuB,QAASqE,KAAKC,UAAUG,EAAIuI,OAAOC,QACjC,KACA,QAKN7K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,kCACPtB,KAAM,UACNuB,QAAS,qCAGb4R,IACA2F,EAA6BpS,EAAOmO,KACpCmE,IACAvF,KAhDC,wBAmDH7B,EAAW,sCAnDR,6CAwDT,kBAAC,GAAD,CACE7C,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KAtEV,gBC+rBCwJ,oBAVf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnB4B,SAAU3B,EAAM2B,SAChBrB,QAASN,EAAMM,QACfE,KAAMR,EAAMQ,MACTqN,KAIQD,EAhxBQ,SAAC,GAA8C,IAA5C7N,EAA2C,EAA3CA,YAAa4B,EAA8B,EAA9BA,SAAUnB,EAAoB,EAApBA,KAAMF,EAAc,EAAdA,QAAc,EAEnCuL,mBAAS,IAF0B,mBAE5DgO,EAF4D,KAElDZ,EAFkD,OAIrCpN,mBAAS,IAJ4B,mBAI5D9K,EAJ4D,KAInD+Y,EAJmD,OAKrBjO,mBAAS,IALY,mBAK5DkO,EAL4D,KAK3CC,EAL2C,OAODnO,oBAC/D,GARgE,mBAO5DoO,EAP4D,KAOjCjB,EAPiC,OAWvBnN,oBAAU,GAXa,mBAW5DqO,EAX4D,KAW5CC,EAX4C,OAYzBtO,oBAAU,GAZe,mBAY5DuO,EAZ4D,KAY7CC,EAZ6C,OAazBxO,oBAAU,GAbe,mBAa5DyO,EAb4D,KAa7CC,EAb6C,OAgB3B1O,mBAAS,GAhBkB,mBAgB5D2O,EAhB4D,KAgB9CC,EAhB8C,KAmB7DC,EAAoB3D,iBAAO,MAnBkC,GAqBvClL,mBAAS,CACnCwM,YAAa,GACbxJ,SAAU,GACVyJ,aAAc,GACdqC,mBAAoB,GACpBvC,aAAc,KA1BmD,qBAqB5DxR,GArB4D,MAqBpDgU,GArBoD,SA6B3B/O,oBAAS,GA7BkB,qBA6B5DgP,GA7B4D,MA6B9CC,GA7B8C,SAgCrBjP,oBAAS,GAhCY,qBAgC5DqN,GAhC4D,MAgC3C6B,GAhC2C,SAmCvBlP,oBAAS,GAnCc,qBAmC5D8H,GAnC4D,MAmC5CqH,GAnC4C,SAwCnBnP,mBAAS,IAxCU,qBAwC5DoP,GAxC4D,MAwC1CC,GAxC0C,MA0CnElP,qBAAU,WAAM,4CACd,8BAAAiC,EAAA,0DACqC,IAA/BgM,EADN,gCAEqBtS,EAAkBsS,GAFvC,OAEQvU,EAFR,OAIQyV,EAAc,GAClBzV,EAAK6I,SAAQ,SAAC9J,GACZ0W,EAAY1W,EAAEsQ,KAAOtQ,KAEvBwU,GAAY,SAAClF,GAAD,OACV5T,OAAOC,OAAO,GAAI2T,EAAlB5T,OAAA,KAAAA,CAAA,GAA2B8Z,EAA4BkB,OAT7D,4CADc,uBAAC,WAAD,wBAcd9I,KACC,CAAC4H,EAA2Bf,KAE/BlN,qBAAU,WAAM,4CACd,sCAAAiC,EAAA,0DACMtM,EAASK,mBADf,iCAEyB2I,KAFzB,cAEQyQ,EAFR,OAGQC,EAAqB,GACrBC,EAAgB,GACfF,EAAS3M,OACZ2M,EAAS7M,SAAQ,SAAC9J,GAChB4W,EAAmBrG,KAAKvQ,EAAE8W,YAC1BD,EAAc7W,EAAE8W,YAAc9W,KAGlCyW,GAAoBI,GAXxB,UAaqB3S,EAAkBhH,EAASK,oBAbhD,SAaQ0D,EAbR,QAcc+I,QACJ+M,EAAc,GAChBC,EAAqB,GACvB/V,EAAK6I,SAAQ,SAAC9J,GACR4W,EAAmBzD,SAASnT,EAAEsQ,MAChCtQ,EAAE2W,UAAW,EACbI,EAAYxG,KAAKvQ,IAEjBgX,EAAmBzG,KAAKvQ,MAG5BuV,EAAmBwB,GACnB1B,EAAW2B,IA1BjB,6CADc,uBAAC,WAAD,wBA+BdpJ,KACC,CAAC1Q,EAAUgS,KAiQd,OACE,yBAAK/O,UAAU,oDACb,yBAAKA,UAAU,8CACb,yBAAKA,UAAU,qBACb,yBACEA,UAAU,WACVO,MAAO,CACL2S,QAAS,mBACTC,WAAY,iDACZ5B,aAAc,gBALlB,oBAWF,yBAAKvR,UAAU,kCAAf,0CAGA,yBAAKA,UAAU,sBAAsBsI,IAAKwN,IACzCX,EACEpJ,OAAO5P,GACP8W,MACC,EACA,GAED1F,KAAI,SAAC1N,EAAG2H,GACP,IAAI7L,EAAS0a,GAAiBxW,EAAEsQ,KAC5BkG,GAAiBxW,EAAEsQ,KAAK3J,QAAQ7K,OAChCkE,EAAElE,OACFqG,EAASqU,GAAiBxW,EAAEsQ,KAC5BkG,GAAiBxW,EAAEsQ,KAAK3J,QAAQxE,OAChCnC,EAAEmC,OACN,OACE,kBAAC,IAAM0L,SAAP,CAAgBF,IAAG,0BAAqBhG,IACtC,yBACEgG,IAAG,iBAAYhG,GACfxH,UAAU,wDAEV,yBACEA,UAAU,4CACVO,MAAO,CAAE6S,SAAU,UAEnB,yBAAKpT,UAAU,uBACb,yBACEsR,IAAG,oBAAezR,EAAEoK,UACpBK,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBvQ,EAAEoK,YACxCvK,MAAM,OACNa,MAAO,CAAEgR,aAAc,OAAQuF,OAAQ,WACvCtF,IAAG,yCACD9V,EAAQmE,EAAEoK,UACNvO,EAAQmE,EAAEoK,UAAUuJ,aACpB,4DAKZ,yBAAKxT,UAAU,0BACb,yBAAKA,UAAU,8EACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,6BACVO,MAAO,CACL6O,gBAAgB,sCAAD,OACb1T,EAAQmE,EAAEoK,UACNvO,EAAQmE,EAAEoK,UAAUuJ,aACpB,uDAHS,SAQrB,yBAAKxT,UAAU,OACb,yBAAKA,UAAU,kCACZtE,EAAQmE,EAAEoK,UACPvO,EAAQmE,EAAEoK,UAAUwJ,YACpB,GAAI,IAHV,IAKG/X,EAAQmE,EAAEoK,UACPvO,EACEmE,EAAEoK,UACF8L,mBAAmB3J,UAAU,EAAG,GAClC,GATN,QAeN,yBAAKpM,UAAU,UACb,yBAAKA,UAAU,0CACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY0E,EAAEiV,QACV3Z,EAAY0E,EAAEiV,QAAQ9Y,MACtB,GAHS,SAQrB,yBAAKgE,UAAU,YACb,yBAAKA,UAAU,gDACb,yBAAKA,UAAU,sBACZ7E,EAAY0E,EAAEiV,QACX3Z,EAAY0E,EAAEiV,QAAQ/Y,aACtB,QAMd,yBAAKiE,UAAU,YACb,yBAAKA,UAAU,gDACb,0BAAMA,UAAU,iBAAhB,aACA,0BAAMA,UAAU,4BACb+W,KAAKC,OAAO,IAAI7Y,KAAK0B,EAAEkX,MAAO,iBAEhCnb,EAAKuU,MAAQtQ,EAAEiV,OACd,kBAAC,GAAD,CACExO,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,6BAAf,kBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,4BAAAjB,EAAA,0DACHzN,EAAKK,MADF,uBAEL0Z,EAAiB9V,EAAEsQ,KAFd,SAGW9M,EACdzH,EACAiE,EAAEsQ,KALC,OAGD7O,EAHC,OAOLqU,GAAkB,GACdrU,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,kBACPC,QACE,4DACFvB,KAAM,aAxBP,uBA6BL2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QACE,qCACFvB,KAAM,aAnCL,6CAyCRoa,IAAkB7V,EAAEsQ,IACnB,yBAAKnQ,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,SAAS,EACTnJ,KAAM,MAIV,kBAAC,IAAD,CAAQkP,SAAS,WAKvB,QAOZ,yBAAK1O,UAAU,sFACZgC,GAGH,yBAAKhC,UAAU,iDACb,yBAAKA,UAAU,iDACb,yBAAKA,UAAU,wEACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,kBACb,yBAAKO,MAAO,CAAEqL,aAAc,SACd,YAAXjQ,EACC,kBAAC,EAAD,CAAQ6D,KAAM,KAEd,kBAAC,IAAD,CACEiB,MACa,mBAAX9E,EACI,OACW,cAAXA,EACA,QACW,YAAXA,EACA,sBACA,OAEN+E,IAAI,WACJlB,KAAM,QAMhB,yBAAKQ,UAAU,iBACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACZH,EAAEoX,MAAMxP,QAEX,yBAAKzH,UAAU,kBACZwV,IAAkBhO,EACjB,yBAAKxH,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAAS6M,IAAkBhO,EAC3BhI,KAAM,MAIV,kBAAC,IAAD,CACE8K,QAAO,sBAAE,4BAAAjB,EAAA,0DACHzN,EAAKK,MADF,oBAEDL,EAAKuU,MAAQtQ,EAAEiV,OAFd,wBAGHW,EAAiBjO,GAHd,SAIarE,EACdvH,EACAiE,EAAEsQ,KAND,OAIC7O,EAJD,OAQHmU,GAAkB,GACdnU,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV8a,IAAmBrH,IAnBlB,wBAsBH9P,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,qBACPC,QACE,mCACFvB,KAAM,aA5BP,gCAiCL2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QACE,mCACFvB,KAAM,aAvCL,4CA4CToT,SAAS,OACT1O,UAAU,gDAIhB,yBAAKA,UAAU,iBACZH,EAAEoV,SAASxN,QAEd,yBAAKzH,UAAU,iBACb,kBAAC,IAAD,CACEsK,QAAS,WACP8J,EACEiB,IAA8BxV,EAAEsQ,KAC3B,EACDtQ,EAAEsQ,MAGVzB,SAAS,OACT1O,UAAU,iDAGd,yBACEA,UAAU,oCACVsK,QAAS,WACF1O,EAAKK,OAWR+Z,GACEza,OAAOC,OAAO,GAAIqE,EAAG,CACnBkV,sBAAuB,CACrB5Z,EAAY0E,EAAEiV,YAIpBoB,IAAgB,IAjBhBjX,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QACE,qCACFvB,KAAM,eAVhB,gBAkCd,kBAAC4b,GAAA,EAAD,CACEC,GAAI9B,IAA8BxV,EAAEsQ,IACpCnQ,UAAU,QAEV,yBACEA,UAAU,kBACVO,MAAO,CAAE6W,WAAY,SAFvB,aAKGnC,EAASpV,EAAEsQ,KACR5U,OAAO8b,OAAOpC,EAASpV,EAAEsQ,MAAM1I,OAC/B,EAPN,KAUCwN,EAASpV,EAAEsQ,KArnBL,SAAjBmH,EAAkB1S,EAAK5C,GAC3B,OAAO4C,EAAI2I,KAAI,SAAC1N,EAAG0X,GACjB,OAAOtC,EAASjT,EAAOmO,KAAKtQ,GAC1B,kBAAC,IAAM6N,SAAP,KACE,yBACEnN,MAAO,CACL6W,WAAW,GAAD,OAC+C,GAAvDnC,EAASjT,EAAOmO,KAAKtQ,GAAGkV,sBAAsBtN,OAAc,GADpD,OAIZ+F,IAAG,kBAAa6H,EAAb,YAA0CkC,GAC7CvX,UAAS,yEAET,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,QAChC3Z,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,QAAQ9Y,MAC5C,GAHS,SAQrB,yBAAKgE,UAAU,OACb,yBAAKA,UAAU,kEACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,QAChC3Z,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,QACjC9Y,MACH,GAJS,SASrB,yBAAKgE,UAAU,oCACZ7E,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,QACjC3Z,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,QACjC/Y,aACH,MAIV,yBAAKiE,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBAAf,gBACA,yBAAKA,UAAU,4BACZ+W,KAAKC,OACJ,IAAI7Y,KAAK8W,EAASjT,EAAOmO,KAAKtQ,GAAGkX,MACjC,mBAKR,kBAAC,GAAD,CACEzQ,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,kCAAf,kBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,4BAAAjB,EAAA,0DACHzN,EAAKK,MADF,uBAEL0Z,EAAiB9V,GAFZ,SAGWyD,EAAc1H,EAAMiE,GAH/B,OAGDyB,EAHC,OAILqU,GAAkB,GACdrU,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,mBACPC,QACE,6DACFvB,KAAM,aArBP,uBA0BL2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,sCACTvB,KAAM,aA/BL,6CAqCRoa,IAAkB7V,EACjB,yBAAKG,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,SAAS,EACTnJ,KAAM,MAIV,kBAAC,IAAD,CAAQkP,SAAS,cAQ7B,yBAAK1O,UAAU,6DACZiV,EAASjT,EAAOmO,KAAKtQ,GAAG6C,SAE3B,yBAAK1C,UAAU,yDACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACZiV,EAASjT,EAAOmO,KAAKtQ,GAAGoX,MAAMxP,QAEjC,yBAAKzH,UAAU,kBACZsV,IAAmBiC,EAClB,yBAAKvX,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAAS2M,IAAmBiC,EAC5B/X,KAAM,MAIV,kBAAC,IAAD,CACE8K,QAAO,sBAAE,4BAAAjB,EAAA,0DACHzN,EAAKK,MADF,oBAEDL,EAAKuU,MAAQ8E,EAASjT,EAAOmO,KAAKtQ,GAAGiV,OAFpC,wBAGHS,EAAkBgC,GAHf,SAIanU,EAAYxH,EAAMiE,GAJ/B,OAICyB,EAJD,OAKHiU,GAAmB,GACfjU,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV6a,IAAoB7B,IAhBnB,wBAmBHrV,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,qBACPC,QACE,oCACFvB,KAAM,aAzBP,gCA8BL2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,mCACTvB,KAAM,aAnCL,4CAwCToT,SAAS,OACT1O,UAAU,gDAIhB,yBACEA,UAAU,oCACVsK,QAAS,WACF1O,EAAKK,OAUR+Z,GACEza,OAAOC,OAAO,GAAIwG,EAAQ,CACxB2S,WAAY9U,EACZkV,sBAAuBE,EAASjT,EAAOmO,KACrCtQ,GACAkV,sBAAsBhJ,OAAO,CAC7B5Q,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,aAI1CoB,IAAgB,IAnBhBjX,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,qCACTvB,KAAM,eAThB,cAkCTgc,EAAerC,EAASjT,EAAOmO,KAAKtQ,GAAGoV,SAAUjT,IAGpD,MA4XcsV,CACE/b,OAAO8b,OAAOpC,EAASpV,EAAEsQ,MACtB4C,QAAO,SAAC1J,GAAD,OAA0C,IAAnCA,EAAE0L,sBAAsBtN,UACtC8F,KAAI,SAACiK,GAAD,OAAOA,EAAErH,OAChBtQ,GAEF,GACJ,yBAAKG,UAAU,2CACb,yBAAKA,UAAU,iBACb,kBAACyX,GAAD,CACE7D,MAAO1I,KAAKwM,KACVzC,EAASpV,EAAEsQ,KACP8E,EAASpV,EAAEsQ,KAAK1I,OA1rBpB,EA2rBI,GAENgB,QAASmN,EACT/B,WAAYgC,EACZ/B,WAAY,CACVC,YAAa,aACbrI,SAAU,gCAS5B,kBAAC,GAAD,CACEqD,eAAgB,kBAAMqH,IAAmBrH,KACzCqF,6BAA8BA,EAC9BE,gBAAiB,kBAAM6B,IAAoB7B,KAC3CD,YAAaA,EACbnL,MAAO,CACL7K,GAAI2D,GAAOiI,UAEbkK,aACEhZ,EAAY6G,GAAO8S,QACf3Z,EAAY6G,GAAO8S,QACnB,CAAE/Y,aAAc,IAEtBiG,OAAQA,GACR4E,KAAMqP,GACNxH,QAAS,kBAAMyH,IAAgB,IAC/Bta,KAAMA,SCZDoN,oBATf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBO,QAASN,EAAMM,QACfE,KAAMR,EAAMQ,MACTqN,KAIQD,EApvBO,SAAC,GAAoC,IAAlC7N,EAAiC,EAAjCA,YAAaS,EAAoB,EAApBA,KAAMF,EAAc,EAAdA,QAAc,EAExBuL,mBAAS,IAFe,mBAEjDgO,EAFiD,KAEvCZ,EAFuC,OAI1BpN,mBAAS,IAJiB,mBAIjD9K,EAJiD,KAIxC+Y,EAJwC,OAMUjO,oBAC/D,GAPqD,mBAMjDoO,EANiD,KAMtBjB,EANsB,OAUZnN,oBAAU,GAVE,mBAUjDqO,EAViD,KAUjCC,EAViC,OAWdtO,oBAAU,GAXI,mBAWjDuO,EAXiD,KAWlCC,EAXkC,OAYdxO,oBAAU,GAZI,mBAYjDyO,EAZiD,KAYlCC,EAZkC,OAehB1O,mBAAS,GAfO,mBAejD2O,EAfiD,KAenCC,EAfmC,KAkBlDC,EAAoB3D,iBAAO,MAlBuB,EAqBhBlL,oBAAS,GArBO,mBAqBjDgP,EArBiD,KAqBnCC,EArBmC,OAuB5BjP,mBAAS,CACnCwM,YAAa,GACbxJ,SAAU,GACVyJ,aAAc,GACdqC,mBAAoB,GACpBvC,aAAc,KA5BwC,oBAuBjDxR,GAvBiD,MAuBzCgU,GAvByC,SAgCV/O,oBAAS,GAhCC,qBAgCjDqN,GAhCiD,MAgChC6B,GAhCgC,SAmCZlP,oBAAS,GAnCG,qBAmCjD8H,GAnCiD,MAmCjCqH,GAnCiC,MAwCxDhP,qBAAU,WAAM,4CACd,8BAAAiC,EAAA,0DACqC,IAA/BgM,EADN,gCAEqBtS,EAAkBsS,GAFvC,OAEQvU,EAFR,OAGQyV,EAAc,GAClBzV,EAAK6I,SAAQ,SAAC9J,GACZ0W,EAAY1W,EAAEsQ,KAAOtQ,KAEvBwU,GAAY,SAAClF,GAAD,OACV5T,OAAOC,OAAO,GAAI2T,EAAlB5T,OAAA,KAAAA,CAAA,GAA2B8Z,EAA4BkB,OAR7D,4CADc,uBAAC,WAAD,wBAad9I,KACC,CAAC4H,EAA2Bf,KAE/BlN,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,sEACkBpF,EAAiB,IADnC,QACM3C,EADN,QAEWuI,OACPqL,EAAW5T,GAHf,4CADc,uBAAC,WAAD,wBAOdmM,KACC,CAACsB,KAiQJ,OACE,yBAAK/O,UAAU,oDACb,yBAAKA,UAAU,8CACb,yBAAKA,UAAU,qBACb,yBACEA,UAAU,WACVO,MAAO,CACL2S,QAAS,mBACTC,WAAY,iDACZ5B,aAAc,gBALlB,mBAWF,yBAAKvR,UAAU,kCAAf,+BAGA,yBAAKA,UAAU,sBAAsBsI,IAAKwN,IACzC3Z,EACE8W,MACC,EACA,GAED1F,KAAI,SAAC1N,EAAG2H,GAAJ,OACH,kBAAC,IAAMkG,SAAP,CAAgBF,IAAG,0BAAqBhG,IACtC,yBACEgG,IAAG,iBAAYhG,GACfxH,UAAU,wDAEV,yBACEA,UAAU,4CACVO,MAAO,CAAE6S,SAAU,UAEnB,yBAAKpT,UAAU,uBACb,yBACEsR,IAAG,oBAAezR,EAAEoK,UACpBK,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBvQ,EAAEoK,YACxCvK,MAAM,OACNa,MAAO,CAAEgR,aAAc,OAAQuF,OAAQ,WACvCtF,IAAG,yCACD9V,EAAQmE,EAAEoK,UACNvO,EAAQmE,EAAEoK,UAAUuJ,aACpB,4DAWZ,yBAAKxT,UAAU,0BACb,yBAAKA,UAAU,8EACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,6BACVO,MAAO,CACL6O,gBAAgB,sCAAD,OACb1T,EAAQmE,EAAEoK,UACNvO,EAAQmE,EAAEoK,UAAUuJ,aACpB,uDAHS,SAcrB,yBAAKxT,UAAU,OACb,yBAAKA,UAAU,kCACZtE,EAAQmE,EAAEoK,UACPvO,EAAQmE,EAAEoK,UAAUwJ,YACpB,GAAI,IAHV,IAKG/X,EAAQmE,EAAEoK,UACPvO,EACEmE,EAAEoK,UACF8L,mBAAmB3J,UAAU,EAAG,GAClC,GATN,QAoBN,yBAAKpM,UAAU,UACb,yBAAKA,UAAU,0CACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY0E,EAAEiV,QACV3Z,EAAY0E,EAAEiV,QAAQ9Y,MACtB,GAHS,SAQrB,yBAAKgE,UAAU,YACb,yBAAKA,UAAU,gDACb,yBAAKA,UAAU,sBACZ7E,EAAY0E,EAAEiV,QACX3Z,EAAY0E,EAAEiV,QAAQ/Y,aACtB,QAMd,yBAAKiE,UAAU,YACb,yBAAKA,UAAU,gDACb,0BAAMA,UAAU,iBAAhB,aACA,0BAAMA,UAAU,4BACb+W,KAAKC,OAAO,IAAI7Y,KAAK0B,EAAEkX,MAAO,iBAEhCnb,EAAKuU,MAAQtQ,EAAEiV,OACd,kBAAC,GAAD,CACExO,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,6BAAf,kBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,4BAAAjB,EAAA,0DACHzN,EAAKK,MADF,uBAEL0Z,EAAiB9V,EAAEsQ,KAFd,SAGW9M,EAAazH,EAAMiE,EAAEsQ,KAHhC,OAGD7O,EAHC,OAILqU,GAAkB,GACdrU,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,kBACPC,QACE,4DACFvB,KAAM,aArBP,uBA0BL2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QACE,qCACFvB,KAAM,aAhCL,6CAsCRoa,IAAkB7V,EAAEsQ,IACnB,yBAAKnQ,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,SAAS,EACTnJ,KAAM,MAIV,kBAAC,IAAD,CAAQkP,SAAS,WAKvB,QAOZ,yBAAK1O,UAAU,sFACZH,EAAEmC,QAGL,yBAAKhC,UAAU,iDACb,yBAAKA,UAAU,iDACb,yBAAKA,UAAU,wEACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,kBACZH,EAAElE,OACY,YAAbkE,EAAElE,OACA,kBAAC,EAAD,CAAQ6D,KAAM,KAEd,yBAAKe,MAAO,CAAEqL,aAAc,SAC1B,kBAAC,IAAD,CACEnL,MACe,mBAAbZ,EAAElE,OACE,OACa,cAAbkE,EAAElE,OACF,QACa,YAAbkE,EAAElE,OACF,sBACA,OAEN+E,IAAI,WACJlB,KAAM,MAKZ,KAIN,yBAAKQ,UAAU,iBACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACZH,EAAEoX,MAAMxP,QAEX,yBAAKzH,UAAU,kBACZwV,IAAkBhO,EACjB,yBAAKxH,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAAS6M,IAAkBhO,EAC3BhI,KAAM,MAIV,kBAAC,IAAD,CACE8K,QAAO,sBAAE,4BAAAjB,EAAA,0DACHzN,EAAKK,MADF,oBAEDL,EAAKuU,MAAQtQ,EAAEiV,OAFd,wBAGHW,EAAiBjO,GAHd,SAIarE,EAAWvH,EAAMiE,EAAEsQ,KAJhC,OAIC7O,EAJD,OAKHmU,GAAkB,GACdnU,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV8a,IAAmBrH,IAhBlB,wBAmBH9P,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,qBACPC,QACE,mCACFvB,KAAM,aAzBP,gCA8BL2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QACE,mCACFvB,KAAM,aApCL,4CAyCToT,SAAS,OACT1O,UAAU,gDAIhB,yBAAKA,UAAU,iBACZH,EAAEoV,SAASxN,QAEd,yBAAKzH,UAAU,iBACb,kBAAC,IAAD,CACEsK,QAAS,WACP8J,EACEiB,IAA8BxV,EAAEsQ,KAC3B,EACDtQ,EAAEsQ,MAGVzB,SAAS,OACT1O,UAAU,iDAGd,yBACEA,UAAU,oCACVsK,QAAS,WACF1O,EAAKK,OAWR+Z,GACEza,OAAOC,OAAO,GAAIqE,EAAG,CACnBkV,sBAAuB,CACrB5Z,EAAY0E,EAAEiV,YAIpBoB,GAAgB,IAjBhBjX,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QACE,qCACFvB,KAAM,eAVhB,gBAkCd,kBAAC4b,GAAA,EAAD,CACEC,GAAI9B,IAA8BxV,EAAEsQ,IACpCnQ,UAAU,QAEV,yBAAKA,UAAU,kBAAkBO,MAAO,CAAE6W,WAAY,SAAtD,aAEGnC,EAASpV,EAAEsQ,KAAO5U,OAAO8b,OAAOpC,EAASpV,EAAEsQ,MAAM1I,OAAS,EAF7D,KAICwN,EAASpV,EAAEsQ,KAtnBH,SAAjBmH,EAAkB1S,EAAK5C,GAC3B,OAAO4C,EAAI2I,KAAI,SAAC1N,EAAG0X,GACjB,OAAOtC,EAASjT,EAAOmO,KAAKtQ,GAC1B,kBAAC,IAAM6N,SAAP,KACE,yBACEnN,MAAO,CACL6W,WAAW,GAAD,OAC+C,GAAvDnC,EAASjT,EAAOmO,KAAKtQ,GAAGkV,sBAAsBtN,OAAc,GADpD,OAIZ+F,IAAG,kBAAa6H,EAAb,YAA0CkC,GAC7CvX,UAAS,yEAET,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,QAChC3Z,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,QAAQ9Y,MAC5C,GAHS,SAQrB,yBAAKgE,UAAU,OACb,yBAAKA,UAAU,kEACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,QAChC3Z,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,QACjC9Y,MACH,GAJS,SASrB,yBAAKgE,UAAU,oCACZ7E,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,QACjC3Z,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,QACjC/Y,aACH,MAIV,yBAAKiE,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBAAf,gBACA,yBAAKA,UAAU,4BACZ+W,KAAKC,OACJ,IAAI7Y,KAAK8W,EAASjT,EAAOmO,KAAKtQ,GAAGkX,MACjC,mBAKR,kBAAC,GAAD,CACEzQ,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,kCAAf,kBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,4BAAAjB,EAAA,0DACHzN,EAAKK,MADF,uBAEL0Z,EAAiB9V,GAFZ,SAGWyD,EAAc1H,EAAMiE,GAH/B,OAGDyB,EAHC,OAILqU,GAAkB,GACdrU,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,mBACPC,QACE,6DACFvB,KAAM,aArBP,uBA0BL2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,sCACTvB,KAAM,aA/BL,6CAqCRoa,IAAkB7V,EACjB,yBAAKG,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,SAAS,EACTnJ,KAAM,MAIV,kBAAC,IAAD,CAAQkP,SAAS,cAQ7B,yBAAK1O,UAAU,6DACZiV,EAASjT,EAAOmO,KAAKtQ,GAAG6C,SAE3B,yBAAK1C,UAAU,yDACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACZiV,EAASjT,EAAOmO,KAAKtQ,GAAGoX,MAAMxP,QAEjC,yBAAKzH,UAAU,kBACZsV,IAAmBiC,EAClB,yBAAKvX,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAAS2M,IAAmBiC,EAC5B/X,KAAM,MAIV,kBAAC,IAAD,CACE8K,QAAO,sBAAE,4BAAAjB,EAAA,0DACHzN,EAAKK,MADF,oBAEDL,EAAKuU,MAAQ8E,EAASjT,EAAOmO,KAAKtQ,GAAGiV,OAFpC,wBAGHS,EAAkBgC,GAHf,SAIanU,EAAYxH,EAAMiE,GAJ/B,OAICyB,EAJD,OAKHiU,GAAmB,GACfjU,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV6a,IAAoB7B,IAhBnB,wBAmBHrV,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,qBACPC,QACE,oCACFvB,KAAM,aAzBP,gCA8BL2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,mCACTvB,KAAM,aAnCL,4CAwCToT,SAAS,OACT1O,UAAU,gDAIhB,yBACEA,UAAU,oCACVsK,QAAS,WACF1O,EAAKK,OAUR+Z,GACEza,OAAOC,OAAO,GAAIwG,EAAQ,CACxB2S,WAAY9U,EACZkV,sBAAuBE,EAASjT,EAAOmO,KACrCtQ,GACAkV,sBAAsBhJ,OAAO,CAC7B5Q,EAAY8Z,EAASjT,EAAOmO,KAAKtQ,GAAGiV,aAI1CoB,GAAgB,IAnBhBjX,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,qCACTvB,KAAM,eAThB,cAkCTgc,EAAerC,EAASjT,EAAOmO,KAAKtQ,GAAGoV,SAAUjT,IAGpD,MA6XYsV,CACE/b,OAAO8b,OAAOpC,EAASpV,EAAEsQ,MACtB4C,QAAO,SAAC1J,GAAD,OAA0C,IAAnCA,EAAE0L,sBAAsBtN,UACtC8F,KAAI,SAACiK,GAAD,OAAOA,EAAErH,OAChBtQ,GAEF,GACJ,yBAAKG,UAAU,2CACb,yBAAKA,UAAU,iBACb,kBAACyX,GAAD,CACE7D,MAAO1I,KAAKwM,KACVzC,EAASpV,EAAEsQ,KACP8E,EAASpV,EAAEsQ,KAAK1I,OAhqBlB,EAiqBE,GAENgB,QAASmN,EACT/B,WAAYgC,EACZ/B,WAAY,CACVC,YAAa,aACbrI,SAAU,gCAQ1B,kBAAC,GAAD,CACEqD,eAAgB,kBAAMqH,IAAmBrH,KACzCqF,6BAA8BA,EAC9BE,gBAAiB,kBAAM6B,IAAoB7B,KAC3CD,YAAaA,EACbnL,MAAO,CACL7K,GAAI2D,GAAOiI,UAEbkK,aACEhZ,EAAY6G,GAAO8S,QACf3Z,EAAY6G,GAAO8S,QACnB,CAAE/Y,aAAc,IAEtBiG,OAAQA,GACR4E,KAAMqP,EACNxH,QAAS,kBAAMyH,GAAgB,IAC/Bta,KAAMA,SC7uBV+b,GAAuB,WAC3B,IACIC,EAAc,KACdC,EAAgB,KAQpB,MAVoB,CAAC,IAAK,IAAK,MAGjBlO,SAAQ,SAAC9J,GACrB,IAAIiY,EAAO5M,KAAK6M,IAAI5Y,OAAO6Y,WAAanY,GACpCiY,EAAOD,IACTA,EAAgBC,EAChBF,EAAc/X,MAGX+X,GAiTM5O,oBAXf,SAAc5N,EAAO6N,GACnB,OAAO,aACLxN,WAAYL,EAAMD,YAClBO,QAASN,EAAMM,QACfqB,SAAU3B,EAAM2B,SAChBnB,KAAMR,EAAMQ,KACZiD,aAAczD,EAAMyD,cACjBoK,KAIQD,EAjSF,SAAC,GAA2D,EAAzD7N,YAA0D,IAA7CO,EAA4C,EAA5CA,QAASE,EAAmC,EAAnCA,KAAMmB,EAA6B,EAA7BA,SAAU8B,EAAmB,EAAnBA,aAC9CC,EAdR,WAA0B,IAAD,EACKmI,mBAAS,GADd,mBAChBnI,EADgB,KACRmZ,EADQ,KAUvB,OARAC,2BAAgB,WACd,SAASC,IACPF,EAAU9Y,OAAOiZ,aAInB,OAFAjZ,OAAOkZ,iBAAiB,SAAUF,GAClCA,IACO,kBAAMhZ,OAAOmZ,oBAAoB,SAAUH,MACjD,IACIrZ,EAIQyZ,GADwD,EAErBtR,mBAAS,IAFY,mBAEhEuR,EAFgE,KAE7CC,EAF6C,OAGjCxR,oBAAS,GAHwB,mBAGhEgK,EAHgE,KAGnDC,EAHmD,OAIzBjK,mBAAS,CACrD1I,cAAe,GACfD,YAAa,GACbM,QAAS,EACThC,MAAO,GACP6B,SAAU,GACVJ,GAAI,GACJG,aAAc,GACdE,OAAQ,KAZ6D,mBAIhEga,EAJgE,KAI/CC,EAJ+C,OAc3B1R,oBAAS,GAdkB,mBAchE2R,EAdgE,KAchDC,EAdgD,KA6BvE,OAbAzR,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,yDACEsP,EAAmB5b,EAASkB,mBACxBlB,EAASC,eAFf,gCAGoBkH,GAAmB,GAHvC,QAGQ5C,EAHR,QAIauI,OACP4O,EAAqBnX,GAL3B,4CADc,uBAAC,WAAD,wBAUdmM,KACC,CAAC1Q,IAGF,yBAAKiD,UAAU,iBAAiBO,MAAO,CAAEoL,UAAU,IAAD,OAAM9M,EAAN,QAChD,yBAAKmB,UAAU,UACb,yBACEA,UAAU,mEACVO,MAAO,CAAEzB,OAAQA,IAEjB,yBACEkB,UAAU,gCACVO,MAAO,CACLgO,IAAK,EACLiC,KAAM,EACNhC,OAAQ,EACR2E,WAAW,4DAGf,kBAAC,GAAD,CAAOvM,KAAMqK,EAAaxC,QAAS,kBAAMyC,GAAe,KACtD,kBAAC,GAAD,CACErE,YAAaoE,EACbnE,WAAY,kBAAM+L,GAAkB,IACpC5W,QAASyW,EAAgBra,GACzBuO,QAAS,kBAAMsE,GAAe,OAGlC,yBACElR,UAAU,2BACVO,MAAO,CACLgO,IAAK,EACLiC,KAAM,EACNsI,MAAO,EACP1F,SAAU,SACV1C,OAAQ,SAGV,yBAAK1Q,UAAU,qBACb,yBACEsR,IAAKoH,EAAgBpa,YACrB0B,UAAU,oBACVN,MAAM,OACN8R,IAAG,yCAAoCkH,EAAgBpa,eAEzD,yBACEgT,IAAKoH,EAAgBpa,YACrB0B,UAAU,oBACVN,MAAM,OACN8R,IAAG,sCAAiCmG,MAAjC,OAECe,EAAgBna,iBAEtB,yBACEyB,UAAU,gCACVO,MAAO,CACL4S,WACE,uGACF5E,IAAK,EACLiC,KAAM,OAKd,yBACExQ,UAAU,uEACVO,MAAO,CACLiO,OAAQ,IAGV,yBAAKxO,UAAU,4DACb,yBAAKA,UAAU,gFACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,uDACVO,MAAO,CACLwY,WAAY,QAGbL,EAAgB9b,QAGrB,yBAAKoD,UAAU,YACb,yBAAKA,UAAU,qCACb,kBAAC,GAAD,CACE0L,WACE9P,EAAKF,QAAQgd,EAAgBra,KAEzB,mBADAzC,EAAKF,QAAQgd,EAAgBra,IAAIkS,UAIvCrH,MAAOwP,EACPjY,MAAM,OACNT,UAAU,YACV4K,MACElP,EAAQgd,EAAgBra,IACpB3C,EAAQgd,EAAgBra,IAAIyR,eAC5B,KAGR,kBAAC,GAAD,CACEpE,WACE9P,EAAKF,QAAQgd,EAAgBra,KAEzB,cADAzC,EAAKF,QAAQgd,EAAgBra,IAAIkS,UAIvCrH,MAAOwP,EACPjY,MAAM,QACNT,UAAU,YACV4K,MACElP,EAAQgd,EAAgBra,IACpB3C,EAAQgd,EAAgBra,IAAI0R,UAC5B,KAGR,kBAAC,GAAD,CACErE,WACE9P,EAAKF,QAAQgd,EAAgBra,KAEzB,YADAzC,EAAKF,QAAQgd,EAAgBra,IAAIkS,UAIvCrH,MAAOwP,EACP1Y,UAAU,YACVS,MAAM,sBACNmK,MACElP,EAAQgd,EAAgBra,IACpB3C,EAAQgd,EAAgBra,IAAI2R,QAC5B,KAGR,kBAAC,GAAD,CACEhQ,UAAU,OACV0L,WACE9P,EAAKF,QAAQgd,EAAgBra,KAEzB,aADAzC,EAAKF,QAAQgd,EAAgBra,IAAIkS,UAIvCrH,MAAOwP,EACPjY,MAAM,OACNmK,MACElP,EAAQgd,EAAgBra,IACpB3C,EAAQgd,EAAgBra,IAAI4R,SAC5B,QAMd,yBAAKjQ,UAAU,+DACZ0Y,EAAgBja,UAEnB,yBAAKuB,UAAU,+BACb,yBAAKA,UAAU,wBACZ0Y,EAAgBla,aAAa4N,UAAU,EAAG,GAC3C,4BAAQpM,UAAU,QAAlB,UACA,6BACE,yBAAKA,UAAU,qBACZ0Y,EAAgBha,OACduU,MAAM,EAAG,GACT1F,KAAI,SAAC1N,GAAD,OAAOA,EAAElB,QACbqN,KAAK,MAEV,yBAAKhM,UAAU,qBACZ0Y,EAAgBha,OACduU,MAAM,EAAG,GACT1F,KAAI,SAAC1N,GAAD,OAAOA,EAAElB,QACbqN,KAAK,OAIZ,4BAAQhM,UAAU,QAAlB,UACC+K,GAAe2N,EAAgB9Z,WAGpC,yBAAKoB,UAAU,+BACX4Y,EAQA,GAPA,yBACE5Y,UAAU,wDACVsK,QAAS,kBAAM4G,GAAe,KAFhC,gBASF,kBAAC,GAAD,CACEhI,MAAOwP,EACP9c,KAAMA,MAKZ,yBAAKoE,UAAU,4BACb,yBACEA,UAAU,+BACVO,MAAO,CACL2S,QAAS,WACTC,WACE,kDACF5B,aAAc,cAEd3F,aAAc,SARlB,0BAaA,kBAAC,GAAD,CACEiF,OAAQ2H,EACR5c,KAAMA,EACNF,QAASA,QAMnB,yBAAKsE,UAAU,mCACb,yBAAKA,UAAU,+CACb,yBAAKA,UAAU,sCACb,yBAAKA,UAAU,UACb,yBACEA,UAAU,+BACVO,MAAO,CACL2S,QAAS,WACTC,WACE,kDACF5B,aAAc,cAEd3F,aAAc,SARlB,2BAaA,kBAAC,GAAD,CACEiF,OAAQ2H,EACR5c,KAAMA,EACNF,QAASA,QAMnB,kBAAC,GAAD,CAAewG,OAAQnF,EAASC,iBAChC,kBAAC,GAAD,MACA,kBAAC,GAAD,WC7IOgM,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACLlM,SAAU3B,EAAM2B,UACbkM,KAIQD,EApKK,SAAC,GAOd,IANLpC,EAMI,EANJA,KACA6H,EAKI,EALJA,QACA7S,EAII,EAJJA,KACA8G,EAGI,EAHJA,QACA4R,EAEI,EAFJA,gBACAvX,EACI,EADJA,SACI,EACgCkK,mBAAS,CAAEvE,QAAS,KADpD,mBACG6R,EADH,KACeC,EADf,OAE0BvN,mBAAS,IAFnC,mBAEGgG,EAFH,KAEYC,EAFZ,OAG0BjG,oBAAS,GAHnC,mBAGG0B,EAHH,KAGYQ,EAHZ,KAWJ,OANA/B,qBAAU,WACJ1E,GACF8R,GAAc,SAACrF,GAAD,OAAU5T,OAAOC,OAAO,GAAI2T,EAAMzM,QAEjD,CAACA,IAGF,kBAAC,GAAD,CAAOkE,KAAMA,EAAM6H,QAASA,GAC1B,yBAAKzO,UAAU,mDACb,yBAAKA,UAAU,0BAAf,gBACA,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CAAE6O,gBAAgB,OAAD,OAASxT,EAAKI,MAAd,SAG5B,yBAAKgE,UAAU,OACb,yBAAKA,UAAU,gEACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,oCACVO,MAAO,CAAE6O,gBAAgB,OAAD,OAASxT,EAAKI,MAAd,SAG5B,yBACEgE,UAAS,0CACPuU,EAAW7R,QAAQ+E,QACnB1K,EAASQ,sBAAwB,EAC7B,aACA,gBAGLgX,EAAW7R,QACR3F,EAASQ,sBAAwBgX,EAAW7R,QAAQ+E,OACpD1K,EAASQ,sBAAuB,IAVtC,oBAcF,yBAAKyC,UAAU,sBAAsBO,MAAO,CAAEzB,OAAQ,UACpD,8BACEwQ,SAAU,SAACC,GACTA,EAAEC,UACF,IAAIC,EAAOF,EAAEG,OAAO9E,MAChB6E,EAAKhI,QAAU1K,EAASQ,uBAC1BiX,GAAc,SAACrF,GAAD,OACZ5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEzM,QAAS+M,QAIzC7E,MAAO2J,EAAW7R,QAClBiN,YAAY,EACZC,YAAY,sBACZrP,MAAO,CAAEsP,OAAQ,QACjB7P,UAAU,0BAGd,yBAAKA,UAAU,gEACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,sCACb,yBACEA,UAAS,qCACPuU,EAAW7R,QAAQ+E,QACnB1K,EAASQ,sBAAwB,EAC7B,aACA,gBAGLgX,EAAW7R,QACR3F,EAASQ,sBACTgX,EAAW7R,QAAQ+E,OACnB1K,EAASQ,sBAAuB,IAXtC,qBAgBJ,yBAAKyC,UAAU,UACb,yBACEA,UAAU,oEACVO,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,IAE/CA,IAGL,yBACEjN,UAAU,0CACVsK,QAAO,sBAAE,4BAAAjB,EAAA,yDACFkL,EAAW7R,QADT,gBAELwK,EAAW,gBAFN,2BAIDtR,EAAKK,MAJJ,wBAKHkN,GAAW,GALR,SAMa6P,EAAOzE,EAAY7R,EAAQyN,KANxC,OAMC7O,EAND,OAOH6H,GAAW,GACP7H,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,6BACPtB,KAAM,UACNuB,QAASyE,EAAIuI,UAIjB5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,kCACPtB,KAAM,UACNuB,QAAS,sCAGb4R,IACA6F,KA3BC,wBA8BHpH,EAAW,sCA9BR,6CAmCT,kBAAC,GAAD,CACE7C,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KAjDV,kBC83BCwJ,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBO,QAASN,EAAMM,SACZuN,KAIQD,EAz8BM,SAAC,GAQf,IAPLE,EAOI,EAPJA,MACAtN,EAMI,EANJA,KACAT,EAKI,EALJA,YACA8d,EAII,EAJJA,yBACAC,EAGI,EAHJA,aACAC,EAEI,EAFJA,cACAzd,EACI,EADJA,QACI,EAE0BuL,mBAAS,IAFnC,mBAEG9K,EAFH,KAEY+Y,EAFZ,OAG0CjO,mBAAS,IAHnD,mBAGGkO,EAHH,KAGoBC,EAHpB,OAKwCnO,oBAAU,GALlD,mBAKGqO,EALH,KAKmBC,EALnB,OAMsCtO,oBAAU,GANhD,mBAMGuO,EANH,KAMkBC,EANlB,OAOsCxO,oBAAU,GAPhD,mBAOGyO,EAPH,KAOkBC,EAPlB,OAQ0C1O,oBAAU,GARpD,mBAQGmS,EARH,KAQoBC,EARpB,OASwCpS,oBAAU,GATlD,mBASGqS,EATH,KASmBC,GATnB,QAUkDtS,oBAAS,GAV3D,qBAUGuS,GAVH,MAUwBC,GAVxB,SAa4CxS,mBAAS,IAbrD,qBAaGoP,GAbH,MAaqBC,GAbrB,SAgB4BrP,mBAAS,IAhBrC,qBAgBGgO,GAhBH,MAgBaZ,GAhBb,SAiB0BpN,oBAAS,GAjBnC,qBAiBGvE,GAjBH,MAiBYgX,GAjBZ,SAoB8DzS,mBAChEkS,EAAgBD,GAAgB,GArB9B,qBAoBG7D,GApBH,MAoB8BjB,GApB9B,SAyBoBnN,oBAAU,GAzB9B,qBAyBG0S,GAzBH,MAyBSC,GAzBT,SA0BoC3S,mBAAS,GA1B7C,qBA0BG2O,GA1BH,MA0BiBC,GA1BjB,MA6BEC,GAAoB3D,iBAAO,MA7B7B,GAgCsClL,oBAAS,GAhC/C,qBAgCGkK,GAhCH,MAgCkBC,GAhClB,SAiC8BnK,oBAAS,GAjCvC,qBAiCG4S,GAjCH,MAiCcC,GAjCd,SAkC0C7S,oBAAS,GAlCnD,qBAkCG8S,GAlCH,MAkCoBC,GAlCpB,SAqCwB/S,mBAAS,IArCjC,qBAqCGjF,GArCH,MAqCWgU,GArCX,SAwC0C/O,oBAAS,GAxCnD,qBAwCGqN,GAxCH,MAwCoB6B,GAxCpB,SA2CwClP,oBAAS,GA3CjD,qBA2CG8H,GA3CH,MA2CmBqH,GA3CnB,SAgDoCnP,oBAAS,GAhD7C,qBAgDGgT,GAhDH,MAgDiBC,GAhDjB,MAkDJ9S,qBAAU,WAAM,4CACd,8BAAAiC,EAAA,0DACqC,IAA/BgM,GADN,gCAEqBtS,EAAkBsS,IAFvC,OAEQvU,EAFR,OAGQyV,EAAc,GAClBzV,EAAK6I,SAAQ,SAAC9J,GACZ0W,EAAY1W,EAAEsQ,KAAOtQ,KAEvBwU,IAAY,SAAClF,GAAD,OACV5T,OAAOC,OAAO,GAAI2T,EAAlB5T,OAAA,KAAAA,CAAA,GAA2B8Z,GAA4BkB,OAR7D,4CADc,uBAAC,WAAD,wBAad9I,KACC,CAAC4H,GAA2Bf,KAE/BlN,qBAAU,WAAM,4CACd,sCAAAiC,EAAA,0DACMH,EAAM7K,GADZ,iCAEyBmE,EAAwB0G,EAAM7K,IAFvD,cAEQmY,EAFR,OAGQC,EAAqB,GACrBC,EAAgB,GACfF,EAAS3M,OACZ2M,EAAS7M,SAAQ,SAAC9J,GAChB4W,EAAmBrG,KAAKvQ,EAAE8W,YAC1BD,EAAc7W,EAAE8W,YAAc9W,KAGlCyW,GAAoBI,GAXxB,UAYqBnU,EAAgB2G,EAAM7K,IAZ3C,SAYQyC,EAZR,QAac+I,QACJ+M,EAAc,GAChBC,EAAqB,GACvB/V,EAAKqZ,UAAUxQ,SAAQ,SAAC9J,GAClBA,EAAEsQ,MAAQ+I,EACZtC,EAAYwD,QAAQva,GACX4W,EAAmBzD,SAASnT,EAAEsQ,MACvCtQ,EAAE2W,UAAW,EACbI,EAAYxG,KAAKvQ,IAEjBgX,EAAmBzG,KAAKvQ,MAG5BuV,EAAmBwB,GACnB1B,EAAW2B,IA3BjB,6CADc,uBAAC,WAAD,wBAgCdpJ,KACC,CAACvE,EAAO6F,GAAgBkK,IAE3B,IAkWMoB,IAAqB,IAAVV,GAAc,EAAIA,GAEnC,OACE,yBAAK3Z,UAAU,kBACZ7D,EAAQsL,OACP,yBAAKzH,UAAU,kBAAf,YACYwK,GAAWrO,EAAQsL,OAAQ,GADvC,KAIA,GAEF,yBAAKzH,UAAU,UACb,yBAAKA,UAAU,sBAAsBsI,IAAKwN,KACzCX,EACEpJ,OAAO5P,GACP8W,MAxac,GAyaZoH,GAAW,GAzaC,GA0aZA,GAAW,GA1aC,GA4ad9M,KAAI,SAAC1N,EAAG2H,GACP,IAAI7L,EAAS0a,GAAiBxW,EAAEsQ,KAC5BkG,GAAiBxW,EAAEsQ,KAAK3J,QAAQ7K,OAChCkE,EAAElE,OACFqG,EAASqU,GAAiBxW,EAAEsQ,KAC5BkG,GAAiBxW,EAAEsQ,KAAK3J,QAAQxE,OAChCnC,EAAEmC,OACN,OACE,kBAAC,IAAM0L,SAAP,CAAgBF,IAAG,0BAAqBhG,IACtC,yBACEc,IAAK,SAACC,GACC4Q,GACCtZ,EAAEsQ,MAAQ+I,GAAgB3Q,IAAO0R,KACnCC,IAAgB,GAChB3R,EAAG+R,eAAe,CAAEC,SAAU,aAKpC/M,IAAG,iBAAYhG,GACfxH,UAAS,8DACPH,EAAEsQ,MAAQ+I,GAAiBC,EAEvB,GADA,mBAIN,yBAAKnZ,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY0E,EAAEiV,OAASjV,EAAEiV,OAASjV,EAAE2a,gBAChCrf,EACE0E,EAAEiV,OAASjV,EAAEiV,OAASjV,EAAE2a,gBACxBxe,MACF,GALS,SAUrB,yBAAKgE,UAAU,OACb,yBAAKA,UAAU,kEACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY0E,EAAEiV,QACV3Z,EAAY0E,EAAEiV,QAAQ9Y,MACtB,GAHS,SAQrB,yBAAKgE,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,oCACZ7E,EAAY0E,EAAEiV,QACX3Z,EAAY0E,EAAEiV,QAAQ/Y,aACtB,IAEN,yBAAKiE,UAAU,4BACZ+W,KAAKC,OAAO,IAAI7Y,KAAK0B,EAAEkX,MAAO,qBAMxCnb,EAAKuU,MAAQtQ,EAAEiV,OACd,yBAAK9U,UAAU,YACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACEsG,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,6BAAf,iBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,sBAAAjB,EAAA,sDACP2M,GAAUnW,GACV4Z,IAAuB,GACvBrI,IAAiB,GAHV,4CAMT,kBAAC,KAAD,CAAU1C,SAAS,WAGvB,kBAAC,GAAD,CACEpI,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,6BAAf,mBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,kCAAAjB,EAAA,6DACPkQ,GAAkB1Z,EAAEsQ,KADb,SAES7N,EAAazC,GAFtB,OAEHyB,EAFG,OAGPiY,IAAmB,GACfjY,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAM,0BACNtB,KAAM,UACNuB,QAASyE,EAAIuI,UAIjB5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAM,UACNtB,KAAM,UACNuB,QAAS,kCAITlB,EAASD,EAAQwN,EAAM7K,KAIV,KAHboc,EAAU9e,EAAOkE,EAAElE,QAAQqO,WAC7B,SAAC0Q,GAAD,OAAOA,IAAM7a,EAAEiV,YAGfnZ,EAAOkE,EAAElE,QAAQmT,OAAO2L,EAAS,GAEnCxb,EAAMwK,SAAS,CACbnO,KAAM,iBACNK,OAAO,gBAAIuN,EAAM7K,GAAK1C,YAGpB2U,EAtBC,eAsBkB1U,EAAKF,UACTwN,EAAM7K,IACzBY,EAAMwK,SAAS,CACbnO,KAAM,cACNiB,aAAc,CACZb,QAAS4U,KAGb8F,IAAmBrH,KA3Cd,4CA+CRuK,IAAmBzZ,EAAEsQ,IACpB,yBAAKnQ,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,SAAS,EACTnJ,KAAM,MAIV,kBAAC,KAAD,CAASkP,SAAS,aAO5B,kBAAC,GAAD,CACEpI,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,6BAAf,kBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,4BAAAjB,EAAA,0DACHzN,EAAKK,MADF,uBAEL0Z,EAAiB9V,EAAEsQ,KAFd,SAGW9M,EAAazH,EAAMiE,EAAEsQ,KAHhC,OAGD7O,EAHC,OAILqU,GAAkB,GACdrU,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,kBACPC,QACE,4DACFvB,KAAM,aArBP,uBA0BL2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QACE,qCACFvB,KAAM,aAhCL,6CAsCRoa,IAAkB7V,EAAEsQ,IACnB,yBAAKnQ,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,SAAS,EACTnJ,KAAM,MAIV,kBAAC,IAAD,CAAQkP,SAAS,YAO3B,yBAAK1O,UAAU,6DACb,yBAAKA,UAAU,cAAcgC,IAE/B,yBAAKhC,UAAU,6DACb,yBAAKA,UAAU,YACD,YAAXrE,EACC,kBAAC,EAAD,CAAQ6D,KAAM,KAEd,kBAAC,IAAD,CACEiB,MACa,mBAAX9E,EACI,OACW,cAAXA,EACA,QACW,YAAXA,EACA,sBACA,OAEN+E,IAAI,WACJlB,KAAM,MAIZ,yBAAKQ,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBAAiBH,EAAEoX,MAAMxP,QACxC,yBAAKzH,UAAU,kBACZwV,IAAkBhO,EACjB,yBAAKxH,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAAS6M,IAAkBhO,EAC3BhI,KAAM,MAIV,kBAAC,IAAD,CACE8K,QAAO,sBAAE,4BAAAjB,EAAA,0DACHzN,EAAKK,MADF,oBAEDL,EAAKuU,MAAQtQ,EAAEiV,OAFd,wBAGHW,EAAiBjO,GAHd,SAIarE,EAAWvH,EAAMiE,EAAEsQ,KAJhC,OAIC7O,EAJD,OAKHmU,GAAkB,GACdnU,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV8a,IAAmBrH,IAhBlB,wBAmBH9P,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,qBACPC,QACE,kCACFvB,KAAM,aAzBP,gCA8BL2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QACE,mCACFvB,KAAM,aApCL,4CAyCToT,SAAS,OACT1O,UAAU,gDAIhB,yBAAKA,UAAU,iBACZH,EAAEoV,SAASxN,QAEd,yBAAKzH,UAAU,iBACb,kBAAC,IAAD,CACEsK,QAAS,WACP8J,GACEiB,KAA8BxV,EAAEsQ,KAC3B,EACDtQ,EAAEsQ,MAGVzB,SAAS,OACT1O,UAAU,iDAGd,yBACEA,UAAU,oCACVsK,QAAS,WACP0L,GACEza,OAAOC,OAAO,GAAIqE,EAAG,CACnBkV,sBAAuB,CACrB5Z,EAAY0E,EAAEiV,YAIpBgF,IAAa,KAVjB,cAoBV,kBAAC5C,GAAA,EAAD,CACEC,GAAI9B,KAA8BxV,EAAEsQ,IACpCnQ,UAAU,QAEV,yBACEO,MAAO,CAAE6W,WAAY,QACrBpX,UAAU,mBAFZ,aAKGiV,GAASpV,EAAEsQ,KACR5U,OAAO8b,OAAOpC,GAASpV,EAAEsQ,MAAM1I,OAC/B,EAPN,KAUCwN,GAASpV,EAAEsQ,KAnwBL,SAAjBmH,EAAkB1S,EAAK5C,GAC3B,OAAO4C,EAAI2I,KAAI,SAAC1N,EAAG0X,GACjB,OAAOtC,GAASjT,EAAOmO,KAAKtQ,GAC1B,kBAAC,IAAM6N,SAAP,CACEF,IAAG,2BAAsB6H,GAAtB,YAAmDkC,IAEtD,yBACEjP,IAAK,SAACC,GACA1I,IAAMsZ,GAAiB5Q,IAAO0R,KAChCC,IAAgB,GAChB3R,EAAG+R,eAAe,CAAEC,SAAU,aAIlCha,MAAO,CACL6W,WAAW,GAAD,OAC+C,GAAvDnC,GAASjT,EAAOmO,KAAKtQ,GAAGkV,sBAAsBtN,OAAc,GADpD,OAIZ+F,IAAG,kBAAa6H,GAAb,YAA0CkC,GAC7CvX,UAAS,+EACPH,IAAMsZ,EAAgB,iBAAmB,KAG3C,yBAAKnZ,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY8Z,GAASjT,EAAOmO,KAAKtQ,GAAGiV,QAChC3Z,EAAY8Z,GAASjT,EAAOmO,KAAKtQ,GAAGiV,QAAQ9Y,MAC5C,GAHS,SAQrB,yBAAKgE,UAAU,OACb,yBAAKA,UAAU,kEACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY8Z,GAASjT,EAAOmO,KAAKtQ,GAAGiV,QAChC3Z,EAAY8Z,GAASjT,EAAOmO,KAAKtQ,GAAGiV,QACjC9Y,MACH,GAJS,SASrB,yBAAKgE,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,oCACZ7E,EAAY8Z,GAASjT,EAAOmO,KAAKtQ,GAAGiV,QACjC3Z,EAAY8Z,GAASjT,EAAOmO,KAAKtQ,GAAGiV,QACjC/Y,aACH,IAEN,yBAAKiE,UAAU,4BACZ+W,KAAKC,OACJ,IAAI7Y,KAAK8W,GAASjT,EAAOmO,KAAKtQ,GAAGkX,MACjC,qBAOXnb,EAAKuU,MAAQ8E,GAASjT,EAAOmO,KAAKtQ,GAAGiV,OACpC,yBAAK9U,UAAU,YACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACEsG,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,6BAAf,kBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,sBAAAjB,EAAA,sDACPqQ,GAAWzE,GAASjT,EAAOmO,KAAKtQ,IAChCma,IAAmB,GAFZ,4CAKT,kBAAC,KAAD,CAAUtL,SAAS,WAGvB,kBAAC,GAAD,CACEpI,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,6BAAf,oBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,4BAAAjB,EAAA,6DACPgQ,EAAmBpE,GAASjT,EAAOmO,KAAKtQ,GAAGsQ,KADpC,SAEStN,EACdoS,GAASjT,EAAOmO,KAAKtQ,GAAGsQ,KAHnB,OAEH7O,EAFG,OAKP+X,GAAoB,GAChB/X,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAM,0BACNtB,KAAM,UACNuB,QAASyE,EAAIuI,UAIjB5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAM,UACNtB,KAAM,UACNuB,QAAS,kCAGbsZ,IAAoB7B,IACpB8B,IAAmBrH,KAzBd,4CA6BRqK,IAAoBnE,GAASjT,EAAOmO,KAAKtQ,GAAGsQ,IAC3C,yBAAKnQ,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,SAAS,EACTnJ,KAAM,MAIV,kBAAC,KAAD,CAASkP,SAAS,aAO5B,kBAAC,GAAD,CACEpI,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,6BAAf,kBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,4BAAAjB,EAAA,0DACHzN,EAAKK,MADF,uBAEL0Z,EAAiB9V,GAFZ,SAGWyD,EAAc1H,EAAMiE,GAH/B,OAGDyB,EAHC,OAILqU,GAAkB,GACdrU,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,mBACPC,QACE,6DACFvB,KAAM,aArBP,uBA0BL2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,sCACTvB,KAAM,aA/BL,6CAqCRoa,IAAkB7V,EACjB,yBAAKG,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,SAAS,EACTnJ,KAAM,MAIV,kBAAC,IAAD,CAAQkP,SAAS,YAO3B,yBAAK1O,UAAU,6DACZiV,GAASjT,EAAOmO,KAAKtQ,GAAG6C,SAE3B,yBAAK1C,UAAU,yDACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACZiV,GAASjT,EAAOmO,KAAKtQ,GAAGoX,MAAMxP,QAEjC,yBAAKzH,UAAU,kBACZsV,IAAmBiC,EAClB,yBAAKvX,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAAS2M,IAAmBiC,EAC5B/X,KAAM,MAIV,kBAAC,IAAD,CACE8K,QAAO,sBAAE,4BAAAjB,EAAA,0DACHzN,EAAKK,MADF,oBAEDL,EAAKuU,MAAQ8E,GAASjT,EAAOmO,KAAKtQ,GAAGiV,OAFpC,wBAGHS,EAAkBgC,GAHf,SAIanU,EAAYxH,EAAMiE,GAJ/B,OAICyB,EAJD,OAKHiU,GAAmB,GACfjU,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV6a,IAAoB7B,IAhBnB,wBAmBHrV,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,qBACPC,QACE,oCACFvB,KAAM,aAzBP,gCA8BL2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,mCACTvB,KAAM,aAnCL,4CAwCToT,SAAS,OACT1O,UAAU,gDAIhB,yBACEA,UAAU,oCACVsK,QAAS,WACF1O,EAAKK,OAUR+Z,GACEza,OAAOC,OAAO,GAAIwG,EAAQ,CACxB2S,WAAY9U,EACZkV,sBAAuBE,GAASjT,EAAOmO,KACrCtQ,GACAkV,sBAAsBhJ,OAAO,CAC7B5Q,EAAY8Z,GAASjT,EAAOmO,KAAKtQ,GAAGiV,aAI1CgF,IAAa,IAnBb7a,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,qCACTvB,KAAM,eAThB,cAkCTgc,EAAerC,GAASjT,EAAOmO,KAAKtQ,GAAGoV,SAAUjT,IAGpD,MAwacsV,CACE/b,OAAO8b,OAAOpC,GAASpV,EAAEsQ,MACtB4C,QAAO,SAAC1J,GAAD,OAA0C,IAAnCA,EAAE0L,sBAAsBtN,UACtC8F,KAAI,SAACiK,GAAD,OAAOA,EAAErH,OAChBtQ,GAEF,GACJ,yBAAKG,UAAU,sCACb,yBAAKA,UAAU,YACb,kBAACyX,GAAD,CACE7D,MAAO1I,KAAKwM,KACVzC,GAASpV,EAAEsQ,KACP8E,GAASpV,EAAEsQ,KAAK1I,OAx0BpB,EAy0BI,GAENgB,QAASmN,GACT/B,WAAYgC,GACZ/B,WAAY,CACVC,YAAa,aACbrI,SAAU,gCAS5B,yBAAK1L,UAAU,2CACb,yBAAKA,UAAU,YACb,kBAACyX,GAAD,CACE3D,WAAY,CACVC,YAAa,aACbrI,SAAU,uBAEZkI,MAAO1I,KAAKwM,KAAKvb,EAAQsL,OA91Bd,GA+1BXgB,QAAS4R,GACTxG,WAAY+F,MAGhB,kBAAC,GAAD,CACE5K,YAAawK,GACb5S,KAAMuK,GACN1C,QAAS,kBAAM2C,IAAiB,IAChClI,MAAOA,EACPlH,OAAQA,GACRpG,KAAMA,EACNmT,eAAgB,kBAAMqH,IAAmBrH,OAE3C,kBAAC,GAAD,CACEA,eAAgB,kBAAMqH,IAAmBrH,KACzCqF,6BAA8BA,GAC9BE,gBAAiB,kBAAM6B,IAAoB7B,KAC3CD,YAAaA,GACbnL,MAAOA,EACPiL,aACEhZ,EAAY6G,GAAO8S,QACf3Z,EAAY6G,GAAO8S,QACnB,CAAE/Y,aAAc,IAEtBiG,OAAQA,GACR4E,KAAMiT,GACNpL,QAAS,kBAAMqL,IAAa,IAC5Ble,KAAMA,IAER,kBAAC,GAAD,CACE8G,QAASA,GACT4R,gBAAiB,kBAAM6B,IAAoB7B,KAC3CD,YAAa,aACbnL,MAAOA,EACPtC,KAAMmT,GACNtL,QAAS,kBAAMuL,IAAmB,IAClCpe,KAAMA,U,SC1iBHoN,oBATf,SAAc5N,EAAO6N,GACnB,OAAO,aACLrN,KAAMR,EAAMQ,KACZF,QAASN,EAAMM,QACfqB,SAAU3B,EAAM2B,UACbkM,KAIQD,EA1ZD,SAACzJ,GACb,IAAM0C,EAAU1C,EAAMob,MAAM7O,OAAO7J,QAC7BvG,EAAU6D,EAAM7D,QAChBwG,EAAS3C,EAAMxC,SAASC,eACxBkc,EAAe3Z,EAAMob,MAAM7O,OAAO9I,SAClCmW,EAAgB5Z,EAAMob,MAAM7O,OAAOlJ,UAEnChH,EAAO2D,EAAM3D,KAPI,EAQKqL,oBAAS,GARd,mBAQhBjF,EARgB,KAQRgU,EARQ,OASqB/O,oBAAS,GAT9B,mBAShB8H,EATgB,KASAqH,EATA,OAUqBnP,oBAAS,GAV9B,mBAUhB2R,EAVgB,KAUAC,EAVA,OAWmB5R,oBAAS,GAX5B,mBAWhBkK,EAXgB,KAWDC,EAXC,OAYGnK,mBAAS,CACjC3I,YAAa,GACbI,OAAQ,GACR9B,MAAO,GACP6B,SAAU,GACVmc,SAAU,GACVC,KAAM,GACNjc,QAAS,EACTJ,aAAc,GACdH,GAAI,KArBiB,mBAYhB6K,EAZgB,KAYTmI,EAZS,OAyBepK,oBAAS,GAzBxB,mBAyBhBgK,EAzBgB,KAyBHC,EAzBG,KAwGvB,OA7EA9J,qBAAU,WAEJ8B,EAAMtM,QACRsG,EAAegG,EAAM7K,GAAI6D,GACnBgH,EAAM7K,MAAM3C,GAChBuD,EAAMwK,SAAS,CACbnO,KAAM,iBACNK,OAAO,gBACJuN,EAAM7K,GAAK,CACVyR,eAAgB,GAChBE,QAAS,GACTC,SAAU,GACVF,UAAW,GACXyD,aAActK,EAAM5K,YACpBmV,YAAavK,EAAMtM,MACnB8W,aAAcxK,EAAMxK,OAAO6O,KAAI,SAAC1N,GAAD,OAAOA,EAAElB,QACxCoX,mBAAoB7M,EAAM1K,oBAMnC,CAAC0K,EAAMtM,QAEVwK,qBAAU,WAAM,4CAEd,wCAAAiC,EAAA,0DACMpH,IAAWC,EADjB,oBAGoC,WAA5BD,EAAQmK,UAAU,EAAG,GAH7B,uBAIU0O,EAAU7Y,EAAQmK,UAAU,GAJtC,SAK4BC,GAAUyO,EAAS5Y,GAL/C,OAKU6Y,EALV,OAMMja,EAAOvF,OAAOC,OAAO,GAAIuf,EAAW,CAClCne,MAAOme,EAAUpc,KACjBH,aAAcuc,EAAUC,eACxB3c,GAAI4D,IATZ,wCAYmBqK,GAASrK,EAASC,GAZrC,QAYMpB,EAZN,sBAcIA,EAAKtC,aAAesC,EAAKtC,aAAesC,EAAKtC,aAAe,SACvCqI,IAAjB/F,EAAKma,SAA0Bna,EAAKma,QAExC5J,GAAS,SAAClC,GAAD,OAAU5T,OAAOC,OAAO,GAAI2T,EAAMrO,MAjB/C,UAkBwByL,GAAWtK,EAASC,GAlB5C,QAkBQgZ,EAlBR,OAmBQC,EAAYD,EAAQE,KACpBF,EAAQE,KAAKrI,QAAO,SAAClT,GAAD,MAAiB,aAAVA,EAAEwb,OAAoB9N,KAAI,SAAC1N,GAAD,OAAOA,EAAElB,QAC9D,GACAic,EAAWO,EAAU1T,OACrB0T,EACAD,EAAQE,KAAK7N,KAAI,SAAC1N,GAAD,OAAOA,EAAElB,QAC1Bkc,EAAOK,EAAQL,KAAOK,EAAQL,KAAKtN,KAAI,SAAC1N,GAAD,OAAOA,EAAElB,QAAQ,GAC5D0S,GAAS,SAAClC,GAAD,OAAU5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEyL,WAAUC,YA1B3D,6CAFc,sBACd1b,OAAOmc,SAAS,EAAG,GADL,mCAgCd7N,KACC,CAACxL,EAASC,IAEbkF,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,sEACkB3F,EAAc9H,EAAKuU,IAAKlO,GAD1C,QACMX,EADN,QAGSA,EAAIuI,OACPmM,EAAU1U,GAGZ0U,EAAU,CAAEhU,OAAQ,GAAIrG,OAAQ,KAPpC,4CADc,sBAWVC,EAAKuU,KAAOlO,GAXD,WAAD,wBAYZwL,KAED,CAACsB,EAAgBnT,EAAMqG,IAKxB,yBAAKjC,UAAU,8EACb,yBACEA,UAAU,4CACVO,MAAO,CACLgO,IAAK,EACLiC,KAAM,IAGR,yBACExQ,UAAU,oBACVO,MAAO,CAAEzB,OAAQK,OAAOiZ,YAAahK,SAAU,WAE/C,yBAAKpO,UAAU,qBACb,yBACEsR,IAAKpI,EAAM5K,YACXoB,MAAM,OACN8R,IACEtI,EAAM5K,YAAN,0CACuC4K,EAAM5K,aACzC,yDAGR,yBACE0B,UAAU,gCACVO,MAAO,CACL4S,WAAY,iDACZ5E,IAAK,EACLiC,KAAM,MAIZ,yBACExQ,UAAU,gCACVO,MAAO,CACL4S,WAAY,2CACZ5E,IAAK,EACLiC,KAAM,OAKd,kBAAC,GAAD,CAAO5J,KAAMqK,EAAaxC,QAAS,kBAAMyC,GAAe,KACtD,kBAAC,GAAD,CACErE,YAAaoE,EACbnE,WAAY,kBAAM+L,GAAkB,IACpC5W,QAASA,EACT2K,QAAS,kBAAMsE,GAAe,OAGlC,yBAAKlR,UAAU,yDACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,2BACb,yBACEsR,IAAKpI,EAAM5K,YACXiC,MAAO,CAAEgR,aAAc,QACvB7R,MAAM,QACN8R,IACEtI,EAAM5K,YAAN,0CACuC4K,EAAM5K,aACzC,yDAGR,yBACEgM,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBlH,EAAM7K,MAC5C2B,UAAU,sEACVO,MAAO,CACLiQ,KAAM,EACNjC,IAAK,EACLlI,SAAU,WACVmI,OAAQ,EACR+C,aAAc,SAGdqH,EAiBA,GAhBA,yBACE5Y,UAAU,uDACVsK,QAAS,SAACiF,GACRA,EAAEmC,kBACFR,GAAe,KAGjB,kBAAC,KAAD,CACE3Q,MAAO,CACLmO,SAAU,OACVrE,MAAO,QACPE,YAAa,cAU3B,yBAAKvK,UAAU,yBACb,yBACEA,UAAU,mCACVO,MAAO,CAAEiO,OAAQ,IAEjB,yBAAKxO,UAAU,UACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,6CACZkJ,EAAMtM,MADT,KACkBsM,EAAM1K,aAAa4N,UAAU,EAAG,GADlD,MAIF,yBAAKpM,UAAU,YACb,yBAAKA,UAAU,+CACb,kBAAC,GAAD,CACE0L,WACE9P,EAAKF,QAAQwN,EAAM7K,KAEf,mBADAzC,EAAKF,QAAQwN,EAAM7K,IAAIkS,UAI7BrH,MAAOA,EACPzI,MAAM,OACNT,UAAU,YACV4K,MACElP,EAAQwN,EAAM7K,IACV3C,EAAQwN,EAAM7K,IAAIyR,eAClB,KAGR,kBAAC,GAAD,CACEpE,WACE9P,EAAKF,QAAQwN,EAAM7K,KACsB,cAArCzC,EAAKF,QAAQwN,EAAM7K,IAAIkS,UAG7BrH,MAAOA,EACPzI,MAAM,QACNT,UAAU,YACV4K,MACElP,EAAQwN,EAAM7K,IAAM3C,EAAQwN,EAAM7K,IAAI0R,UAAY,KAGtD,kBAAC,GAAD,CACErE,WACE9P,EAAKF,QAAQwN,EAAM7K,KACsB,YAArCzC,EAAKF,QAAQwN,EAAM7K,IAAIkS,UAG7BrH,MAAOA,EACPlJ,UAAU,YACVS,MAAM,sBACNmK,MACElP,EAAQwN,EAAM7K,IAAM3C,EAAQwN,EAAM7K,IAAI2R,QAAU,KAGpD,kBAAC,GAAD,CACEhQ,UAAU,OACVS,MAAM,OACNmK,MACElP,EAAQwN,EAAM7K,IAAM3C,EAAQwN,EAAM7K,IAAI4R,SAAW,GAEnDvE,WACE9P,EAAKF,QAAQwN,EAAM7K,KACsB,aAArCzC,EAAKF,QAAQwN,EAAM7K,IAAIkS,UAG7BrH,MAAOA,OAMf,yBAAKlJ,UAAU,wCACb,yBAAKA,UAAU,iBACZkJ,EAAMxK,OAAO6O,KAAI,SAAC1N,GAAD,OAAOA,EAAElB,QAAMqN,KAAK,OAG1C,yBAAKhM,UAAU,uBACb,yBAAKA,UAAU,iCAAf,aACA,yBAAKA,UAAU,6BACZ+K,GAAe7B,EAAMtK,WAG1B,yBAAKoB,UAAU,kCACZkJ,EAAMzK,UAET,yBAAKuB,UAAU,uBACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,iBAAf,aACA,yBAAKA,UAAU,yCACZkJ,EAAM0R,SAASnT,OACZyB,EAAM0R,SAAS5O,KAAK,MACpB,aAIV,yBAAKhM,UAAU,YACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,iBAAf,SACA,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,kBACb,yBACEA,UAAU,+CACVsK,QAAS,SAACiF,GAENA,EAAEgM,cAAcC,UAAUC,SACxB,gBAGFlM,EAAEgM,cAAcC,UAAUE,OACxB,gBAGFnM,EAAEgM,cAAcC,UAAUG,IAAI,kBAIjCzS,EAAM2R,KAAKpT,OACRyB,EAAM2R,KAAK7O,KAAK,MAChB,gBAOhB,yBAAKhM,UAAU,uBACb,yBAAKA,UAAU,iBAAf,iBACA,yBAAKA,UAAU,6BACW,MAAvBkJ,EAAM1K,aACHuY,KAAKC,OACH,IAAI7Y,KAAK+K,EAAM1K,cACf,iBAEF,YAGR,yBAAKwB,UAAU,kEACb,yBACEA,UAAU,wDACVsK,QAAS,WACF1O,EAAKK,MAURmV,GAAkBD,GATlBlS,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,qCACTvB,KAAM,eAQbM,EAAKF,QAAQwN,EAAM7K,IAClB,kBAAC,IAAMqP,SAAP,mBAEE,kBAAC,KAAD,CAAUgB,SAAS,OAAO1O,UAAU,UAGtC,kBAAC,IAAM0N,SAAP,kBAEE,kBAAC,KAAD,CACEgB,SAAS,OACT1O,UAAU,WAKlB,kBAAC,GAAD,CAAgBkJ,MAAOA,EAAOtN,KAAMA,SAM9C,kBAAC,GAAD,CACEoT,YAAapT,EAAKF,QAAQwN,EAAM7K,IAChCuI,KAAMuK,EACN1C,QAAS,kBAAM2C,GAAiB,IAChClI,MAAOA,EACPlH,OAAQA,EACRpG,KAAMA,EACNmT,eAAgB,kBAAMqH,GAAmBrH,MAE3C,kBAAC,GAAD,CACEkK,yBAA0BlK,EAC1B6M,qBAAsBhgB,EAAKF,QAAQwN,EAAM7K,IACzC8a,cAAeA,EACfD,aAAcA,EACdhQ,MAAOA,EACPtN,KAAMA,SC9GDoN,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBO,QAASN,EAAMM,SACZuN,KAIQD,EAlSK,SAAC,GAAuC,IAArC7M,EAAoC,EAApCA,QAAShB,EAA2B,EAA3BA,YAAaO,EAAc,EAAdA,QAAc,EACSuL,oBAC/D,GAFsD,mBAClDoO,EADkD,KACvBjB,EADuB,OAMjBnN,mBAAS,GANQ,mBAMlD2O,EANkD,KAMpCC,EANoC,OAQzB5O,mBAAS,IARgB,mBAQlDgO,EARkD,KAQxCZ,EARwC,KAyBzD,OAZAjN,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,0DACqC,IAA/BgM,EADN,gCAEqBtS,EAAkBsS,GAFvC,OAEQvU,EAFR,OAGIuT,GAAY,SAAClF,GAAD,OACV5T,OAAOC,OAAO,GAAI2T,EAAlB5T,OAAA,KAAAA,CAAA,GAA2B8Z,EAA4BvU,OAJ7D,4CADc,uBAAC,WAAD,wBASd2M,KACC,CAAC4H,IAEGlZ,EACJ8W,MACC,EACA,GAED1F,KAAI,SAAC1N,EAAG2H,GAAJ,OACH,kBAAC,IAAMkG,SAAP,CAAgBF,IAAG,0BAAqBhG,IACtC,yBACEgG,IAAG,iBAAYhG,GACfxH,UAAU,wDAEV,yBACEA,UAAU,4CACVO,MAAO,CAAE6S,SAAU,UAEnB,yBAAKpT,UAAU,uBACb,yBACEsR,IAAK5V,EAAQmE,EAAEoK,UAAUuJ,aACzBlJ,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBvQ,EAAEoK,YACxCvK,MAAM,OACNa,MAAO,CAAEgR,aAAc,OAAQuF,OAAQ,WACvCtF,IAAG,yCACD9V,EAAQmE,EAAEoK,UAAUuJ,kBAK5B,yBAAKxT,UAAU,0BACb,yBAAKA,UAAU,8EACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,6BACVO,MAAO,CACL6O,gBAAgB,sCAAD,OACb1T,EAAQmE,EAAEoK,UAAUuJ,aADP,SAYrB,yBAAKxT,UAAU,OACb,yBAAKA,UAAU,qCACZtE,EAAQmE,EAAEoK,UAAUwJ,YADvB,KAEG/X,EAAQmE,EAAEoK,UAAU8L,mBAAmB3J,UAAU,EAAG,IAEvD,yBAAKpM,UAAU,6BACb,yBAAKA,UAAU,iBAAiBH,EAAE6T,kBAK1C,yBAAK1T,UAAU,UACb,yBAAKA,UAAU,0CACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY0E,EAAEiV,QACV3Z,EAAY0E,EAAEiV,QAAQ9Y,MACtB,GAHS,SAQrB,yBAAKgE,UAAU,YACb,yBAAKA,UAAU,gDACb,yBAAKA,UAAU,sBACZ7E,EAAY0E,EAAEiV,QACX3Z,EAAY0E,EAAEiV,QAAQ/Y,aACtB,QAMd,yBAAKiE,UAAU,YACb,yBAAKA,UAAU,6BACb,0BAAMA,UAAU,QAAhB,oBACA,0BAAMA,UAAU,cACb+W,KAAKC,OAAO,IAAI7Y,KAAK0B,EAAEkX,MAAO,sBAO3C,yBAAK/W,UAAU,2EACZH,EAAEmC,QAGL,yBAAKhC,UAAU,iDACb,yBAAKA,UAAU,iDACb,yBAAKA,UAAU,wEACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,kBACZH,EAAElE,OACY,YAAbkE,EAAElE,OACA,yBAAK4E,MAAO,CAAEoL,UAAW,SACvB,kBAAC,EAAD,CAAQnM,KAAM,MAGhB,yBAAKe,MAAO,CAAEqL,aAAc,SAC1B,kBAAC,IAAD,CACEnL,MACe,mBAAbZ,EAAElE,OACE,OACa,cAAbkE,EAAElE,OACF,QACa,YAAbkE,EAAElE,OACF,sBACA,OAEN+E,IAAI,WACJlB,KAAM,MAKZ,KAIN,yBAAKQ,UAAU,iBACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBAAiBH,EAAEoX,MAAMxP,QACxC,yBAAKzH,UAAU,kBACb,kBAAC,IAAD,CACE0O,SAAS,OACT1O,UAAU,gBAGd,yBAAKA,UAAU,iBAAiBH,EAAEoV,SAASxN,QAC3C,yBAAKzH,UAAU,YACb,kBAAC,IAAD,CACEsK,QAAS,WACP8J,EACEiB,IAA8BxV,EAAEsQ,KAAO,EAAItQ,EAAEsQ,MAGjDzB,SAAS,OACT1O,UAAU,wDAU5B,kBAACkX,GAAA,EAAD,CAAUC,GAAI9B,IAA8BxV,EAAEsQ,IAAKnQ,UAAU,QAC3D,yBAAKA,UAAU,2BAAf,aACaiV,EAASpV,EAAEsQ,KAAO8E,EAASpV,EAAEsQ,KAAK1I,OAAS,EADxD,KAGCwN,EAASpV,EAAEsQ,KACR8E,EAASpV,EAAEsQ,KACR8C,MACC2C,GAAgBA,EAAe,GAC/BA,GAAgBA,EAAe,GAvLvB,GAyLTrI,KAAI,SAAC3N,EAAG2X,GAAJ,OACH,yBACE/J,IAAG,kBAAa6H,EAAb,YAA0CkC,GAC7CvX,UAAU,6DAEV,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAYyE,EAAEkV,QACV3Z,EAAYyE,EAAEkV,QAAQ9Y,MACtB,GAHS,SAQrB,yBAAKgE,UAAU,OACb,yBAAKA,UAAU,0CACb,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAYyE,EAAEkV,QACV3Z,EAAYyE,EAAEkV,QAAQ9Y,MACtB,GAHS,SAQrB,yBAAKgE,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,oCACZ7E,EAAYyE,EAAEkV,QACX3Z,EAAYyE,EAAEkV,QAAQ/Y,aACtB,IAEN,yBAAKiE,UAAU,4BACZ+W,KAAKC,OAAO,IAAI7Y,KAAKyB,EAAEmX,MAAO,oBAMvC,yBAAK/W,UAAU,kCACZJ,EAAE8C,SAEL,yBAAK1C,UAAU,6DACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACZJ,EAAEqX,MAAMxP,QAEX,yBAAKzH,UAAU,kBACb,kBAAC,IAAD,CACE0O,SAAS,OACT1O,UAAU,uCAS5B,GACJ,yBAAKA,UAAU,2CACb,yBAAKA,UAAU,iBACb,kBAACyX,GAAD,CACE7D,MAAO1I,KAAKwM,KACVzC,EAASpV,EAAEsQ,KAAO8E,EAASpV,EAAEsQ,KAAK1I,OAhQ1B,EAgQqD,GAE/DgB,QAASmN,EACT/B,WAAYgC,EACZ/B,WAAY,CACVC,YAAa,aACbrI,SAAU,mCC/QtBmQ,GAAgB,SAAChL,GACrB,IAAInS,EAAS,CAAEod,EAAG,OAclB,OAbAjL,EAAOlH,SAAQ,SAAC9J,GACdA,EAAE8R,UAAUhI,SAAQ,SAACiI,GACnB,IAAIC,EAAQhS,EAAEjD,MACVuD,EAAqB2R,MAAK,SAACC,GAAD,OAAOA,EAAE1T,KAAOuT,KAC1CxR,EAAqB0R,MAAK,SAACC,GAAD,OAAOA,EAAE1T,KAAOuT,KAC1CC,GAASA,EAAMlT,OACXiT,KAAOlT,IACXA,EAAOkT,GAAOC,EAAMlT,aAMrBD,GA2OMsK,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACLlM,SAAU3B,EAAM2B,SAChBP,OAAQpB,EAAMoB,QACXyM,KAIQD,EAxOO,SAAC,GAA0B,IAAxBxM,EAAuB,EAAvBA,OAAQO,EAAe,EAAfA,SAAe,EAChBkK,mBAAS,IADO,mBACvC9K,EADuC,KAC9B+Y,EAD8B,OAElBjO,mBAAS,IAFS,mBAEvC4J,EAFuC,KAE/B0B,EAF+B,OAGlBtL,mBAAS,IAHS,mBAGvC8U,EAHuC,KAG/BC,EAH+B,OAIM/U,mBAAS,GAJf,mBAIvCgV,EAJuC,KAInBC,EAJmB,OAKMjV,mBAAS,GALf,mBAKvCkV,EALuC,KAKnBC,EALmB,KAMxC1f,EAAWF,EAAOE,SAElB2f,EAAS,WACbpd,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAAS,uDACTvB,KAAM,cAKZ8L,qBAAU,WAAM,4CACd,gCAAAiC,EAAA,0DACM7M,EAAOC,MADb,oBAEqB,YAAbC,GAAuC,QAAbA,EAFlC,gCAG0ByH,GAAc3H,EAAOC,OAH/C,QAGUN,EAHV,QAImB0N,OACXqL,EAAW/Y,GALnB,sBAQM+Y,EAAW,IARjB,UAUqB,WAAbxY,GAAsC,QAAbA,EAVjC,kCAWyB8P,GACjBhQ,EAAOC,MACPM,EAASC,gBAbjB,SAWU6T,EAXV,QAeiBvD,QACTiF,EAAU1B,EAAOvD,SAEjB+O,IAlBR,wBAqBM9J,EAAU,IArBhB,WAuBqB,WAAb7V,GAAsC,QAAbA,EAvBjC,kCAwByBgQ,GACjBlQ,EAAOC,MACPM,EAASC,gBA1BjB,SAwBU+e,EAxBV,QA4BiBzO,QACT0O,EAAUD,EAAOzO,SAEjB+O,IA/BR,wBAkCML,EAAU,IAlChB,6CADc,uBAAC,WAAD,wBAuCdvO,KACC,CAACjR,IAEJ,IAAM8f,EAAeT,GAAchL,GAC7B0L,EAAeV,GAAcE,GACnC,OACE,yBACE/b,UAAU,qDACVO,MAAO,CAAEic,UAAWrd,OAAOiZ,cAE3B,yBAAKpY,UAAU,6BACb,yBAAKA,UAAU,+BACf,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,6BACb,yBAAKA,UAAU,qDACb,yBAAKA,UAAU,8DACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,qBAAf,kBACA,yBAAKA,UAAU,gDAAf,wBAIF,yBAAKA,UAAU,UACZ6Q,EAAOpJ,OACN,yBAAKzH,UAAU,0BAAf,WACW6Q,EAAOpJ,OADlB,KAIA,GAEF,yBAAKzH,UAAU,yEACb,yBAAKA,UAAU,YACZzE,OAAOkhB,KAAKH,GAAc7U,OAAS,EAClC,kBAAC,KAAD,CACElH,MAAO,CACL2S,QAAS,SACTxT,MAAO,OACP2T,UAAW,OACXC,WAAY,WAGb/X,OAAOkhB,KAAKH,GAAc/O,KAAI,SAAC1N,EAAG2H,GAAJ,OAC7B,yBACE8C,QAAS,WACP4R,EAAsBrc,IAExBU,MAAO,CAAEoQ,QAAS,gBAClBnD,IAAG,kCAA6BhG,GAChCxH,UAAS,gBACNic,KAAwBpc,EACrB,mCACA,kCAGLyc,EAAazc,QAKpB,MAKR,yBAAKG,UAAU,UACZ6Q,EAAOpJ,OACN,kBAAC,IAAMiG,SAAP,KACE,kBAAC,GAAD,CACEmD,OAAQA,EAAOkC,QAAO,SAAClT,GACrB,OACEA,EAAE8R,UAAUqB,UAAUiJ,IACE,KAAvBA,QAMT,GAEF,yBAAKjc,UAAU,wBACf,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,UACZ+b,EAAOtU,OACN,yBAAKzH,UAAU,0BAAf,WACW+b,EAAOtU,OADlB,KAIA,GAEF,yBAAKzH,UAAU,yEACb,yBAAKA,UAAU,YACZzE,OAAOkhB,KAAKF,GAAc9U,OAAS,EAClC,kBAAC,KAAD,CACElH,MAAO,CACL2S,QAAS,SACTxT,MAAO,OACP2T,UAAW,OACXC,WAAY,WAGb/X,OAAOkhB,KAAKF,GAAchP,KAAI,SAAC1N,EAAG2H,GAAJ,OAC7B,yBACE8C,QAAS,WACP8R,EAAsBvc,IAExBU,MAAO,CAAEoQ,QAAS,gBAClBnD,IAAG,kCAA6BhG,GAChCxH,UAAS,gBACNmc,KAAwBtc,EACrB,mCACA,kCAGL0c,EAAa1c,QAKpB,OAMTkc,EAAOtU,OACN,kBAAC,IAAMiG,SAAP,KACE,kBAAC,GAAD,CACEoD,OAAQ,SACRD,OAAQkL,EACLhJ,QAAO,SAAClT,GACP,OACEA,EAAE8R,UAAUqB,UAAUmJ,IACE,KAAvBA,KAGJ5O,KAAI,SAAC1N,GAAD,OACHtE,OAAOC,OAAO,GAAIqE,EAAG,CAAExB,GAAG,SAAD,OAAWwB,EAAExB,YAK9C,GAEF,yBAAK2B,UAAU,wBACd7D,EAAQsL,OACP,kBAAC,IAAMiG,SAAP,KACE,yBAAK1N,UAAU,0BAAf,YACY7D,EAAQsL,OADpB,KAGA,kBAAC,GAAD,CAAatL,QAASA,KAGxB,cC7HPugB,OAlHf,SAAcnd,GACZ,OACE,qCACEQ,KAAM,cACN1B,GAAG,aACHoB,QAAQ,mBACRX,OAAQ,QACJS,GAEJ,wBAAMlB,GAAG,eACP,4BAAUse,cAAc,iBAAiBte,GAAG,qBAC1C,wBACEA,GAAG,gBACHqB,MAAO,OACPZ,OAAQ,QACRe,EAAG,QACHD,EAAG,QACHmJ,GAAI,OACJhJ,KAAK,UACL8I,YAAa,IACb8F,YAAa,MACbiO,cAAc,SACd9T,WAAW,yBAGf,4BAAUzK,GAAG,oBAAoBse,cAAc,kBAC7C,wBACE5T,GAAI,MACJnJ,EAAG,QACHC,EAAG,QACHf,OAAQ,QACRY,MAAO,OACPrB,GAAG,gBACH0B,KAAK,UACL8I,YAAa,IACb8F,YAAa,MACbiO,cAAc,SACd9T,WAAW,0BAIjB,qBAAGzK,GAAG,eAAesB,UAAU,8BAC7B,qBACEtB,GAAG,aACHsB,UAAU,0CACVkd,SAAS,2BAET,wBAAMxe,GAAG,gBAAgB4B,EAAE,sBAC3B,qBAAG5B,GAAG,cACJ,wBACEA,GAAG,gBACH4B,EAAE,ghCACFD,UAAU,cAEZ,wBACE3B,GAAG,gBACH4B,EAAE,4vCACFD,UAAU,cAEZ,wBACE3B,GAAG,gBACH4B,EAAE,k3BACFD,UAAU,cAEZ,wBACE3B,GAAG,gBACH4B,EAAE,kzBACFD,UAAU,cAEZ,wBACE3B,GAAG,gBACH4B,EAAE,oVACFD,UAAU,cAEZ,wBACE3B,GAAG,gBACH4B,EAAE,8UACFD,UAAU,cAEZ,wBACE3B,GAAG,gBACH4B,EAAE,sSACFD,UAAU,cAEZ,wBACE3B,GAAG,gBACH4B,EAAE,8UACFD,UAAU,cAEZ,wBACE3B,GAAG,gBACH4B,EAAE,iJACFD,UAAU,cAEZ,wBACE3B,GAAG,gBACH4B,EAAE,6OACFD,UAAU,cAEZ,wBACE3B,GAAG,gBACH4B,EAAE,0LACFD,UAAU,iBAKlB,yBAAO3B,GAAG,WAAW/C,KAAK,YACvB,sDCvGHwhB,GAAY,CAChB,CAAEne,KAAM,WAAYoe,KAAMC,KAC1B,CAAEre,KAAM,kBAAmBoe,KAAME,KACjC,CAAEte,KAAM,qBAAsBoe,KAAMG,KACpC,CAAEve,KAAM,gBAAiBoe,KAAMI,MAC/B,CAAExe,KAAM,aAAcoe,KAAMK,MAC5B,CAAEze,KAAM,gBAAiBoe,KAAMM,OAwElBC,GArEM,SAAC,GAKf,IAJLC,EAII,EAJJA,QACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,aAEI,IADJC,cACI,SACJ,OACE,yBAAK1d,UAAU,mEACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,wFACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,OAEF,yBAAKA,UAAU,+BAAf,gBAGJ,yBAAKA,UAAU,YACb,kBAAC,IAAD,CACEA,UAAU,iBACV0O,SAAS,OACTpE,QAAS,WACPrL,EAAMwK,SAAS,CACbnO,KAAM,4BACN0D,UAAWye,SAMpBX,GAAUvP,KAAI,SAAC1N,EAAG2H,GAAJ,OACb,yBACEgG,IAAG,yBAAoBhG,GACvBxH,UAAU,2BACVO,MAAO,CACLod,WACEJ,IAAY/V,EACR,4BACA,0BAGR,yBAAKxH,UAAU,UACb,yBACEsK,QAAS,WACPkT,EAAWhW,GACPkW,GACFze,EAAMwK,SAAS,CACbnO,KAAM,4BACN0D,UAAWye,KAIjBjQ,IAAG,oBAAehG,GAClBxH,UAAS,qEACPud,IAAY/V,EAAI,qBAAuB,KAGzC,kBAAC3H,EAAEkd,KAAH,CAAQ/c,UAAU,gBAAgB0O,SAAS,SAC3C,yBAAK1O,UAAU,YAAYH,EAAElB,eC1DvCif,GAAc,CAClB,CAAEb,KAAMc,KAAalf,KAAM,YAC3B,CAAEoe,KAAMe,KAAanf,KAAM,aAC3B,CAAEoe,KAAMgB,KAAcpf,KAAM,YAC5B,CAAEoe,KAAMiB,KAAWrf,KAAM,YAuhBZqK,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACLlM,SAAU3B,EAAM2B,UACbkM,KAIQD,EAphBE,SAAC,GAAkB,IAAhBjM,EAAe,EAAfA,SAAe,EACHkK,mBAAS,IADN,mBAC1BgG,EAD0B,KACjBC,EADiB,OAEHjG,oBAAS,GAFN,mBAE1B0B,EAF0B,KAEjBQ,EAFiB,KAI3B8U,EAAc,CAClB,CACEC,OACG,QAAQ5S,KAAKvO,EAASc,eAA2C,KAA1Bd,EAASc,gBAChD,QAAQyN,KAAKvO,EAASgB,cAAyC,KAAzBhB,EAASgB,eAC/C,QAAQuN,KAAKvO,EAASiB,eAA2C,KAA1BjB,EAASiB,gBAChD,QAAQsN,KAAKvO,EAASe,gBAA6C,KAA3Bf,EAASe,eAEpD+L,MAAO,oDAIX,OACE,yBAAK7J,UAAS,+BACZ,yBAAKA,UAAU,UACb,yBAAKA,UAAU,0CACb,yBAAKA,UAAU,6BAAf,YACA,yBAAKA,UAAU,UAAf,2CAEF,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,uBAAf,mDAGA,yBAAKA,UAAU,kBACb,2BACE1E,KAAK,OACLsU,YAAY,gBACZhF,MAAO7N,EAASC,eAChBsS,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CAAEC,eAAgBuS,EAAEG,OAAO9E,UAGzC5K,UAAU,6BAIhB,yBAAKA,UAAU,eACb,yBAAKA,UAAU,uBAAf,gCAGA,yBAAKA,UAAU,kBACb,2BACE4K,MAAO7N,EAASG,eAChBoS,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CAAEG,eAAgBqS,EAAEG,OAAO9E,UAGzCtP,KAAK,OACLsU,YAAY,gBACZ5P,UAAU,6BAIhB,yBAAKA,UAAU,eACb,yBAAKA,UAAU,uBAAf,mCAGA,yBAAKA,UAAU,kBACb,2BACE1E,KAAK,OACLsU,YAAY,gBACZhF,MAAO7N,EAASI,kBAChBmS,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CAAEI,kBAAmBoS,EAAEG,OAAO9E,UAG5C5K,UAAU,6BAIhB,yBAAKA,UAAU,eACb,yBAAKA,UAAU,uBAAf,uBACA,yBAAKA,UAAU,kBACb,2BACE1E,KAAK,OACLsU,YAAY,gBACZhF,MAAO7N,EAASE,gBAChBqS,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CAAEE,gBAAiBsS,EAAEG,OAAO9E,UAG1C5K,UAAU,6BAIhB,yBAAKA,UAAU,UACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,uBAAf,qCAGA,yBAAKA,UAAU,kBACb,2BACE4K,MAAO7N,EAASK,mBAChBkS,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CAAEK,mBAAoBmS,EAAEG,OAAO9E,UAG7CuT,IAAK,EACL7iB,KAAK,SACL0E,UAAU,+BAMpB,yBAAKA,UAAU,UACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,uBAAf,oCAGA,yBAAKA,UAAU,kBACb,2BACE4K,MAAO7N,EAASM,kBAChBiS,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CAAEM,kBAAmBkS,EAAEG,OAAO9E,UAG5CuT,IAAK,EACL7iB,KAAK,SACL0E,UAAU,+BAMpB,yBAAKA,UAAU,UACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,uBAAf,8CAGA,yBAAKA,UAAU,kBACb,2BACE4K,MAAO7N,EAASO,mBAChBgS,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CAAEO,mBAAoBiS,EAAEG,OAAO9E,UAG7CuT,IAAK,EACL7iB,KAAK,SACL0E,UAAU,+BAMpB,yBAAKA,UAAU,UACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,uBAAf,4CAGA,yBAAKA,UAAU,kBACb,2BACE4K,MAAO7N,EAASQ,sBAChB+R,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CAAEQ,sBAAuBgS,EAAEG,OAAO9E,UAGhDuT,IAAK,EACL7iB,KAAK,SACL0E,UAAU,+BAMpB,yBAAKA,UAAU,UACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,uBAAf,gDAGA,yBAAKA,UAAU,kBACb,2BACE4K,MAAO7N,EAASS,2BAChB8R,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CACRS,2BAA4B+R,EAAEG,OAAO9E,UAI3CuT,IAAK,EACL7iB,KAAK,SACL0E,UAAU,+BAMpB,yBAAKA,UAAU,UACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,uBAAf,qCAGA,yBAAKA,UAAU,kBACb,2BACE4K,MAAO7N,EAASU,gBAChB6R,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CAAEU,gBAAiB8R,EAAEG,OAAO9E,UAG1CuT,IAAK,EACL7iB,KAAK,SACL0E,UAAU,+BAMpB,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,uBAAf,wDAGA,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,6BAAf,QACA,yBAAKA,UAAU,kBACb,2BACE4K,MAAO7N,EAASW,2BAChB4R,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CACRW,2BAA4B6R,EAAEG,OAAO9E,UAI3CuT,IAAK,EACL7iB,KAAK,SACL0E,UAAU,6BAIhB,yBAAKA,UAAU,eACb,yBAAKA,UAAU,6BAAf,SACA,yBAAKA,UAAU,kBACb,2BACE4K,MAAO7N,EAASY,4BAChB2R,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CACRY,4BAA6B4R,EAAEG,OAAO9E,UAI5CuT,IAAK,EACL7iB,KAAK,SACL0E,UAAU,6BAIhB,yBAAKA,UAAU,WACb,yBAAKA,UAAU,6BAAf,WACA,yBAAKA,UAAU,kBACb,2BACE4K,MAAO7N,EAASa,8BAChB0R,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CACRa,8BAA+B2R,EAAEG,OAAO9E,UAI9CuT,IAAK,EACL7iB,KAAK,SACL0E,UAAU,+BAMpB,yBAAKA,UAAU,eACb,yBAAKA,UAAU,uBAAf,4BAGA,yBAAKA,UAAU,uBACb,yBACEsR,IAAKvU,EAASkB,iBAAiBM,cAC/BgC,MAAO,CAAE6S,SAAU,SACnB1T,MAAM,OACN8R,IAAG,yCAAoCzU,EAASkB,iBAAiBM,kBAGrE,yBAAKyB,UAAU,uBAAf,SACA,yBAAKA,UAAU,uBACb,2BACEoe,UAAQ,EACRpe,UAAU,kCACV4K,MAAO7N,EAASkB,iBAAiBrB,SAGrC,yBAAKoD,UAAU,uBACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,uBAAf,YACA,yBAAKA,UAAU,kBACb,2BACEoe,UAAQ,EACRpe,UAAU,4BACV4K,MAAOmM,KAAKC,OACV,IAAI7Y,KAAKpB,EAASkB,iBAAiBC,UACnC,4BAKR,yBAAK8B,UAAU,YACb,yBAAKA,UAAU,uBAAf,gBACA,yBAAKA,UAAU,kBACb,2BACEoe,UAAQ,EACRpe,UAAU,4BACV4K,MAAOmM,KAAKC,OACV,IAAI7Y,KACFpB,EAASkB,iBAAiBC,SACiB,IAAzCnB,EAASa,8BAC8B,KAAvCb,EAASY,4BAC6B,MAAtCZ,EAASW,4BAEb,6BAOV,yBAAKsC,UAAU,kBACb,yBACEA,UAAU,mDACVsK,QAAO,sBAAE,4BAAAjB,EAAA,0DACHtM,EAASC,eADN,uBAELmM,GAAW,GAFN,S5BrISjH,E4ByIZnF,EAASC,e5BxI1B4D,EAAgB,yBAA0B,CAAEsB,W4BoIxB,OAGDZ,EAHC,OAML6H,GAAW,GACN7H,EAAIuI,MAMP5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,qBACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAVV2D,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAU,CAAEkB,iBAAkBqD,KAV7B,uBAuBLrC,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,qBACPC,QACE,4DACFvB,KAAM,aA7BL,kC5BrIQ,IAAC4G,I4BqIT,QAmCRyG,EACC,kBAAC,GAAD,CACE0B,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KAGR,aAKR,yBAAKQ,UAAU,UACb,yBAAKA,UAAU,uBAAf,oBACC4d,GAAYrQ,KAAI,SAAC1N,EAAG2H,GAAJ,OACf,yBACExH,UAAU,sBACVwN,IAAG,gCAA2BhG,IAE9B,yBAAKxH,UAAU,iBACb,yBAAKA,UAAU,wDACb,kBAACH,EAAEkd,KAAH,CAAQrO,SAAS,OAAO1O,UAAU,gBAGtC,yBAAKA,UAAU,OACb,2BACE2P,YAAY,EACZrU,KAAK,OACLsU,YAAW,gBAAW/P,EAAElB,KAAb,SACXiM,MAAO7N,EAAS,GAAD,OAAI8C,EAAElB,KAAN,SACf2Q,SAAU,SAACC,GACTA,EAAEC,UACFvQ,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAS,0BAAO8C,EAAElB,KAAV,QAAuB4Q,EAAEG,OAAO9E,UAG5C5K,UAAU,iCAMpB,yBAAKA,UAAU,eACb,yBACEO,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,GAChDjN,UAAU,iDAETiN,GAEH,yBAAKjN,UAAU,kBACb,yBAAKA,UAAU,6EAAf,UAGA,yBACEA,UAAU,kEACVsK,QAAO,sBAAE,4BAAAjB,EAAA,2DACHgV,EAAUJ,EAAYlL,QAAO,SAAClT,GAAD,OAAQA,EAAEqe,UAC/BzW,OAFL,gBAGLyF,EAAWmR,EAAQ,GAAGxU,OAHjB,8BAKLqD,EAAW,IALN,SAMW9I,GAAuBrH,GANlC,cAOG8M,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAAS,4BACTvB,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,oBACPC,QAAS,qCACTvB,KAAM,aAGV+I,IAAY,SAACtH,GACNA,EAAS8M,OACR9M,EAAS0K,QACXxI,EAAMwK,SAAS,CACbnO,KAAM,kBACNyB,SAAUA,EAAS,SA9BxB,6CAFX,kBCvcHuhB,GAtCe,SAAC,GAA2C,IAAzCb,EAAwC,EAAxCA,aAAcD,EAA0B,EAA1BA,WAAYD,EAAc,EAAdA,QACzD,OACE,yBACEvd,UAAS,4FACNyd,EAA8B,GAAf,cAElBld,MAAO,CACL8F,SAAU,QACVyS,MAAO,EACPvK,IAAK,IAGP,yBAAKvO,UAAU,iCACb,yBACEA,UAAU,uBACVO,MAAO,CACLzB,OAAQ,OACRY,MAAO,OACPoZ,MAAO2E,EAAe,EAAI,QAC1Bc,WAAY,aACZlY,SAAU,WACVmI,OAAQ,GACR2E,WAAY,UAGd,kBAAC,GAAD,CACEuK,QAAQ,EACR1d,UAAU,mCACVud,QAASA,EACTE,aAAcA,EACdD,WAAYA,Q,qBCuDTgB,GAnFA,SAAC,GAST,IARLC,EAQI,EARJA,MACAC,EAOI,EAPJA,QAOI,IANJ1e,iBAMI,MANQ,GAMR,MALJ2e,sBAKI,aAJJC,oBAII,MAJW,GAIX,OAHJ5X,aAGI,EAFJoX,iBAEI,aADJS,gBACI,MADO,aACP,IACwB5X,oBAAS,GADjC,mBACG6X,EADH,KACWC,EADX,KAEEC,EAAS7M,iBAAO,MACtB,OAAOiM,EACL,yBAAKpe,UAAW4e,GACd,yBACEtW,IAAK0W,EACLhf,UACE,sEACAA,GAGF,yBAAKA,UAAU,QAAQ0e,GACvB,kBAAC,IAAD,CACEhQ,SAAS,OACTC,YAAY,QACZ3O,UAAU,gBACVO,MAAO,CACLZ,UAAU,UAAD,OAAYmf,EAAS,SAAW,OAAhC,KACTP,WAAY,sBAMpB,kBAAC,GAAD,CACEve,UAAW4e,EACXtY,OAAO,EACPF,OAAQ,kBAAM2Y,GAAU,IACxBjY,OAAQ,kBAAMiY,GAAU,IACxBvY,QAAS,SAAC2D,GAAD,OACP,yBACEnK,UAAU,WACVO,MAAO,CAAE0e,UAAW,QAASC,UAAW,OAAQxf,MAAOyK,IAEtDsU,EAAMlR,KAAI,SAAC1N,EAAG2H,GAAJ,OACT,yBACEgG,IAAK2R,OACLnf,UAAU,qBACVsK,QAAS,WACPuU,EAASrX,GACJmX,GACHK,EAAOvW,QAAQ2W,UAInB,6BAAMvf,EAAEwf,KAAOxf,EAAEwf,KAAOxf,UAMhC,yBACEyI,IAAK0W,EACLhf,UACE,qFACAA,GAGF,yBAAKA,UAAU,QAAQ0e,GACvB,kBAAC,IAAD,CACEhQ,SAAS,OACTC,YAAY,QACZ3O,UAAU,gBACVO,MAAO,CACLZ,UAAU,UAAD,OAAYmf,EAAS,SAAW,OAAhC,KACTP,WAAY,uB,8BC5ElBhY,GAAQ+Y,aAAe,CAC3BC,QAAS,CACPC,QAAS,CACPC,KAAM,mBAERC,UAAW,CACTD,KAAM,cAaGE,GARE,SAACpgB,GAChB,OACE,kBAAC,KAAD,CAAkBgH,MAAOA,IACvB,kBAAC,KAAgBhH,K,SC2iBRyJ,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBO,QAASN,EAAMM,SACZuN,KAIQD,EA/iBC,SAAC,GAKV,IAJL4W,EAII,EAJJA,qBACAC,EAGI,EAHJA,cACA1kB,EAEI,EAFJA,YACAO,EACI,EADJA,QACI,EACwBuL,mBAAS,IADjC,mBACG5L,EADH,KACWykB,EADX,OAEoB7Y,mBAAS,IAF7B,mBAEG8Y,EAFH,KAESC,EAFT,OAG8B/Y,mBAAS,QAHvC,mBAGGgZ,EAHH,KAGcC,EAHd,OAI8CjZ,mBAAS,GAJvD,mBAIGkZ,EAJH,KAIsBC,EAJtB,OAKoBnZ,mBAAS,GAL7B,mBAKG0S,EALH,KAKSC,EALT,OAMgC3S,mBAAS,IANzC,mBAMGoZ,EANH,KAMeC,EANf,OAOwBrZ,mBAAS,IAPjC,mBAOGzK,EAPH,KAOW+jB,EAPX,OAQgCtZ,mBAAS,CAAEuG,IAAK,GAAI5C,MAAO,KAR3D,mBAQG4V,EARH,KAQeC,EARf,OAS0BxZ,mBAAS,IATnC,mBASG9K,EATH,KASY+Y,EATZ,OAU0CjO,mBAAS,IAVnD,mBAUGyZ,EAVH,KAUoBC,EAVpB,QAW0B1Z,oBAAS,GAXnC,qBAWG2Z,GAXH,MAWYC,GAXZ,MAYJzZ,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,sEACkB9E,KADlB,QACMjD,EADN,QAEWuI,OACPqL,EACE5T,EAAI6Y,UAAU5M,KAAI,SAAC1N,GAAD,OAAOtE,OAAOC,OAAO,GAAIqE,EAAG,CAAE6L,UAAU,QAJhE,4CADc,uBAAC,WAAD,wBASd+B,KACC,CAACmT,KAEJxZ,qBAAU,WACR,IAAI0Z,EAAG,aAAO3kB,GACVA,EAAQsL,SACNjL,IACgB,SAAdyjB,EACFa,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OACf1E,EAAY0E,EAAEiV,QAAQ/Y,aACnByP,cACAwH,SAASxW,EAAOgP,kBAEE,WAAdyU,EACTa,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OACfA,EAAEmC,OAAOwJ,cAAcwH,SAASxW,EAAOgP,kBAElB,UAAdyU,IACTa,EAAMA,EAAI/N,QACR,SAAClT,GAAD,OACEnE,EAAQmE,EAAEoK,WACVvO,EAAQmE,EAAEoK,UAAUwJ,YACjBjI,cACAwH,SAASxW,EAAOgP,oBAKvB6U,IACFS,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OAAO1E,EAAY0E,EAAEiV,QAAQiL,OAASM,MAElC,SAAnBG,EAAWhT,KAAkBgT,EAAW5V,QAC1CkW,EAAMA,EAAI/N,QACR,SAAClT,GAAD,OAAO1E,EAAY0E,EAAEiV,QAAQ0L,EAAWhT,OAASgT,EAAW5V,UAK9DkW,EADqB,YAAnBN,EAAWhT,KAAqBgT,EAAW5V,MACvCkW,EAAI/N,QAAO,SAAClT,GAAD,OAAOA,EAAC,UAAgB2gB,EAAW5V,SAE9CkW,EAAI/N,QAAO,SAAClT,GAAD,OAAQA,EAAC,WAG5B8gB,EAAmBG,MAEpB,CAACtkB,EAAQ6jB,EAAYlkB,EAASqkB,IAGjC,IAAIO,GAAa,CAAc,GAAZpH,EAAO,GAAqB,GAAZA,EAAO,GAAS,GAC/CoH,GAAW,IAAML,EAAgBjZ,SACnCsZ,GAAW,GAAKA,GAAW,IAAMA,GAAW,GAAKL,EAAgBjZ,SAGnE,IAAMuZ,GAAW,uCAAG,4CAAA3X,EAAA,0FAEhBiX,EAAuB,QAATP,EAAiB,GAAKA,GAEvB,SAAX1kB,EAJc,iBAKZqQ,EAAWgV,EAAgB3N,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,aAClCjE,SACXoY,EAAcnU,EAAS,IACvBkU,KARc,0BAUI,WAAXvkB,EAVO,sBAWZqQ,EAAWgV,EAAgB3N,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,aAClCjE,OAZG,kCAaE9C,GAAsB+G,EAAS6B,KAAI,SAAC1N,GAAD,OAAOA,EAAEsQ,QAb9C,SAaV7O,EAbU,QAcNuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,uBACPC,QAAS,oCACTvB,KAAM,aAIZulB,IAAYD,IAjCE,4CAAH,qDAsCXK,GAAU,CAAC,QAAS,SAAU,SAAU,YAAa,YAE3D,OACE,yBAAKjhB,UAAU,kBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,0BACb,yBACEA,UAAS,kCACNwgB,EAAWhT,KAAQ6S,EAA8B,YAAjB,gBAEnC/V,QAAS,WACPmW,EAAc,CAAEjT,IAAK,GAAI5C,MAAO,KAChC0V,EAAc,MANlB,QASQnkB,EAAQ4W,QAAO,SAAClT,GAAD,OAAQA,EAAEqhB,WAASzZ,OAT1C,KAWA,yBAAKzH,UAAU,4BAAf,KACA,yBACEsK,QAAS,kBACPmW,GAAc,SAACtR,GAAD,OACZ5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE3B,IAAK,OAAQ5C,MAAO,sBAGlD5K,UAAS,kCACY,SAAnBwgB,EAAWhT,KAAuC,kBAArBgT,EAAW5V,MACpC,eACA,cATR,sBAaGrP,OAAO8b,OAAOlc,GAAasM,OACxBtL,EAAQ4W,QACN,SAAClT,GAAD,OACE1E,EAAY0E,EAAEiV,SACiB,kBAA/B3Z,EAAY0E,EAAEiV,QAAQiL,OACrBlgB,EAAEqhB,WACLzZ,OACF,GApBN,KAuBA,yBAAKzH,UAAU,4BAAf,KACA,yBACEsK,QAAS,kBACPmW,GAAc,SAACtR,GAAD,OACZ5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE3B,IAAK,UAAW5C,OAAO,QAGrD5K,UAAS,kCACY,YAAnBwgB,EAAWhT,MAA0C,IAArBgT,EAAW5V,MACvC,eACA,cATR,YAYYzO,EAAQ4W,QAAO,SAAClT,GAAD,OAAOA,EAAEqhB,WAASzZ,OAZ7C,MAeF,yBAAKzH,UAAU,0CACb,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,qBACbC,SAAU,SAACsC,GAAD,OAAWrB,EAAU,CAAC,UAAUqB,KAC1C1C,MAAO,CAAC,UACRC,QAASrjB,GAAkB,gBAC3B2E,UAAU,iCAIhB,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,qBACbC,SAAU,SAACsC,GAAD,OACRnB,EAAQ,CAAC,MAAO,gBAAiB,QAAQmB,KAE3C1C,MAAO,CAAC,MAAO,gBAAiB,QAChCC,QAASqB,GAAc,cACvB/f,UAAU,gCAIhB,yBACEsK,QAAS,kBAAM0W,IAAY,IAC3BhhB,UAAU,yEAFZ,WAQJ,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,uBACb,kBAAC,GAAD,CACE4e,aAAa,QACbC,SAAU,SAACsC,GAAD,OACRjB,EAAa,CAAC,OAAQ,SAAU,SAASiB,KAE3CnhB,UAAU,qBACVye,MAAO,CAAC,OAAQ,SAAU,SAC1BC,QAAO,oBAAeuB,MAG1B,yBAAKjgB,UAAU,uBACb,yBAAKA,UAAU,4BACb,kBAAC,KAAD,CACE0O,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACE9Y,UAAU,8BACV4K,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,aAM7B,yBAAK5K,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE6e,SAAU,SAACsC,GAAD,OACRjB,EAAa,CAAC,OAAQ,SAAU,SAASiB,KAE3CnhB,UAAU,sCACVye,MAAO,CAAC,OAAQ,SAAU,SAC1BC,QAAO,oBAAeuB,KAExB,yBAAKjgB,UAAU,yBACb,kBAAC,KAAD,CACE0O,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACElO,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,QAErB5K,UAAU,wBACVO,MAAO,CAAE6gB,SAAU,eAM7B,yBAAKphB,UAAU,kBACb,kBAAC,KAAD,CACEO,MAAO,CAAE6gB,SAAU,QACnBC,aAAc,WACZjB,EACED,EAAoB,EAAI,EACpBA,EAAoB,EACpBA,IAGRmB,cAAe,WACblB,EACED,EAAoB,GAAK,EACrBA,EAAoB,EACpBA,KAIR,yBAAKngB,UAAU,oBACb,2BAAOA,UAAU,yBACf,+BACE,4BACE,wBAAIA,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QACEplB,EACG8W,MAAM8N,GAAW,GAAIA,GAAW,IAChChO,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,YAAUjE,SAC7BsZ,GAAW,GAAKA,GAAW,GAE7BzR,SAAU,SAACC,GACToR,GAAmB,SAACxR,GAElB,IADA,IAAI2R,EAAG,aAAO3R,GAER3H,EAAIuZ,GAAW,GACnBvZ,EAAIuZ,GAAW,GACfvZ,IAEAsZ,EAAItZ,GAAGkE,SAAW6D,EAAEG,OAAO6R,QAE7B,OAAOT,SAKf,wBAAI9gB,UAAU,wCACZ,yBAAKA,UAAU,qBAAf,aACA,yBAAKA,UAAU,qBAAf,OAEF,wBAAIA,UAAU,qDACXihB,GAAQd,IAEVc,GAAQ1T,KAAI,SAAC1N,EAAG2H,GAAJ,OACX,wBACEgG,IAAG,qBAAgBhG,GACnBxH,UAAU,qDAEV,6BAAMH,SAKd,+BACG6gB,EAAgBjZ,OACfiZ,EACGzN,MAAmB,GAAZ0G,EAAO,GAAqB,GAAZA,EAAO,GAAS,GACvCpM,KAAI,SAAC1N,EAAG2H,GAAJ,OACH,wBACExH,UAAU,2BACVwN,IAAG,yBAAoBhG,IAEvB,wBAAIxH,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QAAS1hB,EAAE6L,SACX4D,SAAU,SAACC,GACToR,GAAmB,SAACxR,GAClB,IAAI2R,EAAG,aAAO3R,GAGd,OAFA2R,EAAiB,GAAZnH,EAAO,GAASnS,GAAGkE,SACtB6D,EAAEG,OAAO6R,QACJT,SAKf,4BACG3lB,EAAY0E,EAAEiV,QACb,6BACE,yBAAKvU,MAAO,CAAE+S,WAAY,WACxB,yBAAKtT,UAAU,uBACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY0E,EAAEiV,QAAQ9Y,MADT,SAMrB,yBAAKgE,UAAU,sCACb,yBAAKA,UAAU,mBACZ7E,EAAY0E,EAAEiV,QAAQ/Y,cAEzB,yBAAKiE,UAAU,QACZ7E,EAAY0E,EAAEiV,QAAQ5Y,OAEzB,yBAAK8D,UAAU,UACb,yBACEA,UAAU,8BACVsK,QAAS,WACPuV,EAAchgB,GACd+f,MAJJ,QASA,yBAAK5f,UAAU,QAAf,KACA,yBACEA,UAAU,6BACVsK,QAAO,sBAAE,4BAAAjB,EAAA,sEACS1E,GACd,CAAC9E,EAAEsQ,MAFE,QACH7O,EADG,QAICuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,qBACPC,QACE,kCACFvB,KAAM,aAIZulB,IAAYD,IAxBL,4CAFX,cAoCR,IAGJ,wBACE5gB,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,yBAAK5f,MAAO,CAAE6S,SAAU,UACrB1X,EAAQmE,EAAEoK,UACPvO,EAAQmE,EAAEoK,UAAUwJ,YACpB,KAGR,wBACEzT,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,6BACE,yBACE5f,MAAO,CAAE6gB,SAAU,SACnBphB,UAAU,wDACVsK,QAAS,SAACiF,GACRkC,EAAQrB,KAAR,iBAAuBvQ,EAAEoK,SAAzB,YAAqCpK,EAAEsQ,QAGxCtQ,EAAEmC,UAIT,wBACEhC,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGQ,YAAbtgB,EAAElE,OACD,yBAAK4E,MAAO,CAAEoL,UAAW,SACvB,kBAAC,EAAD,CAAQnM,KAAM,MAGhB,yBAAKe,MAAO,CAAEqL,aAAc,SAC1B,kBAAC,IAAD,CACEnL,MACe,mBAAbZ,EAAElE,OACE,OACa,cAAbkE,EAAElE,OACF,QACa,YAAbkE,EAAElE,OACF,sBACA,OAEN+E,IAAI,WACJlB,KAAM,OAKd,wBACEQ,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,yBAAK5f,MAAO,CAAE+S,WAAY,WACvByD,KAAKC,OACJ,IAAI7Y,KAAK0B,EAAEkX,MACX,0BAIN,wBACE/W,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGLtgB,EAAE2hB,SACD,yBAAKxhB,UAAU,eAAf,UAEA,yBAAKA,UAAU,gBAAf,WAMV,4BACE,wBAAIyhB,QAAS,EAAGzhB,UAAU,qBAA1B,yBAUd,yBAAKA,UAAU,gEACb,yBAAKA,UAAU,YACb,kBAAC,GAAD,CACE4T,MAAO1I,KAAKwM,KAAKgJ,EAAgBjZ,OAAS,GAC1CgB,QAASkR,EACT9F,WAAY+F,WC6EX5Q,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBO,QAASN,EAAMM,SACZuN,KAIQD,EA7mBE,SAAC,GAKX,IAJL0Y,EAII,EAJJA,sBACAC,EAGI,EAHJA,eACAxmB,EAEI,EAFJA,YACAO,EACI,EADJA,QACI,EACwBuL,mBAAS,IADjC,mBACG5L,EADH,KACWykB,EADX,OAEoB7Y,mBAAS,IAF7B,mBAEG8Y,EAFH,KAESC,EAFT,OAG8B/Y,mBAAS,QAHvC,mBAGGgZ,EAHH,KAGcC,EAHd,OAI8CjZ,mBAAS,GAJvD,mBAIGkZ,EAJH,KAIsBC,EAJtB,OAKoBnZ,mBAAS,GAL7B,mBAKG0S,EALH,KAKSC,EALT,OAMgC3S,mBAAS,IANzC,mBAMGoZ,EANH,KAMeC,EANf,OAOgCrZ,mBAAS,CAAEuG,IAAK,GAAI5C,MAAO,KAP3D,mBAOG4V,EAPH,KAOeC,EAPf,OAQwBxZ,mBAAS,IARjC,mBAQGzK,EARH,KAQW+jB,EARX,OAU4BtZ,mBAAS,IAVrC,mBAUGgO,EAVH,KAUaZ,EAVb,OAWkCpN,mBAAS,IAX3C,mBAWGsP,EAXH,KAWgBqL,EAXhB,OAa4C3a,mBAAS,IAbrD,mBAaG4a,GAbH,KAaqBC,GAbrB,QAc0B7a,oBAAS,GAdnC,qBAcG2Z,GAdH,MAcYC,GAdZ,MAgBJzZ,qBAAU,WAAM,4CACd,8BAAAiC,EAAA,sEACkB7E,KADlB,QACMlD,EADN,QAEWuI,QACPwK,EACE/S,EAAI6Y,UAAU5M,KAAI,SAAC1N,GAAD,OAAOtE,OAAOC,OAAO,GAAIqE,EAAG,CAAE6L,UAAU,QAExDqW,EAAM,GACVzgB,EAAIqI,SAAQ,SAAC9J,GACXkiB,EAAIliB,EAAEsQ,KAAOtQ,KAEf+hB,EAAeG,IAVnB,4CADc,uBAAC,WAAD,wBAcdtU,KACC,CAACmT,KAEJxZ,qBAAU,WACR,IAAI0Z,EAAG,aAAO7L,GACVA,EAASxN,SACPjL,IACgB,SAAdyjB,EACFa,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OACf1E,EAAY0E,EAAEiV,QAAQ/Y,aACnByP,cACAwH,SAASxW,EAAOgP,kBAEE,YAAdyU,IACTa,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OACfA,EAAE6C,QAAQ8I,cAAcwH,SAASxW,EAAOgP,oBAK1C6U,IACFS,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OAAO1E,EAAY0E,EAAEiV,QAAQiL,OAASM,MAGlC,SAAnBG,EAAWhT,KAAkBgT,EAAW5V,QAC1CkW,EAAMA,EAAI/N,QACR,SAAClT,GAAD,OAAO1E,EAAY0E,EAAEiV,QAAQ0L,EAAWhT,OAASgT,EAAW5V,UAK9DkW,EADqB,YAAnBN,EAAWhT,KAAqBgT,EAAW5V,MACvCkW,EAAI/N,QAAO,SAAClT,GAAD,OAAOA,EAAC,UAAgB2gB,EAAW5V,SAE9CkW,EAAI/N,QAAO,SAAClT,GAAD,OAAQA,EAAC,WAG5BiiB,GAAoBhB,MAErB,CAACtkB,EAAQ6jB,EAAYpL,EAAUuL,IAGlC,IAAIO,GAAa,CAAc,GAAZpH,EAAO,GAAqB,GAAZA,EAAO,GAAS,GAC/CoH,GAAW,IAAMc,GAAiBpa,SACpCsZ,GAAW,GAAKA,GAAW,IAAMA,GAAW,GAAKc,GAAiBpa,SAGpE,IAAMuZ,GAAW,uCAAG,8CAAA3X,EAAA,0FAEhBiX,EAAuB,QAATP,EAAiB,GAAKA,KAElCrU,EAAWmW,GAAiB9O,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,aACnCjE,OALK,oBAMD,SAAXpM,EANY,gBAOdsmB,EAAejW,EAAS,IACxBgW,IARc,8BAUV9c,EAAM8G,EAAS6B,KAAI,SAAC1N,GAAD,OAAOA,EAAEsQ,OAC5B6R,EAXU,aAWGpd,GAEA,SAAXqd,EAAYC,GAChBF,EAASA,EAAOjW,OAAOmW,GACvBA,EAAOvY,SAAQ,SAAC9J,GAAD,OAAOoiB,EAAS1L,EAAY1W,GAAGoV,aAGhDgN,CAASrd,GAlBK,UAoBEC,GAAuBmd,GApBzB,SAoBV1gB,EApBU,QAqBNuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,wBACPC,QAAS,qCACTvB,KAAM,aAGVulB,IAAYD,KAvCA,4CAAH,qDA6CjB,OACE,yBAAK5gB,UAAU,kBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,0BACb,yBACEA,UAAS,kCACNwgB,EAAWhT,KAAQ6S,EAA8B,YAAjB,gBAEnC/V,QAAS,WACPmW,EAAc,CAAEjT,IAAK,GAAI5C,MAAO,KAChC0V,EAAc,MANlB,QASQrL,EAASlC,QAAO,SAAClT,GAAD,OAAQA,EAAEqhB,WAASzZ,OAT3C,KAWA,yBAAKzH,UAAU,4BAAf,KACA,yBACEsK,QAAS,kBACPmW,GAAc,SAACtR,GAAD,OACZ5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE3B,IAAK,OAAQ5C,MAAO,sBAGlD5K,UAAS,kCACY,SAAnBwgB,EAAWhT,KAAuC,kBAArBgT,EAAW5V,MACpC,eACA,cATR,sBAaGrP,OAAO8b,OAAOlc,GAAasM,OACxBwN,EAASlC,QACP,SAAClT,GAAD,MACiC,kBAA/B1E,EAAY0E,EAAEiV,QAAQiL,OAA6BlgB,EAAEqhB,WACvDzZ,OACF,GAlBN,KAqBA,yBAAKzH,UAAU,4BAAf,KACA,yBACEsK,QAAS,kBACPmW,GAAc,SAACtR,GAAD,OACZ5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE3B,IAAK,UAAW5C,OAAO,QAGrD5K,UAAS,kCACY,YAAnBwgB,EAAWhT,MAA0C,IAArBgT,EAAW5V,MACvC,eACA,cATR,YAYYqK,EAASlC,QAAO,SAAClT,GAAD,OAAOA,EAAEqhB,WAASzZ,OAZ9C,MAeF,yBAAKzH,UAAU,0CACb,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,qBACbC,SAAU,SAACsC,GAAD,OAAWrB,EAAU,CAAC,UAAUqB,KAC1C1C,MAAO,CAAC,UACRC,QAASrjB,GAAkB,gBAC3B2E,UAAU,gCAIhB,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,qBACbC,SAAU,SAACsC,GAAD,OACRnB,EAAQ,CAAC,MAAO,gBAAiB,QAAQmB,KAE3C1C,MAAO,CAAC,MAAO,gBAAiB,QAChCC,QAASqB,GAAc,cACvB/f,UAAU,gCAIhB,yBACEsK,QAAS,kBAAM0W,IAAY,IAC3BhhB,UAAU,yEAFZ,WAQJ,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,uBACb,kBAAC,GAAD,CACE4e,aAAa,QACbC,SAAU,SAACsC,GAAD,OAAWjB,EAAa,CAAC,OAAQ,WAAWiB,KACtDnhB,UAAU,qBACVye,MAAO,CAAC,OAAQ,WAChBC,QAAO,oBAAeuB,MAG1B,yBAAKjgB,UAAU,uBACb,yBAAKA,UAAU,4BACb,kBAAC,KAAD,CACE0O,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACE9Y,UAAU,8BACV4K,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,aAM7B,yBAAK5K,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE6e,SAAU,SAACsC,GAAD,OAAWjB,EAAa,CAAC,OAAQ,WAAWiB,KACtDnhB,UAAU,sCACVye,MAAO,CAAC,OAAQ,WAChBC,QAAO,oBAAeuB,KAExB,yBAAKjgB,UAAU,yBACb,kBAAC,KAAD,CACE0O,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACElO,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,QAErB5K,UAAU,wBACVO,MAAO,CAAE6gB,SAAU,eAM7B,yBAAKphB,UAAU,kBACb,kBAAC,KAAD,CACEO,MAAO,CAAE6gB,SAAU,QACnBC,aAAc,WACZjB,EACED,EAAoB,EAAI,EACpBA,EAAoB,EACpBA,IAGRmB,cAAe,WACblB,EACED,EAAoB,GAAK,EACrBA,EAAoB,EACpBA,KAIR,yBAAKngB,UAAU,oBACb,2BAAOA,UAAU,yBACf,+BACE,4BACE,wBAAIA,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QACEM,GACG5O,MAAM8N,GAAW,GAAIA,GAAW,IAChChO,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,YAAUjE,SAC7BsZ,GAAW,GAAKA,GAAW,GAE7BzR,SAAU,SAACC,GACTuS,IAAoB,SAAC3S,GAEnB,IADA,IAAI2R,EAAG,aAAO3R,GAER3H,EAAIuZ,GAAW,GACnBvZ,EAAIuZ,GAAW,GACfvZ,IAEAsZ,EAAItZ,GAAGkE,SAAW6D,EAAEG,OAAO6R,QAE7B,OAAOT,SAKf,wBAAI9gB,UAAU,wCACZ,yBAAKA,UAAU,qBAAf,aACA,yBAAKA,UAAU,qBAAf,OAEF,wBAAIA,UAAU,qDAEV,CAAC,UAAW,iBAAkB,YAAa,YACzCmgB,IAIN,wBAAIngB,UAAU,qDACZ,yCAEF,wBAAIA,UAAU,qDACZ,gDAEF,wBAAIA,UAAU,qDACZ,2CAEF,wBAAIA,UAAU,qDACZ,4CAIN,+BACG6hB,GAAiBpa,OAChBoa,GACG5O,MAAmB,GAAZ0G,EAAO,GAAqB,GAAZA,EAAO,GAAS,GACvCpM,KAAI,SAAC1N,EAAG2H,GAAJ,OACH,wBACExH,UAAU,2BACVwN,IAAG,yBAAoBhG,IAEvB,wBAAIxH,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QAAS1hB,EAAE6L,SACX4D,SAAU,SAACC,GACTuS,IAAoB,SAAC3S,GACnB,IAAI2R,EAAG,aAAO3R,GAGd,OAFA2R,EAAiB,GAAZnH,EAAO,GAASnS,GAAGkE,SACtB6D,EAAEG,OAAO6R,QACJT,SAKf,4BACE,6BACG3lB,EAAY0E,EAAEiV,QACb,yBAAKvU,MAAO,CAAE+S,WAAY,WACxB,yBAAKtT,UAAU,uBACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY0E,EAAEiV,QAAQ9Y,MADT,SAMrB,yBAAKgE,UAAU,sCACb,yBAAKA,UAAU,gBACZ7E,EAAY0E,EAAEiV,QAAQ/Y,cAEzB,yBAAKiE,UAAU,QACZ7E,EAAY0E,EAAEiV,QAAQ5Y,OAEzB,yBAAK8D,UAAU,UACb,yBACEA,UAAU,8BACVsK,QAAS,WACPqX,EAAe9hB,GACf6hB,MAJJ,QASA,yBAAK1hB,UAAU,QAAf,KACA,yBACEA,UAAU,6BACVsK,QAAO,sBAAE,8BAAAjB,EAAA,6DACH2Y,EAAS,CAACniB,EAAEsQ,KAEC,SAAX8R,EAAYC,GAChBF,EAASA,EAAOjW,OAAOmW,GACvBA,EAAOvY,SAAQ,SAACtL,GAAD,OACb4jB,EAAS1L,EAAYlY,GAAI4W,aAI7BgN,CAASD,GAVF,SAYSnd,GACdmd,GAbK,QAYH1gB,EAZG,QAeCuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,sBACPC,QACE,mCACFvB,KAAM,aAIZulB,IAAYD,IAnCL,4CAFX,aA8CN,KAIN,wBACE5gB,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,6BACE,yBACE5f,MAAO,CAAE6gB,SAAU,SACnBphB,UAAU,wDACVsK,QAAS,SAACiF,GACRkC,EAAQrB,KAAR,iBACYvQ,EAAEoK,SADd,YAC0BpK,EAAE+U,UAD5B,YACyC/U,EAAEsQ,QAI5CtQ,EAAE6C,WAIT,wBACE1C,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,sCACS,IACNzkB,EAAQmE,EAAEoK,UACPvO,EAAQmE,EAAEoK,UAAUwJ,YACpB,IAEN,yBAAKzT,UAAU,UACb,yBACEsK,QAAO,sBAAE,sBAAAjB,EAAA,sDACPoI,EAAQrB,KAAR,iBACYvQ,EAAEoK,SADd,YAC0BpK,EAAE+U,YAFrB,2CAKT5U,UAAU,8BACVO,MAAO,CAAE+S,WAAY,WAPvB,iBAaJ,wBACEtT,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,yBAAK5f,MAAO,CAAE+S,WAAY,WACvByD,KAAKC,OACJ,IAAI7Y,KAAK0B,EAAEkX,MACX,0BAIN,wBACE/W,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGLtgB,EAAE2hB,SACD,yBAAKxhB,UAAU,eAAf,UAEA,yBAAKA,UAAU,gBAAf,WAMV,4BACE,wBAAIyhB,QAAS,EAAGzhB,UAAU,oBAA1B,yBAiEd,yBAAKA,UAAU,gEACb,yBAAKA,UAAU,YACb,kBAAC,GAAD,CACE4T,MAAO1I,KAAKwM,KAAKmK,GAAiBpa,OAAS,GAC3CgB,QAASkR,EACT9F,WAAY+F,WCtiBXuI,GA9DY,SAAC,GAMrB,IALLtC,EAKI,EALJA,cACAD,EAII,EAJJA,qBACA8B,EAGI,EAHJA,sBACAC,EAEI,EAFJA,eAEI,KADJS,iBAEsBnb,mBAAS,IAD3B,mBACGob,EADH,KACQC,EADR,KAGJ,OACE,yBAAKtiB,UAAS,+BACZ,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,0CACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,qCAAf,sBAGA,yBAAKA,UAAU,kBAAf,6CAIF,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,iCACb,yBACEO,MAAO,CAAEb,MAAO,SAChB4K,QAAS,kBAAMgY,EAAO,IACtBtiB,UAAS,oCACC,IAARqiB,EAAY,sBAAwB,KAJxC,WASA,yBACE9hB,MAAO,CAAEb,MAAO,SAChB4K,QAAS,kBAAMgY,EAAO,IACtBtiB,UAAS,qCACC,IAARqiB,EAAY,sBAAwB,KAJxC,gBAaR,yBAAKriB,UAAU,UACJ,IAARqiB,EACC,kBAAC,GAAD,CACEzC,qBAAsBA,EACtBC,cAAeA,IAGjB,kBAAC,GAAD,CACE8B,eAAgBA,EAChBD,sBAAuBA,OC+JpB1Y,oBATf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBonB,MAAOnnB,EAAMQ,KACbF,QAASN,EAAMM,SACZuN,KAIQD,EAjNI,SAAC,GAMb,IALLwZ,EAKI,EALJA,cACArnB,EAII,EAJJA,YACAsnB,EAGI,EAHJA,QACA/mB,EAEI,EAFJA,QACA6mB,EACI,EADJA,MACI,EACwBtb,mBAAS,IADjC,mBACGjF,EADH,KACWgU,EADX,OAEoB/O,mBAAS,CAAElL,aAAc,GAAIG,MAAO,KAFxD,mBAEGN,EAFH,KAES8mB,EAFT,OAG0Bzb,oBAAS,GAHnC,mBAGG0B,EAHH,KAGYQ,EAHZ,KAeJ,OAXA/B,qBAAU,WACJob,IACFxM,EAAUwM,GACVE,EAAQvnB,EAAYqnB,EAAc1N,YAEnC,CAAC0N,IAEJpb,qBAAU,WACRjI,OAAOmc,SAAS,EAAG,KAClB,IAGD,yBAAKtb,UAAU,4BAA4BO,MAAO,CAAE6S,SAAU,UAC5D,yBAAKpT,UAAU,kCACb,yBAAKA,UAAU,qCAAf,sBAGA,yBAAKA,UAAU,kBAAf,8CAIF,yBAAKA,UAAU,UACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,gBACA,yBAAKA,UAAU,UACb,2BACE1E,KAAK,OACL0E,UAAU,yBACV4K,MAAOhP,EAAKG,aACZuT,SAAU,SAACC,GACTA,EAAEC,UACFkT,GAAQ,SAACvT,GAAD,OACN5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEpT,aAAcwT,EAAEG,OAAO9E,gBAM3D,yBAAK5K,UAAU,uBACb,yBAAKA,UAAU,eAAf,WACA,yBAAKA,UAAU,UACb,8BACE4K,MAAO5I,EAAOA,OAASA,EAAOA,OAAS,GACvCsN,SAAU,SAACC,GACTA,EAAEC,UACFwG,GAAU,SAAC7G,GAAD,OACR5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEnN,OAAQuN,EAAEG,OAAO9E,YAG/C5K,UAAU,uBACVO,MAAO,CAAEzB,OAAQ,cAKzB,yBAAKkB,UAAU,eACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,WAAf,WAEF,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,mBACb5e,UAAU,mBACV0e,QACE1c,EAAOrG,OACH0E,EAAQyR,MAAK,SAACjS,GAAD,OAAOA,EAAElB,OAASqD,EAAOrG,UAAQ2E,QAC9C,SAENue,SAAU,SAACsC,GACTnL,GAAU,SAAC7G,GAAD,OACR5T,OAAOC,OAAO,GAAI2T,EAAM,CAAExT,OAAQ0E,EAAQ8gB,GAAOxiB,WAGrD8f,MAAOpe,EAAQkN,KAAI,SAAC1N,GAAD,OAAOA,EAAES,eAIlC,yBAAKN,UAAU,eACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,WAAf,kBAEF,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,mBACb5e,UAAU,mBACV0e,QAAS1c,EAAOwf,SAAW,WAAa,eACxC3C,SAAU,SAACsC,GACTnL,GAAU,SAAC7G,GAAD,OACR5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBqS,SAAoB,IAAVL,QAIhB1C,MAAO,CAAC,WAAY,oBAI1B,yBAAKze,UAAU,eACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,WAAf,UAEF,yBAAKA,UAAU,kBACb,2BACE4K,MAAOlP,EAAQ8mB,EAAcvY,UAAUwJ,YACvC2K,UAAQ,EACRpe,UAAU,iDAIhB,yBAAKA,UAAU,eACb,yBAAKA,UAAU,kBACb,yBACEA,UAAU,4EACVsK,QAAS,kBAAMmY,MAFjB,UAMA,yBACEziB,UAAU,kEACVsK,QAAO,sBAAE,8BAAAjB,EAAA,sEAELF,GAAW,GAFN,SAGW1E,GAAmBzC,EAAQpG,GAHtC,OAGD0F,EAHC,OAIL6H,GAAW,GACP7H,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,kCACTvB,KAAM,aAGV2D,EAAMwK,SAAS,CACbnO,KAAM,iBACNK,OAAO,gBACJqG,EAAOiI,SAAW3I,EAAI3F,UAGvB4mB,EAAMpS,MAAQnO,EAAO8S,UACnB6N,EAD2B,eACPJ,EAAM7mB,UACjBsG,EAAOiI,UAAY,CAC9BA,SAAUjI,EAAOiI,SACjBsG,UAAWvO,EAAOrG,QAGpBsD,EAAMwK,SAAS,CACbnO,KAAM,cACNiB,aAAc,CACZb,QAASinB,MAKfF,KA5CG,0GAiDT,kBAAC,GAAD,CACEpY,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KA/DV,cCiBKwJ,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,aAChB8N,KAIQD,EAjJK,SAAC,GAA8C,IAA5C4Z,EAA2C,EAA3CA,eAAgBznB,EAA2B,EAA3BA,YAAasnB,EAAc,EAAdA,QAAc,EAClCxb,mBAAS,IADyB,mBACzDvE,EADyD,KAChDgX,EADgD,OAExCzS,mBAAS,CAAElL,aAAc,GAAIG,MAAO,KAFI,mBAEzDN,EAFyD,KAEnD8mB,EAFmD,OAGlCzb,oBAAS,GAHyB,mBAGzD0B,EAHyD,KAGhDQ,EAHgD,KAgBhE,OAXA/B,qBAAU,WACJwb,IACFlJ,EAAWkJ,GACXF,EAAQvnB,EAAYynB,EAAe9N,YAEpC,CAAC8N,IAEJxb,qBAAU,WACRjI,OAAOmc,SAAS,EAAG,KAClB,IAGD,yBAAKtb,UAAU,4BAA4BO,MAAO,CAAE6S,SAAU,UAC5D,yBAAKpT,UAAU,kCACb,yBAAKA,UAAU,qCAAf,sBAGA,yBAAKA,UAAU,kBAAf,8CAIF,yBAAKA,UAAU,UACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,gBACA,yBAAKA,UAAU,UACb,2BACE1E,KAAK,OACL0E,UAAU,yBACV4K,MAAOhP,EAAKG,aACZuT,SAAU,SAACC,GACTA,EAAEC,UACFkT,GAAQ,SAACvT,GAAD,OACN5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEpT,aAAcwT,EAAEG,OAAO9E,gBAM3D,yBAAK5K,UAAU,uBACb,yBAAKA,UAAU,eAAf,WACA,yBAAKA,UAAU,UACb,8BACE4K,MAAOlI,EAAQA,QACf4M,SAAU,SAACC,GACTA,EAAEC,UACFkK,GAAW,SAACvK,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEzM,QAAS6M,EAAEG,OAAO9E,YAGhD5K,UAAU,uBACVO,MAAO,CAAEzB,OAAQ,cAKzB,yBAAKkB,UAAU,eACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,WAAf,kBAEF,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,mBACb5e,UAAU,mBACV0e,QAAShc,EAAQ8e,SAAW,WAAa,eACzC3C,SAAU,SAACsC,GACTzH,GAAW,SAACvK,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBqS,SAAoB,IAAVL,QAIhB1C,MAAO,CAAC,WAAY,oBAI1B,yBAAKze,UAAU,eACb,yBAAKA,UAAU,kBACb,yBACEA,UAAU,4EACVsK,QAAS,kBAAMmY,MAFjB,UAMA,yBACEziB,UAAU,kEACVsK,QAAO,sBAAE,4BAAAjB,EAAA,6DACPF,GAAW,GADJ,SAESzE,GAAoBhC,EAAS9G,GAFtC,OAEH0F,EAFG,OAGP6H,GAAW,GACP7H,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,kCACTvB,KAAM,aAGVmnB,KAtBK,4CA0BT,kBAAC,GAAD,CACEpY,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KAxCV,cC0gBKwJ,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,aAChB8N,KAIQD,EA3lBO,SAAC,GAKhB,IAJL6Z,EAII,EAJJA,oBACAC,EAGI,EAHJA,2BACAC,EAEI,EAFJA,4BACA5nB,EACI,EADJA,YACI,EACwB8L,mBAAS,IADjC,mBACG5L,EADH,KACWykB,EADX,OAEoB7Y,mBAAS,IAF7B,mBAEG3L,EAFH,KAES0nB,EAFT,OAG8B/b,mBAAS,QAHvC,mBAGGgZ,EAHH,KAGcC,EAHd,OAI8CjZ,mBAAS,GAJvD,mBAIGkZ,EAJH,KAIsBC,EAJtB,OAKoBnZ,mBAAS,GAL7B,mBAKG0S,EALH,KAKSC,EALT,OAMgC3S,mBAAS,IANzC,mBAMGgc,EANH,KAMeC,EANf,OAOwBjc,mBAAS,IAPjC,mBAOGzK,EAPH,KAOW+jB,EAPX,OASgCtZ,mBAAS,CAAEuG,IAAK,GAAI5C,MAAO,KAT3D,mBASG4V,EATH,KASeC,EATf,OAW0BxZ,oBAAS,GAXnC,mBAWG2Z,EAXH,KAWYC,EAXZ,OAYsC5Z,mBAAS,IAZ/C,mBAYGkc,EAZH,KAYkBC,EAZlB,OAasDnc,mBAAS,IAb/D,mBAaGoc,EAbH,KAa0BC,GAb1B,KAcJlc,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,sEACkBrE,KADlB,QACM1D,EADN,QAEWuI,OACPuZ,EACE9hB,EAAIiM,KAAI,SAAC1N,GAAD,OAAOtE,OAAOC,OAAO,GAAIqE,EAAG,CAAE6L,UAAU,QAJtD,4CADc,uBAAC,WAAD,wBASd+B,KACC,CAACmT,IAEJxZ,qBAAU,WACR,IAAI0Z,EAAG,aAAOqC,GACVA,EAAc1b,SACZjL,IACgB,SAAdyjB,EACFa,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OACf1E,EAAY0E,EAAEiV,QAAQ/Y,aACnByP,cACAwH,SAASxW,EAAOgP,kBAEE,gBAAdyU,IACTa,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OACfA,EAAE0jB,YAAY/X,cAAcwH,SAASxW,EAAOgP,oBAK9CyX,IACFnC,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OAAOA,EAAEvE,OAAS2nB,MAGjCzC,EAAWhT,MACbsT,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OAAOA,EAAE2gB,EAAWhT,OAASgT,EAAW5V,UAG3D0Y,GAAyBxC,MAE1B,CAACtkB,EAAQymB,EAAYE,EAAe3C,IAGvC,IAAIO,GAAa,CAAc,GAAZpH,EAAO,GAAqB,GAAZA,EAAO,GAAS,GAC/CoH,GAAW,IAAMsC,EAAsB5b,SACzCsZ,GAAW,GACTA,GAAW,IAAMA,GAAW,GAAKsC,EAAsB5b,SAG3D,IACM+b,GAAU,CAAC,UAEXxC,GAAW,uCAAG,4CAAA3X,EAAA,0FAEhB6Z,EAAc5nB,GAED,SAAXD,EAJc,iBAKZqQ,EAAW2X,EAAsBtQ,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,aACxCjE,SACXob,EAAoBnX,EAAS,IAC7BoX,KARc,0BAUI,WAAXznB,EAVO,sBAWZqQ,EAAW2X,EAAsBtQ,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,aACxCjE,OAZG,kCAaEtC,GAA4BuG,EAAS6B,KAAI,SAAC1N,GAAD,OAAOA,EAAEsQ,QAbpD,SAaV7O,EAbU,QAcNuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,6BACPC,QAAS,0CACTvB,KAAM,aAIZulB,GAAYD,GAjCE,4CAAH,qDAsCX6C,GAAQ,CAAC,cAAe,QAAS,WAEvC,OACE,yBAAKzjB,UAAU,+BACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,+DACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCAAf,iBAGA,yBAAKA,UAAU,kBAAf,kCAEF,yBACEA,UAAU,qDACVsK,QAAS,kBAAMyY,MAFjB,aAQJ,yBAAK/iB,UAAU,UACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,0BACb,yBACEsK,QAAS,WACPmW,EAAc,CAAEjT,IAAK,GAAI5C,MAAO,KAChCoY,EAAQ,IACRE,EAAc,KAEhBljB,UAAS,kCACNijB,GAAezC,EAAWhT,IAAuB,YAAjB,iBAPrC,QAUQ2V,EAAc1b,OAVtB,KAjEK,CAAC,YAAa,UAAW,WA6EpB8F,KAAI,SAAC1N,EAAG2H,GAAJ,OACZ,kBAAC,IAAMkG,SAAP,CAAgBF,IAAG,iBAAYhG,IAC7B,yBAAKxH,UAAU,4BAAf,KACA,yBACEsK,QAAS,kBACPmW,GAAc,SAACtR,GAAD,OACZ5T,OAAOC,OAAO,GAAI2T,EAAM,CACtB3B,IAAK,SACL5C,MAAO/K,QAIbG,UAAS,kCACY,WAAnBwgB,EAAWhT,KAAoBgT,EAAW5V,QAAU/K,EAChD,eACA,cAGLA,EAfH,KAeQsjB,EAAcpQ,QAAO,SAACnT,GAAD,OAAOA,EAAE8jB,SAAW7jB,KAAG4H,OAfpD,UAoBN,yBAAKzH,UAAU,0CACb,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,qBACbC,SAAU,SAACsC,GAAD,OAAWrB,EAAU0D,GAAQrC,KACvC1C,MAAO+E,GACP9E,QAASrjB,GAAkB,gBAC3B2E,UAAU,iCAIhB,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,qBACbC,SAAU,SAACsC,GAAD,OAAW6B,EAAQS,GAAMtC,KACnC1C,MAAOgF,GACP/E,QAASpjB,GAAc,cACvB0E,UAAU,iCAIhB,yBACEsK,QAAS,kBAAM0W,IAAY,IAC3BhhB,UAAU,yEAFZ,WAQJ,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,uBACb,kBAAC,GAAD,CACE4e,aAAa,QACbC,SAAU,SAACsC,GAAD,OACRjB,EAAa,CAAC,OAAQ,eAAeiB,KAEvCnhB,UAAU,qBACVye,MAAO,CAAC,OAAQ,eAChBC,QAAO,oBAAeuB,MAG1B,yBAAKjgB,UAAU,uBACb,yBAAKA,UAAU,4BACb,kBAAC,KAAD,CACE0O,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACE9Y,UAAU,8BACV4K,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,aAM7B,yBAAK5K,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE6e,SAAU,SAACsC,GAAD,OACRjB,EAAa,CAAC,OAAQ,eAAeiB,KAEvCnhB,UAAU,sCACVye,MAAO,CAAC,OAAQ,eAChBC,QAAO,oBAAeuB,KAExB,yBAAKjgB,UAAU,yBACb,kBAAC,KAAD,CACE0O,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACElO,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,QAErB5K,UAAU,wBACVO,MAAO,CAAE6gB,SAAU,eAM7B,yBAAKphB,UAAU,kBACb,kBAAC,KAAD,CACEO,MAAO,CAAE6gB,SAAU,QACnBC,aAAc,WACZjB,EACED,EAAoB,EAAI,EACpBA,EAAoB,EACpBA,IAGRmB,cAAe,WACblB,EACED,EAAoB,GAAK,EACrBA,EAAoB,EACpBA,KAIR,yBAAKngB,UAAU,oBACb,2BAAOA,UAAU,yBACf,+BACE,4BACE,wBAAIA,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QACE8B,EACGpQ,MAAM8N,GAAW,GAAIA,GAAW,IAChChO,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,YAAUjE,SAC7BsZ,GAAW,GAAKA,GAAW,GAE7BzR,SAAU,SAACC,GACT+T,IAAyB,SAACnU,GAExB,IADA,IAAI2R,EAAG,aAAO3R,GAER3H,EAAIuZ,GAAW,GACnBvZ,EAAIuZ,GAAW,GACfvZ,IAEAsZ,EAAItZ,GAAGkE,SAAW6D,EAAEG,OAAO6R,QAE7B,OAAOT,SAKf,wBAAI9gB,UAAU,wCACZ,yBAAKA,UAAU,qBAAf,aACA,yBAAKA,UAAU,qBAAf,OAEF,wBAAIA,UAAU,qDAEV,CAAC,OAAQ,cAAe,WAAY,UAClCmgB,IAIN,wBAAIngB,UAAU,qDACZ,sCAEF,wBAAIA,UAAU,qDACZ,6CAEF,wBAAIA,UAAU,qDACZ,0CAEF,wBAAIA,UAAU,qDACZ,0CAIN,+BACGqjB,EAAsB5b,OACrB4b,EACGpQ,MAAmB,GAAZ0G,EAAO,GAAqB,GAAZA,EAAO,GAAS,GACvCpM,KAAI,SAAC1N,EAAG2H,GAAJ,OACH,wBACExH,UAAU,2BACVwN,IAAG,yBAAoBhG,IAEvB,wBAAIxH,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QAAS1hB,EAAE6L,SACX4D,SAAU,SAACC,GACT+T,IAAyB,SAACnU,GACxB,IAAI2R,EAAG,aAAO3R,GAGd,OAFA2R,EAAiB,GAAZnH,EAAO,GAASnS,GAAGkE,SACtB6D,EAAEG,OAAO6R,QACJT,SAKf,4BACGvlB,OAAO8b,OAAOlc,GAAasM,OAC1B,kBAAC,IAAMiG,SAAP,KACE,6BACE,yBAAKnN,MAAO,CAAE+S,WAAY,WACxB,yBAAKtT,UAAU,uBACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY0E,EAAEiV,QAAQ9Y,MADT,SAMrB,yBAAKgE,UAAU,sCACb,yBAAKA,UAAU,gBACZ7E,EAAY0E,EAAEiV,QAAQ/Y,cAEzB,yBAAKiE,UAAU,QACZ7E,EAAY0E,EAAEiV,QAAQ5Y,OAEzB,yBAAK8D,UAAU,UACb,yBACEA,UAAU,8BACVsK,QAAS,WACPuY,EAAoBhjB,GACpBijB,MAJJ,QASA,yBAAK9iB,UAAU,QAAf,KACA,yBACEA,UAAU,6BACVsK,QAAO,sBAAE,4BAAAjB,EAAA,sEACSlE,GACd,CAACtF,EAAEsQ,MAFE,QACH7O,EADG,QAICuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MACE,2BACFC,QACE,wCACFvB,KAAM,aAIZulB,GAAYD,GAzBL,4CAFX,eAsCV,IAGJ,wBACE5gB,UAAS,UACI,YAAXH,EAAEvE,KACE,eACW,gBAAXuE,EAAEvE,KACF,eACW,UAAXuE,EAAEvE,KACF,cACA,IAPG,OASe,IAAtB6kB,EACI,gBACA,4BAGN,6BAAMtgB,EAAEvE,OAEV,wBACE0E,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,yBACE5f,MAAO,CAAE6gB,SAAU,SACnBphB,UAAU,+CACVsK,QAAS,SAACiF,GACR,IAAIG,EAASH,EAAEgM,cAEb7L,EAAO8L,UAAUC,SAAS,gBAE1B/L,EAAO8L,UAAUE,OAAO,gBAExBhM,EAAO8L,UAAUG,IAAI,kBAIxB9b,EAAE0jB,cAGP,wBACEvjB,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,yBAAK5f,MAAO,CAAE+S,WAAY,WACxB,yBAAKtT,UAAU,uBACb,uCACA,sCAEF,yBAAKA,UAAU,kBACb,yBAAKO,MAAO,CAAE+S,WAAY,WACvByD,KAAKC,OACJ,IAAI7Y,KAAK0B,EAAE8jB,YACX,wBAEF,yBAAKpjB,MAAO,CAAE+S,WAAY,WACvByD,KAAKC,OACJ,IAAI7Y,KAAK0B,EAAE+jB,UACX,6BAOZ,wBACE5jB,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGLtgB,EAAE6jB,YAKX,4BACE,wBAAIjC,QAAS,EAAGzhB,UAAU,qBAA1B,yBA6Dd,yBAAKA,UAAU,gEACb,yBAAKA,UAAU,YACb,kBAAC,GAAD,CACE4T,MAAO1I,KAAKwM,KAAK2L,EAAsB5b,OAAS,GAChDgB,QAASkR,EACT9F,WAAY+F,a,gDC5QfxU,GAhUU,SAAC,GAAsC,IAApCye,EAAmC,EAAnCA,oBAAqBpB,EAAc,EAAdA,QAAc,EACrBxb,mBAAS,CAC/Csc,YAAa,GACbjoB,KAAM,GACNqoB,WAAYxlB,KAAKC,MACjBwlB,SAAUzlB,KAAKC,MACfslB,OAAQ,KANmD,mBACtDxe,EADsD,KACxC4e,EADwC,OAS/B7c,oBAAS,GATsB,mBAStD0B,EATsD,KAS7CQ,EAT6C,KAW7D/B,qBAAU,WACJyc,GACFC,EAAgBD,KAEjB,CAACA,IAEJzc,qBAAU,WACRjI,OAAOmc,SAAS,EAAG,KAClB,IAEH,IAAMmI,EAAQ,CAAC,cAAe,UAAW,SACnCM,EAAW,CAAC,YAAa,UAAW,WAE1C,OACE,yBAAK/jB,UAAU,6BACb,yBAAKA,UAAU,kCACb,yBAAKA,UAAU,qCAAf,iBACA,yBAAKA,UAAU,kBAAf,+BAEF,yBAAKA,UAAU,UACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,QACA,yBAAKA,UAAU,sCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,mBACbC,SAAU,SAACsC,GAAD,OACR2C,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE7T,KAAMmoB,EAAMtC,SAG1CnhB,UAAU,yBACVye,MAAOgF,EACP/E,QAASxZ,EAAa5J,KAAO4J,EAAa5J,KAAO,cAKzD,yBAAK0E,UAAU,uBACb,yBAAKA,UAAU,eAAf,eACA,yBAAKA,UAAU,UACb,8BACE4K,MAAO1F,EAAaqe,YAAcre,EAAaqe,YAAc,GAC7DjU,SAAU,SAACC,GACTA,EAAEC,UACFsU,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEoU,YAAahU,EAAEG,OAAO9E,YAGpD5K,UAAU,uBACVO,MAAO,CAAEzB,OAAQ,YAIrB,yBACEkB,UAAS,iBACPkF,EAAaqe,YAAYlU,MAAM,KAAK5H,QAAU,IAC1C,aACA,gBAGLvC,EAAaqe,YACV,IAAMre,EAAaqe,YAAYlU,MAAM,KAAK5H,OAC1C,IAAK,IATX,eAaF,yBAAKzH,UAAU,kBACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,kBAAf,cACA,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,gBAAgBO,MAAO,CAAEb,MAAO,UAC7C,kBAAC,KAAD,CACEkL,MAAOmM,KAAKC,OACV,IAAI7Y,KAAK+G,EAAaye,YACtB,cAEFK,UAAW,SAACzkB,GAAD,OACT,yBAAKS,UAAU,qBACb,kBAAC,KAAD,CACEO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,2CACMjR,EADN,CAEES,UAAU,8BACV4P,YAAY,kBAIlBqU,YAAa,SAACC,GACZ,GAAIA,EAAK,CACP,IAAIjkB,EAAI,IAAI9B,KAAK+G,EAAaye,YAC1BQ,EAAOD,EAAIE,cACXC,EAAQH,EAAII,WACZC,EAAUL,EAAIM,UAClBvkB,EAAEwkB,YAAYN,GACdlkB,EAAEykB,SAASL,GACXpkB,EAAE0kB,QAAQJ,GACVT,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEwU,WAAY1jB,EAAE2kB,oBAMlD,yBACE5kB,UAAU,yCACVO,MAAO,CAAEb,MAAO,UAEhB,kBAAC,KAAD,CACEa,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,kBAAC,KAAD,CACEqU,UAAW,KACXC,UAAW,KACX9kB,UAAU,aACVsP,SAAU,SAACjG,GACT,GAAIA,EAAG,CAAC,IAAD,EACQA,EAAEgG,MAAM,KADhB,mBACApE,EADA,KACGG,EADH,KAED2Z,EAAU,IAAI5mB,KAAK+G,EAAaye,YACpCoB,EAAQC,SAAS/Z,GACjB8Z,EAAQE,WAAW7Z,GACnB0Y,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBwU,WAAYoB,EAAQH,iBAK5Bha,MAAO,IAAIzM,KAAK+G,EAAaye,kBAMvC,yBAAK3jB,UAAU,kBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,kBAAf,YACA,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,gBAAgBO,MAAO,CAAEb,MAAO,UAC7C,kBAAC,KAAD,CACEkL,MAAOmM,KAAKC,OACV,IAAI7Y,KAAK+G,EAAa0e,UACtB,cAEFI,UAAW,SAACzkB,GAAD,OACT,yBAAKS,UAAU,qBACb,kBAAC,KAAD,CACEO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,2CACMjR,EADN,CAEES,UAAU,8BACV4P,YAAY,kBAIlBqU,YAAa,SAACC,GACZ,GAAIA,EAAK,CACP,IAAIjkB,EAAI,IAAI9B,KAAK+G,EAAa0e,UAC1BO,EAAOD,EAAIE,cACXC,EAAQH,EAAII,WACZC,EAAUL,EAAIM,UAClBvkB,EAAEwkB,YAAYN,GACdlkB,EAAEykB,SAASL,GACXpkB,EAAE0kB,QAAQJ,GACVT,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEyU,SAAU3jB,EAAE2kB,oBAMhD,yBACE5kB,UAAU,yCACVO,MAAO,CAAEb,MAAO,UAEhB,kBAAC,KAAD,CACEa,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,kBAAC,KAAD,CACEqU,UAAW,KACXC,UAAW,KACX9kB,UAAU,aACVsP,SAAU,SAACjG,GACT,GAAIA,EAAG,CAAC,IAAD,EACQA,EAAEgG,MAAM,KADhB,mBACApE,EADA,KACGG,EADH,KAED2Z,EAAU,IAAI5mB,KAAK+G,EAAa0e,UACpCmB,EAAQC,SAAS/Z,GACjB8Z,EAAQE,WAAW7Z,GACnB0Y,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CACtByU,SAAUmB,EAAQH,iBAK1Bha,MAAO,IAAIzM,KAAK+G,EAAa0e,kBAQ3C,yBAAK5jB,UAAU,uBACb,yBAAKA,UAAU,eAAf,QACA,yBAAKA,UAAU,sCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,mBACbC,SAAU,SAACsC,GAAD,OACR2C,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEuU,OAAQK,EAAS5C,SAG/CnhB,UAAU,yBACVye,MAAOsF,EACPrF,QAASxZ,EAAawe,OAASxe,EAAawe,OAAS,eAO/D,yBAAK1jB,UAAU,eACb,yBAAKA,UAAU,kBACb,yBACEA,UAAU,4EACVsK,QAAS,kBAAMmY,MAFjB,UAMA,yBACEziB,UAAU,kEACVsK,QAAO,sBAAE,4BAAAjB,EAAA,6DACPF,GAAW,GADJ,SAES+b,GAAKhgB,GAFd,OAEH5D,EAFG,OAGP6H,GAAW,GACP7H,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,uBACPC,QAAS,wCACTvB,KAAM,aAGVmnB,KAtBK,4CA0BT,kBAAC,GAAD,CACEpY,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KAxCV,YCwFKwJ,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACLrN,KAAMR,EAAMQ,MACTqN,KAIQD,EArWY,SAAC,GAAuB,IAArBpN,EAAoB,EAApBA,KAAM6mB,EAAc,EAAdA,QAAc,EACRxb,mBAAS,CAC/Csc,YAAa,GACbjoB,KAAM,GACNqoB,WAAYxlB,KAAKC,MACjBwlB,SAAUzlB,KAAKC,MACfslB,OAAQ,cANsC,mBACzCxe,EADyC,KAC3B4e,EAD2B,OASlB7c,mBAAS,IATS,mBASzCgG,EATyC,KAShCC,EATgC,OAUlBjG,oBAAS,GAVS,mBAUzC0B,EAVyC,KAUhCQ,EAVgC,KAY1Csa,EAAQ,CAAC,cAAe,UAAW,SACnCM,EAAW,CAAC,YAAa,UAAW,WAEpC9F,EAAc,CAClB,CAAEC,MAAOhZ,EAAaqe,YAAa1Z,MAAO,2BAC1C,CAAEqU,MAAOhZ,EAAa5J,KAAMuO,MAAO,oBACnC,CACEqU,MAAOhZ,EAAaye,WAAaze,EAAa0e,SAC9C/Z,MAAO,sCAET,CACEqU,MAAOhZ,EAAaye,aAAeze,EAAa0e,SAChD/Z,MAAO,+BAIX,OACE,yBAAK7J,UAAU,6BACb,yBAAKA,UAAU,kCACb,yBAAKA,UAAU,qCAAf,iBACA,yBAAKA,UAAU,kBAAf,wDAIF,yBAAKA,UAAU,UACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,QACA,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,mBACbC,SAAU,SAACsC,GAAD,OACR2C,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE7T,KAAMmoB,EAAMtC,SAG1CnhB,UAAU,yBACVye,MAAOgF,EACP/E,QAASxZ,EAAa5J,KAAO4J,EAAa5J,KAAO,cAKzD,yBAAK0E,UAAU,uBACb,yBAAKA,UAAU,eAAf,eACA,yBAAKA,UAAU,UACb,8BACE4K,MAAO1F,EAAaqe,YAAcre,EAAaqe,YAAc,GAC7DjU,SAAU,SAACC,GACTA,EAAEC,UACFsU,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEoU,YAAahU,EAAEG,OAAO9E,YAGpD5K,UAAU,uBACVO,MAAO,CAAEzB,OAAQ,YAIrB,yBACEkB,UAAS,iBACPkF,EAAaqe,YAAYlU,MAAM,KAAK5H,QAAU,IAC1C,aACA,gBAGLvC,EAAaqe,YACV,IAAMre,EAAaqe,YAAYlU,MAAM,KAAK5H,OAC1C,IAAK,IATX,eAaF,yBAAKzH,UAAU,kBACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,kBAAf,cACA,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,gBAAgBO,MAAO,CAAEb,MAAO,UAC7C,kBAAC,KAAD,CACEkL,MAAOmM,KAAKC,OACV,IAAI7Y,KAAK+G,EAAaye,YACtB,cAEFK,UAAW,SAACzkB,GAAD,OACT,yBAAKS,UAAU,qBACb,kBAAC,KAAD,CACEO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,2CACMjR,EADN,CAEES,UAAU,8BACV4P,YAAY,kBAIlBqU,YAAa,SAACC,GACZ,GAAIA,EAAK,CACP,IAAIjkB,EAAI,IAAI9B,KAAK+G,EAAaye,YAC1BQ,EAAOD,EAAIE,cACXC,EAAQH,EAAII,WACZC,EAAUL,EAAIM,UAClBvkB,EAAEwkB,YAAYN,GACdlkB,EAAEykB,SAASL,GACXpkB,EAAE0kB,QAAQJ,GACVT,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEwU,WAAY1jB,EAAE2kB,oBAMlD,yBACE5kB,UAAU,yCACVO,MAAO,CAAEb,MAAO,UAEhB,kBAAC,KAAD,CACEa,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,kBAAC,KAAD,CACEqU,UAAW,KACXC,UAAW,KACX9kB,UAAU,aACVsP,SAAU,SAACjG,GACT,GAAIA,EAAG,CAAC,IAAD,EACQA,EAAEgG,MAAM,KADhB,mBACApE,EADA,KACGG,EADH,KAED2Z,EAAU,IAAI5mB,KAAK+G,EAAaye,YACpCoB,EAAQC,SAAS/Z,GACjB8Z,EAAQE,WAAW7Z,GACnB0Y,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBwU,WAAYoB,EAAQH,iBAK5Bha,MAAO,IAAIzM,KAAK+G,EAAaye,kBAMvC,yBAAK3jB,UAAU,kBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,kBAAf,YACA,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,gBAAgBO,MAAO,CAAEb,MAAO,UAC7C,kBAAC,KAAD,CACEkL,MAAOmM,KAAKC,OACV,IAAI7Y,KAAK+G,EAAa0e,UACtB,cAEFI,UAAW,SAACzkB,GAAD,OACT,yBAAKS,UAAU,qBACb,kBAAC,KAAD,CACEO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,2CACMjR,EADN,CAEES,UAAU,8BACV4P,YAAY,kBAIlBqU,YAAa,SAACC,GACZ,GAAIA,EAAK,CACP,IAAIjkB,EAAI,IAAI9B,KAAK+G,EAAa0e,UAC1BO,EAAOD,EAAIE,cACXC,EAAQH,EAAII,WACZC,EAAUL,EAAIM,UAClBvkB,EAAEwkB,YAAYN,GACdlkB,EAAEykB,SAASL,GACXpkB,EAAE0kB,QAAQJ,GACVT,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEyU,SAAU3jB,EAAE2kB,oBAMhD,yBACE5kB,UAAU,yCACVO,MAAO,CAAEb,MAAO,UAEhB,kBAAC,KAAD,CACEa,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,kBAAC,KAAD,CACEqU,UAAW,KACXC,UAAW,KACX9kB,UAAU,aACVsP,SAAU,SAACjG,GACT,GAAIA,EAAG,CAAC,IAAD,EACQA,EAAEgG,MAAM,KADhB,mBACApE,EADA,KACGG,EADH,KAED2Z,EAAU,IAAI5mB,KAAK+G,EAAa0e,UACpCmB,EAAQC,SAAS/Z,GACjB8Z,EAAQE,WAAW7Z,GACnB0Y,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CACtByU,SAAUmB,EAAQH,iBAK1Bha,MAAO,IAAIzM,KAAK+G,EAAa0e,kBAQ3C,yBAAK5jB,UAAU,uBACb,yBAAKA,UAAU,eAAf,UACA,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,mBACbC,SAAU,SAACsC,GAAD,OACR2C,GAAgB,SAAC3U,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEuU,OAAQK,EAAS5C,SAG/CnhB,UAAU,yBACVye,MAAOsF,EACPrF,QAASxZ,EAAawe,OAASxe,EAAawe,OAAS,eAO/D,yBAAK1jB,UAAU,eACb,yBACEO,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,GAChDjN,UAAU,iDAETiN,GAEH,yBAAKjN,UAAU,uBACb,yBACEA,UAAU,4EACVsK,QAAS,kBAAMmY,MAFjB,UAMA,yBACEziB,UAAU,kEACVsK,QAAO,sBAAE,8BAAAjB,EAAA,0DACHzN,EAAKuU,IADF,sBAEDkO,EAAUJ,EAAYlL,QAAO,SAAClT,GAAD,OAAQA,EAAEqe,UAC/BzW,OAHP,gBAIHyF,EAAWmR,EAAQ,GAAGxU,OAJnB,8BAMHV,GAAW,GANR,SAOalE,GACd1J,OAAOC,OAAO,GAAI0J,EAAc,CAAE4P,OAAQlZ,EAAKuU,OAR9C,OAOC7O,EAPD,OAUH6H,GAAW,GACP7H,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,uBACPC,QAAS,wCACTvB,KAAM,aAGVmnB,KA7BC,gCAiCLxjB,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,4CACTvB,KAAM,aAtCL,6CA4CT,kBAAC,GAAD,CACE+O,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KA1DV,cCyQKwJ,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACLvN,QAASN,EAAMM,SACZuN,KAIQD,EA9hBI,SAAC,GAKb,IAJLmc,EAII,EAJJA,iBACAC,EAGI,EAHJA,0BACAC,EAEI,EAFJA,wBAEI,KADJ3pB,QAE4BuL,mBAAS,KADjC,mBACG5L,EADH,KACWykB,EADX,OAEoB7Y,mBAAS,IAF7B,mBAEG3L,EAFH,KAES0nB,EAFT,OAG8B/b,mBAAS,eAHvC,mBAGGgZ,EAHH,KAGcC,EAHd,OAI8CjZ,mBAAS,GAJvD,mBAIGkZ,EAJH,KAIsBC,EAJtB,OAKoBnZ,mBAAS,GAL7B,mBAKG0S,EALH,KAKSC,EALT,OAMgC3S,mBAAS,IANzC,mBAMGgc,EANH,KAMeC,EANf,OAOwBjc,mBAAS,IAPjC,mBAOGzK,EAPH,KAOW+jB,EAPX,OAQgCtZ,mBAAS,CAAEuG,IAAK,GAAI5C,MAAO,KAR3D,mBAQG4V,EARH,KAQeC,EARf,OAUgCxZ,mBAAS,IAVzC,mBAUGqe,EAVH,KAUeC,EAVf,OAWgDte,mBAAS,IAXzD,mBAWGue,EAXH,KAWuBC,EAXvB,QAY0Bxe,oBAAS,GAZnC,qBAYG2Z,GAZH,MAYYC,GAZZ,MAcJzZ,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,sEACmB/D,KADnB,QACMxE,EADN,QAEY+I,OACR0b,EACEzkB,EAAKyM,KAAI,SAAC1N,GAAD,OAAOtE,OAAOC,OAAO,GAAIqE,EAAG,CAAE6L,UAAU,QAJvD,4CADc,uBAAC,WAAD,wBAUd+B,KACC,CAACmT,KAEJxZ,qBAAU,WACR,IAAI0Z,EAAG,aAAOwE,GACVA,EAAW7d,SACTjL,IACgB,gBAAdyjB,EACFa,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OACfA,EAAE0jB,YAAY/X,cAAcwH,SAASxW,EAAOgP,kBAEvB,WAAdyU,IACTa,EAAMA,EAAI/N,QACR,SAAClT,GAAD,MACqB,WAAnBA,EAAE6lB,cACF7lB,EAAE2G,QAAQxE,OAAOwJ,cAAcwH,SAASxW,EAAOgP,oBAKnDyX,IACFnC,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OACfA,EAAE6lB,aAAa/K,MAAM,IAAIgL,OAAO1C,EAAY,UAI5CzC,EAAWhT,MACbsT,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OAAOA,EAAE2gB,EAAWhT,OAASgT,EAAW5V,UAG3D6a,EAAsB3E,MAEvB,CAACtkB,EAAQymB,EAAYqC,EAAY9E,IAGpC,IAAIO,GAAa,CAAc,GAAZpH,EAAO,GAAqB,GAAZA,EAAO,GAAS,GAC/CoH,GAAW,IAAMyE,EAAmB/d,SACtCsZ,GAAW,GAAKA,GAAW,IAAMA,GAAW,GAAKyE,EAAmB/d,SAGtE,IAAMwZ,GAAU,CAAC,SAAU,SAAU,WAAY,UAC3C2E,GAAgB,CAAC,cAAe,UAGtC,OACE,yBAAK5lB,UAAU,+BACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,+DACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCAAf,mBAGA,yBAAKA,UAAU,kBAAf,mCAEF,yBACEA,UAAU,qDACVsK,QAAS,kBAAM8a,MAFjB,aAQJ,yBAAKplB,UAAU,UACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,0BACb,yBACEA,UAAS,kCACY,KAAnBwgB,EAAWhT,KAAeyV,EAEtB,YADA,gBAGN3Y,QAAS,WACP4Y,EAAc,IACdF,EAAQ,IACRvC,EAAc,CAAEjT,IAAK,GAAI5C,MAAO,OATpC,QAYQ0a,EAAW7d,OAZnB,KAvBY,CAAC,YAAa,UAAW,WAqCpB8F,KAAI,SAAC1N,EAAG2H,GAAJ,OACnB,kBAAC,IAAMkG,SAAP,CAAgBF,IAAG,iBAAYhG,IAC7B,yBAAKxH,UAAU,4BAAf,KACA,yBACEsK,QAAS,kBACPmW,GAAc,SAACtR,GAAD,OACZ5T,OAAOC,OAAO,GAAI2T,EAAM,CACtB3B,IAAK,iBACL5C,MAAO/K,QAIbG,UAAS,kCACY,mBAAnBwgB,EAAWhT,KACXgT,EAAW5V,QAAU/K,EACjB,eACA,cAGLA,EAhBH,KAiBGylB,EAAWvS,QAAO,SAACnT,GAAD,OAAOA,EAAEimB,iBAAmBhmB,KAAG4H,OAjBpD,UAsBN,yBAAKzH,UAAU,0CACb,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,qBACbC,SAAU,SAACsC,GAAD,OAAWrB,EAAU,CAAC,UAAUqB,KAC1C1C,MAAO,CAAC,UACRC,QAASrjB,GAAkB,gBAC3B2E,UAAU,gCAIhB,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,qBACbC,SAAU,SAACsC,GAAD,OACR6B,EAAQ,CAAC,SAAU,WAAW7B,KAEhC1C,MAAO,CAAC,SAAU,WAClBC,QAASpjB,GAAc,cACvB0E,UAAU,gCAIhB,yBACEsK,QAAS,WACP,GAAe,SAAXjP,EAAmB,CACrB,IAAIqQ,EAAW8Z,EAAmBzS,QAChC,SAAClT,GAAD,OAAOA,EAAE6L,YAEPA,EAASjE,SACX0d,EAAiBzZ,EAAS,IAC1B2Z,SAEkB,WAAXhqB,GAGT6nB,EAAc5nB,IAGlB0E,UAAU,yEAhBZ,WAsBJ,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,uBACb,kBAAC,GAAD,CACE4e,aAAa,QACbC,SAAU,SAACsC,GAAD,OAAWjB,EAAa0F,GAAczE,KAChDnhB,UAAU,qBACVye,MAAOmH,GACPlH,QAAO,oBAAeuB,MAG1B,yBAAKjgB,UAAU,uBACb,yBAAKA,UAAU,4BACb,kBAAC,KAAD,CACE0O,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACE9Y,UAAU,8BACV4K,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,aAM7B,yBAAK5K,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE6e,SAAU,SAACsC,GAAD,OAAWjB,EAAa0F,GAAczE,KAChDnhB,UAAU,sCACVye,MAAOmH,GACPlH,QAAO,oBAAeuB,KAExB,yBAAKjgB,UAAU,yBACb,kBAAC,KAAD,CACE0O,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACElO,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,QAErB5K,UAAU,wBACVO,MAAO,CAAE6gB,SAAU,eAM7B,yBAAKphB,UAAU,kBACb,kBAAC,KAAD,CACEO,MAAO,CAAE6gB,SAAU,QACnBC,aAAc,WACZjB,EACED,EAAoB,EAAI,EACpBA,EAAoB,EACpBA,IAGRmB,cAAe,WACblB,EACED,EAAoB,GAAK,EACrBA,EAAoB,EACpBA,KAIR,yBAAKngB,UAAU,oBACb,2BAAOA,UAAU,yBACf,+BACE,4BACE,wBAAIA,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QACEiE,EACGvS,MAAM8N,GAAW,GAAIA,GAAW,IAChChO,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,YAAUjE,SAC7BsZ,GAAW,GAAKA,GAAW,GAE7BzR,SAAU,SAACC,GACTkW,GAAsB,SAACtW,GAErB,IADA,IAAI2R,EAAG,aAAO3R,GAER3H,EAAIuZ,GAAW,GACnBvZ,EAAIuZ,GAAW,GACfvZ,IAEAsZ,EAAItZ,GAAGkE,SAAW6D,EAAEG,OAAO6R,QAE7B,OAAOT,SAKf,wBAAI9gB,UAAU,wCAAd,eAGA,wBAAIA,UAAU,qDACXihB,GAAQd,IAEVc,GAAQ1T,KAAI,SAACuY,EAAGC,GAAJ,OACX,wBACE/lB,UAAU,oDACVwN,IAAG,iBAAYuY,IAEf,6BAAMD,SAKd,+BACGN,EAAmB/d,OAClB+d,EACGvS,MAAmB,GAAZ0G,EAAO,GAAqB,GAAZA,EAAO,GAAS,GACvCpM,KAAI,SAAC1N,EAAG2H,GAAJ,OACH,wBACExH,UAAU,2BACVwN,IAAG,yBAAoBhG,IAEvB,wBAAIxH,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QAAS1hB,EAAE6L,SACX4D,SAAU,SAACC,GACTkW,GAAsB,SAACtW,GACrB,IAAI2R,EAAG,aAAO3R,GAGd,OAFA2R,EAAiB,GAAZnH,EAAO,GAASnS,GAAGkE,SACtB6D,EAAEG,OAAO6R,QACJT,SAKf,wBAAIvgB,MAAO,CAAE+S,WAAY,WACvB,yBACEtT,UAAU,OACVO,MAAO,CAAE6gB,SAAU,UAElBvhB,EAAE0jB,aAEL,yBAAKvjB,UAAU,UACb,yBACEA,UAAU,8BACVsK,QAAS,WACP6a,EAAiBtlB,GACjBwlB,MAJJ,QASA,yBAAKrlB,UAAU,QAAf,KACA,yBACEA,UAAU,6BACVsK,QAAO,sBAAE,4BAAAjB,EAAA,sExC7IJzE,EwC+ID,CAAC/E,EAAEsQ,KxC9IlCvP,EAAgB,2BAA4B,CAAEgE,MAAKd,OwC+IpB,CAAE4f,OAAQ,aAHL,QACHpiB,EADG,QAKCuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,wBACPC,QACE,qCACFvB,KAAM,aAIZulB,IAAYD,IAzBL,iCxC7IL,IAAChc,IwC6II,QAFX,YAkCJ,wBACE5E,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGc,WAAnBtgB,EAAE6lB,aACD,yBAAKnlB,MAAO,CAAE6gB,SAAU,UACtB,yBACEphB,UAAU,2CACVsK,QAAS,SAACiF,GACRkC,EAAQrB,KAAR,iBACYvQ,EAAEoK,SADd,YAC0BpK,EAAE8W,eAI7B9W,EAAE2G,QAAQxE,SAIf,yBACEhC,UAAU,+CACVsK,QAAS,SAACiF,GACR,IAAIG,EAASH,EAAEgM,cAEb7L,EAAO8L,UAAUC,SACf,gBAGF/L,EAAO8L,UAAUE,OAAO,gBAExBhM,EAAO8L,UAAUG,IAAI,kBAIxB9b,EAAE2G,QAAQ9D,UAIjB,wBACE1C,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGLtgB,EAAE2G,QAAQ7K,OACY,YAArBkE,EAAE2G,QAAQ7K,OACR,yBAAK4E,MAAO,CAAEoL,UAAW,SACvB,kBAAC,EAAD,CAAQnM,KAAM,MAGhB,yBAAKe,MAAO,CAAEqL,aAAc,SAC1B,kBAAC,IAAD,CACEnL,MACuB,mBAArBZ,EAAE2G,QAAQ7K,OACN,OACqB,cAArBkE,EAAE2G,QAAQ7K,OACV,QACqB,YAArBkE,EAAE2G,QAAQ7K,OACV,sBACA,OAEN+E,IAAI,WACJlB,KAAM,MAKZ,KAGJ,wBACEQ,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,yBAAK5f,MAAO,CAAE+S,WAAY,WACxB,yBAAKtT,UAAU,uBACb,uCACA,sCAEF,yBAAKA,UAAU,kBACb,yBAAKO,MAAO,CAAE+S,WAAY,WACvByD,KAAKC,OACJ,IAAI7Y,KAAK0B,EAAE8jB,YACX,wBAEF,yBAAKpjB,MAAO,CAAE+S,WAAY,WACvByD,KAAKC,OACJ,IAAI7Y,KAAK0B,EAAE+jB,UACX,6BAOZ,wBACE5jB,UAAS,UACM,cAAbH,EAAE6jB,OACE,aACa,YAAb7jB,EAAE6jB,OACF,cACA,cALG,YAOe,IAAtBvD,EACI,eACA,2BAGQ,cAAbtgB,EAAE6jB,OACC,SACa,YAAb7jB,EAAE6jB,OACF,WACA7jB,EAAE6jB,YAKd,4BACE,wBAAIjC,QAAS,EAAGzhB,UAAU,qBAA1B,yBAUd,yBAAKA,UAAU,gEACb,yBAAKA,UAAU,YACb,kBAAC,GAAD,CACE4T,MAAO1I,KAAKwM,KAAK8N,EAAmB/d,OAAS,GAC7CgB,QAASkR,EACT9F,WAAY+F,aCjHfrU,GAhaO,SAAC,GAAmC,IAAjCygB,EAAgC,EAAhCA,iBAAkBvD,EAAc,EAAdA,QAAc,EACrBxb,mBAAS,CACzCjF,OAAQ,GACRU,QAAS,GACTkS,UAAW,EACXD,WAAY,EACZ+Q,aAAc,GACdG,eAAgB,GAChBI,cAAe,GACftC,WAAYxlB,KAAKC,MACjBwlB,SAAUzlB,KAAKC,MACfqV,YAAa,GACbxJ,SAAU,GACVzD,QAAS,GACT5J,MAAO,KAd8C,mBAChD4I,EADgD,KACrC0gB,EADqC,OAiBzBjf,oBAAS,GAjBgB,mBAiBhD0B,EAjBgD,KAiBvCQ,EAjBuC,KAmBvD/B,qBAAU,WACR8e,GAAa,SAAC/W,GAAD,OAAU5T,OAAOC,OAAO,GAAI2T,EAAM6W,QAC9C,CAACA,IAEJ5e,qBAAU,WACRjI,OAAOmc,SAAS,EAAG,KAClB,IAEH,IAAM6K,EAAkB,CAAC,YAAa,UAAW,WAEjD,OACE,yBAAKnmB,UAAU,6BACb,yBAAKA,UAAU,kCACb,yBAAKA,UAAU,qCAAf,mBACA,yBAAKA,UAAU,kBAAf,4BAEF,yBAAKA,UAAU,UAqBb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,uBAAf,eACA,yBAAKA,UAAU,kBACb,8BACE4K,MAAOpF,EAAU+d,YAAc/d,EAAU+d,YAAc,GACvDjU,SAAU,SAACC,GACTA,EAAEC,UACF0W,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEoU,YAAahU,EAAEG,OAAO9E,YAGpD5K,UAAU,uBACVO,MAAO,CAAEzB,OAAQ,cAKzB,yBAAKkB,UAAU,uBACb,yBAAKA,UAAU,mCACZwF,EAAUkgB,cAEb,yBAAK1lB,UAAU,8BACb,8BACE4K,MACEpF,EAAUgB,QACqB,WAA3BhB,EAAUkgB,aACRlgB,EAAUgB,QAAQxE,OAClBwD,EAAUgB,QAAQ9D,QACpB,GAEN4M,SAAU,SAACC,GACTA,EAAEC,UACF,IAAIC,EAAOF,EAAEG,OAAO9E,MACpB,GAAI6E,EAAKJ,MAAM,KAAK5H,QAAU,IAC5B,GAA+B,WAA3BjC,EAAUkgB,aAA2B,CACvC,IAAIU,EAAU,eAAQ5gB,EAAUgB,SAChC4f,EAAWpkB,OAASyN,EACpByW,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE3I,QAAS4f,WAEhC,CACL,IAAIA,EAAU,eAAQ5gB,EAAUgB,SAChC4f,EAAW1jB,QAAU+M,EACrByW,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE3I,QAAS4f,SAK3CpmB,UAAU,uBACVO,MAAO,CAAEzB,OAAQ,YAIrB,yBACEkB,UAAS,iBACPwF,EAAUkgB,aACqB,WAA3BlgB,EAAUkgB,aACRlgB,EAAUgB,QAAQxE,OAAOqN,MAAM,KAAK5H,QAAU,IAC5C,aACA,cACFjC,EAAUgB,QAAQ9D,QAAQ2M,MAAM,KAAK5H,QAAU,IAC/C,aACA,cACF,KAGLjC,EAAUgB,QAAQxE,OACfwD,EAAUgB,QAAQxE,OAAOyF,OACvB,IAAMjC,EAAUgB,QAAQxE,OAAOqN,MAAM,KAAK5H,OAC1C,IACFjC,EAAUgB,QAAQ9D,QAClB8C,EAAUgB,QAAQ9D,QAAQ+E,OACxB,IAAMjC,EAAUgB,QAAQ9D,QAAQ2M,MAAM,KAAK5H,OAC3C,IACF,GAAI,IArBV,eAyB0B,WAA3BjC,EAAUkgB,cACT,yBAAK1lB,UAAU,wCACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,UAAf,WAEF,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,SACb5e,UAAU,mBACV0e,QACElZ,EAAUgB,QAAQ7K,OACd0E,EAAQyR,MACN,SAACjS,GAAD,OAAOA,EAAElB,OAAS6G,EAAUgB,QAAQ7K,UACpC2E,QACF,SAENue,SAAU,SAACsC,GACT,IAAI3a,EAAO,eAAQhB,EAAUgB,SAC7BA,EAAQ7K,OAAS0E,EAAQ8gB,GAAOxiB,KAChCunB,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE3I,QAASA,QAGvCiY,MAAOpe,EAAQkN,KAAI,SAAC1N,GAAD,OAAOA,EAAES,iBAQxC,yBAAKN,UAAU,kBACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,kBAAf,cACA,yBAAKA,UAAU,kBACb,kBAAC,KAAD,CACE4K,MAAOmM,KAAKC,OACV,IAAI7Y,KAAKqH,EAAUme,YACnB,cAEFK,UAAW,SAACzkB,GAAD,OACT,yBAAKS,UAAU,2BACb,kBAAC,KAAD,CACEO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,2CACMjR,EADN,CAEES,UAAU,8BACV4P,YAAY,kBAIlBqU,YAAa,SAACC,GACZ,GAAIA,EAAK,CACP,IAAIjkB,EAAI,IAAI9B,KAAKqH,EAAUme,YACvBQ,EAAOD,EAAIE,cACXC,EAAQH,EAAII,WACZC,EAAUL,EAAIM,UAClBvkB,EAAEwkB,YAAYN,GACdlkB,EAAEykB,SAASL,GACXpkB,EAAE0kB,QAAQJ,GACV2B,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEwU,WAAY1jB,EAAE2kB,qBAOpD,yBAAK5kB,UAAU,yBACb,yBAAKA,UAAU,kBAAf,YACA,yBAAKA,UAAU,kBACb,kBAAC,KAAD,CACE4K,MAAOmM,KAAKC,OACV,IAAI7Y,KAAKqH,EAAUoe,UACnB,cAEFI,UAAW,SAACzkB,GAAD,OACT,yBAAKS,UAAU,2BACb,kBAAC,KAAD,CACEO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,2CACMjR,EADN,CAEES,UAAU,8BACV4P,YAAY,kBAIlBqU,YAAa,SAACC,GACZ,GAAIA,EAAK,CACP,IAAIjkB,EAAI,IAAI9B,KAAKqH,EAAUoe,UACvBO,EAAOD,EAAIE,cACXC,EAAQH,EAAII,WACZC,EAAUL,EAAIM,UAClBvkB,EAAEwkB,YAAYN,GACdlkB,EAAEykB,SAASL,GACXpkB,EAAE0kB,QAAQJ,GACV2B,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEyU,SAAU3jB,EAAE2kB,sBAQpD,yBAAK5kB,UAAU,kBACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,kBAAf,cACA,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,wCACb,kBAAC,KAAD,CACEO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,kBAAC,KAAD,CACEqU,UAAW,KACXC,UAAW,KACX9kB,UAAU,aACVsP,SAAU,SAACjG,GACT,GAAIA,EAAG,CAAC,IAAD,EACQA,EAAEgG,MAAM,KADhB,mBACApE,EADA,KACGG,EADH,KAED2Z,EAAU,IAAI5mB,KAAKqH,EAAUme,YACjCoB,EAAQC,SAAS/Z,GACjB8Z,EAAQE,WAAW7Z,GACnB8a,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBwU,WAAYoB,EAAQH,iBAK5Bha,MAAO,IAAIzM,KAAKqH,EAAUme,iBAKlC,yBAAK3jB,UAAU,yBACb,yBAAKA,UAAU,kBAAf,YACA,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,wCACb,kBAAC,KAAD,CACEO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,kBAAC,KAAD,CACEqU,UAAW,KACXC,UAAW,KACX9kB,UAAU,aACVsP,SAAU,SAACjG,GACT,GAAIA,EAAG,CAAC,IAAD,EACQA,EAAEgG,MAAM,KADhB,mBACApE,EADA,KACGG,EADH,KAED2Z,EAAU,IAAI5mB,KAAKqH,EAAUoe,UACjCmB,EAAQC,SAAS/Z,GACjB8Z,EAAQE,WAAW7Z,GACnB8a,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CACtByU,SAAUmB,EAAQH,iBAK1Bha,MAAO,IAAIzM,KAAKqH,EAAUoe,kBAQxC,yBAAK5jB,UAAU,uBACb,yBAAKA,UAAU,eAAf,UACA,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,SACbC,SAAU,SAACsC,GAAD,OACR+E,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBuU,OAAQyC,EAAgBhF,SAI9BnhB,UAAU,yBACVye,MAAO0H,EACPzH,QAASlZ,EAAUke,OAASle,EAAUke,OAAS,iBAQ7D,yBAAK1jB,UAAU,eACb,yBAAKA,UAAU,kBACb,yBACEA,UAAU,4EACVsK,QAASmY,GAFX,UAMA,yBACEziB,UAAU,kEACVsK,QAAO,sBAAE,4BAAAjB,EAAA,6DACPF,GAAW,GADJ,SAES+b,GAAK1f,GAFd,OAEHlE,EAFG,OAGP6H,GAAW,GACP7H,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,oBACPC,QAAS,qCACTvB,KAAM,aAGVmnB,KAtBK,4CA0BT,kBAAC,GAAD,CACEpY,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KAxCV,YCiTKwJ,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBO,QAASN,EAAMM,SACZuN,KAIQD,EA1pBS,SAAC,GAAuC,IAArC7N,EAAoC,EAApCA,YAAasnB,EAAuB,EAAvBA,QAAS/mB,EAAc,EAAdA,QAAc,EAC3BuL,mBAAS,CACzCsc,YAAa,GACbI,WAAYxlB,KAAKC,MACjBwlB,SAAUzlB,KAAKC,MACfsnB,aAAc,GACdhC,OAAQ,cANmD,mBACtDle,EADsD,KAC3C0gB,EAD2C,OAQrCjf,mBAAS,GAR4B,mBAQtD0S,EARsD,KAQhDC,EARgD,OAU/B3S,mBAAS,IAVsB,mBAUtDgG,EAVsD,KAU7CC,EAV6C,OAY/BjG,oBAAS,GAZsB,mBAYtD0B,EAZsD,KAY7CQ,EAZ6C,OAa3BlC,mBAAS,QAbkB,mBAatDgZ,EAbsD,KAa3CC,EAb2C,OAcjCjZ,mBAAS,IAdwB,mBActDzK,EAdsD,KAc9C+jB,EAd8C,OAezBtZ,mBAAS,IAfgB,mBAetDof,EAfsD,KAe1CC,EAf0C,KAgBvDC,EAAa,CAAC,OAAQ,QAAS,UAhBwB,EAiBXtf,mBAAS,GAjBE,mBAiBtDkZ,EAjBsD,KAiBnCC,EAjBmC,OAkB/BnZ,mBAAS,IAlBsB,mBAkBtD9K,EAlBsD,KAkB7C+Y,EAlB6C,KAoB7D9N,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,sEACkB9E,KADlB,QACMiiB,EADN,QAEW3c,OACPqL,EAAWsR,GAHf,4CADc,uBAAC,WAAD,wBAad/Y,KACC,IAEHrG,qBAAU,WACR,IAAI0Z,EAAM,GACNtkB,EACgB,SAAdyjB,EACE1kB,OAAO8b,OAAOlc,GAAasM,QAC7BtL,EAAQwN,SAAQ,SAAC9J,GAEb1E,EAAY0E,EAAEiV,QAAQ/Y,aACnByP,cACAwH,SAASxW,EAAOgP,gBAEnBsV,EAAI1Q,KAAKvQ,MAIQ,UAAdogB,EACT9jB,EAAQwN,SAAQ,SAAC9J,GAEbnE,EAAQmE,EAAEoK,WACVvO,EAAQmE,EAAEoK,UAAUwJ,YACjBjI,cACAwH,SAASxW,EAAOgP,gBAEnBsV,EAAI1Q,KAAKvQ,MAGU,WAAdogB,GACT9jB,EAAQwN,SAAQ,SAAC9J,GACXA,EAAEmC,OAAOwJ,cAAcwH,SAASxW,EAAOgP,gBACzCsV,EAAI1Q,KAAKvQ,MAKfihB,EAAMA,EAAI/U,OAAJ,aAAe5P,IAGvBmqB,EAAcxF,EAAIvT,KAAI,SAAC1N,GAAD,OAAOtE,OAAOC,OAAO,GAAIqE,EAAG,CAAE6L,UAAU,UAC7D,CAAClP,EAAQL,IAEZ,IAAI4kB,EAAa,CAAc,GAAZpH,EAAO,GAAqB,GAAZA,EAAO,GAAS,GAC/CoH,EAAW,IAAMsF,EAAW5e,SAC9BsZ,EAAW,GAAKA,EAAW,IAAMA,EAAW,GAAKsF,EAAW5e,SAG9D,IAAMwZ,EAAU,CAAC,aAAc,SAAU,SAAU,YAAa,YAE1DhD,EAAc,CAClB,CAAEC,MAAO1Y,EAAU+d,YAAa1Z,MAAO,2BACvC,CACEqU,MAAO1Y,EAAUme,WAAane,EAAUoe,SACxC/Z,MAAO,sCAET,CACEqU,MAAO1Y,EAAUme,aAAene,EAAUoe,SAC1C/Z,MAAO,2BAET,CACEqU,MAAOmI,EAAWtT,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,YAAUjE,OAC5CoC,MAAO,wBAGX,OACE,yBAAK7J,UAAU,6BACb,yBAAKA,UAAU,6BACb,yBAAKA,UAAU,0CACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,qCAAf,mBAGA,yBAAKA,UAAU,kBAAf,sCAMN,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,uBAAf,eACA,yBAAKA,UAAU,kBACb,8BACE4K,MAAOpF,EAAU+d,YAAc/d,EAAU+d,YAAc,GACvDjU,SAAU,SAACC,GACTA,EAAEC,UACF0W,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEoU,YAAahU,EAAEG,OAAO9E,YAGpD5K,UAAU,uBACVO,MAAO,CAAEzB,OAAQ,cAKzB,yBAAKkB,UAAU,kBACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,kBAAf,cACA,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,gBAAgBO,MAAO,CAAEb,MAAO,UAC7C,kBAAC,KAAD,CACEkL,MAAOmM,KAAKC,OACV,IAAI7Y,KAAKqH,EAAUme,YACnB,cAEFK,UAAW,SAACzkB,GAAD,OACT,yBAAKS,UAAU,qBACb,kBAAC,KAAD,CACEO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,2CACMjR,EADN,CAEES,UAAU,8BACV4P,YAAY,kBAIlBqU,YAAa,SAACC,GACZ,GAAIA,EAAK,CACP,IAAIjkB,EAAI,IAAI9B,KAAKqH,EAAUme,YACvBQ,EAAOD,EAAIE,cACXC,EAAQH,EAAII,WACZC,EAAUL,EAAIM,UAClBvkB,EAAEwkB,YAAYN,GACdlkB,EAAEykB,SAASL,GACXpkB,EAAE0kB,QAAQJ,GACV2B,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEwU,WAAY1jB,EAAE2kB,oBAMlD,yBACE5kB,UAAU,yCACVO,MAAO,CAAEb,MAAO,UAEhB,kBAAC,KAAD,CACEa,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,kBAAC,KAAD,CACEqU,UAAW,KACXC,UAAW,KACX9kB,UAAU,aACVsP,SAAU,SAACjG,GACT,GAAIA,EAAG,CAAC,IAAD,EACQA,EAAEgG,MAAM,KADhB,mBACApE,EADA,KACGG,EADH,KAED2Z,EAAU,IAAI5mB,KAAKqH,EAAUme,YACjCoB,EAAQC,SAAS/Z,GACjB8Z,EAAQE,WAAW7Z,GACnB8a,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBwU,WAAYoB,EAAQH,iBAK5Bha,MAAO,IAAIzM,KAAKqH,EAAUme,kBAMpC,yBAAK3jB,UAAU,kBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,kBAAf,YACA,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,gBAAgBO,MAAO,CAAEb,MAAO,UAC7C,kBAAC,KAAD,CACEkL,MAAOmM,KAAKC,OACV,IAAI7Y,KAAKqH,EAAUoe,UACnB,cAEFI,UAAW,SAACzkB,GAAD,OACT,yBAAKS,UAAU,qBACb,kBAAC,KAAD,CACEO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,2CACMjR,EADN,CAEES,UAAU,8BACV4P,YAAY,kBAIlBqU,YAAa,SAACC,GACZ,GAAIA,EAAK,CACP,IAAIjkB,EAAI,IAAI9B,KAAKqH,EAAUoe,UACvBO,EAAOD,EAAIE,cACXC,EAAQH,EAAII,WACZC,EAAUL,EAAIM,UAClBvkB,EAAEwkB,YAAYN,GACdlkB,EAAEykB,SAASL,GACXpkB,EAAE0kB,QAAQJ,GACV2B,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEyU,SAAU3jB,EAAE2kB,oBAMhD,yBACE5kB,UAAU,yCACVO,MAAO,CAAEb,MAAO,UAEhB,kBAAC,KAAD,CACEa,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,kBAAC,KAAD,CACEqU,UAAW,KACXC,UAAW,KACX9kB,UAAU,aACVsP,SAAU,SAACjG,GACT,GAAIA,EAAG,CAAC,IAAD,EACQA,EAAEgG,MAAM,KADhB,mBACApE,EADA,KACGG,EADH,KAED2Z,EAAU,IAAI5mB,KAAKqH,EAAUoe,UACjCmB,EAAQC,SAAS/Z,GACjB8Z,EAAQE,WAAW7Z,GACnB8a,GAAa,SAAC/W,GAAD,OACX5T,OAAOC,OAAO,GAAI2T,EAAM,CACtByU,SAAUmB,EAAQH,iBAK1Bha,MAAO,IAAIzM,KAAKqH,EAAUoe,kBAQxC,yBAAK5jB,UAAU,+BAAf,6BAGA,yBAAKA,UAAU,uBACb,kBAAC,GAAD,CACE6e,SAAU,SAACsC,GAAD,OAAWjB,EAAaqG,EAAWpF,KAC7CnhB,UAAU,mEACVye,MAAO8H,EACP7H,QAAO,oBAAeuB,KAExB,yBAAKjgB,UAAU,wBAAwBO,MAAO,CAAE6S,SAAU,UACxD,kBAAC,KAAD,CACE1E,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACElO,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,QAErB5K,UAAU,mCAKlB,yBAAKA,UAAU,UACb,yBAAKA,UAAU,kBACb,kBAAC,KAAD,CACEO,MAAO,CAAE6gB,SAAU,QACnBC,aAAc,WACZjB,EACED,EAAoB,EAAI,EACpBA,EAAoB,EACpBA,IAGRmB,cAAe,WACblB,EACED,EAAoB,GAAK,EACrBA,EAAoB,EACpBA,KAIR,yBAAKngB,UAAU,oBACb,2BAAOA,UAAU,yBACf,+BACE,4BACE,wBAAIA,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QACE8E,EACGpT,MAAM8N,EAAW,GAAIA,EAAW,IAChChO,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,YAAUjE,SAC7BsZ,EAAW,GAAKA,EAAW,GAE7BzR,SAAU,SAACC,GACT+W,GAAc,SAACnX,GAEb,IADA,IAAI2R,EAAG,aAAO3R,GAER3H,EAAIuZ,EAAW,GACnBvZ,EAAIuZ,EAAW,GACfvZ,IAEAsZ,EAAItZ,GAAGkE,SAAW6D,EAAEG,OAAO6R,QAE7B,OAAOT,SAKf,wBAAI9gB,UAAU,wCACZ,yBAAKA,UAAU,qBAAf,aACA,yBAAKA,UAAU,qBAAf,OAEF,wBAAIA,UAAU,qDACXihB,EAAQd,IAEVc,EAAQ1T,KAAI,SAACuY,EAAEW,GAAH,OACX,wBAAIzmB,UAAU,oDAAoDwN,IAAG,gBAAWiZ,IAC9E,6BAAMX,SAKd,+BACGO,EAAW5e,OACV4e,EACGpT,MAAmB,GAAZ0G,EAAO,GAAqB,GAAZA,EAAO,GAAS,GACvCpM,KAAI,SAAC1N,EAAG2H,GAAJ,OACH,wBACExH,UAAU,2BACVwN,IAAG,yBAAoBhG,IAEvB,wBAAIxH,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QAAS1hB,EAAE6L,SACX4D,SAAU,SAACC,GACT+W,GAAc,SAACnX,GACb,IAAI2R,EAAG,aAAO3R,GAGd,OAFA2R,EAAiB,GAAZnH,EAAO,GAASnS,GAAGkE,SACtB6D,EAAEG,OAAO6R,QACJT,SAKf,wBAAIvgB,MAAO,CAAE+S,WAAY,WACvB,yBAAKtT,UAAU,uBACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACb7T,OAAO8b,OAAOlc,GAAasM,OACvBtM,EAAY0E,EAAEiV,QAAQ9Y,MACtB,GAHS,SAQpBT,OAAO8b,OAAOlc,GAAasM,OAC1B,yBAAKzH,UAAU,sCACb,yBAAKA,UAAU,mBACZ7E,EAAY0E,EAAEiV,QAAQ/Y,cAEzB,6BAAMZ,EAAY0E,EAAEiV,QAAQ5Y,QAG9B,IAGJ,wBACE8D,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGLzkB,EAAQmE,EAAEoK,UACPvO,EAAQmE,EAAEoK,UAAUwJ,YACpB,IAEN,wBACEzT,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGJtgB,EAAE6C,QAmBF,yBACE1C,UAAU,+CACVsK,QAAS,SAACiF,GACR,IAAIG,EAASH,EAAEgM,cAEb7L,EAAO8L,UAAUC,SAAS,gBAE1B/L,EAAO8L,UAAUE,OAAO,gBAExBhM,EAAO8L,UAAUG,IAAI,kBAIxB9b,EAAE6C,SA/BL,yBAAKnC,MAAO,CAAE6gB,SAAU,UACtB,yBACEphB,UAAU,+CACVsK,QAAS,SAACiF,GACR,IAAIG,EAASH,EAAEgM,cAEb7L,EAAO8L,UAAUC,SAAS,gBAE1B/L,EAAO8L,UAAUE,OAAO,gBAExBhM,EAAO8L,UAAUG,IAAI,kBAIxB9b,EAAEmC,UAqBX,wBACEhC,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGLtgB,EAAElE,OACY,YAAbkE,EAAElE,OACA,yBAAK4E,MAAO,CAAEoL,UAAW,SACvB,kBAAC,EAAD,CAAQnM,KAAM,MAGhB,yBAAKe,MAAO,CAAEqL,aAAc,SAC1B,kBAAC,IAAD,CACEnL,MACe,mBAAbZ,EAAElE,OACE,OACa,cAAbkE,EAAElE,OACF,QACa,YAAbkE,EAAElE,OACF,sBACA,OAEN+E,IAAI,WACJlB,KAAM,MAKZ,KAGJ,wBACEe,MAAO,CAAE+S,WAAY,UACrBtT,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,6BACGpJ,KAAKC,OACJ,IAAI7Y,KAAK0B,EAAEkX,MACX,0BAIN,wBACE/W,UAAS,UACNH,EAAE2hB,SAA0B,cAAf,aADP,YAGe,IAAtBrB,EACI,eACA,2BAGLtgB,EAAE2hB,SAAW,SAAW,oBAKjC,4BACE,wBAAIC,QAAS,EAAGzhB,UAAU,qBAA1B,yBAUd,yBAAKA,UAAU,sCACb,yBAAKA,UAAU,YACb,kBAAC,GAAD,CACE4T,MAAO1I,KAAKwM,KAAK2O,EAAW5e,OAAS,GACrCgB,QAASkR,EACT9F,WAAY+F,MAIlB,yBAAK5Z,UAAU,oBACb,yBACEO,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,GAChDjN,UAAU,sDAETiN,GAEH,yBAAKjN,UAAU,kBACb,yBACEA,UAAU,4EACVsK,QAAS,kBAAMmY,MAFjB,UAMA,yBACEziB,UAAU,kEACVsK,QAAO,sBAAE,gCAAAjB,EAAA,2DACHgV,EAAUJ,EAAYlL,QAAO,SAAClT,GAAD,OAAQA,EAAEqe,UAC/BzW,OAFL,gBAGLyF,EAAWmR,EAAQ,GAAGxU,OAHjB,8BAKD6c,EAASL,EACVtT,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,YAChB6B,KAAI,SAAC1N,GAAD,OACHtE,OAAOC,OAAO,GAAIgK,EAAW,CAC3BkgB,aAAc7lB,EAAE6C,QAAU,UAAY,SACtC8D,QAAS3G,EAAE6C,QACP,CAAEA,QAAS7C,EAAE6C,SACb,CAAEV,OAAQnC,EAAEmC,OAAQrG,OAAQkE,EAAElE,QAClCgb,WAAY9W,EAAEsQ,IACdqK,eAAgB3a,EAAEiV,OAClBrB,YAAa5T,EAAE4T,YACfC,aAAc7T,EAAE6T,aAChBF,aAAc3T,EAAE2T,aAChBuC,mBAAoBlW,EAAEkW,mBACtB9L,SAAUpK,EAAEoK,cAGlBd,GAAW,GAtBN,S1C9XdvI,EAAgB,2B0CqZ0B8lB,GAvB5B,OAuBDplB,EAvBC,OAwBL6H,GAAW,GACP7H,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,qBACPC,QAAS,uCACTvB,KAAM,aAGVmnB,KA3CG,6CAgDT,kBAAC,GAAD,CACEpY,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KA9DV,eCxEGmnB,GArgBO,SAAC,GAIhB,IAHLC,EAGI,EAHJA,oBACAC,EAEI,EAFJA,2BACAC,EACI,EADJA,6BACI,EACwB7f,mBAAS,IADjC,mBACG5L,EADH,KACWykB,EADX,OAEoB7Y,mBAAS,IAF7B,mBAEG3L,EAFH,KAES0nB,EAFT,OAG8B/b,mBAAS,WAHvC,mBAGGgZ,EAHH,KAGcC,EAHd,OAI8CjZ,mBAAS,GAJvD,mBAIGkZ,EAJH,KAIsBC,EAJtB,OAKoBnZ,mBAAS,GAL7B,mBAKG0S,EALH,KAKSC,EALT,OAMgC3S,mBAAS,IANzC,mBAMGgc,EANH,KAMeC,EANf,OAOwBjc,mBAAS,IAPjC,mBAOGzK,EAPH,KAOW+jB,EAPX,OAQgCtZ,mBAAS,CAAEuG,IAAK,GAAI5C,MAAO,KAR3D,mBAQG4V,EARH,KAQeC,EARf,OASsCxZ,mBAAS,IAT/C,mBASG3K,EATH,KASkByqB,EATlB,OAUsD9f,mBAAS,IAV/D,mBAUG+f,EAVH,KAU0BC,EAV1B,OAW0BhgB,oBAAS,GAXnC,mBAWG2Z,EAXH,KAWYC,EAXZ,KAaJzZ,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,sEACmB3D,KADnB,QACM5E,EADN,QAEY+I,OACRkd,EACEjmB,EAAKqZ,UAAU5M,KAAI,SAAC1N,GAAD,OAAOtE,OAAOC,OAAO,GAAIqE,EAAG,CAAE6L,UAAU,QAJjE,4CADc,uBAAC,WAAD,wBAUd+B,KACC,CAACmT,IAEJ,IAAM6C,GAAQ,CAAC,MAAO,QAAS,UAE/Brc,qBAAU,WACR,IAAI0Z,EAAG,aAAOxkB,GACVA,EAAcmL,SACZjL,IACgB,YAAdyjB,EACFa,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OACfA,EAAEqnB,QAAQ1b,cAAcwH,SAASxW,EAAOgP,kBAEnB,gBAAdyU,IACTa,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OACfA,EAAE0jB,YAAY/X,cAAcwH,SAASxW,EAAOgP,oBAK9CyX,IACFnC,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OAAOA,EAAEvE,OAAS2nB,MAGjCzC,EAAWhT,MACbsT,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OAAOA,EAAE2gB,EAAWhT,OAASgT,EAAW5V,UAG3Dqc,EAAyBnG,MAE1B,CAACtkB,EAAQymB,EAAY3mB,EAAekkB,IAGvC,IAAIO,GAAa,CAAc,GAAZpH,EAAO,GAAqB,GAAZA,EAAO,GAAS,GAC/CoH,GAAW,IAAMiG,EAAsBvf,SACzCsZ,GAAW,GACTA,GAAW,IAAMA,GAAW,GAAKiG,EAAsBvf,SAG3D,IAEMuZ,GAAW,uCAAG,4CAAA3X,EAAA,0FAEhB6Z,EAAc5nB,GAED,SAAXD,EAJc,iBAKZqQ,EAAWsb,EAAsBjU,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,aACxCjE,SACXmf,EAAoBlb,EAAS,IAC7Bmb,KARc,0BAUI,WAAXxrB,EAVO,sBAWZqQ,EAAWsb,EAAsBjU,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,aACxCjE,OAZG,kCAaE5B,GACd6F,EAAS6B,KAAI,SAAC1N,GAAD,OAAOA,EAAEsQ,OACtB,CAAEuT,OAAQ,YAfE,SAaVpiB,EAbU,QAiBNuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iCACPC,QAAS,mDACTvB,KAAM,aAGV2D,EAAMwK,SAAS,CACbnO,KAAM,cACNiB,aAAc,CAAEuH,OAAQ3F,KAAKC,UAGjCyiB,GAAYD,GAxCE,4CAAH,qDA6CjB,OACE,yBAAK5gB,UAAU,+BACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,+DACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCAAf,iBAGA,yBAAKA,UAAU,kBAAf,0CAIF,yBACEA,UAAU,qDACVsK,QAAS,kBAAMwc,MAFjB,aAQJ,yBAAK9mB,UAAU,UACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,0BACb,yBACEsK,QAAS,WACP4Y,EAAc,IACdF,EAAQ,IACRvC,EAAc,CAAEjT,IAAK,GAAI5C,MAAO,MAElC5K,UAAS,kCACNijB,GAAezC,EAAWhT,IAAuB,YAAjB,iBAPrC,QAUQlR,EAAcmL,OAVtB,KAvEK,CAAC,OAAQ,UAAW,WAmFf8F,KAAI,SAAC1N,EAAG2H,GAAJ,OACZ,kBAAC,IAAMkG,SAAP,CAAgBF,IAAG,iBAAYhG,IAC7B,yBAAKxH,UAAU,4BAAf,KACA,yBACEsK,QAAS,kBACPmW,GAAc,SAACtR,GAAD,OACZ5T,OAAOC,OAAO,CAAEgS,IAAK,SAAU5C,MAAO/K,QAG1CG,UAAS,kCACY,WAAnBwgB,EAAWhT,KAAoBgT,EAAW5V,QAAU/K,EAChD,eACA,cAGLA,EAZH,KAYQvD,EAAcyW,QAAO,SAACnT,GAAD,OAAOA,EAAE8jB,SAAW7jB,KAAG4H,OAZpD,UAiBN,yBAAKzH,UAAU,0CACb,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,qBACbC,SAAU,SAACsC,GAAD,OAAWrB,EAAU,CAAC,UAAUqB,KAC1C1C,MAAO,CAAC,UACRC,QAASrjB,GAAkB,gBAC3B2E,UAAU,gCAIhB,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,qBACbC,SAAU,SAACsC,GAAD,OAAW6B,EAAQS,GAAMtC,KACnC1C,MAAOgF,GACP/E,QAASpjB,GAAc,cACvB0E,UAAU,gCAIhB,yBACEsK,QAAS,kBAAM0W,IAAY,IAC3BhhB,UAAU,yEAFZ,WAQJ,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,uBACb,kBAAC,GAAD,CACE4e,aAAa,QACbC,SAAU,SAACsC,GAAD,OACRjB,EAAa,CAAC,UAAW,eAAeiB,KAE1CnhB,UAAU,qBACVye,MAAO,CAAC,UAAW,eACnBC,QAAO,oBAAeuB,MAG1B,yBAAKjgB,UAAU,uBACb,yBAAKA,UAAU,4BACb,kBAAC,KAAD,CACE0O,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACE9Y,UAAU,8BACV4K,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,aAM7B,yBAAK5K,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE6e,SAAU,SAACsC,GAAD,OACRjB,EAAa,CAAC,UAAW,eAAeiB,KAE1CnhB,UAAU,sCACVye,MAAO,CAAC,UAAW,eACnBC,QAAO,oBAAeuB,KAExB,yBAAKjgB,UAAU,yBACb,kBAAC,KAAD,CACE0O,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACElO,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,QAErB5K,UAAU,wBACVO,MAAO,CAAE6gB,SAAU,eAM7B,yBAAKphB,UAAU,kBACb,kBAAC,KAAD,CACEO,MAAO,CAAE6gB,SAAU,QACnBC,aAAc,WACZjB,EACED,EAAoB,EAAI,EACpBA,EAAoB,EACpBA,IAGRmB,cAAe,WACblB,EACED,EAAoB,GAAK,EACrBA,EAAoB,EACpBA,KAIR,yBAAKngB,UAAU,oBACb,2BAAOA,UAAU,yBACf,+BACE,4BACE,wBAAIA,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QACEyF,EACG/T,MAAM8N,GAAW,GAAIA,GAAW,IAChChO,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,YAAUjE,SAC7BsZ,GAAW,GAAKA,GAAW,GAE7BzR,SAAU,SAACC,GACT0X,GAAyB,SAAC9X,GAExB,IADA,IAAI2R,EAAG,aAAO3R,GAER3H,EAAIuZ,GAAW,GACnBvZ,EAAIuZ,GAAW,GACfvZ,IAEAsZ,EAAItZ,GAAGkE,SAAW6D,EAAEG,OAAO6R,QAE7B,OAAOT,SAKf,wBAAI9gB,UAAU,wCAAd,WAGA,wBAAIA,UAAU,qDAEV,CAAC,OAAQ,cAAe,WAAY,UAClCmgB,IAIN,wBAAIngB,UAAU,qDACZ,sCAEF,wBAAIA,UAAU,qDACZ,6CAEF,wBAAIA,UAAU,qDACZ,0CAEF,wBAAIA,UAAU,qDACZ,0CAIN,+BACGgnB,EAAsBvf,OACrBuf,EACG/T,MAAmB,GAAZ0G,EAAO,GAAqB,GAAZA,EAAO,GAAS,GACvCpM,KAAI,SAAC1N,EAAG2H,GAAJ,OACH,wBACExH,UAAU,2BACVwN,IAAG,yBAAoBhG,IAEvB,wBAAIxH,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QAAS1hB,EAAE6L,SACX4D,SAAU,SAACC,GACT0X,GAAyB,SAAC9X,GACxB,IAAI2R,EAAG,aAAO3R,GAGd,OAFA2R,EAAiB,GAAZnH,EAAO,GAASnS,GAAGkE,SACtB6D,EAAEG,OAAO6R,QACJT,SAKf,wBAAIvgB,MAAO,CAAE+S,WAAY,WACvB,yBAAKtT,UAAU,QAAQH,EAAEqnB,SACzB,yBAAKlnB,UAAU,UACb,yBACEA,UAAU,8BACVsK,QAAS,WACPsc,EAAoB/mB,GACpBgnB,MAJJ,QASA,yBAAK7mB,UAAU,QAAf,KACA,yBACEA,UAAU,6BACVsK,QAAO,sBAAE,4BAAAjB,EAAA,sEACSxD,GACd,CAAChG,EAAEsQ,KACH,CAAEuT,OAAQ,YAHL,QACHpiB,EADG,QAKCuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,2BACPC,QACE,wCACFvB,KAAM,aAGV2D,EAAMwK,SAAS,CACbnO,KAAM,cACNiB,aAAc,CAAEuH,OAAQ3F,KAAKC,UAGjCyiB,GAAYD,GA7BL,4CAFX,YAsCJ,wBACE5gB,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,6BAAMtgB,EAAEvE,OAEV,wBACE0E,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,yBACE5f,MAAO,CAAE6gB,SAAU,SACnBphB,UAAU,+CACVsK,QAAS,SAACiF,GACR,IAAIG,EAASH,EAAEgM,cAEb7L,EAAO8L,UAAUC,SAAS,gBAE1B/L,EAAO8L,UAAUE,OAAO,gBAExBhM,EAAO8L,UAAUG,IAAI,kBAIxB9b,EAAE0jB,cAGP,wBACEvjB,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,yBAAKngB,UAAU,eACb,yBAAKO,MAAO,CAAEb,MAAO,SAArB,SACA,6BACE,yBAAKa,MAAO,CAAE+S,WAAY,WACvByD,KAAKC,OACJ,IAAI7Y,KAAK0B,EAAE8jB,YACX,2BAKR,yBAAK3jB,UAAU,UACb,yBAAKO,MAAO,CAAEb,MAAO,SAArB,OACA,6BACE,yBAAKa,MAAO,CAAE+S,WAAY,WACvByD,KAAKC,OACJ,IAAI7Y,KAAK0B,EAAE+jB,UACX,4BAMV,wBACE5jB,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGLtgB,EAAE6jB,YAKX,4BACE,wBAAIjC,QAAS,EAAGzhB,UAAU,qBAA1B,yBAUd,yBAAKA,UAAU,gEACb,yBAAKA,UAAU,YACb,kBAAC,GAAD,CACE4T,MAAO1I,KAAKwM,KAAKsP,EAAsBvf,OAAS,GAChDgB,QAASkR,EACT9F,WAAY+F,W,8BCjgBxBuN,GAAYC,cAAW,SAAC7gB,GAAD,MAAY,CACvC8gB,UAAW,CACT,qCAAsC,CACpCC,OAAQ,aAKR/gB,GAAQ+Y,aAAe,CAC3BC,QAAS,CACPC,QAAS,CACPC,KAAM,mBAERC,UAAW,CACTD,KAAM,cA2BG8H,GAtBM,SAAChoB,GACpB,IAAMioB,EAAUL,KAChB,OACE,kBAAC,KAAD,CAAkB5gB,MAAOA,IACvB,kBAAC,KAAD,iBACMhH,EADN,CAEEioB,QAASA,EACTC,UAAQ,EACRppB,GAAG,gBACHqpB,uBAAqB,EACrBC,YAAa,SAAC7b,GAAD,OACX,kBAAC8b,GAAA,EAAD,iBACM9b,EADN,CAEE+b,QAAQ,WACRjY,YAAarQ,EAAMqQ,qBCsVhB5G,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBS,KAAMR,EAAMQ,MACTqN,KAIQD,EAhXU,SAAC,GAKnB,IAJL8e,EAII,EAJJA,oBACArF,EAGI,EAHJA,QACAtnB,EAEI,EAFJA,YACAS,EACI,EADJA,KAEM6nB,EAAQ,CAAC,MAAO,QAAS,UAE3BsE,EAAc5pB,KAAKC,MAHnB,EAKoC6I,mBAAS,CAC/C3L,KAAM,GACN4rB,QAAS,GACTvD,WAAYoE,EACZnE,SAAUmE,EACVC,UAAW,GACXzE,YAAa,GACbG,OAAQ,YAZN,mBAKG/mB,EALH,KAKiBsrB,EALjB,KAeElE,EAAW,CAAC,OAAQ,UAAW,WAfjC,EAiB0B9c,mBAAS,IAjBnC,mBAiBGgG,EAjBH,KAiBYC,EAjBZ,OAkB0BjG,oBAAS,GAlBnC,mBAkBG0B,EAlBH,KAkBYQ,EAlBZ,KAoBE8U,EAAc,CAClB,CAAEC,MAAOvhB,EAAauqB,QAASrd,MAAO,uBACtC,CAAEqU,MAAOvhB,EAAarB,KAAMuO,MAAO,4BACnC,CACEqU,MAAOvhB,EAAaqrB,UAAUvgB,OAC9BoC,MAAO,gCAET,CAAEqU,MAAOvhB,EAAa4mB,YAAa1Z,MAAO,4BAG5CzC,qBAAU,WACRjI,OAAOmc,SAAS,EAAG,KAClB,IAEHlU,qBAAU,WACR6gB,EAAgBH,KACf,CAACA,IAUJ,OACE,yBAAK9nB,UAAU,6BACb,yBAAKA,UAAU,kCACb,yBAAKA,UAAU,qCAAf,qBAGA,yBAAKA,UAAU,kBAAf,+BAEF,yBAAKA,UAAU,SAASO,MAAO,CAAE6S,SAAU,UACzC,yBAAKpT,UAAU,uBACb,yBAAKA,UAAU,eAAf,WACA,yBAAKA,UAAU,UACb,2BACEoe,SAAgC,WAAtBzhB,EAAarB,KACvBA,KAAK,OACL0E,UAAS,gBACe,WAAtBrD,EAAarB,KACT,uBACA,cAHG,SAKTsP,MAAOjO,EAAauqB,QACpB5X,SAAU,SAACC,GACTA,EAAEC,UACFyY,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE+X,QAAS3X,EAAEG,OAAO9E,gBAMtD,yBAAK5K,UAAU,uBACb,yBAAKA,UAAU,eAAf,QACA,kBAAC,GAAD,CACEoe,SAAgC,WAAtBzhB,EAAarB,KACvBsjB,aAAa,mBACb5e,UAAS,qBACe,WAAtBrD,EAAarB,KAAoB,YAAc,GADxC,WAGTojB,QAAS/hB,EAAarB,KAAOqB,EAAarB,KAAO,SACjDmjB,MAAOgF,EACP5E,SAAU,SAACsC,GAAD,OACR8G,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE7T,KAAMmoB,EAAMtC,YAK9C,yBAAKnhB,UAAU,uBACb,yBAAKA,UAAU,eAAf,mBACA,kBAAC,GAAD,CACEoe,SAAgC,WAAtBzhB,EAAarB,KACvBsP,MAAOjO,EAAaqrB,UACpB1Y,SAAU,SAACC,EAAG2Y,GACZD,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE6Y,UAAWE,QAGzCtY,YAAa,qBACbvF,MAAO,UACPrK,UAAS,6CACe,WAAtBrD,EAAarB,KAAoB,YAAc,IAEjD6sB,QAAS5sB,OAAOkhB,KAtEE,CAC1B2L,IAAK,MACL,YAAa,OACb,aAAc,gBACd,iBAAkB,WAClB,eAAgB,WAiEkCrc,OACxCxQ,OAAO8b,OAAOlc,GAAa4X,QAAO,SAAClT,GAAD,MAAoB,YAAbA,EAAE6jB,WAE7C2E,eAAgB,SAACC,GAAD,OACdA,EAAOvsB,aAAeusB,EAAOvsB,aAAeusB,MAIlD,yBAAKtoB,UAAU,uBACb,yBAAKA,UAAU,eAAf,eACA,yBAAKA,UAAU,UACb,8BACEoe,SAAgC,WAAtBzhB,EAAarB,KACvBsP,MAAOjO,EAAa4mB,YACpBjU,SAAU,SAACC,GACTA,EAAEC,UACF,IAAIC,EAAOF,EAAEG,OAAO9E,MAChB6E,EAAKJ,MAAM,KAAK5H,QAAU,KAC5BwgB,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEoU,YAAa9T,QAI7CzP,UAAS,UACe,WAAtBrD,EAAarB,KACT,0BACA,iBAHG,UAKTiF,MAAO,CAAEzB,OAAQ,YAIrB,yBACEkB,UAAS,iBACPrD,EAAa4mB,YAAYlU,MAAM,KAAK5H,QAAU,IAC1C,aACA,gBAGL9K,EAAa4mB,YACV,IAAM5mB,EAAa4mB,YAAYlU,MAAM,KAAK5H,OAC1C,IATN,eAaF,yBAAKzH,UAAU,kBACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,kBAAf,QACA,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,gBAAgBO,MAAO,CAAEb,MAAO,UAC7C,kBAAC,KAAD,CACEkL,MAAOmM,KAAKC,OACV,IAAI7Y,KAAKxB,EAAagnB,YACtB,cAEFK,UAAW,SAACzkB,GAAD,OACT,yBAAKS,UAAU,qBACb,kBAAC,KAAD,CACEO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,yCACE4N,SAAgC,WAAtBzhB,EAAarB,MACnBiE,EAFN,CAGES,UAAS,qBACe,WAAtBrD,EAAarB,KAAoB,YAAc,GADxC,oBAGTsU,YAAY,kBAIlBqU,YAAa,SAACC,GACZ,GAAIA,EAAK,CACP,IAAIjkB,EAAI,IAAI9B,KAAKxB,EAAagnB,YAC1BQ,EAAOD,EAAIE,cACXC,EAAQH,EAAII,WACZC,EAAUL,EAAIM,UAClBvkB,EAAEwkB,YAAYN,GACdlkB,EAAEykB,SAASL,GACXpkB,EAAE0kB,QAAQJ,GACV0D,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEwU,WAAY1jB,EAAE2kB,oBAMlD,yBACE5kB,UAAS,gDACe,WAAtBrD,EAAarB,KAAoB,YAAc,IAEjDiF,MAAO,CAAEb,MAAO,UAEhB,kBAAC,KAAD,CACEa,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGa,WAAtB7T,EAAarB,KACZ,yBAAK0E,UAAU,cACZ+W,KAAKC,OACJ,IAAI7Y,KAAKxB,EAAagnB,YACtB,YAIJ,kBAAC,KAAD,CACEkB,UAAW,KACXC,UAAW,KACX9kB,UAAU,aACVsP,SAAU,SAACjG,GACT,GAAIA,EAAG,CAAC,IAAD,EACQA,EAAEgG,MAAM,KADhB,mBACApE,EADA,KACGG,EADH,KAED2Z,EAAU,IAAI5mB,KAAKxB,EAAagnB,YACpCoB,EAAQC,SAAS/Z,GACjB8Z,EAAQE,WAAW7Z,GACnB6c,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBwU,WAAYoB,EAAQH,iBAK5Bha,MAAO,IAAIzM,KAAKxB,EAAagnB,oBAS7C,yBAAK3jB,UAAU,uBACb,yBAAKA,UAAU,eAAf,UACA,kBAAC,GAAD,CACEoe,SAAgC,WAAtBzhB,EAAarB,KACvBsjB,aAAa,mBACb5e,UAAS,qBACe,WAAtBrD,EAAarB,KAAoB,YAAc,GADxC,WAGTojB,QACE/hB,EAAa+mB,OAAS/mB,EAAa+mB,OAAS,gBAE9CjF,MAAOsF,EACPlF,SAAU,SAACsC,GAAD,OACR8G,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEuU,OAAQK,EAAS5C,YAKnD,yBACE5gB,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,GAChDjN,UAAU,sDAETiN,GAEoB,WAAtBtQ,EAAarB,KACZ,yBAAK0E,UAAU,kBACb,yBACEA,UAAU,4EACVsK,QAASmY,GAFX,UAMA,yBACEziB,UAAU,kEACVsK,QAAO,sBAAE,gCAAAjB,EAAA,2DACHgV,EAAUJ,EAAYlL,QAAO,SAAClT,GAAD,OAAQA,EAAEqe,UAC/BzW,OAFL,gBAGLyF,EAAWmR,EAAQ,GAAGxU,OAHjB,8BAKLV,GAAW,GALN,SAOW+b,GAAKvoB,GAPhB,UAOD2E,EAPC,OAQL6H,GAAW,IACP7H,EAAIuI,MATH,iBAUH5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAfP,+BAmBH2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,sBACPC,QAAS,uCACTvB,KAAM,aAxBP,UA2BqBiI,EAAQ3H,EAAKuU,KA3BlC,QA2BC3G,EA3BD,OA4BHvK,EAAMwK,SAAS,CACbnO,KAAM,WACNM,KAAM4N,IAERiZ,IAhCG,6CAqCT,kBAAC,GAAD,CACEpY,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KAnDV,SAyDF,yBAAKQ,UAAU,kBACb,yBACEA,UAAU,kEACVsK,QAASmY,GAFX,iBCpCGzZ,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBS,KAAMR,EAAMQ,MACTqN,KAIQD,EAvTY,SAAC,GAAoC,IAAlC7N,EAAiC,EAAjCA,YAAasnB,EAAoB,EAApBA,QAAS7mB,EAAW,EAAXA,KAC5C6nB,EAAQ,CAAC,MAAO,QAAS,UAC3BsE,EAAc5pB,KAAKC,MAFsC,EAGrB6I,mBAAS,CAC/C3L,KAAM,GACN4rB,QAAS,GACTc,UAAW,GACXrE,WAAYoE,EACZnE,SAAUmE,EACVxE,YAAa,GACbG,OAAQ,SAVmD,mBAGtD/mB,EAHsD,KAGxCsrB,EAHwC,OAa/BhhB,mBAAS,IAbsB,mBAatDgG,EAbsD,KAa7CC,EAb6C,OAc/BjG,oBAAS,GAdsB,mBActD0B,EAdsD,KAc7CQ,EAd6C,KAevD4a,EAAW,CAAC,OAAQ,UAAW,WAC/B9F,EAAc,CAClB,CAAEC,MAAOvhB,EAAauqB,QAASrd,MAAO,uBACtC,CAAEqU,MAAOvhB,EAAarB,KAAMuO,MAAO,4BACnC,CACEqU,MAAOvhB,EAAaqrB,UAAUvgB,OAC9BoC,MAAO,gCAET,CAAEqU,MAAOvhB,EAAa4mB,YAAa1Z,MAAO,4BAW5C,OACE,yBAAK7J,UAAU,6BACb,yBAAKA,UAAU,kCACb,yBAAKA,UAAU,qCAAf,wBAGA,yBAAKA,UAAU,kBAAf,yDAIF,yBAAKA,UAAU,SAASO,MAAO,CAAE6S,SAAU,UACzC,yBAAKpT,UAAU,uBACb,yBAAKA,UAAU,eAAf,WACA,yBAAKA,UAAU,UACb,2BACE1E,KAAK,OACL0E,UAAU,yBACV4K,MAAOjO,EAAauqB,QACpB5X,SAAU,SAACC,GACTA,EAAEC,UACFyY,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE+X,QAAS3X,EAAEG,OAAO9E,gBAMtD,yBAAK5K,UAAU,uBACb,yBAAKA,UAAU,eAAf,QACA,kBAAC,GAAD,CACE4e,aAAa,mBACb5e,UAAU,2BACV0e,QAAS/hB,EAAarB,KAAOqB,EAAarB,KAAO,SACjDmjB,MAAOgF,EACP5E,SAAU,SAACsC,GAAD,OACR8G,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE7T,KAAMmoB,EAAMtC,YAK9C,yBAAKnhB,UAAU,uBACb,yBAAKA,UAAU,eAAf,mBAEA,kBAAC,GAAD,CACE4K,MAAOjO,EAAaqrB,UACpB1Y,SAAU,SAACC,EAAG2Y,GACZD,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE6Y,UAAWE,QAGzCtY,YAAa,qBACbvF,MAAO,UACPrK,UAAU,sCACVmoB,QAAS5sB,OAAOkhB,KA9DE,CAC1B2L,IAAK,MACL,YAAa,OACb,aAAc,gBACd,iBAAkB,WAClB,eAAgB,WAyDkCrc,OACxCxQ,OAAO8b,OAAOlc,GAAa4X,QAAO,SAAClT,GAAD,MAAoB,YAAbA,EAAE6jB,WAE7C2E,eAAgB,SAACC,GAAD,OACdA,EAAOvsB,aAAeusB,EAAOvsB,aAAeusB,MAIlD,yBAAKtoB,UAAU,uBACb,yBAAKA,UAAU,eAAf,eACA,yBAAKA,UAAU,UACb,8BACE4K,MAAOjO,EAAa4mB,YACpBjU,SAAU,SAACC,GACTA,EAAEC,UACF,IAAIC,EAAOF,EAAEG,OAAO9E,MAChB6E,EAAKJ,MAAM,KAAK5H,QAAU,KAC5BwgB,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEoU,YAAa9T,QAI7CzP,UAAU,uBACVO,MAAO,CAAEzB,OAAQ,YAIrB,yBACEkB,UAAS,iBACPrD,EAAa4mB,YAAYlU,MAAM,KAAK5H,QAAU,IAC1C,aACA,gBAGL9K,EAAa4mB,YACV,IAAM5mB,EAAa4mB,YAAYlU,MAAM,KAAK5H,OAC1C,IATN,eAaF,yBAAKzH,UAAU,kBACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,kBAAf,QACA,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,gBAAgBO,MAAO,CAAEb,MAAO,UAC7C,kBAAC,KAAD,CACEkL,MAAOmM,KAAKC,OACV,IAAI7Y,KAAKxB,EAAagnB,YACtB,cAEFK,UAAW,SAACzkB,GAAD,OACT,yBAAKS,UAAU,qBACb,kBAAC,KAAD,CACEO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,2CACMjR,EADN,CAEES,UAAU,8BACV4P,YAAY,kBAIlBqU,YAAa,SAACC,GACZ,GAAIA,EAAK,CACP,IAAIjkB,EAAI,IAAI9B,KAAKxB,EAAagnB,YAC1BQ,EAAOD,EAAIE,cACXC,EAAQH,EAAII,WACZC,EAAUL,EAAIM,UAClBvkB,EAAEwkB,YAAYN,GACdlkB,EAAEykB,SAASL,GACXpkB,EAAE0kB,QAAQJ,GACV0D,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEwU,WAAY1jB,EAAE2kB,oBAMlD,yBACE5kB,UAAU,yCACVO,MAAO,CAAEb,MAAO,UAEhB,kBAAC,KAAD,CACEa,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRF,KAAM,UAGV,kBAAC,KAAD,CACEqU,UAAW,KACXC,UAAW,KACX9kB,UAAU,aACVsP,SAAU,SAACjG,GACT,GAAIA,EAAG,CAAC,IAAD,EACQA,EAAEgG,MAAM,KADhB,mBACApE,EADA,KACGG,EADH,KAED2Z,EAAU,IAAI5mB,KAAKxB,EAAagnB,YACpCoB,EAAQC,SAAS/Z,GACjB8Z,EAAQE,WAAW7Z,GACnB6c,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBwU,WAAYoB,EAAQH,iBAK5Bha,MAAO,IAAIzM,KAAKxB,EAAagnB,oBAQ3C,yBAAK3jB,UAAU,uBACb,yBAAKA,UAAU,eAAf,UACA,kBAAC,GAAD,CACE4e,aAAa,mBACb5e,UAAU,qBACV0e,QACE/hB,EAAa+mB,OAAS/mB,EAAa+mB,OAAS,gBAE9CjF,MAAOsF,EACPlF,SAAU,SAACsC,GAAD,OACR8G,GAAgB,SAAC9Y,GAAD,OACd5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEuU,OAAQK,EAAS5C,YAKnD,yBACE5gB,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,GAChDjN,UAAU,sDAETiN,GAEH,yBAAKjN,UAAU,kBACb,yBACEA,UAAU,4EACVsK,QAASmY,GAFX,UAMA,yBACEziB,UAAU,kEACVsK,QAAO,sBAAE,gCAAAjB,EAAA,2DACHgV,EAAUJ,EAAYlL,QAAO,SAAClT,GAAD,OAAQA,EAAEqe,UAC/BzW,OAFL,gBAGLyF,EAAWmR,EAAQ,GAAGxU,OAHjB,8BAKLV,GAAW,GALN,SAOWxD,GAAmBhJ,GAP9B,UAOD2E,EAPC,OAQL6H,GAAW,IACP7H,EAAIuI,MATH,iBAUH5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,aAfP,+BAmBH2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,uBACPC,QAAS,wCACTvB,KAAM,aAxBP,UA2BqBiI,EAAQ3H,EAAKuU,KA3BlC,QA2BC3G,EA3BD,OA4BHvK,EAAMwK,SAAS,CACbnO,KAAM,WACNM,KAAM4N,IAGRiZ,IAjCG,6CAsCT,kBAAC,GAAD,CACEpY,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KApDV,c,UC0TKwJ,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACLvN,QAASN,EAAMM,QACfP,YAAaC,EAAMD,aAChB8N,KAIQD,EAziBD,SAAC,GAMR,IALLuf,EAKI,EALJA,YACAC,EAII,EAJJA,mBACAC,EAGI,EAHJA,qBACAttB,EAEI,EAFJA,YAEI,KADJO,QAE4BuL,mBAAS,KADjC,mBACG5L,EADH,KACWykB,EADX,OAEoB7Y,mBAAS,IAF7B,mBAEG8Y,EAFH,KAESC,EAFT,OAG8B/Y,mBAAS,QAHvC,mBAGGgZ,EAHH,KAGcC,EAHd,OAI8CjZ,mBAAS,GAJvD,mBAIGkZ,EAJH,KAIsBC,EAJtB,OAKoBnZ,mBAAS,GAL7B,mBAKG0S,EALH,KAKSC,EALT,OAMgC3S,mBAAS,IANzC,mBAMGoZ,EANH,KAMeC,EANf,OAOoCrZ,mBAAS,IAP7C,mBAOGyhB,EAPH,KAOiBC,EAPjB,OAQwB1hB,mBAAS,IARjC,mBAQGzK,EARH,KAQW+jB,EARX,OAUsBtZ,mBAAS,IAV/B,mBAUG2hB,EAVH,KAUUC,EAVV,OAWsC5hB,mBAAS,IAX/C,mBAWG6hB,EAXH,KAWkBC,EAXlB,OAY0B9hB,oBAAS,GAZnC,oBAYG2Z,GAZH,MAYYC,GAZZ,MAcJzZ,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,sEACmB/E,KADnB,OACMxD,EADN,OAEE+nB,EAAS/nB,EAAKyM,KAAI,SAAC1N,GAAD,OAAOtE,OAAOC,OAAO,GAAIqE,EAAG,CAAE6L,UAAU,QAF5D,4CADc,uBAAC,WAAD,wBAMd+B,KACC,CAACmT,KAEJxZ,qBAAU,WACR,IAAI0Z,EAAG,aAAO8H,GACVA,EAAMnhB,SACJjL,IACgB,SAAdyjB,EACFa,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OACfA,EAAE9D,aAAayP,cAAcwH,SAASxW,EAAOgP,kBAExB,UAAdyU,IACTa,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OACfA,EAAE3D,MAAMsP,cAAcwH,SAASxW,EAAOgP,oBAKxC6U,IACFS,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OAAOA,EAAEkgB,OAASM,MAGjCqI,IACF5H,EAAMA,EAAI/N,QAAO,SAAClT,GAAD,OAAOA,EAAE6jB,SAAWgF,OAGzCK,EAAiBjI,KAChB,CAACtkB,EAAQ6jB,EAAYuI,EAAOF,IAG/B,IAAI3H,GAAa,CAAc,GAAZpH,EAAO,GAAqB,GAAZA,EAAO,GAAS,GAC/CoH,GAAW,IAAM+H,EAAcrhB,SACjCsZ,GAAW,GAAKA,GAAW,IAAMA,GAAW,GAAK+H,EAAcrhB,SAGjE,IAAMuZ,GAAW,uCAAG,8CAAA3X,EAAA,0FAEhBiX,EAAuB,QAATP,EAAiB,GAAKA,KAElCrU,EAAWod,EAAc/V,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,aAEhCjE,OANK,oBAOD,SAAXpM,EAPY,gBAQdktB,EAAY7c,EAAS,IACrB8c,IATc,8BAWV1kB,EAAS,GACE,WAAXzI,EACFyI,EAAM,OAAa,UACC,eAAXzI,EACTyI,EAAM,OAAa,WACC,UAAXzI,EACTyI,EAAM,OAAa,UACC,aAAXzI,IACTyI,EAAM,OAAa,UAnBP,UAqBEgB,GACd4G,EAAS6B,KAAI,SAAC1N,GAAD,OAAOA,EAAEsQ,OACtBzE,EAAS6B,KAAI,SAAC1N,GAAD,OAAO1E,EAAY0E,EAAEsQ,KAAKA,OACvCrM,GAxBY,SAqBVxC,EArBU,QA2BNuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,gBACPC,QAAS,iCACTvB,KAAM,aAGVulB,IAAYD,IACRoI,EAVC,eAUqB7tB,GAC1BuQ,EAAS/B,SAAQ,SAAC9J,GAChBmpB,EAAenpB,EAAEsQ,KAAKuT,OAAS5f,EAAM,UAEvC7E,EAAMwK,SAAS,CACbnO,KAAM,kBACNH,YAAa6tB,KApDH,4CAAH,qDA2DXC,GAAS,uCAAG,WAAOnlB,EAAQc,EAAKG,GAApB,eAAAsE,EAAA,sEACAvE,GAAkBF,EAAKG,EAAMjB,GAD7B,QACZxC,EADY,QAERuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,gBACPC,QAAS,iCACTvB,KAAM,aAGVulB,IAAYD,KApBE,2CAAH,0DAuBT4C,GAAU,CAAC,QAAS,aAAc,WAAY,UAE9CvC,GAAU,CAAC,QAAS,OAAQ,aAAc,WAAY,UAC5D,OACE,yBAAKjhB,UAAU,+BACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,+DACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCAAf,SACA,yBAAKA,UAAU,kBAAf,+BAEF,yBACEA,UAAU,qDACVsK,QAAS,kBAAMme,MAFjB,aAQJ,yBAAKzoB,UAAU,UACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,0BACb,yBACEA,UAAS,mBACP0oB,EAAe,YAAc,gBAE/Bpe,QAAS,kBAAMqe,EAAgB,MAJjC,QAMQC,EAAMnhB,OANd,KAtBK,CAAC,SAAU,WAAY,WA8BlB8F,KAAI,SAAC1N,EAAG2H,GAAJ,OACZ,kBAAC,IAAMkG,SAAP,CAAgBF,IAAG,iBAAYhG,IAC7B,yBAAKxH,UAAU,4BAAf,KACA,yBACEA,UAAS,kCACP0oB,IAAiB7oB,EAAI,eAAiB,aAExCyK,QAAS,kBAAMqe,EAAgB9oB,KAE9BA,EANH,KAMQ+oB,EAAM7V,QAAO,SAACnT,GAAD,OAAOA,EAAE8jB,SAAW7jB,KAAG4H,OAN5C,UAWN,yBAAKzH,UAAU,0CACb,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,qBACbC,SAAU,SAACsC,GAAD,OAAWrB,EAAU0D,GAAQrC,KACvC1C,MAAO+E,GACP9E,QAASrjB,GAAkB,gBAC3B2E,UAAU,gCAIhB,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,qBACbC,SAAU,SAACsC,GAAD,OACRnB,EAAQ,CAAC,MAAO,gBAAiB,QAAQmB,KAE3C1C,MAAO,CAAC,MAAO,gBAAiB,QAChCC,QAASqB,GAAc,cACvB/f,UAAU,gCAIhB,yBACEsK,QAAS,kBAAM0W,IAAY,IAC3BhhB,UAAU,yEAFZ,WAQJ,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,uBACb,kBAAC,GAAD,CACE4e,aAAa,QACbC,SAAU,SAACsC,GAAD,OAAWjB,EAAa,CAAC,OAAQ,SAASiB,KACpDnhB,UAAU,qBACVye,MAAO,CAAC,OAAQ,SAChBC,QAAO,oBAAeuB,MAG1B,yBAAKjgB,UAAU,uBACb,yBAAKA,UAAU,4BACb,kBAAC,KAAD,CACE0O,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACE9Y,UAAU,8BACV4K,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,aAM7B,yBAAK5K,UAAU,mCACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE6e,SAAU,SAACsC,GAAD,OAAWjB,EAAa,CAAC,OAAQ,SAASiB,KACpDnhB,UAAU,sCACVye,MAAO,CAAC,OAAQ,SAChBC,QAAO,oBAAeuB,KAExB,yBAAKjgB,UAAU,yBACb,kBAAC,KAAD,CACE0O,SAAS,OACTnO,MAAO,CACL8F,SAAU,WACVkI,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRoI,MAAO,UAGX,2BACElO,MAAOpO,EACP8S,SAAU,SAACC,GACTA,EAAEC,UACF+Q,EAAUhR,EAAEG,OAAO9E,QAErB5K,UAAU,wBACVO,MAAO,CAAE6gB,SAAU,eAM7B,yBAAKphB,UAAU,kBACb,kBAAC,KAAD,CACEO,MAAO,CAAE6gB,SAAU,QACnBC,aAAc,WACZjB,EACED,EAAoB,EAAI,EACpBA,EAAoB,EACpBA,IAGRmB,cAAe,WACblB,EACED,EAAoB,GAAK,EACrBA,EAAoB,EACpBA,KAIR,yBAAKngB,UAAU,oBACb,2BAAOA,UAAU,yBACf,+BACE,4BACE,wBAAIA,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QACEuH,EACG7V,MAAM8N,GAAW,GAAIA,GAAW,IAChChO,QAAO,SAAClT,GAAD,OAAOA,EAAE6L,YAAUjE,SAC7BsZ,GAAW,GAAKA,GAAW,GAE7BzR,SAAU,SAACC,GACTwZ,GAAiB,SAAC5Z,GAEhB,IADA,IAAI2R,EAAG,aAAO3R,GAER3H,EAAIuZ,GAAW,GACnBvZ,EAAIuZ,GAAW,GACfvZ,IAEAsZ,EAAItZ,GAAGkE,SAAW6D,EAAEG,OAAO6R,QAE7B,OAAOT,SAKf,wBAAI9gB,UAAU,wCACZ,yBAAKA,UAAU,qBAAf,gBACA,yBAAKA,UAAU,qBAAf,SAEF,wBAAIA,UAAU,qDACXihB,GAAQd,IAEVc,GAAQ1T,KAAI,SAACuY,EAAGC,GAAJ,OACX,wBACE/lB,UAAU,oDACVwN,IAAG,iBAAYuY,IAEf,6BAAMD,SAKd,+BACGgD,EAAcrhB,OACbqhB,EACG7V,MAAmB,GAAZ0G,EAAO,GAAqB,GAAZA,EAAO,GAAS,GACvCpM,KAAI,SAAC1N,EAAG2H,GAAJ,OACH,wBACExH,UAAU,2BACVwN,IAAG,yBAAoBhG,IAEvB,wBAAIxH,UAAU,eACZ,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QAAS1hB,EAAE6L,SACX4D,SAAU,SAACC,GACTwZ,GAAiB,SAAC5Z,GAChB,IAAI2R,EAAG,aAAO3R,GAGd,OAFA2R,EAAiB,GAAZnH,EAAO,GAASnS,GAAGkE,SACtB6D,EAAEG,OAAO6R,QACJT,SAKf,wBAAIvgB,MAAO,CAAE+S,WAAY,WACvB,6BACE,yBAAK/S,MAAO,CAAE+S,WAAY,WACxB,yBAAKtT,UAAU,uBACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OAASvP,EAAE7D,MAAX,SAIrB,yBAAKgE,UAAU,sCACb,yBAAKA,UAAU,kCAAkCO,MAAO,CAAC6S,SAAS,UAC/DvT,EAAE9D,cAEL,yBAAKiE,UAAU,UACb,yBACEA,UAAU,8BACVsK,QAAS,WACPie,EAAY1oB,GACZ2oB,MAJJ,QASA,yBAAKxoB,UAAU,QAAf,KACA,yBACEA,UAAU,8BACVsK,QAAS,WACP2e,GACE,CAAEvF,OAAQ,WACV,CAAC7jB,EAAEsQ,KACH,CAAChV,EAAY0E,EAAEsQ,KAAKA,QAN1B,SAYA,yBAAKnQ,UAAU,QAAf,KACA,yBACEA,UAAU,6BACVsK,QAAO,sBAAE,8BAAAjB,EAAA,sE/CjKfzE,E+CmKU,CAAC/E,EAAEsQ,K/CnKRpL,E+CoKK,CAAC5J,EAAY0E,EAAEsQ,KAAKA,K/CnKzDvP,EAAgB,8BAA+B,CAAEgE,MAAKG,S+CgKZ,QACHzD,EADG,QAKCuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,gBACPC,QACE,iCACFvB,KAAM,aAGVulB,IAAYD,KACRoI,EAXC,eAYA7tB,IAEU0E,EAAEsQ,KAAKuT,OACpB,UAEFzkB,EAAMwK,SAAS,CACbnO,KAAM,kBACNH,YAAa6tB,KAjCV,iC/CjKhB,IAACpkB,EAAKG,I+CiKU,QAFX,eA+CV,wBACE/E,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGN,6BAAMtgB,EAAE3D,QAEV,wBACE8D,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGLtgB,EAAEkgB,MAEL,wBACE/f,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGLtgB,EAAEqpB,WACCC,kBAAQtpB,EAAEqpB,YACV,WAEN,wBACElpB,UAAS,UACe,IAAtBmgB,EACI,eACA,2BAGLtgB,EAAEupB,cACCD,kBAAQtpB,EAAEupB,eACV,WAEN,wBACEppB,UAAS,UACM,WAAbH,EAAE6jB,OACE,aACa,aAAb7jB,EAAE6jB,OACF,cACA,cALG,YAOe,IAAtBvD,EACI,eACA,2BAGLtgB,EAAE6jB,YAKX,4BACE,wBAAIjC,QAAS,EAAGzhB,UAAU,qBAA1B,yBAUd,yBAAKA,UAAU,gEACb,yBAAKA,UAAU,YACb,kBAAC,GAAD,CACE4T,MAAO1I,KAAKwM,KAAKoR,EAAcrhB,OAAS,GACxCgB,QAASkR,EACT9F,WAAY+F,aCxOf5Q,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,aAChB8N,KAIQD,EArTI,SAAC,GAA8B,IAA5ByZ,EAA2B,EAA3BA,QAAStnB,EAAkB,EAAlBA,YAAkB,EACjB8L,mBAAS,CACrCpL,WAAY,GACZC,UAAW,GACXC,aAAc,GACdG,MAAO,GACPmtB,SAAU,GACVnjB,SAAU,GACVojB,YAAa,GACb5F,OAAQ,SACR3D,KAAM,SAVuC,mBACxCwJ,EADwC,KAC/BC,EAD+B,OAajBviB,mBAAS,IAbQ,mBAaxCgG,EAbwC,KAa/BC,EAb+B,OAejBjG,oBAAS,GAfQ,mBAexC0B,EAfwC,KAe/BQ,EAf+B,KAiBzC8U,EAAc,CAClB,CACEC,MAAOqL,EAAQrtB,MACf2N,MAAO,qBAET,CACEqU,MAAO7S,GAAcke,EAAQrtB,OAC7B2N,MAAO,sBAET,CACEqU,MAAOqL,EAAQrjB,SACf2D,MAAO,wBAET,CACEqU,MAAO,UAAU5S,KAAKie,EAAQrjB,WAAa,KAAKoF,KAAKie,EAAQrjB,UAC7D2D,MAAO,0CAET,CACEqU,MAAOqL,EAAQrjB,WAAaqjB,EAAQD,YACpCzf,MAAO,yBAET,CACEqU,MAAOqL,EAAQrjB,SAASuB,QAAU,EAClCoC,MAAO,+CAGT,CACEqU,OAAQ3iB,OAAO8b,OAAOlc,GACnBoS,KAAI,SAAC1N,GAAD,OAAOA,EAAE3D,SACb8W,SAASuW,EAAQrtB,OACpB2N,MAAO,gCAILka,EAAW,CAAC,SAAU,WAAY,WAClC0F,EAAQ,CAAC,gBAAiB,QAEhC,OACE,yBAAKzpB,UAAU,6BACb,yBAAKA,UAAU,SAASO,MAAO,CAAE6S,SAAU,UACzC,yBAAKpT,UAAU,0CACb,yBAAKA,UAAU,6BAAf,YACA,yBAAKA,UAAU,UAAf,uBAEF,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,uBAAf,cACA,yBAAKA,UAAU,kBACb,2BACE2P,YAAY,EACZ/E,MAAO2e,EAAQ1tB,WACfyT,SAAU,SAACC,GACTA,EAAEC,UACFga,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBtT,WAAY0T,EAAEG,OAAO9E,YAI3BtP,KAAK,OACL0E,UAAU,6BAIhB,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,uBAAf,aACA,yBAAKA,UAAU,kBACb,2BACE2P,YAAY,EACZ/E,MAAO2e,EAAQztB,UACfwT,SAAU,SAACC,GACTA,EAAEC,UACFga,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBrT,UAAWyT,EAAEG,OAAO9E,YAI1BtP,KAAK,OACL0E,UAAU,8BAKlB,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,gBACA,yBAAKA,UAAU,eACb,2BACE2P,YAAY,EACZ/E,MAAO2e,EAAQxtB,aACfuT,SAAU,SAACC,GACTA,EAAEC,UACFga,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBpT,aAAcwT,EAAEG,OAAO9E,YAI7BtP,KAAK,OACL0E,UAAU,4BAGd,yBAAKA,UAAU,qBAAf,2CAIF,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,UACA,yBAAKA,UAAU,UACb,2BACE2P,YAAY,EACZ/E,MAAO2e,EAAQrtB,MACfoT,SAAU,SAACC,GACTA,EAAEC,UACFga,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBjT,MAAOqT,EAAEG,OAAO9E,YAItBtP,KAAK,OACL0E,UAAU,6BAIhB,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,aACA,yBAAKA,UAAU,eACb,2BACE2P,YAAY,EACZ/E,MAAO2e,EAAQrjB,SACfoJ,SAAU,SAACC,GACTA,EAAEC,UACFga,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBjJ,SAAUqJ,EAAEG,OAAO9E,YAIzBtP,KAAK,WACL0E,UAAU,4BAGd,yBAAKA,UAAU,qBAAf,sEAKF,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,qBACA,yBAAKA,UAAU,eACb,2BACE2P,YAAY,EACZ/E,MAAO2e,EAAQD,YACfha,SAAU,SAACC,GACTA,EAAEC,UACFga,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBma,YAAa/Z,EAAEG,OAAO9E,YAI5BtP,KAAK,WACL0E,UAAU,4BAGd,yBAAKA,UAAU,qBAAf,sEAIF,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,eAAf,UACA,kBAAC,GAAD,CACE4e,aAAa,QACbC,SAAU,SAACsC,GAAD,OACRqI,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBuU,OAAQK,EAAS5C,SAIvB1C,MAAOsF,EACPrF,QAAS6K,EAAQ7F,OAAS6F,EAAQ7F,OAAS,SAC3C1jB,UAAU,8BAIhB,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,eAAf,QACA,kBAAC,GAAD,CACE4e,aAAa,QACbC,SAAU,SAACsC,GAAD,OACRqI,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtB4Q,KAAM0J,EAAMtI,SAIlB1C,MAAOgL,EACP/K,QAAS6K,EAAQxJ,KAAOwJ,EAAQxJ,KAAO,SACvC/f,UAAU,+BAKlB,yBACEO,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,GAChDjN,UAAU,iDAETiN,GAEH,yBAAKjN,UAAU,kBACb,yBACEA,UAAU,4EACVsK,QAAS,kBAAMmY,MAFjB,UAMA,yBACEziB,UAAU,kEACVsK,QAAO,sBAAE,8BAAAjB,EAAA,2DACHgV,EAAUJ,EAAYlL,QAAO,SAAClT,GAAD,OAAQA,EAAEqe,UAC/BzW,OAFL,gBAGLyF,EAAWmR,EAAQ,GAAGxU,OAHjB,8BAKLV,GAAW,GALN,ShDjFZvI,EAAgB,sBgDuF0B2oB,GAN9B,OAMDjoB,EANC,OAOL6H,GAAW,GACP7H,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,eACPC,QAAS,gCACTvB,KAAM,aAGV2D,EAAMwK,SAAS,CACbnO,KAAM,qBACNG,WAAW,gBACR6F,EAAIjD,GAAK9C,OAAOC,OAAO,GAAI+tB,EAAS,CACnCG,QAASpoB,EAAIjD,GACb8R,IAAK7O,EAAIqoB,SAIflH,KAnCG,6CAwCT,kBAAC,GAAD,CACEpY,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KAtDV,cCwEKwJ,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACLzL,2BAA4BpC,EAAM2B,SAASS,4BACxCyL,KAIQD,EAvTE,SAAC,GAA0D,IAAxD4gB,EAAuD,EAAvDA,YAAanH,EAA0C,EAA1CA,QAASjlB,EAAiC,EAAjCA,2BAAiC,EAC3CyJ,mBAAS,CACrCpL,WAAY,GACZC,UAAW,GACXC,aAAc,GACdG,MAAO,GACPmtB,SAAU,GACVnjB,SAAU,GACVojB,YAAa,GACb5F,OAAQ,SACR3D,KAAM,kBAViE,mBAClEwJ,EADkE,KACzDC,EADyD,OAa3CviB,mBAAS,IAbkC,mBAalEgG,EAbkE,KAazDC,EAbyD,OAe3CjG,oBAAS,GAfkC,mBAelE0B,EAfkE,KAezDQ,EAfyD,KAiBzE/B,qBAAU,WACJwiB,GACFJ,EACEjuB,OAAOC,OAAO,GAAIouB,EAAa,CAAEN,YAAa,GAAIpjB,SAAU,QAG/D,CAAC0jB,IAEJxiB,qBAAU,WACRjI,OAAOmc,SAAS,EAAG,KAClB,IAEH,IAAM2C,EAAc,CAClB,CACEC,MAAOqL,EAAQxtB,aAAa0L,QAAUjK,EACtCqM,MAAO,4BAET,CACEqU,MAAO,UAAU5S,KAAKie,EAAQrjB,WAAa,KAAKoF,KAAKie,EAAQrjB,UAC7D2D,MAAO,0CAET,CACEqU,MAAOqL,EAAQrjB,WAAaqjB,EAAQD,YACpCzf,MAAO,yBAET,CACEqU,MAAOqL,EAAQrjB,SAASuB,QAAU,EAClCoC,MAAO,gDAILka,EAAW,CAAC,SAAU,WAAY,WAClC0F,EAAQ,CAAC,gBAAiB,QAEhC,OACE,yBAAKzpB,UAAU,6BACb,yBAAKA,UAAU,SAASO,MAAO,CAAE6S,SAAU,UACzC,yBAAKpT,UAAU,0CACb,yBAAKA,UAAU,6BAAf,aACA,yBAAKA,UAAU,UAAf,uBAEF,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,uBAAf,cACA,yBAAKA,UAAU,kBACb,2BACE2P,YAAY,EACZ/E,MAAO2e,EAAQ1tB,WACfyT,SAAU,SAACC,GACTA,EAAEC,UACFga,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBtT,WAAY0T,EAAEG,OAAO9E,YAI3BtP,KAAK,OACL0E,UAAU,6BAIhB,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,uBAAf,aACA,yBAAKA,UAAU,kBACb,2BACE2P,YAAY,EACZ/E,MAAO2e,EAAQztB,UACfwT,SAAU,SAACC,GACTA,EAAEC,UACFga,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBrT,UAAWyT,EAAEG,OAAO9E,YAI1BtP,KAAK,OACL0E,UAAU,8BAKlB,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,gBACA,yBAAKA,UAAU,eACb,2BACE2P,YAAY,EACZ/E,MAAO2e,EAAQxtB,aACfuT,SAAU,SAACC,GACTA,EAAEC,UACFga,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBpT,aAAcwT,EAAEG,OAAO9E,YAI7BtP,KAAK,OACL0E,UAAU,4BAGd,yBAAKA,UAAU,qBAAf,2CAIF,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,SACA,yBAAKA,UAAU,UACb,2BACE2P,YAAY,EACZ/E,MAAO2e,EAAQrtB,MACfoT,SAAU,SAACC,GACTA,EAAEC,UACFga,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBjT,MAAOqT,EAAEG,OAAO9E,YAItBtP,KAAK,OACL0E,UAAU,6BAIhB,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,YACA,yBAAKA,UAAU,eACb,2BACE2P,YAAY,EACZ/E,MAAO2e,EAAQrjB,SACfoJ,SAAU,SAACC,GACTA,EAAEC,UACFga,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBjJ,SAAUqJ,EAAEG,OAAO9E,YAIzBtP,KAAK,WACL0E,UAAU,4BAGd,yBAAKA,UAAU,qBAAf,sEAKF,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,oBACA,yBAAKA,UAAU,eACb,2BACE2P,YAAY,EACZ/E,MAAO2e,EAAQD,YACfha,SAAU,SAACC,GACTA,EAAEC,UACFga,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBma,YAAa/Z,EAAEG,OAAO9E,YAI5BtP,KAAK,WACL0E,UAAU,4BAGd,yBAAKA,UAAU,qBAAf,sEAIF,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,eAAf,UACA,kBAAC,GAAD,CACE4e,aAAa,QACbC,SAAU,SAACsC,GAAD,OACRqI,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBuU,OAAQK,EAAS5C,SAIvB1C,MAAOsF,EACPrF,QAAS6K,EAAQ7F,OAAS6F,EAAQ7F,OAAS,SAC3C1jB,UAAU,8BAIhB,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,eAAf,QACA,kBAAC,GAAD,CACE4e,aAAa,QACbC,SAAU,SAACsC,GAAD,OACRqI,GAAW,SAACra,GAAD,OACT5T,OAAOC,OAAO,GAAI2T,EAAM,CACtB4Q,KAAM0J,EAAMtI,SAIlB1C,MAAOgL,EACP/K,QAAS6K,EAAQxJ,KAAOwJ,EAAQxJ,KAAO,SACvC/f,UAAU,+BAKlB,yBACEO,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,GAChDjN,UAAU,iDAETiN,GAEH,yBAAKjN,UAAU,kBACb,yBACEA,UAAU,4EACVsK,QAAS,kBAAMmY,MAFjB,UAMA,yBACEziB,UAAU,kEACVsK,QAAO,sBAAE,oCAAAjB,EAAA,yDACHwgB,GAAY,EACZ7U,EAFG,eAEcuU,GACjBA,EAAQrjB,WACNmY,EAAUJ,EAAYlL,QAAO,SAAClT,GAAD,OAAQA,EAAEqe,UAC/BzW,SACVoiB,GAAY,EACZ3c,EAAWmR,EAAQ,GAAGxU,QAGC,KAAvBmL,EAAU9O,kBACL8O,EAAU9O,gBACV8O,EAAUsU,cAEfO,EAdG,wBAeL1gB,GAAW,GAfN,SjDjFZvI,EAAgB,oBiDiGwBoU,GAhB5B,OAgBD1T,EAhBC,OAiBL6H,GAAW,GACP7H,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cAIV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,eACPC,QAAS,gCACTvB,KAAM,cAGNG,EAAawD,EAAM6qB,WAAW3uB,YAAYouB,EAAQpZ,MAC3CuT,OAAS6F,EAAQ7F,OAC5BjoB,EAAWskB,KAAOwJ,EAAQxJ,KAC1B9gB,EAAMwK,SAAS,CAAEnO,KAAM,qBAAsBG,eAC7CgnB,KAxCG,6CA6CT,kBAAC,GAAD,CACEpY,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,QAASA,EACTnJ,KAAM,KA3DV,cC5NJuqB,GAOQ,EAPRA,GAQS,EARTA,GASc,EATdA,GAUgB,EAVhBA,GAWW,GAXXA,GAYa,GAZbA,GAac,GAbdA,GAcgB,GAdhBA,GAeM,GAfNA,GAgBQ,GAoKC/gB,oBAPf,SAAc5N,EAAO6N,GACnB,OAAO,aACLlK,oBAAqB3D,EAAM2D,qBACxBkK,KAIQD,EAjKQ,SAAC,GAA6B,IAA3BjK,EAA0B,EAA1BA,oBAA0B,EACpBkI,mBAAS,GADW,mBAC3CsW,EAD2C,KAClCC,EADkC,OAEdvW,mBAAS,MAFK,mBAE3C+iB,EAF2C,KAE/BnK,EAF+B,OAGZ5Y,mBAAS,MAHG,mBAG3CgjB,EAH2C,KAG9BtI,EAH8B,OAIF1a,mBAAS,MAJP,mBAI3CijB,EAJ2C,KAIzBrH,EAJyB,OAKR5b,mBAAS,MALD,mBAK3CkjB,EAL2C,KAK5BhF,EAL4B,OAMFle,mBAAS,MANP,mBAM3CmjB,EAN2C,KAMzBxD,EANyB,OAOlB3f,mBAAS,MAPS,mBAO3CojB,EAP2C,KAOjC9B,EAPiC,KAQlD,OACE,yBACEvoB,UAAU,wCACVO,MAAO,CAAEic,UAAWrd,OAAOiZ,cAE3B,yBAAKpY,UAAU,UACb,yBAAKA,UAAU,mDACb,kBAAC,GAAD,CACEyd,aAAc1e,EACdye,WAAYA,EACZD,QAASA,IAEX,yBACEvd,UAAU,6BACVO,MAAO,CAAEb,MAAO,UAEhB,kBAAC,GAAD,CACE6d,QAASA,EACTC,WAAYA,KAGhB,yBAAKxd,UAAU,OACZud,GAAW,GACV,yBACEvd,UAAU,mCACVO,MAAO,CAAEqL,aAAc,UAEvB,yBAAK5L,UAAU,2BACb,kBAAC,KAAD,CACE0O,SAAS,OACTpE,QAAS,kBACPkT,EACc,IAAZD,GAA6B,IAAZA,EACb,EACY,IAAZA,GAA6B,IAAZA,EACjB,EACY,KAAZA,GAA8B,KAAZA,EAClB,EACY,KAAZA,GAA8B,KAAZA,EAClB,EACY,KAAZA,GAA8B,KAAZA,EAClB,EACA,QAOH,IAAZA,EACC,kBAAC,GAAD,MACc,IAAZA,EACF,kBAAC,GAAD,CACEkL,qBAAsB,kBAAMjL,EAAWuM,KACvCxB,YAAa,SAAC+B,GAAD,OAAO/B,EAAY+B,IAChC9B,mBAAoB,kBAAMhL,EAAWuM,OAEzB,IAAZxM,EACF,kBAAC,GAAD,CACEsC,cAAe,SAAC2G,GAAD,OAAS3G,EAAc2G,IACtC5G,qBAAsB,kBAAMpC,EAAWuM,KACvCpI,eAAgB,SAAC6E,GAAD,OAAS7E,EAAe6E,IACxC9E,sBAAuB,kBACrBlE,EAAWuM,OAGD,IAAZxM,EACF,kBAAC,GAAD,CACEwF,4BAA6B,kBAC3BvF,EAAWuM,KAEblH,oBAAqB,SAAC0H,GAAD,OAAS1H,EAAoB0H,IAClDzH,2BAA4B,WAC1BtF,EAAWuM,OAGD,IAAZxM,EACF,kBAAC,GAAD,CACE6H,0BAA2B,kBACzB5H,EAAWuM,KAEb5E,iBAAkB,SAACqF,GAAD,OAAUrF,EAAiBqF,IAC7CnF,wBAAyB,kBACvB7H,EAAWuM,OAGD,IAAZxM,EACF,kBAAC,GAAD,CACEuJ,6BAA8B,kBAC5BtJ,EAAWuM,KAEbnD,oBAAqB,SAAC6D,GAAD,OAAS7D,EAAoB6D,IAClD5D,2BAA4B,kBAC1BrJ,EAAWuM,OAGD,IAAZxM,EACF,kBAAC,GAAD,CACEiF,cAAewH,EACfvH,QAAS,kBAAMjF,EAAW,MAEd,IAAZD,EACF,kBAAC,GAAD,CACEqF,eAAgBqH,EAChBxH,QAAS,kBAAMjF,EAAW,MAEd,IAAZD,EACF,kBAAC,GAAD,CACEkF,QAAS,kBAAMjF,EAAW,IAC1BqG,oBAAqBqG,IAET,IAAZ3M,EACF,kBAAC,GAAD,CAAoBkF,QAAS,kBAAMjF,EAAW,MAChC,KAAZD,EACF,kBAAC,GAAD,CACEyI,iBAAkBmE,EAClB1H,QAAS,kBAAMjF,EAAW,MAEd,KAAZD,EACF,kBAAC,GAAD,CAAiBkF,QAAS,kBAAMjF,EAAW,MAC7B,KAAZD,EACF,kBAAC,GAAD,CACEuK,oBAAqBsC,EACrB3H,QAAS,kBAAMjF,EAAW,MAEd,KAAZD,EACF,kBAAC,GAAD,CACEkF,QAAS,kBAAMjF,EAAW,MAEd,KAAZD,EACF,kBAAC,GAAD,CACEqM,YAAaS,EACb5H,QAAS,kBAAMjF,EAAW,MAEd,KAAZD,EACF,kBAAC,GAAD,CAAYkF,QAAS,kBAAMjF,EAAW,MAEtC,UCnLRkN,GAAY,uCAAG,WAAOhpB,GAAP,eAAA2H,EAAA,sEACHshB,EAAcjpB,GADX,QACfJ,EADe,QAEXuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZrB,KAAM,UACNsB,MAAO,QACPC,QAASyE,EAAIuI,UAIjB+gB,aAAaC,QAAQ,oBAAqBvpB,EAAIrF,OAC9CgD,EAAMwK,SAAS,CAAEnO,KAAM,WAAYM,KAAM0F,IACzCmQ,EAAQrB,KAAK,MAdI,2CAAH,sDAwIH3O,GAtHD,WAAO,IAAD,EACQwF,mBAAS,IADjB,mBACX/K,EADW,KACJ4uB,EADI,OAEc7jB,mBAAS,IAFvB,mBAEXf,EAFW,KAED6kB,EAFC,KAGlB,OACE,yBACE/qB,UAAU,gFACVO,MAAO,CAAEzB,OAAQK,OAAOiZ,cAExB,yBAAKpY,UAAU,gFACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,sDACb,yBACEA,UAAU,wEACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,MAC5B7P,MAAO,CAAEgO,IAAK,OAAQiC,KAAM,SAE5B,kBAAC,KAAD,CAAexQ,UAAU,SAL3B,gBAOA,yBAAKA,UAAU,YACb,yBAAKA,UAAU,sBACb,kBAAC,GAAD,OAEF,yBAAKA,UAAU,iCAAf,iBAIN,yBACEA,UAAU,6DACVO,MAAO,CACLic,UAAWrd,OAAOiZ,YAAc,MAGlC,yBAAKpY,UAAU,6BACb,yBAAKA,UAAU,kDACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,kBAAf,uBACA,yBAAKA,UAAU,UAAf,+EAMJ,yBAAKA,UAAU,2CACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,8CACb,yBAAKA,UAAU,eAAf,SACA,yBAAKA,UAAU,UACb,2BACE1E,KAAK,OACL0E,UAAU,yBACV4K,MAAO1O,EACPoT,SAAU,SAACC,GACTA,EAAEC,UACFsb,EAASvb,EAAEG,OAAO9E,YAK1B,yBAAK5K,UAAU,uBACb,yBAAKA,UAAU,eAAf,YACA,yBAAKA,UAAU,UACb,2BACE1E,KAAK,WACL0E,UAAU,yBACV4K,MAAO1E,EACPoJ,SAAU,SAACC,GACTA,EAAEC,UACFub,EAAYxb,EAAEG,OAAO9E,QAEvBogB,UAAW,SAACzb,GACQ,KAAdA,EAAE0b,SACJP,GAAa,CAAExuB,QAAOgK,kBAMhC,yBAAKlG,UAAU,uBACb,yBACEA,UAAU,uCACVsK,QAAS,kBAAMogB,GAAa,CAAExuB,QAAOgK,eAFvC,UAOF,yBACElG,UAAU,yCACVO,MAAO,CAAEmO,SAAU,SAEnB,yBAAK1O,UAAU,iBAAf,yBACyB,IACvB,0BACEA,UAAU,0BACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,aAF9B,YAOF,yBACEpQ,UAAU,mCACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,sBAF9B,6B,UC3HP,cACb,OACE,yBAAKpQ,UAAU,qBACb,yBAAKA,UAAU,YAAY3B,GAAG,aAC5B,yBAAKA,GAAG,QACN,yBAAK2B,UAAU,sBACb,2BACE,mDAEF,2BACE,2DAEF,gFACA,2BACE,+CADF,wIAGwC,0CAExC,2BACE,sKADF,4FASA,wnBAYA,2BACE,wDAEF,uGAIA,4BACE,4BACE,mDAEA,4GAKF,8BAEF,6EACA,4BACE,4BACE,kDAEF,4BACE,gFAGJ,gEAC+B,8CAD/B,WAC8D,KAE9D,2BACE,kEAEF,4LAKA,2BACE,6DADF,qOAOA,4BACE,yDACA,4CACA,0CACA,mNAMF,oIAIA,2BACE,yDADF,ibAUA,qFACA,4BACE,4BACE,uBAAGkrB,KAAK,yDAAR,0DAIF,4BACE,uBAAGA,KAAK,iCAAR,mCAKJ,2BACE,sDADF,usBAcA,2EACA,4BACE,4BACE,uBAAGA,KAAK,uCAAR,yCAKJ,2BACE,0DADF,kgBAWA,2BACE,+DAEF,2TAOA,2BACE,kEAEF,mTAOA,4BACE,qEACA,wDACA,kDACA,wEACA,0EACA,+FAGA,6FAGA,gHAIA,+FAGA,qLAKA,mJAIA,iEACA,oLAKA,qHAKF,2BACE,+DAEF,qTAOA,2BACE,6DAEF,mNAKA,2BACE,kEADF,mVAQA,2BACE,sDADF,uRAOA,2BACE,uEADF,kXASA,2BACE,qDADF,oNAMA,2BACE,8DADF,8WASA,2BACE,iDADF,kJAKA,2BACE,gEAEF,yoBAYA,6bAO0D,KAE1D,gLAKA,2BACE,gDAEF,sHAIA,4BACE,0DACA,0EACA,qDACA,kFACA,kEACA,yDACA,kFAEF,mLAKA,0lBAWA,2BACE,6EAEF,6VAOA,8DACA,4BACE,gGAGA,wJAGM,KAEN,yXAQA,ohBAUA,4OAOF,8UAOA,sEACA,2BACE,uBAAGA,KAAK,qFAAR,sFAIF,2BACE,kGAIF,qiBAUA,qLAG4B,KAE5B,6GAIA,4BACE,2EACA,iGAIA,6DACA,qFACA,kGAKF,2BACE,+EAEF,6eAUA,2BACE,qEAEF,kWAQA,+JAIA,2BACE,sEAEF,upBAWE,qCAXF,wHAeA,2BACE,mEAEF,oOAMA,2BACE,gDAEF,yOAMA,4YAQA,2BACE,+CAEF,qNAKA,2BACE,oFChgBC,cACb,OACE,yBAAKlrB,UAAU,qBACb,yBAAKA,UAAU,YAAY3B,GAAG,aAC5B,yBAAKA,GAAG,QACN,yBAAK2B,UAAU,sBACb,2BACE,yDAEF,2BACE,2DAEF,gFACA,uEACA,4BACE,4BACE,2HAKF,4BACE,uBAAGkrB,KAAK,0BACN,6DAIN,oYAQA,8NAIY,qCAJZ,0EAOA,gMAKA,2BACE,wDAEF,qpBAYA,sVAOA,2dASA,2BACE,+CAEF,mQAMA,kXAM8B,qCAN9B,QAQA,+YAQA,4BACA,2BACE,gDAEF,gFACA,qPAMA,+IAEoD,KAEpD,8MAKA,2BACE,0CAEF,6mCAoBA,2BACE,yDAEF,iyBAcA,2BACE,qEAEF,8QAMA,4WAQA,2BACE,kDAEF,mMAGuC,KAEvC,kQAMA,2UAOA,sQAMA,2BACE,6CAEF,2KAIA,iRAI+D,KAE/D,gMAIE,qCAJF,6KAQA,2BACE,+CAEF,2rBAaA,2BACE,gEAEF,snBAYA,yTAOA,2BACE,uDAEF,yPAMA,2BACE,wDAEF,6dASA,2BACE,8CAEF,8mCAoBA,2BACE,0DAEF,qWAQA,4BACE,0NAMA,gRAMA,wFACA,8MAKA,8NAMA,oLAMF,2BACE,kDAEF,8mBAYA,2BACE,gEAEF,uaAOe,KAEf,2BACE,gFAEF,+SAOA,6XAQA,giBAWA,+NAKA,4IAIA,2BACE,4DAEF,+jCAmBA,2BACE,mDAEF,wtBAaA,2BACE,kDAEF,2jBAWA,2BACE,uDAEF,gWAQA,2BACE,kDAEF,smBAU0B,KAE1B,0gCAkBA,2BACE,0DAEF,0rBAaA,4BACE,wOAMA,0XAQA,mMAKA,uKAKA,gIAIA,+KAKA,gMAKA,6LAKA,2HAKF,2BACE,8DAEF,6MAKA,oYAQA,gSAMA,6OAMA,4HAGE,gCACE,qCAJJ,+EAOY,qCAPZ,8CAUA,wCACY,qCADZ,wSAOA,wHAIA,sGAEY,qCAFZ,yOAME,qCANF,+HAUA,4BACE,sFACA,yFAGA,8JAGa,wCAHb,qDAKE,gCACE,qCANJ,gBAUA,0PAMA,6LAKA,0VAMsB,sCAEtB,yIAKF,2BACE,8DAEF,8bAOyC,KAEzC,2BACE,oDAEF,8UAOA,4BACE,iGAIA,yFACA,oEACA,wEAEF,2BACE,4DAEF,8mBAYA,2BACE,+CAEF,8LAKA,2BACE,uDAEF,kRAMA,2BACE,6CAEF,sNAIE,qCAJF,qCAKE,sCALF,0DAMU,qCANV,syBAkBmE,KAEnE,2BACE,6CAEF,+ZAQA,2BACE,qDAEF,mQAMA,qWAQA,sYAQA,yFC9xBG,cACb,OACE,yBAAKlrB,UAAU,qBACb,yBAAKA,UAAU,YAAY3B,GAAG,aAC5B,yBAAKA,GAAG,QACN,yBAAK2B,UAAU,sBACb,2BACE,kDAEF,2BACE,+CAEA,gDAEF,gFACA,mLAKA,4BACE,4BACE,uBAAGkrB,KAAK,0BACN,6DAIN,gCACA,uHAIA,4BACE,4BACE,kDAEF,4BACE,gFAGJ,+HAIA,2BACE,uJAKF,2BACE,sDAEF,wPAMA,2PAMA,uOAMA,2BACE,0FAIF,6kBAWA,gTAOA,gIAIA,4BACE,iDACqB,IACnB,uBAAGA,KAAK,yFAAR,wFAIF,uCACW,IACT,uBAAGA,KAAK,4EAAR,6EAIF,sCACU,IACR,uBAAGA,KAAK,wDAAR,yDAIF,sCACU,IACR,uBAAGA,KAAK,wFAAR,0FAKJ,2BACE,wDAEF,kOAMA,6NAKA,qeAQW,KAEX,2BACE,oDAEF,+EACA,2BACE,wDADF,sFAIA,2BACE,8CADF,+EAIA,2BACE,+DADF,8rBAcA,2EACA,4BACE,4BACE,uBAAGA,KAAK,uCAAR,yCAKJ,2BACE,+CAEF,oGAIA,8ECjKGC,GAzBO,SAAC,GAAc,IAAZ7vB,EAAW,EAAXA,KAIvB,OAHA8L,qBAAU,WACRjI,OAAOmc,SAAS,EAAG,KAClB,CAAChgB,IACGA,EACL,yBAAK0E,UAAU,4BACb,yBAAKA,UAAU,yCACb,yBAAKA,UAAU,uBACH,mBAAT1E,EACC,kBAAC8vB,GAAD,MACW,yBAAT9vB,EACF,kBAAC+vB,GAAD,MACW,mBAAT/vB,EACF,kBAACgwB,GAAD,MAEA,MAMR,IC2PWtiB,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACLhM,gBAAiB7B,EAAM2B,SAASE,gBAChCO,2BAA4BpC,EAAM2B,SAASS,4BACxCyL,KAIQD,EAxQA,SAAC,GAAqD,IAAnDxL,EAAkD,EAAlDA,2BAA4BP,EAAsB,EAAtBA,gBAAsB,EACxCgK,mBAAS,IAD+B,mBAC3D/K,EAD2D,KACpD4uB,EADoD,OAElC7jB,mBAAS,IAFyB,mBAE3Df,EAF2D,KAEjD6kB,EAFiD,OAGpB9jB,mBAAS,IAHW,mBAG3DskB,EAH2D,KAG1CC,EAH0C,OAIhCvkB,oBAAS,GAJuB,mBAI3DwkB,EAJ2D,KAIhDC,EAJgD,OAKdzkB,oBAAS,GALK,mBAK3D0kB,EAL2D,KAKvCC,EALuC,OAMpC3kB,mBAAS,IAN2B,mBAM3DgG,EAN2D,KAMlDC,EANkD,OAOxBjG,mBAAS,IAPe,mBAO3D4kB,EAP2D,KAO5CC,EAP4C,KAS5D7N,EAAc,CAClB,CAAEC,MAAO7S,GAAcnP,GAAQ2N,MAAO,sBACtC,CACEqU,MAAOhiB,EAAMmT,MAAM,KAAK,GAAG5H,OAASjK,EACpCqM,MAAO,qBAET,CACEqU,MAAO,UAAU5S,KAAKpF,IAAa,KAAKoF,KAAKpF,GAC7C2D,MAAO,0CAET,CACEqU,MAAOhY,IAAaqlB,EACpB1hB,MAAO,yBAET,CACEqU,MAAOhY,EAASuB,QAAU,EAC1BoC,MAAO,+CAET,CACEqU,MAAOuN,EACP5hB,MAAO,2BAGT,CACEqU,MAAOyN,EACP9hB,MAAO,oEAIL6gB,EAAY,uCAAG,8BAAArhB,EAAA,yDAEK,KADpB0iB,EAAW9N,EAAYlL,QAAO,SAAClT,GAAD,OAAQA,EAAEqe,UAC/BzW,OAFM,gCxDxBd7G,EAAgB,ewD2BY,CAAE1E,QAAOgK,aAHvB,QAGb5E,EAHa,QAIT2Z,SACNhc,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,mBACPC,QACE,yEACFvB,KAAM,aAIV2D,EAAMwK,SAAS,CACbnO,KAAM,qBACNG,WAAW,gBAAI6F,EAAI7F,WAAWiuB,QAAUpoB,EAAI7F,cAE9CgW,EAAQrB,KAAK,WAEbnR,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZE,QAASyE,EAAIuI,MACbvO,KAAM,UACNsB,MAAO,2BA1BI,sBA+BjBsQ,EAAW6e,EAAS,GAAGliB,OA/BN,2CAAH,qDAmClB,OACE,yBACE7J,UAAU,wFACVO,MAAO,CAAEic,UAAWrd,OAAOiZ,cAE3B,kBAAC,GAAD,CACExR,KAAMilB,EACNxd,kBAAmB,QACnBI,QAAS,kBAAMqd,EAAiB,MAEhC,kBAAC,GAAD,CAAexwB,KAAMuwB,KAEvB,yBAAK7rB,UAAU,gFACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,6CACb,yBAAKA,UAAU,sDACb,yBACEA,UAAU,wEACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,MAC5B7P,MAAO,CAAEgO,IAAK,OAAQiC,KAAM,SAE5B,kBAAC,KAAD,CAAexQ,UAAU,SAL3B,gBAOA,yBAAKA,UAAU,YACb,yBAAKA,UAAU,sBACb,kBAAC,GAAD,OAEF,yBAAKA,UAAU,iCAAf,iBAIN,yBACEA,UAAU,6DACVO,MAAO,CACLic,UAAWrd,OAAOiZ,YAAc,MAGlC,yBAAKpY,UAAU,wBACb,yBAAKA,UAAU,6CACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,kBAAf,oBAOJ,yBAAKA,UAAU,2CACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,8CACb,yBAAKA,UAAU,eAAf,SACA,yBAAKA,UAAU,UACb,2BACE1E,KAAK,QACL0E,UAAU,yBACV4K,MAAO1O,EACPoT,SAAU,SAACC,GACTA,EAAEC,UACFsb,EAASvb,EAAEG,OAAO9E,YAK1B,yBAAK5K,UAAU,uBACb,yBAAKA,UAAU,eAAf,YACA,yBAAKA,UAAU,eACb,2BACE1E,KAAK,WACL0E,UAAU,yBACV4K,MAAO1E,EACPoJ,SAAU,SAACC,GACTA,EAAEC,UACFub,EAAYxb,EAAEG,OAAO9E,WAI3B,yBAAK5K,UAAU,kCAAf,oEAKF,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,eAAf,oBACA,yBAAKA,UAAU,eACb,2BACE1E,KAAK,WACL0E,UAAU,yBACV4K,MAAO2gB,EACPP,UAAW,SAACzb,GACQ,KAAdA,EAAE0b,SACJP,KAGJpb,SAAU,SAACC,GACTA,EAAEC,UACFgc,EAAmBjc,EAAEG,OAAO9E,WAIlC,yBAAK5K,UAAU,kCAAf,oEAKF,yBAAKA,UAAU,uBACb,kBAAC,KAAD,CACEgsB,QAAS/uB,EACTqS,SAAU,SAAC1E,GACLA,GACF8gB,GAAa,OAKrB,yBAAK1rB,UAAU,kBACb,yBAAKA,UAAU,iBACb,kBAAC,GAAD,CACEqK,MAAO,UACPkX,QAASoK,EACTrc,SAAU,SAACC,GACTqc,EAAsBrc,EAAEG,OAAO6R,aAIrC,yBAAKvhB,UAAU,OAAf,gCACgC,IAC9B,0BACEsK,QAAS,kBACPwhB,EAAiB,yBAEnB9rB,UAAU,YAJZ,wBAOQ,IATV,MAUM,IACJ,0BACEA,UAAU,WACVsK,QAAS,kBAAMwhB,EAAiB,oBAFlC,oBAQJ,yBACEvrB,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,GAChDjN,UAAU,iDAETiN,GAEH,yBAAKjN,UAAU,uBACb,yBACEA,UAAU,uCACVsK,QAASogB,GAFX,mBAOF,yBACE1qB,UAAU,qCACVO,MAAO,CAAEmO,SAAU,SAEnB,yBAAK1O,UAAU,YAAf,wBACwB,IACtB,0BACEA,UAAU,0BACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,YAF9B,sBCzITpH,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBwB,aAAcvB,EAAMuB,cACjBsM,KAIQD,EA3GD,SAAC,GAAmC,IAAjCrM,EAAgC,EAAhCA,aAAgC,KAAlBxB,YACC8L,oBAAS,IADQ,mBACxCglB,EADwC,KAC/BC,EAD+B,OAEjBjlB,oBAAS,GAFQ,mBAExCnK,EAFwC,KAE/BqvB,EAF+B,KA8C/C,OA3CA/kB,qBAAU,WACR,IAAIglB,EAOJ,OANKzvB,EAAaG,UAChBsvB,EAAUC,YAAW,WACnBF,GAAW,KACV,MAGE,YACAxvB,EAAaG,SAAWsvB,GAC3BE,aAAaF,MAGhB,CAACzvB,IAEJyK,qBAAU,WACJtK,IAAYmvB,IACdhtB,EAAMwK,SAAS,CACbnO,KAAM,sBACNqB,aAAc,CAAEG,SAAS,KAE3BqvB,GAAW,MAEZ,CAACrvB,EAASmvB,IAEb7kB,qBAAU,WACR,GACwB,YAAtBzK,EAAarB,MACmB,kBAAzBqB,EAAaE,QACpB,CACA,IAAI0vB,EAAoB,CACtBjxB,KAAM,SACN4rB,QAAS,uBACTc,UAAW,CAAC,cACZrE,WAAYxlB,KAAKC,MACjBwlB,SAAUzlB,KAAKC,MACfmlB,YAAariB,KAAKC,UAAUxE,EAAaE,SAASiN,QAAQ,KAAM,IAChE4Z,OAAQ,QAEV/d,GAAmB4mB,MAEpB,CAAC5vB,EAAaE,UAGf,yBACE2vB,YAAa,kBAAMN,GAAW,IAC9BO,aAAc,kBAAMP,GAAW,IAC/BlsB,UAAU,8CACVO,MAAO,CACL6S,SAAU,QACV3C,OAAQ9T,EAAaG,QAAU,QAAU,SAG3C,yBAAKkD,UAAU,sBACZrD,EAAarB,MACZ,yBAAK0E,UAAU,iBACU,YAAtBrD,EAAarB,KACZ,kBAAC,KAAD,CACEqT,YAAY,MACZD,SAAS,OACT1O,UAAU,iBAGZ,kBAAC,KAAD,CACE2O,YAAY,MACZD,SAAS,OACT1O,UAAU,kBAKlB,yBAAKA,UAAU,wBAAwBrD,EAAaC,OACpD,yBACEoD,UAAU,4BACVsK,QAAS,kBACPrL,EAAMwK,SAAS,CACbnO,KAAM,sBACNqB,aAAc,CAAEG,SAAS,OAI7B,kBAAC,KAAD,CAAK4R,SAAS,OAAO1O,UAAU,iBAInC,yBAAKA,UAAU,iCACU,YAAtBrD,EAAarB,MACsB,kBAAzBqB,EAAaE,QAClB,gBAEFF,EAAaE,aCsLVmM,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACLrN,KAAMR,EAAMQ,KACZF,QAASN,EAAMM,SACZuN,KAIQD,EA9QI,SAAC,GASb,IARL6H,EAQI,EARJA,OACAjV,EAOI,EAPJA,KACAF,EAMI,EANJA,QAMI,IALJgxB,gBAKI,MALO,eAKP,EAJJrb,EAII,EAJJA,SACAD,EAGI,EAHJA,iBAGI,IAFJub,aAEI,aADJ/d,sBACI,MADa,aACb,IACoB3H,mBAAS,GAD7B,mBACG0S,EADH,KACSC,EADT,OAGwC3S,mBAAS,IAHjD,mBAGG8J,EAHH,KAGmBC,EAHnB,OAIkC/J,oBAAS,GAJ3C,mBAIGgK,EAJH,KAIgBC,EAJhB,KAMJ,OACE,kBAAC,IAAMxD,SAAP,KACE,kBAAC,GAAD,CAAO9G,KAAMqK,EAAaxC,QAAS,kBAAMyC,GAAe,KACtD,kBAAC,GAAD,CACEjP,QAAS8O,EACTnE,QAAS,kBAAMsE,GAAe,OAIlC,yBAAKlR,UAAU,OACZ6Q,EACEoC,MAfe,IAgBK0G,EAAO,GAhBZ,IAiBKA,EAAO,GAjBZ,IAmBfpM,KAAI,SAAC1N,EAAG2H,GACP,IAAIolB,EAAgBlxB,EAAQmE,EAAEoK,UAC1B,CACE5L,GAAIwB,EAAEoK,SACNrN,MAAOlB,EAAQmE,EAAEoK,UAAUwJ,YAC3BnV,YAAa5C,EAAQmE,EAAEoK,UAAUuJ,aACjChV,aAAc9C,EAAQmE,EAAEoK,UAAU8L,mBAClCrX,OAAQhD,EAAQmE,EAAEoK,UAAUyJ,cAE9B,CACErV,GAAIwB,EAAEoK,SACNrN,MAAO,GACP0B,YAAa,GACbI,OAAQ,GACRF,aAAc,IAEpB,OACE,yBACEgP,IAAG,iBAAYhG,GACfxH,UAAU,uDAEI,gBAAb0sB,GAA8BC,EAC7B,yBACE3sB,UAAU,6EACVO,MAAO,CACLqL,aAAc,QACd4C,OAAQ,EACR1P,OAAQ,OACRsL,cAAe,SAGjB,kBAAC,IAAMsD,SAAP,KACE,kBAAC,GAAD,CACExE,MAAO0jB,EACPhxB,KAAMA,IAEM,aAAb8wB,EACC,kBAAC,IAAMhf,SAAP,KACE,yBAAK1N,UAAU,SACf,kBAAC,GAAD,CACE4O,eAAgB,WACdyC,EAASub,GACTxb,GAAiB,GACjBxC,KAEFhT,KAAMA,EACNqG,QAAS2qB,EAAcvuB,MAI3B,KAKN,GAEF,yBAAK2B,UAAU,kBACb,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,2DACb,yBACEsR,IAAG,oBAAesb,EAAcvuB,IAChCqB,MAAM,OACNa,MAAO,CAAEgR,aAAc,QACvBC,IACEob,EAActuB,YAAd,yCACsCsuB,EAActuB,aAChD,yDAGR,yBACEgM,QAAS,kBACPmH,EAAQrB,KAAR,iBAAuBwc,EAAcvuB,MAEvC2B,UAAU,sEACVO,MAAO,CACLiQ,KAAM,EACNjC,IAAK,EACLlI,SAAU,WACVmI,OAAQ,EACR+C,aAAc,SAGhB,yBACEvR,UAAU,uDACVsK,QAAS,SAACiF,GACRA,EAAEmC,kBACFV,EAAkB4b,EAAcvuB,IAChC6S,GAAe,KAGjB,kBAAC,KAAD,CACE3Q,MAAO,CACLmO,SAAU,OACVrE,MAAO,QACPE,YAAa,cAOzB,yBAAKvK,UAAU,iBACb,yBACEA,UAAU,mDACVsK,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBwc,EAAcvuB,OAEpD,yBAAK2B,UAAU,iBAAiB4sB,EAAchwB,QAEhD,yBAAKoD,UAAU,kCACb,yBAAKA,UAAU,iBACZ4sB,EAAcluB,OAAO+I,OAClBmlB,EAAcluB,OAAOsN,KAAK,KAC1B,YAGR,yBAAKhM,UAAU,2CACb,kBAAC,GAAD,CACER,KAAK,QACLkM,WACE9P,EAAKF,QAAQkxB,EAAcvuB,KAEvB,mBADAzC,EAAKF,QAAQkxB,EAAcvuB,IAAIkS,UAIrCrH,MAAO0jB,EACPnsB,MAAM,OACNT,UAAU,YACV4K,MACElP,EAAQkxB,EAAcvuB,IAClB3C,EAAQkxB,EAAcvuB,IAAIyR,eAC1B,KAGR,kBAAC,GAAD,CACEtQ,KAAK,QACLkM,WACE9P,EAAKF,QAAQkxB,EAAcvuB,KAEvB,cADAzC,EAAKF,QAAQkxB,EAAcvuB,IAAIkS,UAIrCrH,MAAO0jB,EACPnsB,MAAM,QACNT,UAAU,YACV4K,MACElP,EAAQkxB,EAAcvuB,IAClB3C,EAAQkxB,EAAcvuB,IAAI0R,UAC1B,KAGR,kBAAC,GAAD,CACEvQ,KAAK,QACLkM,WACE9P,EAAKF,QAAQkxB,EAAcvuB,KAEvB,YADAzC,EAAKF,QAAQkxB,EAAcvuB,IAAIkS,UAIrCrH,MAAO0jB,EACP5sB,UAAU,YACVS,MAAM,sBACNmK,MACElP,EAAQkxB,EAAcvuB,IAClB3C,EAAQkxB,EAAcvuB,IAAI2R,QAC1B,KAGR,kBAAC,GAAD,CACExQ,KAAK,QACLiB,MAAM,OACNmK,MACElP,EAAQkxB,EAAcvuB,IAClB3C,EAAQkxB,EAAcvuB,IAAI4R,SAC1B,GAENvE,WACE9P,EAAKF,QAAQkxB,EAAcvuB,KAEvB,aADAzC,EAAKF,QAAQkxB,EAAcvuB,IAAIkS,UAIrCrH,MAAO0jB,KAGX,yBAAK5sB,UAAU,mCACC,gBAAb0sB,EACC,kBAAC,IAAMhf,SAAP,KACE,kBAAC,GAAD,CACExE,MAAO0jB,EACPhxB,KAAMA,IAEM,aAAb8wB,EACC,kBAAC,IAAMhf,SAAP,KACE,yBAAK1N,UAAU,SACf,kBAAC,GAAD,CACE4O,eAAgBA,EAChBhT,KAAMA,EACNqG,QAAS2qB,EAAcvuB,MAI3B,IAIJ,WASlB,yBAAK2B,UAAU,sCACb,yBAAKA,UAAU,YACb,kBAACyX,GAAD,CACE3D,WAAY,CACVC,YAAa,aACbrI,SAAU,uBAEZkI,MAAO1I,KAAKwM,KAAK7G,EAAOpJ,OAjPV,IAkPdgB,QAASkR,EACT9F,WAAY+F,UChKTiT,GA/EE,SAAC,GAAsD,IAApDhc,EAAmD,EAAnDA,OAAQ8b,EAA2C,EAA3CA,MAAO/d,EAAoC,EAApCA,eAAgBlT,EAAoB,EAApBA,QAASE,EAAW,EAAXA,KAAW,EAC3BqL,mBAAS,GADkB,mBAC9D6lB,EAD8D,KAC/CC,EAD+C,KAE/DruB,EAtBc,SAACmS,EAAQnV,GAC7B,IAAIgD,EAAS,CAAC,OAgBd,OAfAmS,EAAOlH,SAAQ,SAAC9J,GACVnE,EAAQmE,EAAEoK,WACZvO,EAAQmE,EAAEoK,UAAUyJ,aAAa/J,SAAQ,SAACoI,GACpCA,EAAEpT,KACCD,EAAOsU,SAASjB,EAAEpT,OACrBD,EAAO0R,KAAK2B,EAAEpT,MAGXD,EAAOsU,SAASjB,IACnBrT,EAAO0R,KAAK2B,SAMfrT,EAKQmd,CAAchL,EAAQnV,GAFgC,EAI3CuL,oBAAS,GAJkC,mBAI9DiC,EAJ8D,KAIvDmI,EAJuD,OAK3BpK,oBAAS,GALkB,mBAK9DkK,EAL8D,KAK/CC,EAL+C,KAOrE,OACE,yBAAKpR,UAAU,eACb,kBAAC,GAAD,CACEkJ,MAAOA,EACPtN,KAAMA,EACNgL,KAAMuK,EACN1C,QAAS,WACP2C,GAAiB,GACjBxC,OAGJ,yBAAK5O,UAAU,yEACb,yBAAKA,UAAU,YACZtB,EAAO+I,OAAS,EACf,kBAAC,KAAD,CACElH,MAAO,CACL2S,QAAS,SACTxT,MAAO,OACP2T,UAAW,OACXC,WAAY,WAGb5U,EAAO6O,KAAI,SAAC1N,EAAG2H,GAAJ,OACV,yBACE8C,QAAS,WACPyiB,EAAiBvlB,IAEnBjH,MAAO,CAAEoQ,QAAS,gBAClBnD,IAAG,kCAA6BhG,GAChCxH,UAAS,eACP8sB,IAAkBtlB,EACd,mCACA,kCAGL3H,OAKP,KAILgR,EAAOpJ,OACN,kBAAC,GAAD,CACE2J,iBAAkBA,EAClBC,SAAUA,EACVzC,eAAgBA,EAChB+d,MAAOA,EACPD,SAAS,WACT7b,OAAQA,EAAOkC,QACb,SAAClT,GAAD,OACGnE,EAAQmE,EAAEoK,WACTvO,EAAQmE,EAAEoK,UAAUyJ,aAAaV,SAC/BtU,EAAOouB,KAEe,QAA1BpuB,EAAOouB,QAIb,yBACE9sB,UAAU,yEACVO,MAAO,CAAEzB,OAAQ,UAFnB,4DCLO+tB,GAhEE,SAAC,GAAyB,IAAvBhc,EAAsB,EAAtBA,OAAQnV,EAAc,EAAdA,QAAc,EACEuL,mBAAS,GADX,mBACjC6lB,EADiC,KAClBC,EADkB,KAElCruB,EAtBc,SAACmS,EAAQnV,GAC7B,IAAIgD,EAAS,CAAC,OAgBd,OAfAmS,EAAOlH,SAAQ,SAAC9J,GACVnE,EAAQmE,EAAEoK,WACZvO,EAAQmE,EAAEoK,UAAUyJ,aAAa/J,SAAQ,SAACoI,GACpCA,EAAEpT,KACCD,EAAOsU,SAASjB,EAAEpT,OACrBD,EAAO0R,KAAK2B,EAAEpT,MAGXD,EAAOsU,SAASjB,IACnBrT,EAAO0R,KAAK2B,SAMfrT,EAKQmd,CAAchL,EAAQnV,GAErC,OACE,yBAAKsE,UAAU,eACb,yBAAKA,UAAU,yEACb,yBAAKA,UAAU,YACZtB,EAAO+I,OAAS,EACf,kBAAC,KAAD,CACElH,MAAO,CACL2S,QAAS,SACTE,SAAU,OACVC,UAAW,OACXC,WAAY,WAGb5U,EAAO6O,KAAI,SAAC1N,EAAG2H,GAAJ,OACV,yBACE8C,QAAS,WACPyiB,EAAiBvlB,IAEnBjH,MAAO,CAAEoQ,QAAS,gBAClBnD,IAAG,kCAA6BhG,GAChCxH,UAAS,eACP8sB,IAAkBtlB,EACd,mCACA,kCAGL3H,OAKP,KAILgR,EAAOpJ,OACN,kBAAC,GAAD,CACEilB,SAAS,cACT7b,OAAQA,EAAOkC,QACb,SAAClT,GAAD,OACGnE,EAAQmE,EAAEoK,WACTvO,EAAQmE,EAAEoK,UAAUyJ,aAAaV,SAC/BtU,EAAOouB,KAEe,QAA1BpuB,EAAOouB,QAIb,yBACE9sB,UAAU,yEACVO,MAAO,CAAEzB,OAAQ,UAFnB,wGC2ZOkK,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBO,QAASN,EAAMM,SACZuN,KAIQD,EAxdC,SAAC,GAOV,IANL7M,EAMI,EANJA,QACAhB,EAKI,EALJA,YACAO,EAII,EAJJA,QACAixB,EAGI,EAHJA,MACA/wB,EAEI,EAFJA,KACAmT,EACI,EADJA,eACI,EAE4B9H,mBAAS,IAFrC,mBAEGgO,EAFH,KAEaZ,EAFb,OAIsCpN,oBAAS,GAJ/C,mBAIGkK,EAJH,KAIkBC,EAJlB,OAKsBnK,oBAAS,GAL/B,mBAKGiC,EALH,KAKUmI,EALV,OAMwBpK,oBAAS,GANjC,mBAMGjF,EANH,KAMWgU,EANX,OAQ8D/O,oBAC/D,GATC,mBAQGoO,EARH,KAQ8BjB,EAR9B,OAWwCnN,oBAAU,GAXlD,mBAWGqS,EAXH,KAWmBC,EAXnB,OAcoBtS,oBAAU,GAd9B,mBAcG0S,EAdH,KAcSC,EAdT,OAeoC3S,mBAAS,GAf7C,mBAeG2O,EAfH,KAeiBC,EAfjB,KAkBEC,EAAoB3D,iBAAO,MAKjC/K,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,0DACqC,IAA/BgM,EADN,gCAEqBtS,EAAkBsS,GAFvC,OAEQvU,EAFR,OAGIuT,GAAY,SAAClF,GAAD,OACV5T,OAAOC,OAAO,GAAI2T,EAAlB5T,OAAA,KAAAA,CAAA,GAA2B8Z,EAA4BvU,OAJ7D,4CADc,uBAAC,WAAD,wBASd2M,KACC,CAAC4H,IAGJ,IAAIgF,GAAqB,IAAVV,EAAc,EAAIA,EAEjC,OACE,yBAAK3Z,UAAU,6BACb,kBAAC,GAAD,CACEgP,aAAa,EACbpI,KAAMuK,EACN1C,QAAS,kBAAM2C,GAAiB,IAChClI,MAAOA,EACPlH,OAAQA,EACRpG,KAAMA,EACNmT,eAAgBA,IAElB,yBAAK/O,UAAU,UACb,yBAAKA,UAAU,sBAAsBsI,IAAKwN,IACzC3Z,EAAQsL,OACPtL,EACG8W,MAhCY,GAiCVoH,EAAW,GAjCD,GAkCVA,EAAW,GAlCD,GAoCZ9M,KAAI,SAAC1N,EAAG2H,GAAJ,OACH9L,EAAQmE,EAAEoK,UACR,kBAAC,IAAMyD,SAAP,CAAgBF,IAAG,0BAAqBhG,IACtC,yBACEgG,IAAG,iBAAYhG,GACfxH,UAAU,wDAEV,yBACEA,UAAU,4CACVO,MAAO,CAAE6S,SAAU,UAEnB,yBAAKpT,UAAU,uBACb,yBACEsR,IAAK5V,EAAQmE,EAAEoK,UAAUuJ,aACzBlJ,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBvQ,EAAEoK,YACxCvK,MAAM,OACNa,MAAO,CAAEgR,aAAc,QACvBC,IAAG,yCACD9V,EAAQmE,EAAEoK,UAAUuJ,kBAK5B,yBAAKxT,UAAU,0BACb,yBAAKA,UAAU,8EACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,6BACVO,MAAO,CACL6O,gBAAgB,sCAAD,OACb1T,EAAQmE,EAAEoK,UAAUuJ,aADP,SAMrB,yBAAKxT,UAAU,OACb,yBAAKA,UAAU,kCACZtE,EAAQmE,EAAEoK,UAAUwJ,YADvB,KAEG/X,EACCmE,EAAEoK,UACF8L,mBAAmB3J,UAAU,EAAG,GAJpC,QAUN,yBAAKpM,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY0E,EAAEiV,QACV3Z,EAAY0E,EAAEiV,QAAQ9Y,MACtB,GAHS,SAQrB,yBAAKgE,UAAU,YACb,yBAAKA,UAAU,gDACb,yBAAKA,UAAU,sBACZ7E,EAAY0E,EAAEiV,QACX3Z,EAAY0E,EAAEiV,QAAQ/Y,aACtB,QAMd,yBAAKiE,UAAU,YACb,yBAAKA,UAAU,6BACb,0BAAMA,UAAU,iBAAhB,oBAGA,0BAAMA,UAAU,4BACb+W,KAAKC,OAAO,IAAI7Y,KAAK0B,EAAEkX,MAAO,iBAEhC4V,EACC,kBAAC,IAAMjf,SAAP,KACE,kBAAC,GAAD,CACEpH,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,6BAAf,iBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,sBAAAjB,EAAA,sDACPgI,EAAS,CACP7S,aACE9C,EAAQmE,EAAEoK,UACP8L,mBACLnZ,MAAOlB,EAAQmE,EAAEoK,UAAUwJ,YAC3BpV,GAAI3C,EAAQmE,EAAEoK,UAAUL,UAE1BoM,EAAUnW,GACVuR,GAAiB,GATV,4CAYT,kBAAC,KAAD,CAAU1C,SAAS,WAGvB,kBAAC,GAAD,CACEpI,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,6BAAf,mBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,kCAAAjB,EAAA,sEAELkQ,EAAkB1Z,EAAEsQ,KAFf,SAGW7N,EAAazC,GAHxB,OAGDyB,EAHC,OAILiY,GAAmB,GACfjY,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAM,0BACNtB,KAAM,UACNuB,QAASyE,EAAIuI,UAIjB5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAM,UACNtB,KAAM,UACNuB,QACE,kCAIFlB,EAASD,EAAQmE,EAAEoK,WAIN,KAHbwQ,EAAU9e,EACZkE,EAAElE,QACFqO,WAAU,SAAC0Q,GAAD,OAAOA,IAAM7a,EAAEiV,YAEzBnZ,EAAOkE,EAAElE,QAAQmT,OAAO2L,EAAS,GAEnCxb,EAAMwK,SAAS,CACbnO,KAAM,iBACNK,OAAO,gBAAIkE,EAAEoK,SAAWtO,YAGtB2U,EAvBC,eAuBkB1U,EAAKF,UACTmE,EAAEoK,UACrBhL,EAAMwK,SAAS,CACbnO,KAAM,cACNiB,aAAc,CACZb,QAAS4U,KAGbvB,KA7CG,0GAkDRuK,IAAmBzZ,EAAEsQ,IACpB,yBAAKnQ,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,SAAS,EACTnJ,KAAM,MAIV,kBAAC,KAAD,CAASkP,SAAS,YAM1B,MAMR,yBAAK1O,UAAU,wEACZH,EAAEmC,QAEL,yBAAKhC,UAAU,qCACZH,EAAElE,OACY,YAAbkE,EAAElE,OACA,kBAAC,EAAD,CAAQ6D,KAAM,KAEd,kBAAC,IAAD,CACEiB,MACe,mBAAbZ,EAAElE,OACE,OACa,cAAbkE,EAAElE,OACF,QACa,YAAbkE,EAAElE,OACF,sBACA,OAEN+E,IAAI,WACJlB,KAAM,KAIV,IAGJ,yBAAKQ,UAAU,8BACb,yBAAKA,UAAU,iDACb,yBAAKA,UAAU,oEACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACZH,EAAEoX,MAAMxP,QAEX,yBAAKzH,UAAU,kBACb,kBAAC,IAAD,CACE0O,SAAS,OACT1O,UAAU,gBAGd,yBAAKA,UAAU,iBACZH,EAAEoV,SAASxN,QAEd,yBAAKzH,UAAU,iBACb,kBAAC,IAAD,CACEsK,QAAS,WACP8J,EACEiB,IAA8BxV,EAAEsQ,KAC3B,EACDtQ,EAAEsQ,MAGVzB,SAAS,OACT1O,UAAU,wDAU5B,kBAACkX,GAAA,EAAD,CACEC,GAAI9B,IAA8BxV,EAAEsQ,IACpCnQ,UAAU,QAEV,yBAAKA,UAAU,wBAAf,aACaiV,EAASpV,EAAEsQ,KAAO8E,EAASpV,EAAEsQ,KAAK1I,OAAS,EADxD,KAGCwN,EAASpV,EAAEsQ,KACR8E,EAASpV,EAAEsQ,KACR8C,MACC2C,GAAgBA,EAAe,GAC/BA,GAAgBA,EAAe,GA3TjC,GA6TCrI,KAAI,SAAC3N,EAAG2X,GAAJ,OACH,yBACE/J,IAAG,kBAAa6H,EAAb,YAA0CkC,GAC7CvX,UAAU,6DAEV,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAYyE,EAAEkV,QACV3Z,EAAYyE,EAAEkV,QAAQ9Y,MACtB,GAHS,SAQrB,yBAAKgE,UAAU,OACb,yBAAKA,UAAU,0CACb,yBAAKA,UAAU,mCACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAYyE,EAAEkV,QACV3Z,EAAYyE,EAAEkV,QAAQ9Y,MACtB,GAHS,SAQrB,yBAAKgE,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,oCACZ7E,EAAYyE,EAAEkV,QACX3Z,EAAYyE,EAAEkV,QAAQ/Y,aACtB,IAEN,yBAAKiE,UAAU,4BACZ+W,KAAKC,OACJ,IAAI7Y,KAAKyB,EAAEmX,MACX,oBAOV,yBAAK/W,UAAU,6DACZJ,EAAE8C,SAEL,yBAAK1C,UAAU,6DACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACZJ,EAAEqX,MAAMxP,QAEX,yBAAKzH,UAAU,kBACb,kBAAC,IAAD,CACE0O,SAAS,OACT1O,UAAU,uCAS5B,GACJ,yBAAKA,UAAU,sCACb,yBAAKA,UAAU,YACb,kBAACyX,GAAD,CACE7D,MAAO1I,KAAKwM,KACVzC,EAASpV,EAAEsQ,KACP8E,EAASpV,EAAEsQ,KAAK1I,OAxYtB,EAyYM,GAENgB,QAASmN,EACT/B,WAAYgC,EACZ/B,WAAY,CACVC,YAAa,aACbrI,SAAU,6BAQtB,MAIN,yBACE1L,UAAU,8DACVO,MAAO,CAAEzB,OAAQ,UAFnB,mIAQF,yBAAKkB,UAAU,qEACb,yBAAKA,UAAU,iCACb,kBAACyX,GAAD,CACE3D,WAAY,CACVC,YAAa,aACbrI,SAAU,uBAEZkI,MAAO1I,KAAKwM,KAAKvb,EAAQsL,OAzad,GA0aXgB,QAAS4R,EACTxG,WAAY+F,WChLX5Q,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBO,QAASN,EAAMM,SACZuN,KAIQD,EA1RE,SAAC,GAOX,IANLiM,EAMI,EANJA,SACA9Z,EAKI,EALJA,YACAO,EAII,EAJJA,QACAixB,EAGI,EAHJA,MACA/wB,EAEI,EAFJA,KACA0Y,EACI,EADJA,gBACI,EAEoBrN,oBAAU,GAF9B,mBAEG0S,EAFH,KAESC,EAFT,KAIE9D,EAAoB3D,iBAAO,MAJ7B,EAMsBlL,oBAAS,GAN/B,mBAMGiC,EANH,KAMUmI,EANV,OAO8BpK,oBAAS,GAPvC,mBAOG4S,EAPH,KAOcC,EAPd,OAQ0B7S,oBAAS,GARnC,mBAQGvE,EARH,KAQYgX,EARZ,OAS0CzS,oBAAU,GATpD,mBASGmS,EATH,KASoBC,EATpB,KAaAgB,GAAqB,IAAVV,EAAc,EAAIA,EAEjC,OACE,yBAAK3Z,UAAU,6BACb,kBAAC,GAAD,CACE0C,QAASA,EACT4R,gBAAiBA,EACjBD,YAAa,aACbnL,MAAOA,EACPtC,KAAMiT,EACNpL,QAAS,kBAAMqL,GAAa,IAC5Ble,KAAMA,IAER,yBAAKoE,UAAU,UACb,yBAAKA,UAAU,sBAAsBsI,IAAKwN,IACzCb,EAASxN,OACRwN,EACGhC,MApBY,GAqBVoH,EAAW,GArBD,GAsBVA,EAAW,GAtBD,GAwBZ9M,KAAI,SAAC1N,EAAG2H,GAAJ,OACH,yBACEgG,IAAG,kBAAahG,GAChBxH,UAAU,wDAEV,yBACEA,UAAU,4CACVO,MAAO,CAAE6S,SAAU,UAEnB,yBAAKpT,UAAU,uBACb,yBACEsR,IAAK5V,EAAQmE,EAAEoK,UAAUuJ,aACzBlJ,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBvQ,EAAEoK,YACxCvK,MAAM,OACNa,MAAO,CAAEgR,aAAc,QACvBC,IAAG,yCACD9V,EAAQmE,EAAEoK,UAAUuJ,kBAK5B,yBAAKxT,UAAU,0BACb,yBAAKA,UAAU,8EACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,6BACVO,MAAO,CACL6O,gBAAgB,sCAAD,OACb1T,EAAQmE,EAAEoK,UAAUuJ,aADP,SAYrB,yBAAKxT,UAAU,OACb,yBAAKA,UAAU,kCACZtE,EAAQmE,EAAEoK,UAAUwJ,YADvB,KAEG/X,EAAQmE,EAAEoK,UAAU8L,mBAAmB3J,UACtC,EACA,OAMV,yBAAKpM,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY0E,EAAEiV,QACV3Z,EAAY0E,EAAEiV,QAAQ9Y,MACtB,GAHS,SAQrB,yBAAKgE,UAAU,YACb,yBAAKA,UAAU,gDACb,yBAAKA,UAAU,yBACZ7E,EAAY0E,EAAEiV,QACX3Z,EAAY0E,EAAEiV,QAAQ/Y,aACtB,QAMd,yBAAKiE,UAAU,YACb,yBAAKA,UAAU,6BACb,0BAAMA,UAAU,iBAAhB,gBACA,0BAAMA,UAAU,4BACb+W,KAAKC,OAAO,IAAI7Y,KAAK0B,EAAEkX,MAAO,iBAEhC4V,EACC,kBAAC,IAAMjf,SAAP,KACE,kBAAC,GAAD,CACEpH,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,6BAAf,kBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,sBAAAjB,EAAA,sDACPgI,EAAS,CACP7S,aACE9C,EAAQmE,EAAEoK,UAAU8L,mBACtBnZ,MAAOlB,EAAQmE,EAAEoK,UAAUwJ,YAC3BpV,GAAI3C,EAAQmE,EAAEoK,UAAUL,UAE1B8P,EAAW7Z,GACXia,GAAa,GARN,4CAWT,kBAAC,KAAD,CAAUpL,SAAS,WAGvB,kBAAC,GAAD,CACEpI,OAAO,EACPD,SAAS,MACTI,QAAQ,aACRF,MAAM,OACNC,QAAS,SAAC2D,GAAD,OACP,yBAAKnK,UAAU,6BAAf,oBAKF,yBACEA,UAAU,4DACVsK,QAAO,sBAAE,4BAAAjB,EAAA,6DACPgQ,EAAmBxZ,EAAEsQ,KADd,SAEStN,EAAchD,EAAEsQ,KAFzB,OAEH7O,EAFG,OAGP+X,GAAoB,GAChB/X,EAAIuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAM,0BACNtB,KAAM,UACNuB,QAASyE,EAAIuI,UAIjB5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAM,UACNtB,KAAM,UACNuB,QAAS,kCAGbyX,KAtBK,4CA0BR8E,IAAoBvZ,EAAEsQ,IACrB,yBAAKnQ,UAAU,aACb,kBAAC,GAAD,CACEqK,MAAO,QACP9J,MAAO,CACL8F,SAAU,WACVmK,KAAM,OACNjC,IAAK,EACLkC,OAAQ,EACRC,OAAQ,OACRC,QAAS,OACTC,WAAY,UAEdjI,SAAS,EACTnJ,KAAM,MAIV,kBAAC,KAAD,CAASkP,SAAS,YAM1B,MAMR,yBAAK1O,UAAU,8DACZH,EAAE6C,SAEL,yBAAK1C,UAAU,8BACb,yBAAKA,UAAU,iDACb,yBAAKA,UAAU,oEACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACZH,EAAEoX,MAAMxP,QAEX,yBAAKzH,UAAU,kBACb,kBAAC,IAAD,CACE0O,SAAS,OACT1O,UAAU,0BAYhC,yBACEA,UAAU,8DACVO,MAAO,CAAEzB,OAAQ,UAFnB,uHAQF,yBAAKkB,UAAU,qEACb,yBAAKA,UAAU,iCACb,kBAACyX,GAAD,CACE3D,WAAY,CACVC,YAAa,aACbrI,SAAU,uBAEZkI,MAAO1I,KAAKwM,KAAKzC,EAASxN,OAtPf,GAuPXgB,QAAS4R,EACTxG,WAAY+F,W,UCRXoT,GAxQK,SAAC,GAMd,IALLpxB,EAKI,EALJA,KACAgT,EAII,EAJJA,eACAqe,EAGI,EAHJA,gBACAxe,EAEI,EAFJA,QACApM,EACI,EADJA,OACI,EACwB4E,mBAAS,CACnCpL,WAAY,GACZC,UAAW,GACXC,aAAc,GACdC,MAAO,GACPkK,SAAU,GACVgnB,gBAAiB,GACjB/c,IAAK,GACLlU,MAAO,KATL,mBACG6H,EADH,KACWqpB,EADX,OAY0BlmB,mBAAS,IAZnC,mBAYGgG,EAZH,KAYYC,EAZZ,KAcEkgB,EAAgBjb,iBAAO,MAE7B/K,qBAAU,WACJxL,EAAKI,OACPmxB,GAAU,SAAChe,GAAD,OACR5T,OAAOC,OAAO,GAAI2T,EAAM,CACtBtT,WAAYD,EAAKC,WACjBC,UAAWF,EAAKE,UAChBC,aAAcH,EAAKG,aACnBG,MAAON,EAAKM,MACZF,MAAOJ,EAAKI,MACZC,MAAOL,EAAKK,aAIjB,CAACL,EAAKC,aAET,IAAMwxB,EAAgB,uCAAG,WAAO9d,GAAP,qBAAAlG,EAAA,6DACnBikB,EAAY/d,EAAEG,OAAO6d,MAAM,GAC3BpF,EAAU,CACZqF,UAAW,EACXC,iBAAkB,IAClBC,cAAc,GALO,kBAQQC,aAAiBL,EAAWnF,GARpC,cAQfyF,EARe,gBASCD,KAAiBE,mBAAmBD,GATrC,OASfE,EATe,OAUrBX,GAAU,SAAChe,GAAD,OAAU5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEnT,MAAO8xB,OAVhC,4GAAH,sDAchB7P,EAAc,CAClB,CACEC,MAAO,UAAU5S,KAAKxH,EAAOoC,WAAa,KAAKoF,KAAKxH,EAAOoC,UAC3D2D,MAAO,0CAET,CACEqU,MAAOpa,EAAOoC,WAAapC,EAAOopB,gBAClCrjB,MAAO,yBAET,CACEqU,MAAOpa,EAAOoC,SAASuB,QAAU,EACjCoC,MAAO,gDAIX,OACE,kBAAC,GAAD,CAAOjD,KAAMqmB,EAAiBxe,QAASA,GACrC,yBAAKzO,UAAU,gFACb,yBAAKA,UAAU,qCAAf,kBACA,yBAAKA,UAAU,8CACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,yCACb,yBACEA,UAAU,iFACVO,MAAO,CAAE6O,gBAAgB,OAAD,OAAStL,EAAO9H,MAAhB,OAExB,2BACE2T,YAAY,EACZL,SAAU+d,EACV/xB,KAAK,OACL0E,UAAU,SACVsI,IAAK8kB,MAKX,yBACEptB,UAAU,qCACVsK,QAAS,kBAAM8iB,EAAc3kB,QAAQ2W,UAFvC,kBAQJ,yBAAKpf,UAAU,uBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,6BAAf,cACA,yBAAKA,UAAU,kBACb,2BACE2P,YAAY,EACZrU,KAAK,OACL0E,UAAU,yBACV4K,MAAO9G,EAAOjI,WACdyT,SAAU,SAACC,GACTA,EAAEC,UACF2d,GAAU,SAAChe,GAAD,OACR5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEtT,WAAY0T,EAAEG,OAAO9E,gBAMzD,yBAAK5K,UAAU,UACb,yBAAKA,UAAU,6BAAf,aACA,yBAAKA,UAAU,kBACb,2BACE2P,YAAY,EACZrU,KAAK,OACL0E,UAAU,yBACV4K,MAAO9G,EAAOhI,UACdwT,SAAU,SAACC,GACTA,EAAEC,UACF2d,GAAU,SAAChe,GAAD,OACR5T,OAAOC,OAAO,GAAI2T,EAAM,CAAErT,UAAWyT,EAAEG,OAAO9E,iBAO1D,yBAAK5K,UAAU,uBACb,yBAAKA,UAAU,qBAAf,SACA,yBAAKA,UAAU,UACb,2BACEoe,UAAQ,EACRzO,YAAY,EACZrU,KAAK,OACL0E,UAAU,mDACV4K,MAAO9G,EAAO5H,UAIpB,yBAAK8D,UAAU,uBACb,yBAAKA,UAAU,qBAAf,gBACA,yBAAKA,UAAU,UACb,2BACE2P,YAAY,EACZrU,KAAK,OACL0E,UAAU,yBACV4K,MAAO9G,EAAO/H,aACduT,SAAU,SAACC,GACTA,EAAEC,UACF2d,GAAU,SAAChe,GAAD,OACR5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEpT,aAAcwT,EAAEG,OAAO9E,gBAM3D,yBAAK5K,UAAU,uBACb,yBAAKA,UAAU,qBAAf,YACA,yBAAKA,UAAU,UACb,2BACE1E,KAAK,WACLqU,YAAY,EACZ3P,UAAU,yBACV4K,MAAO9G,EAAOoC,SACdoJ,SAAU,SAACC,GACTA,EAAEC,UACF2d,GAAU,SAAChe,GAAD,OACR5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEjJ,SAAUqJ,EAAEG,OAAO9E,gBAMvD,yBAAK5K,UAAU,uBACb,yBAAKA,UAAU,qBAAf,oBACA,yBAAKA,UAAU,UACb,2BACE2P,YAAY,EACZrU,KAAK,WACL0E,UAAU,yBACV4K,MAAO9G,EAAOopB,gBACd5d,SAAU,SAACC,GACTA,EAAEC,UACF2d,GAAU,SAAChe,GAAD,OACR5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE+d,gBAAiB3d,EAAEG,OAAO9E,gBAM9D,yBACE5K,UAAU,oEACVO,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,IAE/CA,GAEH,yBAAKjN,UAAU,kBACb,yBACEA,UAAU,4EACVsK,QAASmE,GAFX,UAMA,yBACEzO,UAAU,6DACVsK,QAAO,sBAAE,gCAAAjB,EAAA,2DACH0iB,EAAW9N,EAAYlL,QAAO,SAAClT,GAAD,OAAQA,EAAEqe,UAC/BzW,SAAU3D,EAAOoC,SAFvB,gBAGLgH,EAAW6e,EAAS,GAAGliB,OAHlB,8BAKDkkB,EAAc,GAClBxyB,OAAOkhB,KAAK3Y,GAAQ6F,SAAQ,SAAC9J,GACvBiE,EAAOjE,KACTkuB,EAAYluB,GAAKiE,EAAOjE,OARvB,SAWWgE,EAASkqB,GAXpB,QAWDzsB,EAXC,QAYIuI,MAuBP5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAASyE,EAAIuI,MACbvO,KAAM,cA3BV2D,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,kBACPC,QAAS,wCACTvB,KAAM,aAGV2D,EAAMwK,SAAS,CACbnO,KAAM,qBACNG,WAAW,gBAAI4G,EAASf,EAAI0sB,qBAG9B/uB,EAAMwK,SAAS,CACbnO,KAAM,cACNiB,aAAc+E,EAAIkI,cAGpBoF,IACAH,IACAmc,aAAY,kBAAwBtpB,EAAI2sB,UAjCrC,6CAFX,YC0GKjlB,oBATf,SAAc5N,EAAO6N,GACnB,OAAO,aACLrN,KAAMR,EAAMQ,KACZF,QAASN,EAAMM,QACfP,YAAaC,EAAMD,aAChB8N,KAIQD,EAhTC,SAACzJ,GACf,IAAM3D,EAAO2D,EAAM3D,KACbyG,EAAS9C,EAAMob,MAAM7O,OAAOzJ,OAC5BlH,EAAcoE,EAAMpE,YACpBO,EAAU6D,EAAM7D,QAChBwyB,EAAe3uB,EAAMob,MAAM7O,OAAOyR,QALf,EAOatW,mBAAS,CAC7C7K,SAAU,GACV6Y,SAAU,GACV5Y,YAAa,GACbF,QAAS,GACTN,WAAY,GACZC,UAAW,KAbY,mBAOlBqyB,EAPkB,KAOLC,EAPK,OAgBmBnnB,oBAAS,GAhB5B,mBAgBlB8H,EAhBkB,KAgBFqH,EAhBE,OAiBqBnP,oBAAS,GAjB9B,mBAiBlBqN,EAjBkB,KAiBD6B,EAjBC,OAkBKlP,mBAAS,IAlBd,mBAkBlB9K,EAlBkB,KAkBT+Y,EAlBS,OAmBOjO,mBAAS,IAnBhB,mBAmBlBgO,EAnBkB,KAmBRZ,EAnBQ,KAqBnBga,EAAiBlc,kBAAO,GACxBmc,EAAkBnc,kBAAO,GAtBN,EAwBKlL,mBAAS,GAxBd,mBAwBlBsW,EAxBkB,KAwBTC,EAxBS,OAyBqBvW,oBAAS,GAzB9B,mBAyBlBgmB,EAzBkB,KAyBDsB,EAzBC,OA2BmBtnB,oBAAS,GA3B5B,mBA2BlB2H,EA3BkB,KA2BF4f,EA3BE,KAgGzB,OAnEApnB,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,0DACMhH,EADN,gCAEoBkB,EAAQlB,GAF5B,QAEQf,EAFR,QAGauI,OACPukB,EAAe9sB,GAJrB,4CADc,uBAAC,WAAD,wBASdmM,KACC,CAACpL,EAAQuM,EAAgBhT,EAAKQ,SAASqL,SAE1CL,qBAAU,gBACaP,IAAjBqnB,GACF1Q,GAAY0Q,KAEb,CAACA,IAEJ9mB,qBAAU,WAAM,4CACd,8BAAAiC,EAAA,yDAEgB,IAAZkU,GACC8Q,EAAe5lB,UAChB0lB,EAAYhyB,QAAQsL,OAJxB,uBAMI4mB,EAAe5lB,SAAU,EAN7B,SAOoBjF,EAAe2qB,EAAYhyB,SAP/C,QAOQmF,EAPR,QAQauI,OACPqL,EAAW5T,EAAI6Y,WATrB,0BAWyB,IAAZoD,GAAkB+Q,EAAgB7lB,QAX/C,wBAYI6lB,EAAgB7lB,SAAU,EAZ9B,UAaoB9E,EAAgBwqB,EAAYlZ,UAbhD,SAaQ3T,EAbR,QAcauI,OACPwK,EAAY/S,EAAI6Y,WAftB,6CADc,uBAAC,WAAD,wBAoBd1M,KACC,CAAC8P,EAAS4Q,EAAYhyB,QAAQsL,SAEjCL,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,0DACMglB,EAAe5lB,QADrB,uBAEI0N,GAAoB7B,GAFxB,SAGoB9Q,EAAe2qB,EAAYhyB,SAH/C,QAGQmF,EAHR,QAIauI,OACPqL,EAAW5T,EAAI6Y,WALrB,4CADc,uBAAC,WAAD,wBAUd1M,KACC,CAACsB,IAEJ3H,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,0DACMilB,EAAgB7lB,QADtB,uBAEI+lB,GAAmB5f,GAFvB,SAGoBjL,EAAgBwqB,EAAYlZ,UAHhD,QAGQ3T,EAHR,QAIauI,OACPwK,EAAY/S,EAAI6Y,WALtB,4CADc,uBAAC,WAAD,wBAUd1M,KACC,CAAC6G,IAGF,yBAAKtU,UAAU,iBAAiBO,MAAO,CAAEic,UAAW,UAClD,kBAAC,GAAD,CACEna,OAAQA,EACRuM,eAAgB,kBAAM4f,GAAmB5f,IACzCqe,gBAAiBA,EACjBrxB,KAAMA,EACN6S,QAAS,kBAAM8f,GAAmB,MAEpC,yBAAKvuB,UAAU,+CACb,yBAAKA,UAAU,4HACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,kEACb,yBACEA,UAAU,sDACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAYkH,GAAUlH,EAAYkH,GAAQrG,MAAQ,GADrC,QAKnB,yBAAKgE,UAAU,sBACZmuB,EAAYtyB,YAAcsyB,EAAYryB,UACrC,yBAAKkE,UAAU,gFACb,yBAAKA,UAAU,iBACZmuB,EAAYtyB,WAAasyB,EAAYtyB,WAAa,IAErD,yBAAKmE,UAAU,YACZmuB,EAAYryB,UAAYqyB,EAAYryB,UAAY,KAIrD,yBAAKkE,UAAU,qEAAf,sBAKF,yBAAKA,UAAU,qFACb,yBAAKA,UAAU,gBAAgBO,MAAO,CAAE6S,SAAU,UAAlD,IAEGjY,EAAYkH,GACTlH,EAAYkH,GAAQtG,aACpB,KAGPH,EAAKuU,MAAQ9N,EACZ,yBAAKrC,UAAU,kEACb,yBACEA,UAAU,mDACVsK,QAAS,kBAAMikB,GAAmB,KAFpC,iBAQF,MAKR,yBAAKvuB,UAAU,sBACb,yBAAKA,UAAU,kEACb,yBAAKA,UAAU,2BACb,yBAAKA,UAAU,2CAAf,YAGA,yBAAKA,UAAU,gDACZmuB,EAAY/xB,SAASqL,SAG1B,yBAAKzH,UAAU,gCACb,yBAAKA,UAAU,2CAAf,WAGA,yBAAKA,UAAU,gDACZmuB,EAAY9xB,YAAYoL,SAG7B,yBAAKzH,UAAU,gCACb,yBAAKA,UAAU,2CAAf,WAGA,yBAAKA,UAAU,oEACZmuB,EAAYhyB,QAAQsL,SAGzB,yBAAKzH,UAAU,mBACb,yBAAKA,UAAU,2CAAf,YAGA,yBAAKA,UAAU,gDACZmuB,EAAYlZ,SAASxN,YAOhC,yBAAKzH,UAAU,wFACb,yBAAKA,UAAU,UACb,kBAAC,KAAD,CACEO,MAAO,CACL6S,SAAU,OACVC,UAAW,OACXC,WAAY,WAGd,yBACEtT,UAAU,oFACVO,MAAO,CACLkuB,UAAW,wBACXC,aACc,IAAZnR,EACI,4BACA,yBAERjT,QAAS,kBAAMkT,EAAW,KAT5B,YAaA,yBACEjd,MAAO,CACLkuB,UAAW,wBACXC,aACc,IAAZnR,EACI,4BACA,yBAERvd,UAAU,oFACVsK,QAAS,kBAAMkT,EAAW,KAT5B,WAaA,yBACEjd,MAAO,CACLkuB,UAAW,wBACXC,aACc,IAAZnR,EACI,4BACA,yBAERvd,UAAU,oFACVsK,QAAS,kBAAMkT,EAAW,KAT5B,WAaA,yBACEjd,MAAO,CACLkuB,UAAW,wBACXC,aACc,IAAZnR,EACI,4BACA,yBAERvd,UAAU,oFACVsK,QAAS,kBAAMkT,EAAW,KAT5B,eAgBO,IAAZD,EACC,kBAAC,GAAD,CACE7hB,QAASA,EACTkT,eAAgB,kBAAM4f,GAAmB5f,IACzCiC,OAAQsd,EAAY/xB,SACpBuwB,MAAO/wB,EAAKuU,MAAQge,EAAYhe,IAChCvU,KAAMA,IAEM,IAAZ2hB,EACF,kBAACoR,GAAD,CACEjzB,QAASA,EACTmV,OAAQsd,EAAY9xB,cAER,IAAZkhB,EACF,kBAAC,GAAD,CACExO,eAAgB,kBAAMqH,GAAmBrH,IACzCnT,KAAMA,EACNF,QAASA,EACTS,QAASA,EACTwwB,MAAO/wB,EAAKuU,MAAQge,EAAYhe,MAEpB,IAAZoN,EACF,kBAAC,GAAD,CACEjJ,gBAAiB,kBAAM6B,GAAoB7B,IAC3C1Y,KAAMA,EACNF,QAASA,EACTuZ,SAAUA,EACV0X,MAAO/wB,EAAKuU,MAAQge,EAAYhe,MAGlC,QC1OKye,GA/DM,SAAC,GAA8C,IAA5CC,EAA2C,EAA3CA,UAAWC,EAAgC,EAAhCA,WAAqB/nB,GAAW,EAApBnL,KAAoB,mDAC3DmzB,EAAchoB,EAAKioB,cAAcviB,IAD0B,EAEjCxF,mBAAS,CAAEgoB,OAAO,EAAO/Q,OAAO,IAFC,mBAE1DgR,EAF0D,KAEhDC,EAFgD,KA6CjE,OAzCA/nB,qBAAU,WAAM,4CACd,8BAAAiC,EAAA,yDAEgB,QADVpN,EAAQ2uB,aAAawE,QAAQ,uBACVnzB,EAAMwL,OAF/B,gBAGI0nB,GAAY,SAAChgB,GAAD,OAAU5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE8f,OAAO,OAH3D,sCAKqBttB,EAAe,CAC9B1F,UANN,QAKQ6E,EALR,QAQc+I,OAiBR4H,EAAQrB,KAAK,KACbnR,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,yBACPC,QAAS,2CACTvB,KAAM,cAtBQ,kBAAdwF,EAAKif,KACPoP,GAAY,SAAChgB,GAAD,OACV5T,OAAOC,OAAO,GAAI2T,EAAM,CAAE8f,OAAO,EAAM/Q,OAAO,QAGhDjf,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,yBACPC,QAAS,oDACTvB,KAAM,aAGVmW,EAAQrB,KAAK,MAtBrB,4CADc,uBAAC,WAAD,wBAsCd3C,KACC,IAEIyhB,EAASD,MACd,kBAAC,IAAD,iBACMloB,EADN,CAEEsoB,OAAQ,SAAC9vB,GACP,OAAO2vB,EAAShR,MACd,kBAAC2Q,EAActvB,GAEf,kBAAC,IAAD,CACE+vB,GAAI,CAAEC,SAAUT,EAAY1zB,MAAO,CAAE2zB,YAAaA,UAM1D,+B,UCuBWS,GApFM,WAAO,IAAD,EACiBvoB,mBAAS,IAD1B,mBAClBkc,EADkB,KACHC,EADG,KAGrBqM,GAAwB,EAExBC,EAAsB9E,aAAawE,QAAQ,+BAG7CM,EADEA,EACoBxuB,KAAKyuB,MAAMD,GAEX,GAVC,qBAaXvM,GAbW,IAazB,2BAA6B,CAAC,IAArBtjB,EAAoB,QAC3B,IAAK6vB,EAAoB1c,SAASnT,EAAE0jB,aAAc,CAChDkM,EAAwB5vB,EACxB,QAhBqB,oCAoBGoH,oBAAS,GApBZ,mBAoBlB2oB,EApBkB,KAoBVC,EApBU,KAmCzB,OAbAzoB,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,sEACmBhE,KADnB,QACMvE,EADN,QAEY+I,OACJ/I,EAAK2G,QACP2b,EAAiBtiB,GAJvB,4CADc,uBAAC,WAAD,wBAUd2M,KACC,IAEIgiB,GACLA,EAAsBlM,cACrBqM,EACD,yBACE5vB,UAAS,sEACwB,YAA/ByvB,EAAsBn0B,KAClB,aAC+B,gBAA/Bm0B,EAAsBn0B,KACtB,aAC+B,UAA/Bm0B,EAAsBn0B,KACtB,YACA,KAGN,yBACEgP,QAAS,WACPulB,GAAU,GACVH,EAAoBtf,KAAKqf,EAAsBlM,aAE/CqH,aAAaC,QACX,8BACA3pB,KAAKC,UAAUuuB,KAGnB1vB,UAAU,yGACVO,MAAO,CAAEuY,MAAO,OAAQvK,IAAK,EAAGkC,OAAQ,EAAGC,OAAQ,OAAQlC,OAAQ,IAEnE,kBAAC,KAAD,CAAKxO,UAAU,eAEjB,yBAAKA,UAAU,uCACb,yBAAKA,UAAU,yCACb,yBACEA,UAAU,kCACVO,MAAO,CAAEb,MAAO,UAElB,yBAAKM,UAAU,yBACb,yBAAKA,UAAU,yCACZyvB,EAAsBlM,cAG3B,yBAAKvjB,UAAU,WAAWO,MAAO,CAAEb,MAAO,aAKhD,ICvDWinB,OA3Bf,SAAuBpnB,GACrB,OACE,uBAAKS,UAAU,8CACb,uBACEA,UAAU,+BACVO,MAAO,CAAEgO,IAAK,MAAOuK,MAAO,MAAOpK,SAAU,SAE5CnP,EAAMqU,MAAQrU,EAAMqU,MAAQ,GAE/B,qCAAKnU,QAAQ,gBAAgBC,MAAM,QAAWH,GAC5C,wBACEU,EAAE,+JACFF,KAAK,YAEP,wBACEE,EAAE,6YACFF,KAAK,YAEP,wBACEE,EAAE,4JACFF,KAAK,e,UCyDAiJ,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACLrN,KAAMR,EAAMQ,KACZF,QAASN,EAAMM,SACZuN,KAIQD,EA1EY,SAAC,GAAyB,IAAvB6H,EAAsB,EAAtBA,OAAQvG,EAAc,EAAdA,QACpC,OACE,yBAAKtK,UAAU,OACZ6Q,EAAOtD,KAAI,SAAC1N,EAAG2H,GAAJ,OACV,yBACEgG,IAAG,iBAAYhG,GACfxH,UAAU,0BACVO,MAAO,CAAEuvB,UAAW,QAASC,SAAU,GACvCzlB,QAAS,WACPmH,EAAQrB,KAAR,iBAAuBvQ,EAAElB,KAAF,gBAAkBkB,EAAExB,IAAOwB,EAAExB,KACpDiM,MAGF,yBAAKtK,UAAU,kBACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,yCACb,yBACEA,UAAU,6BACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbvP,EAAEvB,YAAF,yCACsCuB,EAAEvB,aACpC,uDAHS,UASvB,yBAAK0B,UAAU,OACb,yBACEA,UAAU,qCACVsK,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBvQ,EAAExB,OAExC,yBAAK2B,UAAU,iBACZH,EAAEjD,MAAQiD,EAAEjD,MAAQiD,EAAElB,OAG3B,yBAAKqB,UAAU,kCACb,yBAAKA,UAAU,gBAAgBO,MAAO,CAAE6S,SAAU,SAC/CvT,EAAE8R,UAAUlK,OACT5H,EAAE8R,UACCpE,KAAI,SAACqE,GACJ,IAAIoe,EAAa7vB,EAAqB2R,MACpC,SAACC,GAAD,OAAOA,EAAE1T,KAAOuT,KAEdqe,EAAc7vB,EAAqB0R,MACrC,SAACC,GAAD,OAAOA,EAAE1T,KAAOuT,KAElB,OAAOoe,EACHA,EAAWrxB,KACXsxB,EACAA,EAAYtxB,KACZ,aAELqN,KAAK,KACR,sBCiHPhD,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACL9N,YAAaC,EAAMD,YACnBO,QAASN,EAAMM,SACZuN,KAIQD,EAtKa,SAAC,GAAuC,IAArC7M,EAAoC,EAApCA,QAAShB,EAA2B,EAA3BA,YAAaO,EAAc,EAAdA,QAAc,EACCuL,oBAC/D,GAF8D,mBAC1DoO,EAD0D,KAC/BjB,EAD+B,KASjE,OAAOjY,EACJ8W,MACC,EACA,GAED1F,KAAI,SAAC1N,EAAG2H,GAAJ,OACH,yBACE8C,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBvQ,EAAEoK,YACxCuD,IAAG,iBAAYhG,GACfxH,UAAU,+EAEV,yBACEA,UAAU,4CACVO,MAAO,CAAE6S,SAAU,UAEnB,yBAAKpT,UAAU,uBACb,yBACEsR,IAAK5V,EAAQmE,EAAEoK,UAAUuJ,aACzB9T,MAAM,OACNa,MAAO,CAAEgR,aAAc,OAAQuF,OAAQ,WACvCtF,IAAG,yCACD9V,EAAQmE,EAAEoK,UAAUuJ,kBAK5B,yBAAKxT,UAAU,0BACb,yBAAKA,UAAU,8EACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,6BACVO,MAAO,CACL6O,gBAAgB,sCAAD,OACb1T,EAAQmE,EAAEoK,UAAUuJ,aADP,SAMrB,yBAAKxT,UAAU,OACb,yBAAKA,UAAU,0BACZtE,EAAQmE,EAAEoK,UAAUwJ,YADvB,KAEG/X,EAAQmE,EAAEoK,UAAU8L,mBAAmB3J,UAAU,EAAG,IAEvD,yBAAKpM,UAAU,6BACb,yBAAKA,UAAU,iBAAiBH,EAAE6T,kBAK1C,yBAAK1T,UAAU,UACb,yBAAKA,UAAU,0CACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,oCACVO,MAAO,CACL6O,gBAAgB,OAAD,OACbjU,EAAY0E,EAAEiV,QACV3Z,EAAY0E,EAAEiV,QAAQ9Y,MACtB,GAHS,SAQrB,yBAAKgE,UAAU,YACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,sBACZ7E,EAAY0E,EAAEiV,QACX3Z,EAAY0E,EAAEiV,QAAQ/Y,aACtB,QAMd,yBAAKiE,UAAU,YACb,yBAAKA,UAAU,kBACb,0BAAMA,UAAU,QAAhB,oBACA,0BAAMA,UAAU,cACb+W,KAAKC,OAAO,IAAI7Y,KAAK0B,EAAEkX,MAAO,sBAO3C,yBAAK/W,UAAU,gDACZH,EAAEmC,QAEL,yBAAKhC,UAAU,iDACb,yBAAKA,UAAU,iDACb,yBAAKA,UAAU,6DACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,kBACZH,EAAElE,OACD,yBAAK4E,MAAO,CAAEqL,aAAc,SAC1B,kBAAC,IAAD,CACEnL,MACe,mBAAbZ,EAAElE,OACE,OACa,cAAbkE,EAAElE,OACF,QACa,YAAbkE,EAAElE,OACF,sBACA,OAEN+E,IAAI,WACJlB,KAAM,MAIV,KAIN,yBAAKQ,UAAU,iBACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,iBAAiBH,EAAEoX,MAAMxP,QACxC,yBAAKzH,UAAU,kBACb,kBAAC,IAAD,CACE0O,SAAS,OACT1O,UAAU,gBAGd,yBAAKA,UAAU,iBAAiBH,EAAEoV,SAASxN,QAC3C,yBAAKzH,UAAU,YACb,kBAAC,IAAD,CACEsK,QAAS,WACP8J,EACEiB,IAA8BxV,EAAEsQ,KAAO,EAAItQ,EAAEsQ,MAGjDzB,SAAS,OACT1O,UAAU,8DCkDnBgJ,oBATf,SAAc5N,EAAO6N,GACnB,OAAO,aACLrN,KAAMR,EAAMQ,KACZY,OAAQpB,EAAMoB,OACdO,SAAU3B,EAAM2B,UACbkM,KAIQD,EA/LG,SAACzJ,GACjB,IAAM2wB,EAAa,CAAC,MAAO,SAAU,SAAU,WACzCxzB,EAAW6C,EAAM/C,OAAOE,SACxBK,EAAWwC,EAAMxC,SAHI,EAIDkK,mBAAS,IAJR,mBAIpBxK,EAJoB,KAIb0zB,EAJa,OAKGlpB,mBAAS,IALZ,mBAKpB9K,EALoB,KAKX+Y,EALW,OAMCjO,mBAAS,IANV,mBAMpB4J,EANoB,KAMZ0B,EANY,OAOCtL,mBAAS,IAPV,mBAOpB8U,EAPoB,KAOZC,EAPY,OAQW/U,oBAAS,GARpB,mBAQpBmpB,EARoB,KAQPC,EARO,KASrBC,EAAene,kBAAO,GAEtBkK,EAAS,WACbpd,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,QACPC,QAAS,uDACTvB,KAAM,cAwDZ,OApDA8L,qBAAU,WAAM,4CACd,gCAAAiC,EAAA,0DACM5M,EADN,oBAEI4zB,GAAe,GACfC,EAAa7nB,SAAU,EACN,YAAb/L,GAAuC,QAAbA,EAJlC,iCAK0ByH,GAAc1H,GALxC,QAKUN,EALV,QAMmB0N,OACNymB,EAAa7nB,SAChByM,EAAW/Y,EAAQ8W,MAAM,EAAG,IARtC,wBAYMiC,EAAW,IAZjB,WAeqB,WAAbxY,GAAsC,QAAbA,EAfjC,kCAgByB8P,GAAa/P,EAAOM,EAASC,gBAhBtD,SAgBU6T,EAhBV,QAkBiBvD,QACJgjB,EAAa7nB,SAChB8J,EAAU1B,EAAOvD,QAAQ2F,MAAM,EAAG,KAGpCoJ,IAvBR,wBA0BM9J,EAAU,IA1BhB,WA4BqB,WAAb7V,GAAsC,QAAbA,EA5BjC,kCA6ByBgQ,GAAajQ,EAAOM,EAASC,gBA7BtD,SA6BU+e,EA7BV,QA8BiBzO,QACJgjB,EAAa7nB,SAChBuT,EAAUD,EAAOzO,QAAQ2F,MAAM,EAAG,KAGpCoJ,IAnCR,wBAsCML,EAAU,IAtChB,gCAyCIsU,EAAa7nB,SAAU,EACvB4nB,GAAe,GACf9d,EAAU,IACVyJ,EAAU,IACV9G,EAAW,IA7Cf,6CADc,uBAAC,WAAD,wBAiDdzH,KACC,CAAChR,EAAOC,IAGT,yBAAKsD,UAAU,wBACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACE4e,aAAa,WACbH,MAAOyR,EACPrR,SAAU,SAACsC,GAAD,OACRliB,EAAMwK,SAAS,CACbnO,KAAM,gBACNkB,OAAQ,CAAEE,SAAUwzB,EAAW/O,OAGnCna,aAAc,QACdhH,UAAU,gCACV0e,QAAShiB,IAEX,yBAAKsD,UAAU,yBACb,2BACEuwB,OAAM,sBAAE,sBAAAlnB,EAAA,sEACA,IAAImnB,SAAQ,SAACC,GAAD,OAAapE,WAAWoE,EAAS,QAD7C,OAENJ,GAAe,GAFT,2CAIRK,QAAO,sBAAE,sBAAArnB,EAAA,+EAAYgnB,GAAe,IAA3B,2CACTzlB,MAAOnO,EACPk0B,QAAS,SAACphB,GACU,KAAdA,EAAE0b,UACJkF,EAAS,IACTlxB,EAAMwK,SAAS,CACbnO,KAAM,gBACNkB,OAAQ,CAAEC,WAEZgV,EAAQrB,KAAK,aAGjBd,SAAU,SAACC,GACTA,EAAEC,UACF2gB,EAAS5gB,EAAEG,OAAO9E,QAEpBtP,KAAK,OACLqU,YAAY,EACZ3P,UAAS,gBAEX,kBAAC,KAAD,CACEsK,QAAS,kBAAMmH,EAAQrB,KAAK,YAC5B1B,SAAS,OACT1O,UAAU,8CACVO,MAAO,CAAEgO,IAAK,EAAGkC,OAAQ,EAAGqI,MAAO,OAAQpI,OAAQ,YAIzD,yBACE1Q,UAAU,qEACVO,MAAO,CAAEgO,IAAI,OAASiC,KAAM,EAAGyO,UAAW,UAE1C,yBAAKjf,UAAU,UACZowB,EACC,kBAAC,IAAM1iB,SAAP,KACGmD,EAAOpJ,OACN,kBAAC,IAAMiG,SAAP,KACE,yBAAK1N,UAAU,6CAAf,WACW6Q,EAAOpJ,OADlB,KAGA,kBAAC,GAAD,CACE6C,QAAS,kBAAM6lB,EAAS,KACxBtf,OAAQA,KAIZ,GAEDkL,EAAOtU,OACN,kBAAC,IAAMiG,SAAP,KACE,yBAAK1N,UAAU,6CAAf,WACW+b,EAAOtU,OADlB,KAGA,kBAAC,GAAD,CACEoJ,OAAQkL,EACRzR,QAAS,kBAAM6lB,EAAS,QAI5B,GAEDh0B,EAAQsL,OACP,kBAAC,IAAMiG,SAAP,KACE,yBAAK1N,UAAU,6CAAf,YACY7D,EAAQsL,OADpB,KAGA,kBAAC,GAAD,CACEtL,QAASA,EACTmO,QAAS,kBAAM6lB,EAAS,QAI5B,IAIJ,IAGJ,yBAAKnwB,UAAU,iBCmNV4wB,oBAAmB5nB,aATlC,SAAc5N,EAAO6N,GACnB,OAAO,aACLrN,KAAMR,EAAMQ,KACZY,OAAQpB,EAAMoB,OACduC,oBAAqB3D,EAAM2D,qBACxBkK,KAI2BD,EA1XnB,SAACzJ,GACd,IAAM3D,EAAO2D,EAAM3D,KACbmD,EAAsBQ,EAAMR,oBAC5BD,EAASS,EAAMT,OAHG,EAKmBmI,oBAAS,GAL5B,mBAKjB4pB,EALiB,KAKFC,EALE,KAMlBC,EAAa5e,iBAAO,KANF,EAOUlL,mBAAS,MAPnB,mBAOjB+pB,EAPiB,KAONC,EAPM,OAQkBhqB,mBAAS,IAR3B,mBAQjB3K,EARiB,KAQFyqB,EARE,KASlBmK,EAAiB/e,iBAAO,MAExBgf,EAAWC,cA4CjB,OA1CAhqB,qBAAU,WACR,SAASiqB,IACP,IAAIC,EAAUnyB,OAAOmyB,QACjBP,EAAWtoB,QAAU6oB,EACvBL,EAAa,QAEbA,EAAa,MAEfF,EAAWtoB,QAAU6oB,EAEnBR,EADc,IAAZQ,GAQN,OAFAnyB,OAAOkZ,iBAAiB,SAAUgZ,GAE3B,WACLlyB,OAAOmZ,oBAAoB,SAAU+Y,MAEtC,IAEHjqB,qBAAU,WAAM,4CACd,4BAAAiC,EAAA,0DACMzN,EAAKU,cADX,gCAEqBmJ,GAAqB7J,EAAKU,eAF/C,QAEQwE,EAFR,QAGc+I,OACRkd,EACEjmB,EAAKyM,KAAI,SAAC1N,GAAD,OAAOtE,OAAOC,OAAO,GAAIqE,EAAG,CAAE0xB,MAAM,QALrD,4CADc,uBAAC,WAAD,wBAWd9jB,KACC,CAAC7R,IAEJwL,qBAAU,WACJtI,GACFG,EAAMwK,SAAS,CAAEnO,KAAM,aAAcwD,aAEtC,CAACA,IAEyB,WAAtBqyB,EAAS5B,UACQ,YAAtB4B,EAAS5B,UACa,qBAAtB4B,EAAS5B,UACR4B,EAAS5B,SAASvc,SAAS,mBAmT5B,8BAlTA,yBACEhT,UAAU,cACVO,MAAO,CACL8F,SAAU,SACVmI,OAAQ,GACR+P,WAAY,WACZhQ,IAAmB,OAAdyiB,EAAqB,MAArB,WAAiClyB,EAAjC,MACL0R,KAAM,EACNsI,MAAO,IAGT,kBAAC,GAAD,MACA,yBACE9Y,UAAS,6DACN6wB,EAA6B,GAAb,aAGnB,yBACE7wB,UAAS,gBACe,WAAtBmxB,EAAS5B,SAAwB,qBAAuB,KAG1D,yBAAKvvB,UAAU,mFACb,yBAAKA,UAAU,mEACb,yBACEA,UAAU,gDACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,OAE5B,yBAAKpQ,UAAU,kBACb,kBAAC,GAAD,OAEF,yBAAKA,UAAU,YACb,yBAAKA,UAAU,0BAAf,cACA,yBACEA,UAAU,gDACVO,MAAO,CAAEmO,SAAU,OAAQ/C,UAAW,UAFxC,gBASN,yBACE3L,UAAU,mCACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,OAE5B,yBAAKpQ,UAAU,qBACb,kBAAC,GAAD,OAEF,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,0BAAf,cACA,yBACEA,UAAU,gDACVO,MAAO,CAAEmO,SAAU,OAAQ/C,UAAW,UAFxC,eAQJ,yBAAK3L,UAAU,8BACb,kBAAC,GAAD,CAAWnB,aAAcC,KAE3B,yBAAKkB,UAAU,YACb,yBAAKA,UAAU,kBACZpE,EAAKG,aACJ,yBAAKiE,UAAU,YACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,CACEwG,QAAS,SAAC2D,GAAD,OACP,yBACEnK,UAAU,6CACVO,MAAO,CACL6S,SAAU,QACV1T,MAAO,OACPuf,UAAW,UAGZ3iB,EAAcmL,OACbnL,EAAciR,KAAI,SAAC1N,EAAG2H,GAAJ,OAChB,yBACEgG,IAAG,uBAAkBhG,GACrBxH,UAAS,4BACPwH,IAAMlL,EAAcmL,OAAS,EACzB,iBACA,KAGN,yBAAKzH,UAAU,0CACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,YACZH,EAAEqnB,SAEL,yBAAKlnB,UAAU,0CACb,+BACG+W,KAAKC,OACJ,IAAI7Y,KAAK0B,EAAE8jB,YACX,oBAMV,yBAAK3jB,UAAU,iCACb,yBAAKA,UAAU,qCACb,yBAAKA,UAAU,uBACZH,EAAE0jB,aAEL,yBAAKvjB,UAAU,YACb,kBAAC,KAAD,CACEsK,QAAO,sBAAE,8BAAAjB,EAAA,sEvEkDZhL,EuEhDOwB,EAAEsQ,IvEgDL9N,EuE/CGzG,EAAKuU,IvEgD1CvP,EAAgB,6BAA8B,CAAEvC,KAAIgE,WuEnDV,cAKEwH,QACH2nB,EAAoBvyB,EAAM6qB,WAC3BluB,KAAKU,eAIU,KAHdm1B,EAAWD,EAAkBxnB,WAC/B,SAAC0nB,GAAD,OAAOA,IAAM7xB,EAAEsQ,SAGfqhB,EAAkB1iB,OAChB2iB,EACA,GAGJxyB,EAAMwK,SAAS,CACbnO,KAAM,cACNiB,aAAc,CACZD,cAAek1B,MApBd,iCvEkDb,IAACnzB,EAAIgE,IuElDQ,OAyBTqM,SAAS,OACT1O,UAAU,kDAQtB,yBAAKA,UAAU,kCAAf,6CAON,yBAAKA,UAAU,YACb,kBAAC,GAAD,CACE4T,MAAOtX,EAAcmL,aAO/B,GAEF,yBAAKzH,UAAU,uBACZpE,EAAKG,aACJ,yBAAKiE,UAAU,qCACb,kBAAC,GAAD,CACEwG,QAAS,SAAC2D,GAAD,OACP,yBACE5J,MAAO,CACLgR,aAAc,MACdnD,SAAU,SACVgT,SAAS,GAAD,OAAKjX,EAAL,QAGK,kBAAdvO,EAAKmkB,KACJ,yBACE/f,UAAU,6BACVsK,QAAS,WACP4mB,EAAezoB,QAAQ2W,QACvB3N,EAAQrB,KAAR,YAJJ,kBAUA,GAEF,yBACEpQ,UAAU,6BACVsK,QAAS,WACP4mB,EAAezoB,QAAQ2W,QACvB3N,EAAQrB,KAAR,mBAAyBxU,EAAKuU,QAJlC,cASA,yBACEnQ,UAAU,6BACVsK,QAAS,WACP4mB,EAAezoB,QAAQ2W,QACvB3N,EAAQrB,KAAR,mBAAyBxU,EAAKuU,IAA9B,SAJJ,cASA,yBACEnQ,UAAU,6BACVsK,QAAS,WACP4mB,EAAezoB,QAAQ2W,QACvB3N,EAAQrB,KAAR,mBAAyBxU,EAAKuU,IAA9B,SAJJ,eASA,yBACEnQ,UAAU,eACVsK,QAAS,WACP4mB,EAAezoB,QAAQ2W,QACvBwL,aAAa+G,WAAW,qBACxB1yB,EAAMwK,SAAS,CACbnO,KAAM,WACNM,KAAM,CACJC,WAAY,GACZC,UAAW,GACXC,aAAc,GACdC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPR,QAAS,GACTS,QAAS,GACTC,SAAU,GACVC,YAAa,GACbC,cAAe,MAGnBmV,EAAQrB,KAAK,OArBjB,aA6BJ,yBAAKpQ,UAAU,SAASsI,IAAK4oB,GAC3B,yBAAKlxB,UAAU,oDACb,yBACEA,UAAU,kDACVO,MAAO,CACL6O,gBAAgB,OAAD,OAASxT,EAAKI,MAAd,KACfsrB,OAAQ,qBAGZ,yBAAKtnB,UAAU,mCACb,yBACEA,UAAU,gBACVO,MAAO,CAAE6S,SAAU,UAElBxX,EAAKG,eAGV,yBAAKiE,UAAU,6BACb,kBAAC,KAAD,CAAe0O,SAAS,cAOlC,yBAAK1O,UAAU,kDACb,yBACEA,UAAU,iCACVsK,QAAS,WACPmH,EAAQrB,KAAK,YAHjB,SAQA,yBACEpQ,UAAU,iCACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,aAF9B,YASiB,WAAtB+gB,EAAS5B,SACR,kBAAC,IAAD,CACEvvB,UAAU,uDACV0O,SAAS,OACTpE,QAAS,kBACPrL,EAAMwK,SAAS,CACbnO,KAAM,4BACN0D,UAAWD,OAKjB,aCnPHiK,oBARf,SAAc5N,EAAO6N,GACnB,OAAO,aACLrN,KAAMR,EAAMQ,KACZmB,SAAU3B,EAAM2B,UACbkM,KAIQD,EAzHA,SAAC,GAAwB,IAAtBpN,EAAqB,EAArBA,KAAMmB,EAAe,EAAfA,SAChB+f,EAAY,CAChB,CAAEne,KAAM,OAAQkC,KAAM,IAAK+wB,WAAW,GACtC,CACEjzB,KAAM,cACNizB,UAAWh2B,EAAKG,aAChB8E,KAAMjF,EAAKuU,IAAL,mBAAuBvU,EAAKuU,IAA5B,MAAsC,UAE9C,CACEyhB,UAAWh2B,EAAKG,aAChB4C,KAAM,aACNkC,KAAMjF,EAAKuU,IAAL,mBAAuBvU,EAAKuU,IAA5B,MAAsC,UAE9C,CAAExR,KAAM,WAAYkC,KAAM,IAAK+wB,WAAW,GAC1C,CAAEjzB,KAAM,UAAWkC,KAAM,IAAK+wB,WAAW,IAGrChU,EAAc,CAClB,CAAEb,KAAMc,KAAahd,KAAM9D,EAASc,cACpC,CAAEkf,KAAMe,KAAajd,KAAM9D,EAASe,eACpC,CAAEif,KAAMgB,KAAcld,KAAM9D,EAASiB,cACrC,CAAE+e,KAAMiB,KAAWnd,KAAM9D,EAASgB,cAG9B8zB,EAAgB,CACpB,CAAElzB,KAAM,iBAAkBkC,KAAM,mBAChC,CAAElC,KAAM,iBAAkBkC,KAAM,mBAChC,CAAElC,KAAM,uBAAwBkC,KAAM,0BAGlCswB,EAAWC,cAEjB,MAA6B,WAAtBD,EAAS5B,UACQ,YAAtB4B,EAAS5B,UACa,qBAAtB4B,EAAS5B,UACR4B,EAAS5B,SAASvc,SAAS,mBA0E5B,GAzEA,yBAAKhT,UAAU,iEACb,yBACEA,UAAS,kCACe,WAAtBmxB,EAAS5B,SAAwB,qBAAuB,KAG1D,yBAAKvvB,UAAU,0EACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,kBACZ8c,EACE/J,QAAO,SAAClT,GAAD,OAAOA,EAAE+xB,aAChBrkB,KAAI,SAAC1N,EAAG2H,GAAJ,OACH,yBACEgG,IAAG,sBAAiBhG,GACpBxH,UAAU,yCACVsK,QAAS,kBAAMmH,EAAQrB,KAAKvQ,EAAEgB,QAE7BhB,EAAElB,WAKb,yBAAKqB,UAAU,gCACb,yBAAKA,UAAU,kEACZ4d,EAAYrQ,KAAI,SAAC1N,EAAG2H,GAAJ,OACf,yBACEgG,IAAG,sBAAiBhG,GACpBxH,UAAS,sDACPwH,IAAMoW,EAAYnW,OAAS,EAAI,IAAM,MAGvC,yBACEzH,UAAU,uDACVsK,QAAS,WACPnL,OAAOyH,KAAK/G,EAAEgB,QAGhB,kBAAChB,EAAEkd,KAAH,CAAQrO,SAAS,OAAO1O,UAAU,sBAO9C,yBAAKA,UAAU,oEACb,yBAAKA,UAAU,iBAAf,6BACA,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,kBACZ6xB,EAActkB,KAAI,SAAC1N,EAAG2H,GAAJ,OACjB,kBAAC,IAAMkG,SAAP,CAAgBF,IAAG,sBAAiBhG,IAClC,yBACExH,UAAU,0CACVsK,QAAS,kBAAMmH,EAAQrB,KAAKvQ,EAAEgB,QAE7BhB,EAAElB,MAEL,yBACEqB,UAAU,0CACVsK,QAAS,kBAAMmH,EAAQrB,KAAKvQ,EAAEgB,QAE7BhB,EAAElB,KAAK0Q,MAAM,KAAK,IAEpB7H,IAAMqqB,EAAcpqB,OAAS,GAC5B,yBAAKzH,UAAU,QAAf,iBC0NLgJ,oBATf,SAAc5N,EAAO6N,GACnB,OAAO,aACLrN,KAAMR,EAAMQ,KACZF,QAASN,EAAMM,QACfqB,SAAU3B,EAAM2B,UACbkM,KAIQD,EAvTD,SAACzJ,GACb,IAAM0C,EAAU1C,EAAMob,MAAM7O,OAAO7J,QAC7BvG,EAAU6D,EAAM7D,QAChBwG,EAAS3C,EAAMxC,SAASC,eAExBpB,EAAO2D,EAAM3D,KALI,EAOyBqL,oBAAU,GAPnC,mBAOhB6qB,EAPgB,KAOEC,EAPF,OASG9qB,mBAAS,CACjC3I,YAAa,GACbI,OAAQ,GACR9B,MAAO,GACP6B,SAAU,GACVmc,SAAU,GACVC,KAAM,GACNjc,QAAS,EACTJ,aAAc,GACdH,GAAI,KAlBiB,mBAShB6K,EATgB,KASTmI,EATS,OAsBepK,oBAAS,GAtBxB,mBAsBhBgK,EAtBgB,KAsBHC,EAtBG,KA+DvB,OAvCA9J,qBAAU,WAEJ8B,EAAMtM,OACRsG,EAAegG,KAEhB,CAACA,EAAMtM,QAEVwK,qBAAU,WAAM,4CAEd,oCAAAiC,EAAA,0DACMpH,IAAWC,EADjB,iCAEqBmK,GAAUpK,EAASC,GAFxC,cAEQpB,EAFR,OAGIuQ,GAAS,SAAClC,GAAD,OACP5T,OAAOC,OACL,GACA2T,EACA5T,OAAOC,OAAO,GAAIsF,EAAM,CACtBlE,MAAOkE,EAAKnC,KACZH,aAAcsC,EAAKka,qBAT7B,SAawBzO,GAAWtK,EAASC,GAb5C,OAaQgZ,EAbR,OAcQ8W,EAAc9W,EAAQE,KACtBF,EAAQE,KAAKtJ,MAAK,SAACjS,GAAD,MAAiB,aAAVA,EAAEwb,OAC3B,KACAT,EAAWoX,EAAcA,EAAYrzB,KAAO,UAC5Ckc,EAAOK,EAAQL,KAAOK,EAAQL,KAAKtN,KAAI,SAAC1N,GAAD,OAAOA,EAAElB,QAAQ,GAC5DmC,EAAK8Z,SAAWA,EAChB9Z,EAAK+Z,KAAOA,EACZxJ,GAAS,SAAClC,GAAD,OAAU5T,OAAOC,OAAO,GAAI2T,EAAM,CAAEyL,WAAUC,YArB3D,6CAFc,sBACd1b,OAAOmc,SAAS,EAAG,GADL,mCA2Bd7N,KACC,CAACxL,EAASC,IAKX,yBAAKlC,UAAU,8EACb,yBACEA,UAAU,4CACVO,MAAO,CACLgO,IAAK,EACLiC,KAAM,IAGR,yBACExQ,UAAU,oBACVO,MAAO,CAAEzB,OAAQK,OAAOiZ,YAAahK,SAAU,WAE/C,yBAAKpO,UAAU,qBACb,yBACEsR,IAAKpI,EAAM5K,YACXoB,MAAM,OACN8R,IAAG,0CAAqCtI,EAAM5K,eAEhD,yBACE0B,UAAU,gCACVO,MAAO,CACL4S,WAAY,iDACZ5E,IAAK,EACLiC,KAAM,MAIZ,yBACExQ,UAAU,gCACVO,MAAO,CACL4S,WAAY,2CACZ5E,IAAK,EACLiC,KAAM,OAKd,kBAAC,GAAD,CAAO5J,KAAMqK,EAAaxC,QAAS,kBAAMyC,GAAe,KACtD,kBAAC,GAAD,CACEjP,QAASA,EACT2K,QAAS,kBAAMsE,GAAe,OAGlC,yBAAKlR,UAAU,yDACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,mCACb,yBAAKA,UAAU,2BACb,yBACEsR,IAAKpI,EAAM5K,YACXiC,MAAO,CAAEgR,aAAc,QACvB7R,MAAM,QACN8R,IAAG,0CAAqCtI,EAAM5K,eAEhD,yBACEgM,QAAS,kBAAMmH,EAAQrB,KAAR,iBAAuBlH,EAAM7K,MAC5C2B,UAAU,sEACVO,MAAO,CACLiQ,KAAM,EACNjC,IAAK,EACLlI,SAAU,WACVmI,OAAQ,EACR+C,aAAc,SAGhB,yBACEvR,UAAU,uDACVsK,QAAS,SAACiF,GACRA,EAAEmC,kBACFR,GAAe,KAGjB,kBAAC,KAAD,CACE3Q,MAAO,CACLmO,SAAU,OACVrE,MAAO,QACPE,YAAa,cAOzB,yBAAKvK,UAAU,yBACb,yBACEA,UAAU,mCACVO,MAAO,CAAEiO,OAAQ,IAEjB,yBAAKxO,UAAU,UACb,yBAAKA,UAAU,qBACZkJ,EAAMtM,MADT,KACkBsM,EAAM1K,aAAa4N,UAAU,EAAG,GADlD,KAGA,yBAAKpM,UAAU,wCACb,yBAAKA,UAAU,iBACZkJ,EAAMxK,OAAO6O,KAAI,SAAC1N,GAAD,OAAOA,EAAElB,QAAMqN,KAAK,OAG1C,yBAAKhM,UAAU,uBACb,yBAAKA,UAAU,iCAAf,aACA,yBAAKA,UAAU,6BACZ+K,GAAe7B,EAAMtK,WAG1B,yBAAKoB,UAAU,kCACZkJ,EAAMzK,UAET,yBAAKuB,UAAU,uBACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,iBAAf,aACA,yBAAKA,UAAU,kCACZkJ,EAAM0R,SAAW1R,EAAM0R,SAAW,aAIzC,yBAAK5a,UAAU,YACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,iBAAf,SACA,yBAAKA,UAAU,OACb,yBAAKA,UAAU,kBACb,yBACEA,UAAU,+CACVsK,QAAS,SAACiF,GAENA,EAAEgM,cAAcC,UAAUC,SACxB,gBAGFlM,EAAEgM,cAAcC,UAAUE,OACxB,gBAGFnM,EAAEgM,cAAcC,UAAUG,IAAI,kBAIjCzS,EAAM2R,KAAK7O,KAAK,cAO7B,yBAAKhM,UAAU,uBACb,kBAAC,GAAD,CACE0L,WACE9P,EAAKF,QAAQwN,EAAM7K,KACsB,mBAArCzC,EAAKF,QAAQwN,EAAM7K,IAAIkS,UAG7BrH,MAAOA,EACPzI,MAAM,OACNT,UAAU,YACV4K,MACElP,EAAQwN,EAAM7K,IAAM3C,EAAQwN,EAAM7K,IAAIyR,eAAiB,IAG3D,kBAAC,GAAD,CACEpE,WACE9P,EAAKF,QAAQwN,EAAM7K,KACsB,cAArCzC,EAAKF,QAAQwN,EAAM7K,IAAIkS,UAG7BrH,MAAOA,EACPzI,MAAM,QACNT,UAAU,YACV4K,MAAOlP,EAAQwN,EAAM7K,IAAM3C,EAAQwN,EAAM7K,IAAI0R,UAAY,IAE3D,kBAAC,GAAD,CACErE,WACE9P,EAAKF,QAAQwN,EAAM7K,KACsB,YAArCzC,EAAKF,QAAQwN,EAAM7K,IAAIkS,UAG7BrH,MAAOA,EACPlJ,UAAU,YACVS,MAAM,sBACNmK,MAAOlP,EAAQwN,EAAM7K,IAAM3C,EAAQwN,EAAM7K,IAAI2R,QAAU,IAEzD,kBAAC,GAAD,CACEvP,MAAM,OACNmK,MAAOlP,EAAQwN,EAAM7K,IAAM3C,EAAQwN,EAAM7K,IAAI4R,SAAW,EACxDvE,WACE9P,EAAKF,QAAQwN,EAAM7K,KACsB,aAArCzC,EAAKF,QAAQwN,EAAM7K,IAAIkS,UAG7BrH,MAAOA,KAGX,yBAAKlJ,UAAU,uBACb,yBAAKA,UAAU,iBAAf,iBACA,yBAAKA,UAAU,6BACZ+W,KAAKC,OAAO,IAAI7Y,KAAK+K,EAAM1K,cAAe,mBAG/C,yBAAKwB,UAAU,kEACb,yBACEA,UAAU,wDACVsK,QAAS,WACF1O,EAAKK,MAUR81B,EAAoBD,EAAmB,GATvC7yB,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,iBACPC,QAAS,qCACTvB,KAAM,eAThB,aAkBE,kBAAC,KAAD,CACEoT,SAAS,OACT1O,UAAU,UAGd,kBAAC,GAAD,CAAgBkJ,MAAOA,EAAOtN,KAAMA,SAM9C,kBAAC,GAAD,CACEsN,MAAOA,EACPtN,KAAMA,EACNk2B,iBAAkBA,KAGtB,yBAAK9xB,UAAU,UACb,kBAAC,GAAD,WCnLOyB,GA9HD,WAAO,IAAD,EACQwF,mBAAS,IADjB,mBACX/K,EADW,KACJ4uB,EADI,OAEY7jB,mBAAS,IAFrB,mBAEXgG,EAFW,KAEFC,EAFE,KAGZwd,EAAY,uCAAG,WAAOxuB,GAAP,eAAAmN,EAAA,yDACdgC,GAAcnP,GADA,gBAEjBgR,EAAW,sBAFM,sCAIDlH,GAAsB9J,GAJrB,QAIboF,EAJa,QAKTuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZrB,KAAM,UACNsB,MAAO,QACPC,QAASyE,EAAIuI,UAIjB5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZrB,KAAM,UACNsB,MAAO,2BACPC,QACE,0GAGN4U,EAAQrB,KAAK,WAxBE,2CAAH,sDA6BlB,OACE,yBACEpQ,UAAU,gFACVO,MAAO,CAAEzB,OAAQK,OAAOiZ,cAExB,yBAAKpY,UAAU,gFACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,sDACb,yBACEA,UAAU,wEACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,MAC5B7P,MAAO,CAAEgO,IAAK,OAAQiC,KAAM,SAE5B,kBAAC,KAAD,CAAexQ,UAAU,SAL3B,gBAOA,yBAAKA,UAAU,YACb,yBAAKA,UAAU,sBACb,kBAAC,GAAD,OAEF,yBAAKA,UAAU,iCAAf,iBAIN,yBACEA,UAAU,6DACVO,MAAO,CACLic,UAAWrd,OAAOiZ,YAAc,MAGlC,yBAAKpY,UAAU,gDACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,kBAAf,oBACA,yBAAKA,UAAU,UAAf,+DAIF,yBAAKA,UAAU,8CACb,yBAAKA,UAAU,eAAf,SACA,yBAAKA,UAAU,UACb,2BACE1E,KAAK,OACL0E,UAAU,yBACV4K,MAAO1O,EACP8uB,UAAW,SAACzb,GACQ,KAAdA,EAAE0b,SACJP,EAAaxuB,IAGjBoT,SAAU,SAACC,GACTA,EAAEC,UACFsb,EAASvb,EAAEG,OAAO9E,YAK1B,yBAAK5K,UAAU,uBACb,yBACEA,UAAU,uCACVsK,QAAS,kBAAMogB,EAAaxuB,KAF9B,uBAOF,yBACEqE,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,GAChDjN,UAAU,iDAETiN,GAEH,yBAAKjN,UAAU,sCACb,yBACEA,UAAU,yBACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,YAF9B,SAMA,yBACEpQ,UAAU,oBACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,aAF9B,mBC4CH6hB,GA3JW,SAAC1yB,GACzB,IAAItD,EAAQsD,EAAMob,MAAM7O,OAAO7P,MADI,EAEHgL,mBAAS,IAFN,mBAE5Bf,EAF4B,KAElB6kB,EAFkB,OAGW9jB,mBAAS,IAHpB,mBAG5BskB,EAH4B,KAGXC,EAHW,OAILvkB,mBAAS,IAJJ,mBAI5BgG,EAJ4B,KAInBC,EAJmB,KAK7B+Q,EAAc,CAClB,CACEC,MAAO,UAAU5S,KAAKpF,IAAa,KAAKoF,KAAKpF,GAC7C2D,MAAO,0CAET,CACEqU,MAAOhY,IAAaqlB,EACpB1hB,MAAO,yBAET,CACEqU,MAAOhY,EAASuB,QAAU,EAC1BoC,MAAO,gDAGL6gB,EAAY,uCAAG,WAAOxkB,EAAUjK,GAAjB,iBAAAoN,EAAA,yDAEK,KADpB0iB,EAAW9N,EAAYlL,QAAO,SAAClT,GAAD,OAAQA,EAAEqe,UAC/BzW,OAFM,gCAGDxB,GAAcC,EAAUjK,GAHvB,QAGbqF,EAHa,QAITuI,MACN5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZrB,KAAM,UACNsB,MAAO,QACPC,QAASyE,EAAIuI,UAIjB5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZrB,KAAM,UACNsB,MAAO,mBACPC,QAAS,kDAGb4U,EAAQrB,KAAK,WAtBE,sBAyBjBlD,EAAW6e,EAAS,GAAGliB,OAzBN,2CAAH,wDA4BlB,OACE,yBACE7J,UAAU,gFACVO,MAAO,CAAEzB,OAAQK,OAAOiZ,cAExB,yBAAKpY,UAAU,gFACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,sDACb,yBACEA,UAAU,wEACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,MAC5B7P,MAAO,CAAEgO,IAAK,OAAQiC,KAAM,SAE5B,kBAAC,KAAD,CAAexQ,UAAU,SAL3B,gBAOA,yBAAKA,UAAU,YACb,yBAAKA,UAAU,sBACb,kBAAC,GAAD,OAEF,yBAAKA,UAAU,iCAAf,iBAIN,yBACEA,UAAU,6DACVO,MAAO,CACLic,UAAWrd,OAAOiZ,YAAc,MAGlC,yBAAKpY,UAAU,gDACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,kBAAf,kBACA,yBAAKA,UAAU,UAAf,uCAIF,yBAAKA,UAAU,8CACb,yBAAKA,UAAU,eAAf,gBACA,yBAAKA,UAAU,UACb,2BACE1E,KAAK,WACL0E,UAAU,yBACV4K,MAAO1E,EACPoJ,SAAU,SAACC,GACTA,EAAEC,UACFub,EAAYxb,EAAEG,OAAO9E,YAK7B,yBAAK5K,UAAU,8CACb,yBAAKA,UAAU,eAAf,wBACA,yBAAKA,UAAU,UACb,2BACE1E,KAAK,WACL0E,UAAU,yBACV4K,MAAO2gB,EACPP,UAAW,SAACzb,GACQ,KAAdA,EAAE0b,SACJP,EAAaxkB,EAAUjK,IAG3BqT,SAAU,SAACC,GACTA,EAAEC,UACFgc,EAAmBjc,EAAEG,OAAO9E,YAKpC,yBAAK5K,UAAU,uBACb,yBACEA,UAAU,uCACVsK,QAAS,kBAAMogB,EAAaxkB,EAAUjK,KAFxC,qBAOF,yBACEsE,MAAO,CAAEzB,OAAQ,OAAQoR,QAASjD,EAAU,EAAI,GAChDjN,UAAU,iDAETiN,GAEH,yBAAKjN,UAAU,sCACb,yBACEA,UAAU,yBACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,YAF9B,SAMA,yBACEpQ,UAAU,oBACVsK,QAAS,kBAAMmH,EAAQrB,KAAK,aAF9B,mBCuBH8hB,OA9If,WAoEE,OAnEA9qB,qBAAU,WAAM,4CACd,8BAAAiC,EAAA,yDACEhF,IAAY,SAACtH,GACNA,EAAS8M,MAeZ5K,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,kBACPC,QACE,uGACFvB,KAAM,aApBLyB,EAAS0K,OAWZxI,EAAMwK,SAAS,CAAEnO,KAAM,kBAAmByB,SAAUA,EAAS,KAV7DkC,EAAMwK,SAAS,CACbnO,KAAM,mBACNqB,aAAc,CACZC,MAAO,kBACPC,QACE,uGACFvB,KAAM,gBAmBhBsG,GAAc,SAAC8H,GACb,IAAIhO,EAAU,GACdgO,EAAWC,SAAQ,SAAC9J,GAClBnE,EAAQmE,EAAE+J,SAAW/J,KAEvBZ,EAAMwK,SAAS,CAAEnO,KAAM,cAAeI,eAGxCoG,GAAkB,SAACqwB,GACjB,IAAIh3B,EAAc,GAClBg3B,EAAexoB,SAAQ,SAAC9J,GACtB1E,EAAY0E,EAAE6pB,SAAW7pB,KAE3BZ,EAAMwK,SAAS,CAAEnO,KAAM,kBAAmBH,mBAI1B,QADdi3B,EAAYxH,aAAawE,QAAQ,wBACXgD,EAAU3qB,OA9CtC,gCA+CoB9F,EAAe,CAAE1F,MAAOm2B,IA/C5C,QA+CQ9wB,EA/CR,QAgDauI,OACP5K,EAAMwK,SAAS,CAAEnO,KAAM,WAAYM,KAAM0F,IAjD/C,4CADc,uBAAC,WAAD,wBAgEdmM,KACC,IAGD,kBAAC,IAAD,CAAUxO,MAAOA,GACf,kBAAC,IAAD,CAAQwS,QAASA,GACf,yBAAKzR,UAAU,wBACb,kBAAC,GAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEqyB,OAAK,EACLxxB,KAAK,wBACLwuB,OAAQ,kBACN,kBAAC,GAAD,CAAe/zB,KAAK,4BAGxB,kBAAC,IAAD,CACE+2B,OAAK,EACLxxB,KAAK,kBACLwuB,OAAQ,kBACN,kBAAC,GAAD,CAAe/zB,KAAK,sBAGxB,kBAAC,IAAD,CACE+2B,OAAK,EACLxxB,KAAK,kBACLwuB,OAAQ,kBACN,kBAAC,GAAD,CAAe/zB,KAAK,sBAGxB,kBAAC,IAAD,CAAO+2B,OAAK,EAACxxB,KAAK,IAAImjB,UAAWsO,KACjC,kBAAC,IAAD,CACED,OAAK,EACLxxB,KAAK,uCACLmjB,UAAWuO,KAEb,kBAAC,IAAD,CACEF,OAAK,EACLxxB,KAAK,4BACLmjB,UAAWuO,KAEb,kBAAC,IAAD,CAAOF,OAAK,EAACxxB,KAAK,kBAAkBmjB,UAAWuO,KAC/C,kBAAC,IAAD,CAAOF,OAAK,EAACxxB,KAAK,mBAAmBmjB,UAAWwO,KAChD,kBAAC,IAAD,CAAOH,OAAK,EAACxxB,KAAK,UAAUmjB,UAAWyO,KACvC,kBAAC,GAAD,CACEJ,OAAK,EACLxxB,KAAK,SACLiuB,WAAW,SACXD,UAAW6D,KAEb,kBAAC,IAAD,CAAOL,OAAK,EAACxxB,KAAK,SAASmjB,UAAWviB,KACtC,kBAAC,IAAD,CAAO4wB,OAAK,EAACxxB,KAAK,UAAUmjB,UAAW2O,KACvC,kBAAC,IAAD,CACEN,OAAK,EACLxxB,KAAK,mBACLmjB,UAAW4O,KAEb,kBAAC,IAAD,CACEP,OAAK,EACLxxB,KAAK,yBACLmjB,UAAW/d,KAEb,kBAAC,IAAD,CACEosB,OAAK,EACLxxB,KAAK,4BACLmjB,UAAW6O,KAEb,kBAAC,IAAD,CAAOR,OAAK,EAACxxB,KAAK,mBAAmBmjB,UAAW6O,MAElD,kBAAC,GAAD,MACA,kBAAC,GAAD,UC7JVC,IAASzD,OACP,kBAAC,IAAM0D,WAAP,KACE,kBAAC,GAAD,OAEFzrB,SAAS0rB,eAAe,W","file":"static/js/main.1e1a9080.chunk.js","sourcesContent":["import { createStore, combineReducers } from \"redux\";\r\n\r\nfunction userReducer(\r\n  state = {\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    display_name: \"\",\r\n    photo: \"\",\r\n    token: \"\",\r\n    email: \"\",\r\n    ratings: {},\r\n    reviews: [],\r\n    wishlist: [],\r\n    watchedlist: [],\r\n    notifications: [],\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case \"SET_USER\":\r\n      return action.user;\r\n    case \"UPDATE_USER\":\r\n      return Object.assign({}, state, action.userProperty);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction publicUsersReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case \"SET_PUBLICUSERS\":\r\n      return action.publicUsers;\r\n    case \"UPDATE_PUBLICUSERS\":\r\n      return Object.assign({}, state, action.publicUser);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction ratingsReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case \"SET_RATINGS\":\r\n      return action.ratings;\r\n    case \"UPDATE_RATINGS\":\r\n      return Object.assign({}, state, action.rating);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction notificationReducer(\r\n  state = { title: \"\", message: \"\", expired: true },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case \"SET_NOTIFICATION\":\r\n      return action.notification;\r\n    case \"UPDATE_NOTIFICATION\":\r\n      return Object.assign({}, state, action.notification);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction searchReducer(state = { query: \"\", category: \"All\" }, action) {\r\n  switch (action.type) {\r\n    case \"SET_SEARCH\":\r\n      return action.search;\r\n    case \"UPDATE_SEARCH\":\r\n      return Object.assign({}, state, action.search);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction navbarHeightReducer(state = 0, action) {\r\n  switch (action.type) {\r\n    case \"SET_HEIGHT\":\r\n      return action.height;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction dashboardMenuReducer(state = false, action) {\r\n  switch (action.type) {\r\n    case \"SET_DASHBOARD_MENU_OPENED\":\r\n      return action.isOpened;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction settingsReducer(\r\n  state = {\r\n    movies_api_key: \"\",\r\n    captcha_api_key: \"6Lc_87cZAAAAAHRx49G1d-mM3gxWM_RKLAA41T3U\",\r\n    movie_data_api: \"\",\r\n    latest_movies_api: \"\",\r\n    no_popular_reviews: 5,\r\n    no_popular_movies: 5,\r\n    no_allowed_reviews: 5,\r\n    no_comment_characters: 400,\r\n    no_display_name_characters: 40,\r\n    no_review_words: 80,\r\n    bg_image_refresh_time_days: 1,\r\n    bg_image_refresh_time_hours: 0,\r\n    bg_image_refresh_time_minutes: 0,\r\n    FacebookLink: \"\",\r\n    InstagramLink: \"\",\r\n    TwitterLink: \"\",\r\n    LinkedinLink: \"\",\r\n    current_bg_movie: {\r\n      date_set: Date.now(),\r\n      id: \"300671\",\r\n      poster_path: \"/4qnEeVPM8Yn5dIVC4k4yyjrUXeR.jpg\",\r\n      backdrop_path: \"/ayDMYGUNVvXS76wQgFwTiUIDNb5.jpg\",\r\n      release_date: \"2016-01-13\",\r\n      overview:\r\n        \"An American Ambassador is killed during an attack at a U.S. compound in Libya as a security team struggles to make sense out of the chaos.\",\r\n      title: \"13 Hours: The Secret Soldiers of Benghazi\",\r\n      genres: [\r\n        { id: 28, name: \"Action\" },\r\n        { id: 36, name: \"History\" },\r\n        { id: 53, name: \"Thriller\" },\r\n      ],\r\n      runtime: 144,\r\n    },\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case \"SET_SETTINGS\":\r\n      return action.settings;\r\n    case \"UPDATE_SETTINGS\":\r\n      return Object.assign({}, state, action.settings);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n  publicUsers: publicUsersReducer,\r\n  ratings: ratingsReducer,\r\n  user: userReducer,\r\n  search: searchReducer,\r\n  notification: notificationReducer,\r\n  settings: settingsReducer,\r\n  navbarHeight: navbarHeightReducer,\r\n  dashboardMenuOpened: dashboardMenuReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nexport default store;\r\n","import { createBrowserHistory } from \"history\";\r\n\r\nexport default createBrowserHistory();\r\n","import * as React from \"react\";\r\n\r\nfunction OkIcon(props) {\r\n  let size = props.size ? props.size : 16;\r\n  return (\r\n    <svg\r\n      id=\"prefix__svg8\"\r\n      viewBox=\"0 0 4.233 4.233\"\r\n      height={size}\r\n      width={size}\r\n      {...props}\r\n    >\r\n      <defs id=\"prefix__defs2\">\r\n        <style id=\"style899\">\r\n          {\r\n            \".prefix__b{font-size:6px;font-family:OpenSans-Semibold,Open Sans;font-weight:600}\"\r\n          }\r\n        </style>\r\n      </defs>\r\n      <g transform=\"translate(-20.26 -2.608)\" id=\"prefix__layer1\">\r\n        <g transform=\"matrix(.26458 0 0 .26458 20.26 2.608)\" id=\"prefix__g928\">\r\n          <rect\r\n            y={0}\r\n            x={0}\r\n            width={16}\r\n            height={16}\r\n            rx={8}\r\n            id=\"prefix__rect903\"\r\n            fill=\"#fff\"\r\n          />\r\n          <text\r\n            className=\"prefix__b\"\r\n            transform=\"translate(5 6)\"\r\n            id=\"prefix__text907\"\r\n          >\r\n            <tspan x={0} y={0} id=\"prefix__tspan905\">\r\n              {\"50\"}\r\n            </tspan>\r\n          </text>\r\n          <text\r\n            className=\"prefix__b\"\r\n            transform=\"translate(5 14)\"\r\n            id=\"prefix__text911\"\r\n          >\r\n            <tspan x={0} y={0} id=\"prefix__tspan909\">\r\n              {\"50\"}\r\n            </tspan>\r\n          </text>\r\n          <path\r\n            d=\"M6374.557 553h9\"\r\n            transform=\"translate(-6370.950 -545)\"\r\n            id=\"prefix__path913\"\r\n            fill=\"none\"\r\n            stroke=\"#000\"\r\n          />\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default OkIcon;\r\n","import React from \"react\";\r\nimport { Emoji } from \"emoji-mart\";\r\nimport OkIcon from \"./images/OkIcon\";\r\n\r\nexport const OfficialMoviesGenres = [\r\n  { id: 28, name: \"Action\" },\r\n  { id: 12, name: \"Adventure\" },\r\n  { id: 16, name: \"Animation\" },\r\n  { id: 35, name: \"Comedy\" },\r\n  { id: 80, name: \"Crime\" },\r\n  { id: 99, name: \"Documentary\" },\r\n  { id: 18, name: \"Drama\" },\r\n  { id: 10751, name: \"Family\" },\r\n  { id: 14, name: \"Fantasy\" },\r\n  { id: 36, name: \"History\" },\r\n  { id: 27, name: \"Horror\" },\r\n  { id: 10402, name: \"Music\" },\r\n  { id: 9648, name: \"Mystery\" },\r\n  { id: 10749, name: \"Romance\" },\r\n  { id: 878, name: \"Science Fiction\" },\r\n  { id: 10770, name: \"TV Movie\" },\r\n  { id: 53, name: \"Thriller\" },\r\n  { id: 10752, name: \"War\" },\r\n  { id: 37, name: \"Western\" },\r\n];\r\nexport const MoviesGenresMap = {\r\n  28: \"Action\",\r\n  12: \"Adventure\",\r\n  16: \"Animation\",\r\n  35: \"Comedy\",\r\n  80: \"Crime\",\r\n  99: \"Documentary\",\r\n  18: \"Drama\",\r\n  10751: \"Family\",\r\n  14: \"Fantasy\",\r\n  36: \"History\",\r\n  27: \"Horror\",\r\n  10402: \"Music\",\r\n  9648: \"Mystery\",\r\n  10749: \"Romance\",\r\n  878: \"Science Fiction\",\r\n  10770: \"TV Movie\",\r\n  53: \"Thriller\",\r\n  10752: \"War\",\r\n  37: \"Western\",\r\n};\r\n\r\nexport const OfficialSeriesGenres = [\r\n  {\r\n    id: 10759,\r\n    name: \"Action & Adventure\",\r\n  },\r\n  {\r\n    id: 16,\r\n    name: \"Animation\",\r\n  },\r\n  {\r\n    id: 35,\r\n    name: \"Comedy\",\r\n  },\r\n  {\r\n    id: 80,\r\n    name: \"Crime\",\r\n  },\r\n  {\r\n    id: 99,\r\n    name: \"Documentary\",\r\n  },\r\n  {\r\n    id: 18,\r\n    name: \"Drama\",\r\n  },\r\n  {\r\n    id: 10751,\r\n    name: \"Family\",\r\n  },\r\n  {\r\n    id: 10762,\r\n    name: \"Kids\",\r\n  },\r\n  {\r\n    id: 9648,\r\n    name: \"Mystery\",\r\n  },\r\n  {\r\n    id: 10763,\r\n    name: \"News\",\r\n  },\r\n  {\r\n    id: 10764,\r\n    name: \"Reality\",\r\n  },\r\n  {\r\n    id: 10765,\r\n    name: \"Sci-Fi & Fantasy\",\r\n  },\r\n  {\r\n    id: 10766,\r\n    name: \"Soap\",\r\n  },\r\n  {\r\n    id: 10767,\r\n    name: \"Talk\",\r\n  },\r\n  {\r\n    id: 10768,\r\n    name: \"War & Politics\",\r\n  },\r\n  {\r\n    id: 37,\r\n    name: \"Western\",\r\n  },\r\n];\r\n\r\nexport const SeriesGenresMap = {\r\n  10759: \"Action & Adventure\",\r\n  16: \"Animation\",\r\n  35: \"Comedy\",\r\n  80: \"Crime\",\r\n  99: \"Documentary\",\r\n  18: \"Drama\",\r\n  10751: \"Family\",\r\n  10762: \"Kids\",\r\n  9648: \"Mystery\",\r\n  10763: \"News\",\r\n  10764: \"Reality\",\r\n  10765: \"Sci-Fi & Fantasy\",\r\n  10766: \"Soap\",\r\n  10767: \"Talk\",\r\n  10768: \"War & Politics\",\r\n  37: \"Western\",\r\n};\r\n\r\nexport const Ratings = [\r\n  {\r\n    name: \"excellent_rate\",\r\n    element: (\r\n      <div className=\"text-center py-3\" style={{ lineHeight: \"100%\" }}>\r\n        <Emoji emoji=\"fire\" set=\"facebook\" size={24} />\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    name: \"good_rate\",\r\n    element: (\r\n      <div className=\"text-center py-3\" style={{ lineHeight: \"100%\" }}>\r\n        <Emoji emoji=\"heart\" set=\"facebook\" size={24} />\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    name: \"ok_rate\",\r\n    element: (\r\n      <div className=\"text-center py-3\" style={{ lineHeight: \"100%\" }}>\r\n        <OkIcon size={34} />\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    name: \"bad_rate\",\r\n    element: (\r\n      <div className=\"text-center py-3\" style={{ lineHeight: \"100%\" }}>\r\n        <Emoji emoji=\"shit\" set=\"facebook\" size={24} />\r\n      </div>\r\n    ),\r\n  },\r\n];\r\n","import { ServerUrl } from \"../Settings\";\r\n\r\nconst origin = ServerUrl;\r\n\r\nconst SendPostRequest = (path, data) => {\r\n  return fetch(`${origin}${path}`, {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nconst SendGetRequest = (path) => {\r\n  return fetch(`${origin}${path}`).then((res) => res.json());\r\n};\r\n\r\nexport const CreateError = () => {\r\n  return SendGetRequest(\"/error\");\r\n};\r\n\r\nexport const FindOrCreateMovie = (movie) => {\r\n  return SendPostRequest(\"/movie/findOrCreate\", movie);\r\n};\r\n\r\nexport const Signup = (user) => {\r\n  return SendPostRequest(\"/user/signup\", user);\r\n};\r\n\r\nexport const Login = (credentials) => {\r\n  return SendPostRequest(\"/user/login\", credentials);\r\n};\r\n\r\nexport const LoginWithToken = (token) => {\r\n  return SendPostRequest(\"/user/loginWithToken\", token);\r\n};\r\n\r\nexport const GetAllRatings = (callback) => {\r\n  SendGetRequest(\"/ratings/get/all\").then((res) => callback(res));\r\n};\r\n\r\nexport const GetAllPublicUsers = (callback) => {\r\n  return SendGetRequest(\"/publicUsers/get/all\").then((res) => callback(res));\r\n};\r\n\r\nexport const RateMovie = (rate, movieId, user, apiKey) => {\r\n  return SendPostRequest(\"/ratings/update\", { rate, movieId, user, apiKey });\r\n};\r\n\r\nexport const WriteReview = (review, movieId, user, apiKey) => {\r\n  return SendPostRequest(\"/reviews/add\", { review, movieId, user, apiKey });\r\n};\r\n\r\nexport const EditReview = (review, prevReview, userId) => {\r\n  return SendPostRequest(\"/reviews/edit\", { review, prevReview, userId });\r\n};\r\n\r\nexport const DeleteReview = (review) => {\r\n  return SendPostRequest(\"/reviews/delete\", { review });\r\n};\r\n\r\nexport const GetMovieReviews = (movieId) => {\r\n  return SendPostRequest(\"/reviews/get/movie\", { movieId });\r\n};\r\n\r\nexport const GetMoviePromotedReviews = (movieId) => {\r\n  return SendPostRequest(\"/reviews/getPromoted/movie\", { movieId });\r\n};\r\n\r\nexport const WriteComment = (comment, user) => {\r\n  return SendPostRequest(\"/comments/update\", { user, comment });\r\n};\r\n\r\nexport const EditComment = (comment, commentId) => {\r\n  return SendPostRequest(\"/comments/edit\", { commentId, comment });\r\n};\r\n\r\nexport const DeleteComment = (commentId) => {\r\n  return SendPostRequest(\"/comments/delete\", { commentsIds: [commentId] });\r\n};\r\n\r\nexport const GetReviewComments = (reviewId) => {\r\n  return SendPostRequest(\"/comments/get/review\", { reviewId });\r\n};\r\n\r\nexport const AddToWishList = (user, movieId, apiKey) => {\r\n  return SendPostRequest(\"/movie/addToWishlist\", { user, movieId, apiKey });\r\n};\r\n\r\nexport const RemoveFromWishList = (user, movieId) => {\r\n  return SendPostRequest(\"/movie/removeFromWishlist\", { user, movieId });\r\n};\r\n\r\nexport const AddViewToMovie = (movieId, apiKey) => {\r\n  return SendPostRequest(\"/movie/views/add\", { movieId, apiKey });\r\n};\r\n\r\nexport const LikeReview = (user, reviewId) => {\r\n  return SendPostRequest(\"/reviews/like\", { user, reviewId });\r\n};\r\n\r\nexport const LikeComment = (user, commentId) => {\r\n  return SendPostRequest(\"/comments/like\", { user, commentId });\r\n};\r\n\r\nexport const ReportReview = (user, reviewId) => {\r\n  return SendPostRequest(\"/reviews/report\", { user, reviewId });\r\n};\r\n\r\nexport const ReportComment = (user, commentId) => {\r\n  return SendPostRequest(\"/comments/report\", { user, commentId });\r\n};\r\n\r\nexport const GetUser = (userId) => {\r\n  return SendPostRequest(\"/users/get\", { userId });\r\n};\r\n\r\nexport const GetUserReviews = (reviewIds) => {\r\n  return SendPostRequest(\"/reviews/get/user\", { reviewIds });\r\n};\r\n\r\nexport const GetUserReview = (userId, movieId) => {\r\n  return SendPostRequest(\"/reviews/get/user/one\", { userId, movieId });\r\n};\r\n\r\nexport const GetUserComments = (commentIds) => {\r\n  return SendPostRequest(\"/comments/get/user\", { commentIds });\r\n};\r\n\r\nexport const EditUser = (update) => {\r\n  return SendPostRequest(\"/users/edit\", { update });\r\n};\r\n\r\nexport const GetPopularReviews = (limit) => {\r\n  return SendPostRequest(\"/reviews/get/popular\", { limit });\r\n};\r\n\r\nexport const GetRecentReviews = (limit) => {\r\n  return SendPostRequest(\"/reviews/get/recent\", { limit });\r\n};\r\n\r\nexport const GetRecommendations = (limit) => {\r\n  return SendPostRequest(\"/movies/get/recommended\", { limit });\r\n};\r\n\r\nexport const SearchReviews = (query) => {\r\n  return SendPostRequest(\"/reviews/search\", { query });\r\n};\r\n\r\nexport const UpdateOrCreateSettings = (settings) => {\r\n  return SendPostRequest(\"/settings/updateOrCreate\", settings);\r\n};\r\n\r\nexport const GetSettings = (callback) => {\r\n  SendGetRequest(\"/settings/get\").then((res) => callback(res));\r\n};\r\n\r\nexport const GetUsers = () => {\r\n  return SendGetRequest(\"/admin/users/get\");\r\n};\r\n\r\nexport const EditUserForAdmin = (update) => {\r\n  return SendPostRequest(\"/admin/users/edit\", update);\r\n};\r\n\r\nexport const CreateUserForAdmin = (user) => {\r\n  return SendPostRequest(\"/admin/users/create\", user);\r\n};\r\n\r\nexport const GetReviews = () => {\r\n  return SendGetRequest(\"/admin/reviews/get\");\r\n};\r\n\r\nexport const GetComments = () => {\r\n  return SendGetRequest(\"/admin/comments/get\");\r\n};\r\n\r\nexport const EditReviewForAdmin = (review, user) => {\r\n  return SendPostRequest(\"/admin/reviews/edit\", { review, user });\r\n};\r\nexport const EditCommentForAdmin = (comment, user) => {\r\n  return SendPostRequest(\"/admin/comments/edit\", { comment, user });\r\n};\r\n\r\nexport const DeleteMultipleReviews = (ids) => {\r\n  return SendPostRequest(\"/admin/reviews/delete\", ids);\r\n};\r\n\r\nexport const DeleteMultipleComments = (ids) => {\r\n  return SendPostRequest(\"/admin/comments/delete\", ids);\r\n};\r\n\r\nexport const EditMultipleUsers = (ids, pids, update) => {\r\n  return SendPostRequest(\"/admin/users/editMultiple\", { ids, pids, update });\r\n};\r\n\r\nexport const GetAnnouncements = () => {\r\n  return SendGetRequest(\"/admin/announcements/get\");\r\n};\r\n\r\nexport const CreateAnnouncement = (announcement) => {\r\n  return SendPostRequest(\"/admin/announcements/create\", announcement);\r\n};\r\n\r\nexport const DeleteMultipleAnnouncements = (ids) => {\r\n  return SendPostRequest(\"/admin/announcements/delete\", ids);\r\n};\r\n\r\nexport const EditAnnouncement = (announcement) => {\r\n  return SendPostRequest(\"/admin/announcements/edit\", announcement);\r\n};\r\n\r\nexport const GetActiveAnnouncements = () => {\r\n  return SendGetRequest(\"/announcements/getActive\");\r\n};\r\n\r\nexport const GetPromotions = () => {\r\n  return SendGetRequest(\"/admin/promotions/get\");\r\n};\r\n\r\nexport const CreatePromotions = (promotions) => {\r\n  return SendPostRequest(\"/admin/promotions/create\", promotions);\r\n};\r\n\r\nexport const EditPromotion = (promotion) => {\r\n  return SendPostRequest(\"/admin/promotions/edit\", promotion);\r\n};\r\n\r\nexport const DeleteMultiplePromotions = (ids, update) => {\r\n  return SendPostRequest(\"/admin/promotions/delete\", { ids, update });\r\n};\r\n\r\nexport const GetUserNotifications = (ids) => {\r\n  return SendPostRequest(\"/user/notifications/get/\", { ids });\r\n};\r\n\r\nexport const DeleteUserNotification = (id, userId) => {\r\n  return SendPostRequest(\"/user/notifications/delete\", { id, userId });\r\n};\r\n\r\nexport const GetNotifications = () => {\r\n  return SendGetRequest(\"/admin/notifications/get\");\r\n};\r\n\r\nexport const CreateNotification = (notification) => {\r\n  return SendPostRequest(\"/admin/notifications/create\", notification);\r\n};\r\n\r\nexport const EditNotification = (notification) => {\r\n  return SendPostRequest(\"/admin/notifications/edit\", notification);\r\n};\r\n\r\nexport const DeleteMultipleNotifications = (ids, update) => {\r\n  return SendPostRequest(\"/admin/notifications/delete\", { ids, update });\r\n};\r\n\r\nexport const MoveMovieToWatchList = (user, movieId, apiKey) => {\r\n  return SendPostRequest(\"/movie/moveToWatchedList\", { user, movieId, apiKey });\r\n};\r\n\r\nexport const GetReview = (reviewId) => {\r\n  return SendPostRequest(\"/reviews/getOne\", { reviewId });\r\n};\r\n\r\nexport const ChangeBackgroundMovie = (apiKey) => {\r\n  return SendPostRequest(\"/changeBackgroundMovie\", { apiKey });\r\n};\r\n\r\nexport const DeleteMultipleUsers = (ids, pids) => {\r\n  return SendPostRequest(\"/admin/users/deleteMultiple\", { ids, pids });\r\n};\r\n\r\nexport const GetPromotedReviews = () => {\r\n  return SendGetRequest(\"/reviews/getPromoted\");\r\n};\r\n\r\nexport const SendPasswordResetLink = (email) => {\r\n  return SendPostRequest(\"/user/password/sendResetLink\", { email });\r\n};\r\n\r\nexport const ResetPassword = (password, token) => {\r\n  return SendPostRequest(\"/user/password/reset\", { token, password });\r\n};\r\n","export const ServerUrl =\r\n  process.env.NODE_ENV === \"development\"\r\n    ? \"http://192.168.1.183:5000\"\r\n    : \"https://calm-coast-57354.herokuapp.com\";\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"react-tippy/dist/tippy.css\";\r\nimport { Tooltip } from \"react-tippy\";\r\n\r\nconst Popover = ({\r\n  className,\r\n  onOpen = () => {},\r\n  position = \"bottom\",\r\n  arrow = true,\r\n  theme = \"light\",\r\n  content = () => {},\r\n  trigger = \"click\",\r\n  delay = 0,\r\n  animation = \"scale\",\r\n  open = undefined,\r\n  onHide = () => {},\r\n  popoverWidth = \"auto\",\r\n  ...rest\r\n}) => {\r\n  const [contentWidth, setContentWidth] = useState(0);\r\n\r\n  useEffect(() => {\r\n    return function cleanUp() {\r\n      let popovers = document.getElementsByClassName(\"tippy-popper\");\r\n      for (let i = 0; i < popovers.length; i++) {\r\n        popovers[i].parentNode.removeChild(popovers[i]);\r\n      }\r\n    };\r\n  }, []);\r\n  const [wasShowed, setWasShowed] = useState(false);\r\n  return (\r\n    <Tooltip\r\n      onShow={() => {\r\n        if (!wasShowed) {\r\n          setWasShowed(true);\r\n          onOpen();\r\n        }\r\n      }}\r\n      onHide={onHide}\r\n      delay={delay}\r\n      hideDelay={0}\r\n      html={content(contentWidth)}\r\n      position={position}\r\n      trigger={trigger}\r\n      theme={theme}\r\n      arrow={arrow}\r\n      interactive={true}\r\n      animation={animation}\r\n      open={open}\r\n      unmountHTMLWhenHide={true}\r\n      className={className}\r\n    >\r\n      {React.cloneElement(\r\n        rest.children,\r\n        Object.assign({}, rest.children.props, {\r\n          ref: (el) => {\r\n            if (el) {\r\n              if (contentWidth === 0) {\r\n                setContentWidth(el.getBoundingClientRect().width);\r\n              }\r\n              if (rest.children) {\r\n                const { ref } = rest.children;\r\n                if (ref && \"current\" in ref) {\r\n                  ref.current = el;\r\n                }\r\n                if (typeof ref === \"function\") {\r\n                  ref(el);\r\n                }\r\n              }\r\n            }\r\n          },\r\n        })\r\n      )}\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default Popover;\r\n","import React from \"react\";\r\n\r\nconst Loader = ({ loading, size = 50, theme = \"light\" }) => {\r\n  return (\r\n    loading && (\r\n      <div className=\"w-100 h-100 d-flex flex-center\">\r\n        <div\r\n          className={`loader-${theme}`}\r\n          style={{ width: `${size}px`, height: `${size}px` }}\r\n        ></div>\r\n      </div>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import * as React from \"react\";\r\n\r\nfunction RemoveIcon(props) {\r\n  let size = props.size ? props.size : 20;\r\n  return (\r\n    <svg viewBox=\"0 0 4.928 2.882\" height={size} width={size} {...props}>\r\n      <g\r\n        transform=\"translate(-19.41 -12.996)\"\r\n        fillOpacity={0.988}\r\n        paintOrder=\"markers fill stroke\"\r\n      >\r\n        <rect\r\n          rx={0}\r\n          y={12.996}\r\n          x={19.41}\r\n          height={0.6}\r\n          width={3.449}\r\n          ry={0.084}\r\n        />\r\n        <rect\r\n          width={3.449}\r\n          height={0.6}\r\n          x={19.415}\r\n          y={14.098}\r\n          rx={0}\r\n          ry={0.077}\r\n        />\r\n        <rect\r\n          width={2.238}\r\n          height={0.551}\r\n          x={19.423}\r\n          y={15.226}\r\n          rx={0}\r\n          ry={0.071}\r\n        />\r\n        <rect\r\n          rx={0}\r\n          y={15.226}\r\n          x={22.1}\r\n          height={0.551}\r\n          width={2.238}\r\n          ry={0.077}\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default RemoveIcon;\r\n","import React, { useState } from \"react\";\r\nimport { MdPlaylistAdd } from \"react-icons/md\";\r\nimport store from \"../../store/store\";\r\nimport { AddToWishList, GetAllRatings } from \"../../server/DatabaseApi\";\r\nimport Popover from \"../utility/Popover\";\r\nimport Loader from \"../utility/Loader\";\r\nimport { connect } from \"react-redux\";\r\nimport RemoveIcon from \"../../images/RemoveIcon\";\r\n\r\nconst WishlistButton = ({ user, movie, apiKey }) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleClick = async (message) => {\r\n    try {\r\n      console.log(\"movie id wishlist\", movie.id);\r\n      if (user.display_name) {\r\n        if (movie.id) {\r\n          setLoading(true);\r\n          let res = await AddToWishList(user, movie.id, apiKey);\r\n          setLoading(false);\r\n          if (res.updatedUser) {\r\n            store.dispatch({\r\n              type: \"UPDATE_USER\",\r\n              userProperty: res.updatedUser,\r\n            });\r\n            store.dispatch({\r\n              type: \"SET_NOTIFICATION\",\r\n              notification: {\r\n                title: `Movie ${message} wishlist`,\r\n                message: `Movie successfully ${message} your wishlist`,\r\n                type: \"success\",\r\n              },\r\n            });\r\n            GetAllRatings((ratingsArr) => {\r\n              let ratings = {};\r\n              ratingsArr.forEach((x) => {\r\n                ratings[x.tmdb_id] = x;\r\n              });\r\n              store.dispatch({ type: \"SET_RATINGS\", ratings });\r\n            });\r\n          } else {\r\n            store.dispatch({\r\n              type: \"SET_NOTIFICATION\",\r\n              notification: {\r\n                title: \"Error\",\r\n                message: JSON.stringify(res.error).replace(/\"/g, \"\"),\r\n                type: \"failure\",\r\n              },\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        store.dispatch({\r\n          type: \"SET_NOTIFICATION\",\r\n          notification: {\r\n            title: \"Action not allowed\",\r\n            message: \"You need to login to add movie to wishlist\",\r\n            type: \"failure\",\r\n          },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      store.dispatch({\r\n        type: \"SET_NOTIFICATION\",\r\n        notification: {\r\n          title: \"Action failed\",\r\n          message: \"Couldn't add movie to wishlist\",\r\n          type: \"failure\",\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  const currentlyAdded =\r\n    user.wishlist.findIndex((x) => x.movie_id === movie.id.toString()) !== -1;\r\n  const isInWatchlist =\r\n    user.watchedlist.findIndex((x) => x.movie_id === movie.id.toString()) !==\r\n    -1;\r\n\r\n  return !isInWatchlist ? (\r\n    <Popover\r\n      theme=\"dark\"\r\n      position=\"top\"\r\n      content={(w) => (\r\n        <div className=\"px-3 py-2\">\r\n          {currentlyAdded ? \"Remove from wishlist\" : \"Add to wishlist\"}\r\n        </div>\r\n      )}\r\n      trigger=\"mouseenter\"\r\n    >\r\n      <div\r\n        style={{ pointerEvents: \"all\" }}\r\n        className={`btn-custom ${\r\n          currentlyAdded ? \"btn-custom-danger\" : \"btn-custom-iconic\"\r\n        }`}\r\n      >\r\n        {loading ? (\r\n          <Loader size={30} loading={loading} color={\"white\"}></Loader>\r\n        ) : currentlyAdded ? (\r\n          <RemoveIcon\r\n            color={\"white\"}\r\n            fill={\"white\"}\r\n            onClick={() => handleClick(\"removed from\")}\r\n            size={28}\r\n          ></RemoveIcon>\r\n        ) : (\r\n          <MdPlaylistAdd\r\n            onClick={() => handleClick(\"added to\")}\r\n            className=\"text-title-xl\"\r\n            style={{ marginRight: \"-5px\" }}\r\n          ></MdPlaylistAdd>\r\n        )}\r\n      </div>\r\n    </Popover>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    apiKey: state.settings.movies_api_key,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(WishlistButton);\r\n","export const nFormatter = (num, digits) => {\r\n  var si = [\r\n    { value: 1, symbol: \"\" },\r\n    { value: 1e3, symbol: \"K\" },\r\n    { value: 1e6, symbol: \"M\" },\r\n    { value: 1e9, symbol: \"G\" },\r\n    { value: 1e12, symbol: \"T\" },\r\n    { value: 1e15, symbol: \"P\" },\r\n    { value: 1e18, symbol: \"E\" },\r\n  ];\r\n  var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\r\n  var i;\r\n  for (i = si.length - 1; i > 0; i--) {\r\n    if (num >= si[i].value) {\r\n      break;\r\n    }\r\n  }\r\n  return (num / si[i].value).toFixed(digits).replace(rx, \"$1\") + si[i].symbol;\r\n};\r\n\r\nexport const FormatDuration = (minutes) => {\r\n  let h = Math.floor(minutes / 60);\r\n  let m = minutes - h * 60;\r\n  return `${h}h ${m}m`;\r\n};\r\nexport const validateEmail = (email) => {\r\n  // eslint-disable-next-line\r\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n};\r\n","import React from \"react\";\r\nimport { Emoji } from \"emoji-mart\";\r\nimport { nFormatter } from \"../../utilities/Functions\";\r\nimport { connect } from \"react-redux\";\r\nimport OkIcon from \"../../images/OkIcon\";\r\n\r\nconst ReactionButton = ({\r\n  emoji,\r\n  onClick,\r\n  size = \"normal\",\r\n  allowRate = false,\r\n  selected,\r\n  className,\r\n  value,\r\n}) => {\r\n  return (\r\n    <div\r\n      onClick={async () => {\r\n        if (allowRate) {\r\n          if (onClick) {\r\n            onClick();\r\n          }\r\n        }\r\n      }}\r\n      className={`col-auto btn-reaction-${size} ${\r\n        allowRate ? \"btn-reaction\" : \"\"\r\n      }${selected ? \" btn-reaction-selected\" : \"\"}${\r\n        className ? ` ${className}` : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"row no-gutters align-items-center h-100 justify-content-center\">\r\n        {value !== undefined && value !== null ? (\r\n          <div className={`col mr-${size !== \"small\" ? \"2\" : \"1\"}`}>\r\n            {nFormatter(value.length, 1)}\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <div className=\"col-auto\">\r\n          {emoji === \"heavy_division_sign\" ? (\r\n            <div style={{ marginTop: size === \"normal\" ? \"-2px\" : \"-4px\" }}>\r\n              <OkIcon\r\n                size={size === \"small\" ? 14 : size === \"normal\" ? 16 : 28}\r\n              ></OkIcon>\r\n            </div>\r\n          ) : (\r\n            <div style={{ marginBottom: size === \"normal\" ? \"-6px\" : \"-2px\" }}>\r\n              <Emoji\r\n                emoji={emoji}\r\n                set=\"facebook\"\r\n                size={size === \"small\" ? 14 : size === \"normal\" ? 16 : 28}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    user: state.user,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(ReactionButton);\r\n","// const apikey = \"3a194d2f01cf050ac9ff97073d4a009c\";\r\nconst origin = \"https://api.themoviedb.org/3\";\r\n\r\nconst FormatRequestUrl = (path, params = [], apiKey) => {\r\n  return `${origin}${path}?api_key=${apiKey}&${[\"language=en-US\"]\r\n    .concat(params)\r\n    .join(\"&\")}`;\r\n};\r\n\r\nexport const GetTrendingMovies = () => {\r\n  return fetch(\r\n    FormatRequestUrl(\r\n      \"/trending/movie/week\",\r\n      [],\r\n      \"3a194d2f01cf050ac9ff97073d4a009c\"\r\n    )\r\n  ).then((res) => res.json());\r\n};\r\n\r\nexport const GetPopularMoviesByGenre = (genres, apiKey) => {\r\n  return fetch(\r\n    FormatRequestUrl(\r\n      \"/discover/movie\",\r\n      [\"sort_by=popularity.desc\", `with_genres=${genres.join(\",\")}`],\r\n      apiKey\r\n    )\r\n  ).then((res) => res.json());\r\n};\r\n\r\nexport const GetTrailers = (movieId, apiKey) => {\r\n  let finalId =\r\n    movieId.substring(0, 6) === \"serie-\" ? movieId.substring(6) : movieId;\r\n  return fetch(\r\n    FormatRequestUrl(\r\n      `/${\r\n        movieId.substring(0, 6) === \"serie-\" ? \"tv\" : \"movie\"\r\n      }/${finalId}/videos`,\r\n      [],\r\n      apiKey\r\n    )\r\n  ).then((res) => res.json());\r\n};\r\n\r\nexport const GetOfficialMoviesGenres = () => {\r\n  return fetch(FormatRequestUrl(\"/genre/movie/list\")).then((res) => res.json());\r\n};\r\n\r\nexport const GetTvShow = (movieId, apiKey) => {\r\n  return fetch(FormatRequestUrl(`/tv/${movieId}`, [], apiKey)).then((res) =>\r\n    res.json()\r\n  );\r\n};\r\n\r\nexport const GetMovie = (movieId, apiKey) => {\r\n  return fetch(FormatRequestUrl(`/movie/${movieId}`, [], apiKey)).then((res) =>\r\n    res.json()\r\n  );\r\n};\r\n\r\nexport const GetCredits = (movieId, apiKey) => {\r\n  let finalId =\r\n    movieId.substring(0, 6) === \"serie-\" ? movieId.substring(6) : movieId;\r\n  return fetch(\r\n    FormatRequestUrl(\r\n      `/${\r\n        movieId.substring(0, 6) === \"serie-\" ? \"tv\" : \"movie\"\r\n      }/${finalId}/credits`,\r\n      [],\r\n      apiKey\r\n    )\r\n  ).then((res) => res.json());\r\n};\r\n\r\nexport const SearchMovies = (query, apiKey) => {\r\n  let url = FormatRequestUrl(\"/search/movie\", [`query=${query}`], apiKey);\r\n  return fetch(url).then((res) => res.json());\r\n};\r\n\r\nexport const SearchSeries = (query, apiKey) => {\r\n  let url = FormatRequestUrl(\r\n    \"/search/tv\",\r\n    [`query=${encodeURI(query)}`],\r\n    apiKey\r\n  );\r\n  return fetch(url).then((res) => res.json());\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport \"simplebar/dist/simplebar.min.css\";\r\nimport { GetTrailers } from \"../../server/MoviesApi\";\r\nimport { connect } from \"react-redux\";\r\nimport Loader from \"../utility/Loader\";\r\n\r\nconst TrailerPlayer = ({\r\n  movieId,\r\n  settings,\r\n  onEnded,\r\n  modalOpened,\r\n  setIsEmpty = () => {},\r\n}) => {\r\n  const [videoIds, setVideoIds] = useState([]);\r\n  const [problem, setProblem] = useState(\"\");\r\n  const [isReady, setIsReady] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (movieId && settings.movies_api_key) {\r\n        let trailers = await GetTrailers(\r\n          movieId.toString(),\r\n          settings.movies_api_key\r\n        );\r\n        if (!trailers.results || !trailers.results.length) {\r\n          setProblem(\"We couldn't find trailer for this movie\");\r\n          setIsEmpty();\r\n        } else {\r\n          setVideoIds(trailers.results.map((x) => x.key));\r\n        }\r\n      }\r\n    }\r\n\r\n    getData();\r\n  }, [movieId, settings.movies_api_key]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  return (\r\n    <div className=\"col-xl-33 col-lg-36 col-md-39 col-sm-42 col-60\">\r\n      <div className=\"row no-gutters\">\r\n        {videoIds.length && modalOpened ? (\r\n          <React.Fragment>\r\n            <div className={`col-60${!isReady ? \" d-none\" : \"\"}`}>\r\n              <div className=\"trailer-player-wrapper\">\r\n                <ReactPlayer\r\n                  onReady={() => setIsReady(true)}\r\n                  onEnded={onEnded}\r\n                  config={{\r\n                    youtube: {\r\n                      playerVars: { showinfo: 0, iv_load_policy: 3 },\r\n                    },\r\n                  }}\r\n                  playing\r\n                  className=\"trailer-player\"\r\n                  controls\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                  url={`https://www.youtube.com/watch?v=${videoIds[0]}`}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className={`col-60${isReady ? \" d-none\" : \"\"}`}>\r\n              <Loader size={80} loading={true}></Loader>\r\n            </div>\r\n          </React.Fragment>\r\n        ) : problem ? (\r\n          <div className=\"text-white h4 m-auto\">{problem}</div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    settings: state.settings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(TrailerPlayer);\r\n","import React, { useEffect } from \"react\";\r\nimport { BsX } from \"react-icons/bs\";\r\n\r\nconst Modal = (props) => {\r\n  useEffect(() => {\r\n    if (props.open) {\r\n      document.body.style.overflow = \"hidden\";\r\n    } else {\r\n      document.body.style.overflow = \"visible\";\r\n    }\r\n  }, [props.open]);\r\n\r\n  let mobileCloserColor = props.mobileCloserColor\r\n    ? props.mobileCloserColor\r\n    : \"white\";\r\n\r\n  let desktopCloserColor = props.desktopCloserColor\r\n    ? props.desktopCloserColor\r\n    : \"white\";\r\n\r\n  return (\r\n    <div\r\n      className={`container-fluid w-100 h-100 modal-container px-0 overflow-auto${\r\n        !props.open ? \" d-none\" : \"\"\r\n      }`}\r\n    >\r\n      <div\r\n        className=\"row no-gutters justify-content-end d-md-flex d-none\"\r\n        style={{ position: \"sticky\", top: 0, zIndex: 55 }}\r\n      >\r\n        <div\r\n          onClick={props.onClose}\r\n          className=\"modal-closer\"\r\n          style={{ color: desktopCloserColor }}\r\n        >\r\n          <BsX fontSize=\"24px\" strokeWidth=\"2px\"></BsX>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"row no-gutters justify-content-end d-flex d-md-none\"\r\n        style={{ position: \"sticky\", top: 0, zIndex: 55 }}\r\n      >\r\n        <div\r\n          onClick={props.onClose}\r\n          className=\"modal-closer d-md-none d-flex\"\r\n          style={{ color: mobileCloserColor }}\r\n        >\r\n          <BsX fontSize=\"24px\" strokeWidth=\"2px\"></BsX>\r\n        </div>\r\n      </div>\r\n      <div className=\"row no-gutters h-100 align-items-center justify-content-center\">\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useState } from \"react\";\r\nimport { MdRemoveRedEye } from \"react-icons/md\";\r\nimport Popover from \"../utility/Popover\";\r\nimport Loader from \"../utility/Loader\";\r\nimport { MoveMovieToWatchList } from \"../../server/DatabaseApi\";\r\nimport store from \"../../store/store\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst MoveToWatchedButton = ({\r\n  user,\r\n  movieId,\r\n  refreshProfile = () => {},\r\n  apiKey,\r\n}) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleClick = async () => {\r\n    if (user.display_name) {\r\n      if (movieId) {\r\n        setLoading(true);\r\n        let res = await MoveMovieToWatchList(user, movieId, apiKey);\r\n        setLoading(false);\r\n        if (res.updatedUser) {\r\n          let wishlist = [...user.wishlist];\r\n          let movieIndex = wishlist.findIndex((x) => x.movie_id === movieId);\r\n          if (movieIndex !== -1) {\r\n            wishlist.splice(movieIndex);\r\n          }\r\n          store.dispatch({\r\n            type: \"UPDATE_USER\",\r\n            userProperty: res.updatedUser,\r\n          });\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: `Movie marked as watched`,\r\n              message: `Movie successfully added to your watched list`,\r\n              type: \"success\",\r\n            },\r\n          });\r\n          store.dispatch({\r\n            type: \"UPDATE_RATINGS\",\r\n            rating: {\r\n              [movieId]: res.rating,\r\n            },\r\n          });\r\n          refreshProfile();\r\n        } else {\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Error\",\r\n              message: JSON.stringify(res.error).replace(/\"/g, \"\"),\r\n              type: \"failure\",\r\n            },\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      store.dispatch({\r\n        type: \"SET_NOTIFICATION\",\r\n        notification: {\r\n          title: \"Action not allowed\",\r\n          message: \"You need to login to add movie to wishlist\",\r\n          type: \"failure\",\r\n        },\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <Popover\r\n      theme=\"dark\"\r\n      position=\"top\"\r\n      content={(w) => <div className=\"px-3 py-2\">Mark as watched</div>}\r\n      trigger=\"mouseenter\"\r\n    >\r\n      <div\r\n        className=\"btn-custom btn-custom-iconic\"\r\n        style={{ pointerEvents: \"all\" }}\r\n      >\r\n        {loading ? (\r\n          <Loader size={30} loading={loading} color={\"white\"}></Loader>\r\n        ) : (\r\n          <MdRemoveRedEye\r\n            onClick={handleClick}\r\n            className=\"text-title-xl\"\r\n          ></MdRemoveRedEye>\r\n        )}\r\n      </div>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    apiKey: state.settings.movies_api_key,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(MoveToWatchedButton);\r\n","import React, { useState } from \"react\";\r\nimport Modal from \"../utility/Modal\";\r\nimport ReactionButton from \"./ReactionButton\";\r\nimport { WriteReview, EditReview } from \"../../server/DatabaseApi\";\r\nimport store from \"../../store/store\";\r\nimport Loader from \"../utility/Loader\";\r\nimport { connect } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst AddReview = ({\r\n  open,\r\n  onClose,\r\n  movie,\r\n  user,\r\n  review,\r\n  refreshReviews = () => {},\r\n  settings,\r\n  ratings,\r\n  userIsOwner,\r\n}) => {\r\n  const [newReview, setNewReview] = useState({\r\n    review: \"\",\r\n    rating: \"\",\r\n  });\r\n  const [problem, setProblem] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (review) {\r\n      setNewReview((prev) =>\r\n        Object.assign({}, prev, {\r\n          review: review.review,\r\n          rating: review.rating,\r\n        })\r\n      );\r\n    }\r\n  }, [review]);\r\n  return movie ? (\r\n    <Modal open={open} onClose={onClose}>\r\n      <div className=\"col-xl-42 p-4 bg-over-root-lighter rounded mx-4\">\r\n        <div className=\"row no-gutters h5 mb-4\">\r\n          {userIsOwner ? \"Edit\" : \"Add\"} Review - {movie.title} (\r\n          {movie.release_date.substring(0, 4)})\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-auto pr-3 d-none d-md-block\">\r\n            <div\r\n              className=\"square-70 rounded-circle bg-image\"\r\n              style={{ backgroundImage: `url(${user.photo})` }}\r\n            ></div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"row no-gutters d-flex d-md-none mb-3 justify-content-between\">\r\n              <div className=\"col-auto pr-3\">\r\n                <div\r\n                  className=\"square-70 rounded-circle bg-image\"\r\n                  style={{ backgroundImage: `url(${user.photo})` }}\r\n                ></div>\r\n              </div>\r\n              <div\r\n                className={`d-flex align-items-end col-auto ${\r\n                  newReview.review.split(\" \").length <=\r\n                  settings.no_review_words - 1\r\n                    ? \"text-muted\"\r\n                    : \"text-danger\"\r\n                }`}\r\n              >\r\n                {newReview.review\r\n                  ? settings.no_review_words -\r\n                    newReview.review.split(\" \").length\r\n                  : settings.no_review_words}{\" \"}\r\n                words left\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters mb-2\" style={{ height: \"150px\" }}>\r\n              <textarea\r\n                onChange={(e) => {\r\n                  e.persist();\r\n                  let text = e.target.value;\r\n                  if (text.split(\" \").length <= settings.no_review_words) {\r\n                    setNewReview((prev) =>\r\n                      Object.assign({}, prev, { review: text })\r\n                    );\r\n                  }\r\n                }}\r\n                value={newReview.review}\r\n                spellCheck={false}\r\n                placeholder=\"Add your review...\"\r\n                style={{ resize: \"none\" }}\r\n                className=\"w-100 h-100 textarea\"\r\n              ></textarea>\r\n            </div>\r\n            <div className=\"row no-gutters justify-content-between mb-2\">\r\n              <div className=\"col-auto\">\r\n                <div className=\"row no-gutters\">\r\n                  <ReactionButton\r\n                    allowRate={true}\r\n                    size={\"big\"}\r\n                    onClick={() =>\r\n                      setNewReview((prev) =>\r\n                        Object.assign({}, prev, { rating: \"excellent_rate\" })\r\n                      )\r\n                    }\r\n                    selected={newReview.rating === \"excellent_rate\"}\r\n                    emoji=\"fire\"\r\n                    className={`mr-2 mb-2`}\r\n                    value={\r\n                      ratings[movie.id] ? ratings[movie.id].excellent_rate : 0\r\n                    }\r\n                  ></ReactionButton>\r\n                  <ReactionButton\r\n                    allowRate={true}\r\n                    size={\"big\"}\r\n                    onClick={() =>\r\n                      setNewReview((prev) =>\r\n                        Object.assign({}, prev, { rating: \"good_rate\" })\r\n                      )\r\n                    }\r\n                    selected={newReview.rating === \"good_rate\"}\r\n                    emoji=\"heart\"\r\n                    className={`mr-2 mb-2`}\r\n                    value={ratings[movie.id] ? ratings[movie.id].good_rate : 0}\r\n                  ></ReactionButton>\r\n                  <ReactionButton\r\n                    allowRate={true}\r\n                    size={\"big\"}\r\n                    onClick={() =>\r\n                      setNewReview((prev) =>\r\n                        Object.assign({}, prev, { rating: \"ok_rate\" })\r\n                      )\r\n                    }\r\n                    selected={newReview.rating === \"ok_rate\"}\r\n                    emoji=\"heavy_division_sign\"\r\n                    className={`mr-2 mb-2`}\r\n                    value={ratings[movie.id] ? ratings[movie.id].ok_rate : 0}\r\n                  ></ReactionButton>\r\n                  <ReactionButton\r\n                    allowRate={true}\r\n                    size={\"big\"}\r\n                    onClick={() =>\r\n                      setNewReview((prev) =>\r\n                        Object.assign({}, prev, { rating: \"bad_rate\" })\r\n                      )\r\n                    }\r\n                    emoji=\"shit\"\r\n                    selected={newReview.rating === \"bad_rate\"}\r\n                    className={`mr-2`}\r\n                    value={ratings[movie.id] ? ratings[movie.id].bad_rate : 0}\r\n                  ></ReactionButton>\r\n                </div>\r\n              </div>\r\n              <div\r\n                className={`d-none d-md-block col-auto ${\r\n                  newReview.review.split(\" \").length <=\r\n                  settings.no_review_words - 1\r\n                    ? \"text-muted\"\r\n                    : \"text-danger\"\r\n                }`}\r\n              >\r\n                {newReview.review\r\n                  ? settings.no_review_words -\r\n                    newReview.review.split(\" \").length\r\n                  : settings.no_review_words}{\" \"}\r\n                words left\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"row no-gutters align-items-center text-danger justify-content-end\"\r\n              style={{ height: \"30px\", opacity: problem ? 1 : 0 }}\r\n            >\r\n              {problem}\r\n            </div>\r\n            <div className=\"row no-gutters justify-content-md-end justify-content-center\">\r\n              <div\r\n                className=\"btn-custom btn-custom-primary btn-small position-relative\"\r\n                onClick={async () => {\r\n                  try {\r\n                    if (!newReview.rating) {\r\n                      setProblem(\"Select rating\");\r\n                    } else if (!newReview.review) {\r\n                      setProblem(\"Review is empty\");\r\n                    } else {\r\n                      setLoading(true);\r\n                      let res = userIsOwner\r\n                        ? await EditReview(newReview, review, user._id)\r\n                        : await WriteReview(\r\n                            newReview,\r\n                            movie.id,\r\n                            user,\r\n                            settings.movies_api_key\r\n                          );\r\n                      setLoading(false);\r\n                      setNewReview({ review: \"\", rating: \"\" });\r\n                      if (res.error) {\r\n                        store.dispatch({\r\n                          type: \"SET_NOTIFICATION\",\r\n                          notification: {\r\n                            title: `Couldn't ${\r\n                              userIsOwner ? \"edit\" : \"add\"\r\n                            } review`,\r\n                            type: \"failure\",\r\n                            message: JSON.stringify(res.error).replace(\r\n                              /\"/g,\r\n                              \"\"\r\n                            ),\r\n                          },\r\n                        });\r\n                      } else {\r\n                        store.dispatch({\r\n                          type: \"SET_NOTIFICATION\",\r\n                          notification: {\r\n                            title: `You successfully ${\r\n                              userIsOwner ? \"edited\" : \"wrote\"\r\n                            } review`,\r\n                            type: \"success\",\r\n                            message: `Your review was successfully ${\r\n                              userIsOwner ? \"edited\" : \"added\"\r\n                            }`,\r\n                          },\r\n                        });\r\n\r\n                        store.dispatch({\r\n                          type: \"UPDATE_RATINGS\",\r\n                          rating: {\r\n                            [movie.id]: res.rating,\r\n                          },\r\n                        });\r\n\r\n                        if (!userIsOwner) {\r\n                          let watchedlist = [...user.watchedlist];\r\n                          watchedlist.push({ movie_id: movie.id.toString() });\r\n                          let reviewsList = [...user.reviews];\r\n                          reviewsList.push(res.reviewId);\r\n                          store.dispatch({\r\n                            type: \"UPDATE_USER\",\r\n                            userProperty: {\r\n                              watchedlist,\r\n                              reviews: reviewsList,\r\n                            },\r\n                          });\r\n                        }\r\n\r\n                        let userRatings = { ...user.ratings };\r\n                        userRatings[movie.id] = {\r\n                          movie_id: movie.id,\r\n                          rate_type: newReview.rating,\r\n                        };\r\n\r\n                        store.dispatch({\r\n                          type: \"UPDATE_USER\",\r\n                          userProperty: {\r\n                            ratings: userRatings,\r\n                          },\r\n                        });\r\n\r\n                        onClose();\r\n                        refreshReviews();\r\n                      }\r\n                    }\r\n                  } catch (er) {}\r\n                }}\r\n              >\r\n                <Loader\r\n                  color={\"white\"}\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    left: \"10px\",\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    margin: \"auto\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                  loading={loading}\r\n                  size={20}\r\n                ></Loader>\r\n                Submit\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    settings: state.settings,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(AddReview);\r\n","import React, { useState } from \"react\";\r\nimport { OfficialMoviesGenres, OfficialSeriesGenres } from \"../../Data\";\r\nimport history from \"../../History\";\r\nimport WishlistButton from \"./WishlistButton\";\r\nimport { connect } from \"react-redux\";\r\nimport ReactionButton from \"./ReactionButton\";\r\nimport TrailerPlayer from \"./TrailerPlayer\";\r\nimport Modal from \"../utility/Modal\";\r\nimport { BsPlayFill } from \"react-icons/bs\";\r\nimport MoveToWatchedButton from \"./MoveToWatchedButton\";\r\nimport AddReview from \"./AddReview\";\r\n\r\nconst MoviesList = ({ movies, user, ratings, prefix = \"\" }) => {\r\n  const [trailerMovieId, setTrailerMovieId] = useState(\"\");\r\n  const [openTrailer, setOpenTrailer] = useState(false);\r\n  const [addReviewOpen, setAddReviewOpen] = useState(false);\r\n\r\n  const [movie, setMovie] = useState(false); // movie to add review for\r\n  return (\r\n    <div className=\"row justify-content-end\">\r\n      <Modal open={openTrailer} onClose={() => setOpenTrailer(false)}>\r\n        <TrailerPlayer\r\n          modalOpened={openTrailer}\r\n          movieId={trailerMovieId}\r\n          onEnded={() => setOpenTrailer(false)}\r\n        ></TrailerPlayer>\r\n      </Modal>\r\n      <AddReview\r\n        open={addReviewOpen}\r\n        onClose={() => setAddReviewOpen(false)}\r\n        movie={movie}\r\n        user={user}\r\n      ></AddReview>\r\n      {movies.map((x, i) => {\r\n        return (\r\n          <div\r\n            key={`result-${i}`}\r\n            className=\"col-lg-12 col-md-15 col-sm-20 col-60 p-3 text-white\"\r\n          >\r\n            <div\r\n              className=\"row no-gutters justify-content-end position-relative px-2 d-none d-sm-flex\"\r\n              style={{\r\n                marginBottom: \"-51px\",\r\n                zIndex: 5,\r\n                height: \"44px\",\r\n                pointerEvents: \"none\",\r\n              }}\r\n            >\r\n              <WishlistButton movie={x} user={user}></WishlistButton>\r\n              <div className=\"pr-1\"></div>\r\n              <MoveToWatchedButton\r\n                refreshProfile={() => {\r\n                  setMovie(x);\r\n                  setAddReviewOpen(true);\r\n                }}\r\n                user={user}\r\n                movieId={x.id}\r\n              ></MoveToWatchedButton>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-sm-60 col-auto mr-3 mr-sm-0\">\r\n                <div className=\"row no-gutters mb-2 position-relative movies-list-image\">\r\n                  <img\r\n                    alt={x.poster_path}\r\n                    width=\"100%\"\r\n                    style={{ borderRadius: \"13px\" }}\r\n                    className=\"img-clickable\"\r\n                    src={\r\n                      x.poster_path\r\n                        ? `https://image.tmdb.org/t/p/w342${x.poster_path}`\r\n                        : \"https://critics.io/img/movies/poster-placeholder.png\"\r\n                    }\r\n                  ></img>\r\n                  <div\r\n                    onClick={() =>\r\n                      history.push(`/movie/${x.name ? `serie-${x.id}` : x.id}`)\r\n                    }\r\n                    className=\"col-60 h-100 text-white d-flex flex-center img-cover cursor-pointer\"\r\n                    style={{\r\n                      left: 0,\r\n                      top: 0,\r\n                      position: \"absolute\",\r\n                      zIndex: 4,\r\n                      borderRadius: \"13px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      className=\"square-50 rounded-circle d-flex flex-center play-btn\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        setTrailerMovieId(x.id);\r\n                        setOpenTrailer(true);\r\n                      }}\r\n                    >\r\n                      <BsPlayFill\r\n                        style={{\r\n                          fontSize: \"30px\",\r\n                          color: \"white\",\r\n                          marginRight: \"-5px\",\r\n                        }}\r\n                      ></BsPlayFill>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-sm-60 col\">\r\n                <div\r\n                  className=\"row no-gutters text-title-md mb-0 cursor-pointer\"\r\n                  onClick={() => history.push(`/movie/${x.id}`)}\r\n                >\r\n                  <div className=\"text-truncate\">\r\n                    {x.title ? x.title : x.name}\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters text-muted mb-2\">\r\n                  <div className=\"text-truncate\">\r\n                    {x.genre_ids.length\r\n                      ? x.genre_ids\r\n                          .map((gid) => {\r\n                            let genre = x.title // movies have title, series - name\r\n                              ? OfficialMoviesGenres.find((g) => g.id === gid)\r\n                              : OfficialSeriesGenres.find((g) => g.id === gid);\r\n\r\n                            return genre ? genre.name : \"unknown\";\r\n                          })\r\n                          .join(\"/\")\r\n                      : \"unknown\"}\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters justify-content-sm-end mb-2\">\r\n                  <ReactionButton\r\n                    selected={\r\n                      user.ratings[x.id]\r\n                        ? user.ratings[x.id].rate_type === \"excellent_rate\"\r\n                        : false\r\n                    }\r\n                    movie={x}\r\n                    emoji=\"fire\"\r\n                    className=\"mr-1 mb-2\"\r\n                    size=\"small\"\r\n                    value={ratings[x.id] ? ratings[x.id].excellent_rate : []}\r\n                  ></ReactionButton>\r\n                  <ReactionButton\r\n                    size=\"small\"\r\n                    selected={\r\n                      user.ratings[x.id]\r\n                        ? user.ratings[x.id].rate_type === \"good_rate\"\r\n                        : false\r\n                    }\r\n                    movie={x}\r\n                    emoji=\"heart\"\r\n                    className=\"mr-1 mb-2\"\r\n                    value={ratings[x.id] ? ratings[x.id].good_rate : []}\r\n                  ></ReactionButton>\r\n                  <ReactionButton\r\n                    size=\"small\"\r\n                    selected={\r\n                      user.ratings[x.id]\r\n                        ? user.ratings[x.id].rate_type === \"ok_rate\"\r\n                        : false\r\n                    }\r\n                    movie={x}\r\n                    className=\"mr-1 mb-2\"\r\n                    emoji=\"heavy_division_sign\"\r\n                    value={ratings[x.id] ? ratings[x.id].ok_rate : []}\r\n                  ></ReactionButton>\r\n                  <ReactionButton\r\n                    size=\"small\"\r\n                    emoji=\"shit\"\r\n                    value={ratings[x.id] ? ratings[x.id].bad_rate : []}\r\n                    selected={\r\n                      user.ratings[x.id]\r\n                        ? user.ratings[x.id].rate_type === \"bad_rate\"\r\n                        : false\r\n                    }\r\n                    movie={x}\r\n                  ></ReactionButton>\r\n                </div>\r\n                <div className=\"row no-gutters d-flex d-sm-none\">\r\n                  <WishlistButton movie={x} user={user}></WishlistButton>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    user: state.user,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(MoviesList);\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport MoviesList from \"./MoviesList\";\r\nimport { GetPopularMoviesByGenre } from \"../../server/MoviesApi\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport \"simplebar/dist/simplebar.min.css\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst genresPairs = [\r\n  { name: \"All\", genresIds: [] },\r\n  { name: \"Suspense & Thriller\", genresIds: [27, 53] },\r\n  { name: \"Action & Adventure\", genresIds: [28, 12] },\r\n  { name: \"Romance\", genresIds: [10749] },\r\n  { name: \"Crime & Drama\", genresIds: [80, 18] },\r\n  { name: \"Sci-Fi\", genresIds: [878] },\r\n  { name: \"History & Documentary\", genresIds: [36, 99] },\r\n];\r\n\r\nconst PopularMovies = ({ apiKey, settings, user }) => {\r\n  const horizontalMenu = useRef();\r\n\r\n  const [genresIds, setGenresIds] = useState([]);\r\n  const [genreName, setGenreName] = useState(\"All\");\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  const [userWishList, setUserWishList] = useState([]);\r\n  const [userWatchedList, setUserWatchedList] = useState([]);\r\n\r\n  const [filteredMovies, setFilteredMovies] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setUserWishList(user.wishlist.map((x) => x.movie_id));\r\n      setUserWatchedList(user.watchedlist.map((x) => x.movie_id));\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (apiKey && settings.no_popular_movies) {\r\n        let data = await GetPopularMoviesByGenre(genresIds, apiKey);\r\n        setMovies(data.results);\r\n      }\r\n    }\r\n    getData();\r\n  }, [genresIds, apiKey, settings]);\r\n\r\n  useEffect(() => {\r\n    horizontalMenu.current.recalculate();\r\n  }, [movies]);\r\n\r\n  useEffect(() => {\r\n    if (movies) {\r\n      setFilteredMovies(\r\n        movies\r\n          .filter(\r\n            (x) =>\r\n              !userWishList.includes(x.id.toString()) &&\r\n              !userWatchedList.includes(x.id.toString())\r\n          )\r\n          .slice(0, settings.no_popular_movies)\r\n      );\r\n    }\r\n  }, [userWatchedList, userWishList, movies]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  return (\r\n    <div className=\"row no-gutters justify-content-center text-white\">\r\n      <div className=\"col-60 py-3 px-md-5 px-4 content-container\">\r\n        <div className=\"row no-gutters h5\">\r\n          <div\r\n            className=\"col-auto\"\r\n            style={{\r\n              padding: \"6px 30px 6px 0px\",\r\n              background: \"linear-gradient(to left, #ff0037, transparent)\",\r\n              borderRadius: \"0 4px 4px 0\",\r\n            }}\r\n          >\r\n            Popular Movies\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters text-light\">\r\n          Most watched movies in last 30 days\r\n        </div>\r\n        <div className=\"row no-gutters justify-content-end text-light align-items-center mb-4\">\r\n          <div className=\"col-auto\">\r\n            <SimpleBar\r\n              ref={horizontalMenu}\r\n              style={{\r\n                padding: \"14px 0\",\r\n                maxWidth: \"100%\",\r\n                overflowX: \"auto\",\r\n                whiteSpace: \"nowrap\",\r\n              }}\r\n            >\r\n              {genresPairs.map((x, i) => (\r\n                <div\r\n                  onClick={() => {\r\n                    setGenreName(x.name);\r\n                    setGenresIds(x.genresIds);\r\n                  }}\r\n                  style={{ display: \"inline-block\" }}\r\n                  key={`genre-for-popular-movie-${i}`}\r\n                  className={`px-4 ${\r\n                    genreName === x.name\r\n                      ? \"btn-tertiary-selected text-white\"\r\n                      : \"btn-tertiary text-light-white\"\r\n                  }`}\r\n                >\r\n                  {x.name}\r\n                </div>\r\n              ))}\r\n            </SimpleBar>\r\n          </div>\r\n        </div>\r\n        <MoviesList movies={filteredMovies}></MoviesList>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    settings: state.settings,\r\n    user: state.user,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(PopularMovies);\r\n","import React from \"react\";\r\nimport history from \"../../History\";\r\n\r\nconst Recommendations = ({ movies }) => {\r\n  return (\r\n    <div className=\"row no-gutters\">\r\n      {movies.map((x, i) => (\r\n        <div\r\n          className=\"col-sm-15 col-md-12 col-lg-15 col-60 pr-2 pb-2 text-white position-relative\"\r\n          key={`recommended-today-movie-${i}`}\r\n        >\r\n          <div className=\"row no-gutters\">\r\n            <div className=\"col-sm-60 col-auto mr-3 mr-sm-0\">\r\n              <img\r\n                alt={x.movie_poster}\r\n                className=\"img-clickable movies-list-image\"\r\n                onClick={() => history.push(`/movie/${x.movie_id}`)}\r\n                width=\"100%\"\r\n                style={{\r\n                  borderRadius: \"13px\",\r\n                }}\r\n                src={`https://image.tmdb.org/t/p/w154${x.movie_poster}`}\r\n              ></img>\r\n            </div>\r\n            <div className=\"col-sm-60 col d-block d-sm-none\">\r\n              <div\r\n                className=\"row no-gutters cursor-pointer\"\r\n                onClick={() => history.push(`/movie/${x.movie_id}`)}\r\n              >\r\n                {x.movie_title}\r\n              </div>\r\n              <div className=\"row no-gutters text-muted\">\r\n                <small className=\"text-truncate\">\r\n                  {x.movie_genres.join(\"/\")}\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Recommendations;\r\n","import React, { useEffect } from \"react\";\r\nimport { BsChevronRight, BsChevronLeft } from \"react-icons/bs\";\r\n\r\nconst Pagination = ({\r\n  count,\r\n  current,\r\n  setCurrent,\r\n  classNames = { selected: \"input-light-selected\", notSelected: \"input-light\" },\r\n}) => {\r\n  let first =\r\n    current === count ? current - 2 : current - 1 >= 1 ? current - 1 : current;\r\n  let second = first + 1;\r\n  let third = second + 1;\r\n\r\n  useEffect(() => {\r\n    if (count === 1) {\r\n      setCurrent(1);\r\n    }\r\n  }, [count]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  return count > 1 ? (\r\n    <React.Fragment>\r\n      <div className=\"row no-gutters d-flex d-lg-none user-select-none\">\r\n        <div\r\n          className={`col-auto ${classNames[\"notSelected\"]} px-3 mr-1 cursor-pointer`}\r\n          onClick={() => setCurrent(current - 1 >= 1 ? current - 1 : current)}\r\n        >\r\n          <BsChevronLeft fontSize=\"16px\"></BsChevronLeft>\r\n        </div>\r\n        <div\r\n          className={`${classNames[\"selected\"]} col-auto text-center mr-1`}\r\n          style={{ width: \"50px\" }}\r\n        >\r\n          {current}\r\n        </div>\r\n        <div\r\n          className={`col-auto ${classNames[\"notSelected\"]} px-3 cursor-pointer`}\r\n          onClick={() =>\r\n            setCurrent(current + 1 <= count ? current + 1 : current)\r\n          }\r\n        >\r\n          <BsChevronRight fontSize=\"16px\"></BsChevronRight>\r\n        </div>\r\n      </div>\r\n      <div className=\"row no-gutters user-select-none d-none d-lg-flex\">\r\n        <div\r\n          className={`col-auto ${classNames[\"notSelected\"]} px-3 mr-1 cursor-pointer`}\r\n          onClick={() => setCurrent(current - 1 >= 1 ? current - 1 : current)}\r\n        >\r\n          Previous\r\n        </div>\r\n        {first - 1 >= 1 && (\r\n          <div\r\n            className={`col-auto ${classNames[\"notSelected\"]} text-center mr-1 cursor-pointer`}\r\n            style={{ width: \"50px\" }}\r\n            onClick={() => setCurrent(first - 1 >= 1 ? first - 1 : first)}\r\n          >\r\n            ...\r\n          </div>\r\n        )}\r\n        {first >= 1 && (\r\n          <div\r\n            style={{ width: \"50px\" }}\r\n            className={`px-0 col-auto ${\r\n              current === first\r\n                ? classNames[\"selected\"]\r\n                : classNames[\"notSelected\"]\r\n            } text-center mr-1 cursor-pointer`}\r\n            onClick={() => setCurrent(first)}\r\n          >\r\n            {first}\r\n          </div>\r\n        )}\r\n\r\n        {second <= count && second >= 1 && (\r\n          <div\r\n            style={{ width: \"50px\" }}\r\n            className={`px-0 col-auto ${\r\n              current === second\r\n                ? classNames[\"selected\"]\r\n                : classNames[\"notSelected\"]\r\n            } text-center mr-1 cursor-pointer`}\r\n            onClick={() => setCurrent(second)}\r\n          >\r\n            {second}\r\n          </div>\r\n        )}\r\n        {third <= count && third >= 1 && (\r\n          <div\r\n            className={`px-0 col-auto ${\r\n              current === third\r\n                ? classNames[\"selected\"]\r\n                : classNames[\"notSelected\"]\r\n            } text-center mr-1 cursor-pointer`}\r\n            style={{ width: \"50px\" }}\r\n            onClick={() => setCurrent(third)}\r\n          >\r\n            {third}\r\n          </div>\r\n        )}\r\n\r\n        {third + 1 <= count && (\r\n          <div\r\n            onClick={() => setCurrent(third + 1 <= count ? third + 1 : current)}\r\n            className={`col-auto ${classNames[\"notSelected\"]} text-center mr-1 cursor-pointer`}\r\n            style={{ width: \"50px\" }}\r\n          >\r\n            ...\r\n          </div>\r\n        )}\r\n        <div\r\n          className={`col-auto ${classNames[\"notSelected\"]} px-3 cursor-pointer`}\r\n          onClick={() =>\r\n            setCurrent(current + 1 <= count ? current + 1 : current)\r\n          }\r\n        >\r\n          Next\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React, { useState } from \"react\";\r\nimport Modal from \"../utility/Modal\";\r\nimport { WriteComment } from \"../../server/DatabaseApi\";\r\nimport Loader from \"../utility/Loader\";\r\nimport store from \"../../store/store\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst ReplyToReview = ({\r\n  open,\r\n  onClose,\r\n  user,\r\n  review,\r\n  movie,\r\n  reviewAuthor,\r\n  setComments,\r\n  setReviewIdOfVisibleComments,\r\n  refreshComments,\r\n  refreshReviews,\r\n  settings,\r\n}) => {\r\n  const [newComment, setNewComment] = useState({ comment: \"\" });\r\n  const [problem, setProblem] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  return (\r\n    <Modal open={open} onClose={onClose}>\r\n      <div className=\"col-xl-42 p-4 bg-over-root-lighter rounded mx-4\">\r\n        <div className=\"row no-gutters h5 mb-4\">\r\n          Reply to {reviewAuthor.display_name}\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-auto pr-3 d-none d-md-block\">\r\n            <div\r\n              className=\"square-70 rounded-circle bg-image\"\r\n              style={{ backgroundImage: `url(${user.photo})` }}\r\n            ></div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"row no-gutters d-flex d-md-none justify-content-between mb-3\">\r\n              <div className=\"col-auto pr-3\">\r\n                <div\r\n                  className=\"square-70 rounded-circle bg-image\"\r\n                  style={{ backgroundImage: `url(${user.photo})` }}\r\n                ></div>\r\n              </div>\r\n              <div\r\n                className={`col-auto d-flex align-items-end ${\r\n                  newComment.comment.length <=\r\n                  settings.no_comment_characters - 1\r\n                    ? \"text-muted\"\r\n                    : \"text-danger\"\r\n                }`}\r\n              >\r\n                {newComment.comment\r\n                  ? settings.no_comment_characters - newComment.comment.length\r\n                  : settings.no_comment_characters}{\" \"}\r\n                characters left\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters mb-2\" style={{ height: \"150px\" }}>\r\n              <textarea\r\n                onChange={(e) => {\r\n                  e.persist();\r\n                  let text = e.target.value;\r\n                  if (text.length <= settings.no_comment_characters) {\r\n                    setNewComment((prev) =>\r\n                      Object.assign({}, prev, { comment: text })\r\n                    );\r\n                  }\r\n                }}\r\n                value={newComment.comment}\r\n                spellCheck={false}\r\n                placeholder=\"Add your comment...\"\r\n                style={{ resize: \"none\" }}\r\n                className=\"w-100 h-100 textarea\"\r\n              ></textarea>\r\n            </div>\r\n            <div className=\"row no-gutters justify-content-md-end justify-content-center\">\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters justify-content-end\">\r\n                  <div\r\n                    className={`col-auto d-none d-md-block ${\r\n                      newComment.comment.length <=\r\n                      settings.no_comment_characters - 1\r\n                        ? \"text-muted\"\r\n                        : \"text-danger\"\r\n                    }`}\r\n                  >\r\n                    {newComment.comment\r\n                      ? settings.no_comment_characters -\r\n                        newComment.comment.length\r\n                      : settings.no_comment_characters}{\" \"}\r\n                    characters left\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60\">\r\n                <div\r\n                  className=\"row no-gutters align-items-center text-danger justify-content-end\"\r\n                  style={{ height: \"30px\", opacity: problem ? 1 : 0 }}\r\n                >\r\n                  {problem}\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"btn-custom btn-custom-primary btn-small\"\r\n                onClick={async () => {\r\n                  if (!newComment.comment) {\r\n                    setProblem(\"Type comment\");\r\n                  } else {\r\n                    if (user.token) {\r\n                      setLoading(true);\r\n                      let finalComment = Object.assign({}, newComment, {\r\n                        author_name: user.display_name,\r\n                        movie_id: movie.id,\r\n                        comment_id: review.comment_id,\r\n                        review_id: review._id,\r\n                        review: review.review,\r\n                        review_author: review.author,\r\n                        notificationReceivers: review.notificationReceivers,\r\n                      });\r\n                      let finalUser = { ...user };\r\n                      delete finalUser[\"photo\"];\r\n                      setNewComment({ comment: \"\" });\r\n                      let res = await WriteComment(\r\n                        finalComment,\r\n                        finalUser,\r\n                        movie\r\n                      );\r\n                      setLoading(false);\r\n                      if (res.error) {\r\n                        store.dispatch({\r\n                          type: \"SET_NOTIFICATION\",\r\n                          notification: {\r\n                            title: \"Couldn't add your comment\",\r\n                            type: \"failure\",\r\n                            message: JSON.stringify(res.error).replace(\r\n                              /\"/g,\r\n                              \"\"\r\n                            ),\r\n                          },\r\n                        });\r\n                      } else {\r\n                        store.dispatch({\r\n                          type: \"SET_NOTIFICATION\",\r\n                          notification: {\r\n                            title: \"You successfully writed comment\",\r\n                            type: \"success\",\r\n                            message: \"Your comment successfully added\",\r\n                          },\r\n                        });\r\n                        onClose();\r\n                        setReviewIdOfVisibleComments(review._id);\r\n                        refreshComments();\r\n                        refreshReviews();\r\n                      }\r\n                    } else {\r\n                      setProblem(\"You need to login to write comment\");\r\n                    }\r\n                  }\r\n                }}\r\n              >\r\n                <Loader\r\n                  color={\"white\"}\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    left: \"10px\",\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    margin: \"auto\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                  loading={loading}\r\n                  size={20}\r\n                ></Loader>\r\n                Send\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    settings: state.settings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(ReplyToReview);\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport date from \"date-and-time\";\r\nimport { Emoji } from \"emoji-mart\";\r\nimport { MdThumbUp, MdChatBubble, MdFlag } from \"react-icons/md\";\r\nimport {\r\n  GetReviewComments,\r\n  GetPopularReviews,\r\n  GetPromotedReviews,\r\n  LikeReview,\r\n  LikeComment,\r\n  ReportComment,\r\n  ReportReview,\r\n} from \"../../server/DatabaseApi\";\r\nimport { connect } from \"react-redux\";\r\nimport { Collapse } from \"@material-ui/core\";\r\nimport Paigination from \"../utility/Paigination\";\r\nimport history from \"../../History\";\r\nimport ReplyToReview from \"./ReplyToReview\";\r\nimport store from \"../../store/store\";\r\nimport Loader from \"../utility/Loader\";\r\nimport Popover from \"../utility/Popover\";\r\nimport OkIcon from \"../../images/OkIcon\";\r\n\r\nconst PopularReviews = ({ publicUsers, settings, user, ratings }) => {\r\n  //comments object.Its property will be review id.\r\n  const [comments, setComments] = useState({});\r\n\r\n  const [reviews, setReviews] = useState([]);\r\n  const [promotedReviews, setPromotedReviews] = useState([]);\r\n\r\n  const [reviewIdOfVisibleComments, setReviewIdOfVisibleComments] = useState(\r\n    -1\r\n  );\r\n\r\n  const [loadingComment, setLoadingComment] = useState(-1);\r\n  const [loadingReview, setLoadingReview] = useState(-1);\r\n  const [loadingReport, setLoadingReport] = useState(-1);\r\n\r\n  const page = 1;\r\n  const [commentsPage, setCommentsPage] = useState(1);\r\n\r\n  // reference to top of the reviews block to scroll into view after changing the page\r\n  const topOfReviewsBlock = useRef(null);\r\n\r\n  const [review, setReview] = useState({\r\n    movie_title: \"\",\r\n    movie_id: \"\",\r\n    movie_genres: \"\",\r\n    movie_release_date: \"\",\r\n    movie_poster: \"\",\r\n  });\r\n\r\n  const [addReplyOpen, setAddReplyOpen] = useState(false);\r\n\r\n  //state to refresh comments after writing it\r\n  const [refreshComments, setRefreshComments] = useState(false);\r\n\r\n  //state to refresh reviews after writing it\r\n  const [refreshReviews, setRefreshReviews] = useState(false);\r\n\r\n  const commentsPerPage = 5;\r\n  const reviewsPerPage = 8;\r\n\r\n  const [promotedContents, setPromotedContents] = useState({});\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (reviewIdOfVisibleComments !== -1) {\r\n        let data = await GetReviewComments(reviewIdOfVisibleComments);\r\n\r\n        let commentsObj = {};\r\n        data.forEach((x) => {\r\n          commentsObj[x._id] = x;\r\n        });\r\n        setComments((prev) =>\r\n          Object.assign({}, prev, { [reviewIdOfVisibleComments]: commentsObj })\r\n        );\r\n      }\r\n    }\r\n    getData();\r\n  }, [reviewIdOfVisibleComments, refreshComments]);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (settings.no_popular_reviews) {\r\n        let promoted = await GetPromotedReviews();\r\n        let promotedContentIds = [];\r\n        let promoContents = {};\r\n        if (!promoted.error) {\r\n          promoted.forEach((x) => {\r\n            promotedContentIds.push(x.content_id);\r\n            promoContents[x.content_id] = x;\r\n          });\r\n        }\r\n        setPromotedContents(promoContents);\r\n\r\n        let data = await GetPopularReviews(settings.no_popular_reviews);\r\n        if (!data.error) {\r\n          let promReviews = [],\r\n            notPromotedReviews = [];\r\n          data.forEach((x) => {\r\n            if (promotedContentIds.includes(x._id)) {\r\n              x.promoted = true;\r\n              promReviews.push(x);\r\n            } else {\r\n              notPromotedReviews.push(x);\r\n            }\r\n          });\r\n          setPromotedReviews(promReviews);\r\n          setReviews(notPromotedReviews);\r\n        }\r\n      }\r\n    }\r\n    getData();\r\n  }, [settings, refreshReviews]);\r\n\r\n  const renderComments = (ids, review) => {\r\n    return ids.map((x, ind) => {\r\n      return comments[review._id][x] ? (\r\n        <React.Fragment>\r\n          <div\r\n            style={{\r\n              marginLeft: `${\r\n                comments[review._id][x].notificationReceivers.length * 60 - 30\r\n              }px`,\r\n            }}\r\n            key={`comment-${reviewIdOfVisibleComments}-${ind}`}\r\n            className={`row no-gutters p-4 bg-over-root-lighter rounded mb-2 indented-comment`}\r\n          >\r\n            <div className=\"col-auto pr-4 d-none d-md-block\">\r\n              <div\r\n                className=\"bg-image rounded-circle square-70\"\r\n                style={{\r\n                  backgroundImage: `url(${\r\n                    publicUsers[comments[review._id][x].author]\r\n                      ? publicUsers[comments[review._id][x].author].photo\r\n                      : \"\"\r\n                  })`,\r\n                }}\r\n              ></div>\r\n            </div>\r\n            <div className=\"col\">\r\n              <div className=\"row no-gutters justify-content-between align-items-center mb-2\">\r\n                <div className=\"col-auto\">\r\n                  <div className=\"row no-gutters\">\r\n                    <div className=\"col-auto pr-2 d-block d-md-none\">\r\n                      <div\r\n                        className=\"bg-image rounded-circle square-40\"\r\n                        style={{\r\n                          backgroundImage: `url(${\r\n                            publicUsers[comments[review._id][x].author]\r\n                              ? publicUsers[comments[review._id][x].author]\r\n                                  .photo\r\n                              : \"\"\r\n                          })`,\r\n                        }}\r\n                      ></div>\r\n                    </div>\r\n                    <div className=\"col-auto mr-3 text-title-md mb-0\">\r\n                      {publicUsers[comments[review._id][x].author]\r\n                        ? publicUsers[comments[review._id][x].author]\r\n                            .display_name\r\n                        : \"\"}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-auto\">\r\n                  <div className=\"row no-gutters align-items-center\">\r\n                    <div className=\"col-auto\">\r\n                      <div className=\"row no-gutters align-items-center\">\r\n                        <div className=\"col-auto mr-2\">Commented on</div>\r\n                        <div className=\"col-auto mr-3 text-muted\">\r\n                          {date.format(\r\n                            new Date(comments[review._id][x].date),\r\n                            \"MMM DD, YYYY\"\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <Popover\r\n                      arrow={false}\r\n                      position=\"top\"\r\n                      trigger=\"mouseenter\"\r\n                      theme=\"dark\"\r\n                      content={(w) => (\r\n                        <div className=\"py-2 px-3 rounded bg-over-root\">\r\n                          Report Abuse\r\n                        </div>\r\n                      )}\r\n                    >\r\n                      <div\r\n                        className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                        onClick={async () => {\r\n                          if (user.token) {\r\n                            setLoadingReport(x);\r\n                            let res = await ReportComment(user, x);\r\n                            setLoadingReport(-1);\r\n                            if (res.error) {\r\n                              store.dispatch({\r\n                                type: \"SET_NOTIFICATION\",\r\n                                notification: {\r\n                                  title: \"Error\",\r\n                                  message: res.error,\r\n                                  type: \"failure\",\r\n                                },\r\n                              });\r\n                            } else {\r\n                              store.dispatch({\r\n                                type: \"SET_NOTIFICATION\",\r\n                                notification: {\r\n                                  title: \"Comment reported\",\r\n                                  message:\r\n                                    \"Comment was successfully reported. We will review it soon.\",\r\n                                  type: \"success\",\r\n                                },\r\n                              });\r\n                            }\r\n                          } else {\r\n                            store.dispatch({\r\n                              type: \"SET_NOTIFICATION\",\r\n                              notification: {\r\n                                title: \"Login required\",\r\n                                message: \"You need to login to report comment\",\r\n                                type: \"failure\",\r\n                              },\r\n                            });\r\n                          }\r\n                        }}\r\n                      >\r\n                        {loadingReport === x ? (\r\n                          <div className=\"square-20\">\r\n                            <Loader\r\n                              color={\"white\"}\r\n                              style={{\r\n                                position: \"absolute\",\r\n                                left: \"10px\",\r\n                                top: 0,\r\n                                bottom: 0,\r\n                                margin: \"auto\",\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                              }}\r\n                              loading={true}\r\n                              size={20}\r\n                            ></Loader>\r\n                          </div>\r\n                        ) : (\r\n                          <MdFlag fontSize=\"24px\"></MdFlag>\r\n                        )}\r\n                      </div>\r\n                    </Popover>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row no-gutters text-light mb-3 font-weight-300 text-break\">\r\n                {comments[review._id][x].comment}\r\n              </div>\r\n              <div className=\"row no-gutters justify-content-end align-items-center\">\r\n                <div className=\"col-auto\">\r\n                  <div className=\"row no-gutters align-items-center\">\r\n                    <div className=\"col-auto mr-2\">\r\n                      {comments[review._id][x].likes.length}\r\n                    </div>\r\n                    <div className=\"col-auto mr-2 \">\r\n                      {loadingComment === ind ? (\r\n                        <div className=\"square-20\">\r\n                          <Loader\r\n                            color={\"white\"}\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              left: \"10px\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              margin: \"auto\",\r\n                              display: \"flex\",\r\n                              alignItems: \"center\",\r\n                            }}\r\n                            loading={loadingComment === ind}\r\n                            size={20}\r\n                          ></Loader>\r\n                        </div>\r\n                      ) : (\r\n                        <MdThumbUp\r\n                          onClick={async () => {\r\n                            if (user.token) {\r\n                              if (user._id !== comments[review._id][x].author) {\r\n                                setLoadingComment(ind);\r\n                                let res = await LikeComment(user, x);\r\n                                setLoadingComment(-1);\r\n                                if (res.error) {\r\n                                  store.dispatch({\r\n                                    type: \"SET_NOTIFICATION\",\r\n                                    notification: {\r\n                                      title: \"Error\",\r\n                                      message: res.error,\r\n                                      type: \"failure\",\r\n                                    },\r\n                                  });\r\n                                } else {\r\n                                  setRefreshComments(!refreshComments);\r\n                                }\r\n                              } else {\r\n                                store.dispatch({\r\n                                  type: \"SET_NOTIFICATION\",\r\n                                  notification: {\r\n                                    title: \"Action not allowed\",\r\n                                    message:\r\n                                      \"You can not like your own comment\",\r\n                                    type: \"failure\",\r\n                                  },\r\n                                });\r\n                              }\r\n                            } else {\r\n                              store.dispatch({\r\n                                type: \"SET_NOTIFICATION\",\r\n                                notification: {\r\n                                  title: \"Login required\",\r\n                                  message: \"You need to login to like review\",\r\n                                  type: \"failure\",\r\n                                },\r\n                              });\r\n                            }\r\n                          }}\r\n                          fontSize=\"24px\"\r\n                          className=\"text-green scale-transition cursor-pointer\"\r\n                        ></MdThumbUp>\r\n                      )}\r\n                    </div>\r\n                    <div\r\n                      className=\"col-auto text-orange btn-tertiary\"\r\n                      onClick={() => {\r\n                        if (!user.token) {\r\n                          store.dispatch({\r\n                            type: \"SET_NOTIFICATION\",\r\n                            notification: {\r\n                              title: \"Login required\",\r\n                              message: \"You need to login to write review.\",\r\n                              type: \"failure\",\r\n                            },\r\n                          });\r\n                        } else {\r\n                          setReview(\r\n                            Object.assign({}, review, {\r\n                              comment_id: x,\r\n                              notificationReceivers: comments[review._id][\r\n                                x\r\n                              ].notificationReceivers.concat([\r\n                                publicUsers[comments[review._id][x].author],\r\n                              ]),\r\n                            })\r\n                          );\r\n                          setAddReplyOpen(true);\r\n                        }\r\n                      }}\r\n                    >\r\n                      Reply\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {renderComments(comments[review._id][x].comments, review)}\r\n        </React.Fragment>\r\n      ) : (\r\n        \"\"\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"row no-gutters justify-content-center text-white\">\r\n      <div className=\"col-60 content-container py-3 px-md-5 px-4\">\r\n        <div className=\"row no-gutters h5\">\r\n          <div\r\n            className=\"col-auto\"\r\n            style={{\r\n              padding: \"6px 30px 6px 0px\",\r\n              background: \"linear-gradient(to left, #ff0037, transparent)\",\r\n              borderRadius: \"0 4px 4px 0\",\r\n            }}\r\n          >\r\n            Popular Reviews\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters text-light mb-3\">\r\n          Most commented reviews in last 30 days\r\n        </div>\r\n        <div className=\"row no-gutters mb-2\" ref={topOfReviewsBlock}></div>\r\n        {promotedReviews\r\n          .concat(reviews)\r\n          .slice(\r\n            (page - 1) * reviewsPerPage,\r\n            (page - 1) * reviewsPerPage + reviewsPerPage\r\n          )\r\n          .map((x, i) => {\r\n            let rating = promotedContents[x._id]\r\n              ? promotedContents[x._id].content.rating\r\n              : x.rating;\r\n            let review = promotedContents[x._id]\r\n              ? promotedContents[x._id].content.review\r\n              : x.review;\r\n            return (\r\n              <React.Fragment key={`fragment-review-${i}`}>\r\n                <div\r\n                  key={`review-${i}`}\r\n                  className=\"row no-gutters p-4 bg-over-root-lighter rounded mb-2\"\r\n                >\r\n                  <div\r\n                    className=\"col-sm-auto col-20 pr-4 d-none d-sm-block\"\r\n                    style={{ maxWidth: \"150px\" }}\r\n                  >\r\n                    <div className=\"row no-gutters mb-1\">\r\n                      <img\r\n                        alt={`poster-of-${x.movie_id}`}\r\n                        onClick={() => history.push(`/movie/${x.movie_id}`)}\r\n                        width=\"100%\"\r\n                        style={{ borderRadius: \"13px\", cursor: \"pointer\" }}\r\n                        src={`https://image.tmdb.org/t/p/w154${\r\n                          ratings[x.movie_id]\r\n                            ? ratings[x.movie_id].movie_poster\r\n                            : \"https://critics.io/img/movies/poster-placeholder.png\"\r\n                        }`}\r\n                      ></img>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col d-flex flex-column\">\r\n                    <div className=\"row no-gutters justify-content-between align-items-center mb-2 flex-grow-0\">\r\n                      <div className=\"col-60 d-block d-sm-none mb-3\">\r\n                        <div className=\"row no-gutters mb-1\">\r\n                          <div className=\"col-auto pr-3\">\r\n                            <div\r\n                              className=\"square-70 rounded bg-image\"\r\n                              style={{\r\n                                backgroundImage: `url(https://image.tmdb.org/t/p/w154${\r\n                                  ratings[x.movie_id]\r\n                                    ? ratings[x.movie_id].movie_poster\r\n                                    : \"https://critics.io/img/movies/poster-placeholder.png\"\r\n                                })`,\r\n                              }}\r\n                            ></div>\r\n                          </div>\r\n                          <div className=\"col\">\r\n                            <div className=\"row no-gutters text-white mb-0\">\r\n                              {ratings[x.movie_id]\r\n                                ? ratings[x.movie_id].movie_title\r\n                                : \"\"}{\" \"}\r\n                              (\r\n                              {ratings[x.movie_id]\r\n                                ? ratings[\r\n                                    x.movie_id\r\n                                  ].movie_release_date.substring(0, 4)\r\n                                : \"\"}\r\n                              )\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-60\">\r\n                        <div className=\"row no-gutters justify-content-between\">\r\n                          <div className=\"col-auto mb-2\">\r\n                            <div className=\"row no-gutters align-items-center\">\r\n                              <div className=\"col-auto pr-2\">\r\n                                <div\r\n                                  className=\"bg-image rounded-circle square-40\"\r\n                                  style={{\r\n                                    backgroundImage: `url(${\r\n                                      publicUsers[x.author]\r\n                                        ? publicUsers[x.author].photo\r\n                                        : \"\"\r\n                                    })`,\r\n                                  }}\r\n                                ></div>\r\n                              </div>\r\n                              <div className=\"col-auto\">\r\n                                <div className=\"row no-gutters align-items-center text-white\">\r\n                                  <div className=\"col-auto mr-3 mb-0\">\r\n                                    {publicUsers[x.author]\r\n                                      ? publicUsers[x.author].display_name\r\n                                      : \"\"}\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-auto\">\r\n                            <div className=\"row no-gutters text-white align-items-center\">\r\n                              <span className=\"mr-2 col-auto\">Posted on</span>\r\n                              <span className=\"text-muted col-auto mr-2\">\r\n                                {date.format(new Date(x.date), \"MMM DD, YYYY\")}\r\n                              </span>\r\n                              {user._id !== x.author ? (\r\n                                <Popover\r\n                                  arrow={false}\r\n                                  position=\"top\"\r\n                                  trigger=\"mouseenter\"\r\n                                  theme=\"dark\"\r\n                                  content={(w) => (\r\n                                    <div className=\"py-2 px-3 rounded bg-root\">\r\n                                      Report Abuse\r\n                                    </div>\r\n                                  )}\r\n                                >\r\n                                  <div\r\n                                    className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                                    onClick={async () => {\r\n                                      if (user.token) {\r\n                                        setLoadingReport(x._id);\r\n                                        let res = await ReportReview(\r\n                                          user,\r\n                                          x._id\r\n                                        );\r\n                                        setLoadingReport(-1);\r\n                                        if (res.error) {\r\n                                          store.dispatch({\r\n                                            type: \"SET_NOTIFICATION\",\r\n                                            notification: {\r\n                                              title: \"Error\",\r\n                                              message: res.error,\r\n                                              type: \"failure\",\r\n                                            },\r\n                                          });\r\n                                        } else {\r\n                                          store.dispatch({\r\n                                            type: \"SET_NOTIFICATION\",\r\n                                            notification: {\r\n                                              title: \"Review reported\",\r\n                                              message:\r\n                                                \"Review was successfully reported. We will review it soon.\",\r\n                                              type: \"success\",\r\n                                            },\r\n                                          });\r\n                                        }\r\n                                      } else {\r\n                                        store.dispatch({\r\n                                          type: \"SET_NOTIFICATION\",\r\n                                          notification: {\r\n                                            title: \"Login required\",\r\n                                            message:\r\n                                              \"You need to login to report review\",\r\n                                            type: \"failure\",\r\n                                          },\r\n                                        });\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    {loadingReport === x._id ? (\r\n                                      <div className=\"square-20\">\r\n                                        <Loader\r\n                                          color={\"white\"}\r\n                                          style={{\r\n                                            position: \"absolute\",\r\n                                            left: \"10px\",\r\n                                            top: 0,\r\n                                            bottom: 0,\r\n                                            margin: \"auto\",\r\n                                            display: \"flex\",\r\n                                            alignItems: \"center\",\r\n                                          }}\r\n                                          loading={true}\r\n                                          size={20}\r\n                                        ></Loader>\r\n                                      </div>\r\n                                    ) : (\r\n                                      <MdFlag fontSize=\"24px\"></MdFlag>\r\n                                    )}\r\n                                  </div>\r\n                                </Popover>\r\n                              ) : (\r\n                                \"\"\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row no-gutters text-light mb-3 font-size-14 flex-grow-0 font-weight-300 text-break\">\r\n                      {review}\r\n                    </div>\r\n\r\n                    <div className=\"row no-gutters flex-grow-1 align-items-bottom\">\r\n                      <div className=\"col-60 d-flex flex-column justify-content-end\">\r\n                        <div className=\"row no-gutters justify-content-between align-items-center text-white\">\r\n                          <div className=\"col-auto\">\r\n                            <div className=\"row no-gutters\">\r\n                              <div style={{ marginBottom: \"-6px\" }}>\r\n                                {rating === \"ok_rate\" ? (\r\n                                  <OkIcon size={24}></OkIcon>\r\n                                ) : (\r\n                                  <Emoji\r\n                                    emoji={\r\n                                      rating === \"excellent_rate\"\r\n                                        ? \"fire\"\r\n                                        : rating === \"good_rate\"\r\n                                        ? \"heart\"\r\n                                        : rating === \"ok_rate\"\r\n                                        ? \"heavy-division-sign\"\r\n                                        : \"shit\"\r\n                                    }\r\n                                    set=\"facebook\"\r\n                                    size={24}\r\n                                  />\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-auto px-0\">\r\n                            <div className=\"row no-gutters align-items-center\">\r\n                              <div className=\"col-auto mr-2\">\r\n                                {x.likes.length}\r\n                              </div>\r\n                              <div className=\"col-auto mr-2 \">\r\n                                {loadingReview === i ? (\r\n                                  <div className=\"square-20\">\r\n                                    <Loader\r\n                                      color={\"white\"}\r\n                                      style={{\r\n                                        position: \"absolute\",\r\n                                        left: \"10px\",\r\n                                        top: 0,\r\n                                        bottom: 0,\r\n                                        margin: \"auto\",\r\n                                        display: \"flex\",\r\n                                        alignItems: \"center\",\r\n                                      }}\r\n                                      loading={loadingReview === i}\r\n                                      size={20}\r\n                                    ></Loader>\r\n                                  </div>\r\n                                ) : (\r\n                                  <MdThumbUp\r\n                                    onClick={async () => {\r\n                                      if (user.token) {\r\n                                        if (user._id !== x.author) {\r\n                                          setLoadingReview(i);\r\n                                          let res = await LikeReview(\r\n                                            user,\r\n                                            x._id\r\n                                          );\r\n                                          setLoadingReview(-1);\r\n                                          if (res.error) {\r\n                                            store.dispatch({\r\n                                              type: \"SET_NOTIFICATION\",\r\n                                              notification: {\r\n                                                title: \"Error\",\r\n                                                message: res.error,\r\n                                                type: \"failure\",\r\n                                              },\r\n                                            });\r\n                                          } else {\r\n                                            setRefreshReviews(!refreshReviews);\r\n                                          }\r\n                                        } else {\r\n                                          store.dispatch({\r\n                                            type: \"SET_NOTIFICATION\",\r\n                                            notification: {\r\n                                              title: \"Action not allowed\",\r\n                                              message:\r\n                                                \"You can not like your own review\",\r\n                                              type: \"failure\",\r\n                                            },\r\n                                          });\r\n                                        }\r\n                                      } else {\r\n                                        store.dispatch({\r\n                                          type: \"SET_NOTIFICATION\",\r\n                                          notification: {\r\n                                            title: \"Login required\",\r\n                                            message:\r\n                                              \"You need to login to like review\",\r\n                                            type: \"failure\",\r\n                                          },\r\n                                        });\r\n                                      }\r\n                                    }}\r\n                                    fontSize=\"24px\"\r\n                                    className=\"text-green scale-transition cursor-pointer\"\r\n                                  ></MdThumbUp>\r\n                                )}\r\n                              </div>\r\n                              <div className=\"col-auto mr-2\">\r\n                                {x.comments.length}\r\n                              </div>\r\n                              <div className=\"col-auto mr-2\">\r\n                                <MdChatBubble\r\n                                  onClick={() => {\r\n                                    setReviewIdOfVisibleComments(\r\n                                      reviewIdOfVisibleComments === x._id\r\n                                        ? -1\r\n                                        : x._id\r\n                                    );\r\n                                  }}\r\n                                  fontSize=\"24px\"\r\n                                  className=\"text-orange scale-transition cursor-pointer\"\r\n                                ></MdChatBubble>\r\n                              </div>\r\n                              <div\r\n                                className=\"col-auto text-orange btn-tertiary\"\r\n                                onClick={() => {\r\n                                  if (!user.token) {\r\n                                    store.dispatch({\r\n                                      type: \"SET_NOTIFICATION\",\r\n                                      notification: {\r\n                                        title: \"Login required\",\r\n                                        message:\r\n                                          \"You need to login to write review.\",\r\n                                        type: \"failure\",\r\n                                      },\r\n                                    });\r\n                                  } else {\r\n                                    setReview(\r\n                                      Object.assign({}, x, {\r\n                                        notificationReceivers: [\r\n                                          publicUsers[x.author],\r\n                                        ],\r\n                                      })\r\n                                    );\r\n                                    setAddReplyOpen(true);\r\n                                  }\r\n                                }}\r\n                              >\r\n                                Reply\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <Collapse\r\n                  in={reviewIdOfVisibleComments === x._id}\r\n                  className=\"mb-3\"\r\n                >\r\n                  <div\r\n                    className=\"py-2 text-light\"\r\n                    style={{ marginLeft: \"30px\" }}\r\n                  >\r\n                    Comments (\r\n                    {comments[x._id]\r\n                      ? Object.values(comments[x._id]).length\r\n                      : 0}\r\n                    )\r\n                  </div>\r\n                  {comments[x._id]\r\n                    ? renderComments(\r\n                        Object.values(comments[x._id])\r\n                          .filter((a) => a.notificationReceivers.length === 1)\r\n                          .map((b) => b._id),\r\n                        x\r\n                      )\r\n                    : \"\"}\r\n                  <div className=\"row no-gutters justify-content-end mt-2\">\r\n                    <div className=\"col-auto ml-4\">\r\n                      <Paigination\r\n                        count={Math.ceil(\r\n                          comments[x._id]\r\n                            ? comments[x._id].length / commentsPerPage\r\n                            : 1\r\n                        )}\r\n                        current={commentsPage}\r\n                        setCurrent={setCommentsPage}\r\n                        classNames={{\r\n                          notSelected: \"input-dark\",\r\n                          selected: \"input-dark-selected\",\r\n                        }}\r\n                      ></Paigination>\r\n                    </div>\r\n                  </div>\r\n                </Collapse>\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        <ReplyToReview\r\n          refreshReviews={() => setRefreshReviews(!refreshReviews)}\r\n          setReviewIdOfVisibleComments={setReviewIdOfVisibleComments}\r\n          refreshComments={() => setRefreshComments(!refreshComments)}\r\n          setComments={setComments}\r\n          movie={{\r\n            id: review.movie_id,\r\n          }}\r\n          reviewAuthor={\r\n            publicUsers[review.author]\r\n              ? publicUsers[review.author]\r\n              : { display_name: \"\" }\r\n          }\r\n          review={review}\r\n          open={addReplyOpen}\r\n          onClose={() => setAddReplyOpen(false)}\r\n          user={user}\r\n        ></ReplyToReview>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    settings: state.settings,\r\n    ratings: state.ratings,\r\n    user: state.user,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(PopularReviews);\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport date from \"date-and-time\";\r\nimport { Emoji } from \"emoji-mart\";\r\nimport { MdThumbUp, MdChatBubble, MdFlag } from \"react-icons/md\";\r\nimport {\r\n  GetReviewComments,\r\n  GetRecentReviews,\r\n  LikeReview,\r\n  LikeComment,\r\n  ReportComment,\r\n  ReportReview,\r\n} from \"../../server/DatabaseApi\";\r\nimport { connect } from \"react-redux\";\r\nimport { Collapse } from \"@material-ui/core\";\r\nimport Paigination from \"../utility/Paigination\";\r\nimport history from \"../../History\";\r\nimport ReplyToReview from \"./ReplyToReview\";\r\nimport store from \"../../store/store\";\r\nimport Loader from \"../utility/Loader\";\r\nimport Popover from \"../utility/Popover\";\r\nimport OkIcon from \"../../images/OkIcon\";\r\n\r\nconst RecentReviews = ({ publicUsers, user, ratings }) => {\r\n  //comments object.Its property will be review id.\r\n  const [comments, setComments] = useState({});\r\n\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  const [reviewIdOfVisibleComments, setReviewIdOfVisibleComments] = useState(\r\n    -1\r\n  );\r\n\r\n  const [loadingComment, setLoadingComment] = useState(-1);\r\n  const [loadingReview, setLoadingReview] = useState(-1);\r\n  const [loadingReport, setLoadingReport] = useState(-1);\r\n\r\n  const page = 1;\r\n  const [commentsPage, setCommentsPage] = useState(1);\r\n\r\n  // reference to top of the reviews block to scroll into view after changing the page\r\n  const topOfReviewsBlock = useRef(null);\r\n\r\n  // boolean variable to display \"add review\" modal or not\r\n  const [addReplyOpen, setAddReplyOpen] = useState(false);\r\n\r\n  const [review, setReview] = useState({\r\n    movie_title: \"\",\r\n    movie_id: \"\",\r\n    movie_genres: \"\",\r\n    movie_release_date: \"\",\r\n    movie_poster: \"\",\r\n  });\r\n\r\n  //state to refresh comments after writing it\r\n  const [refreshComments, setRefreshComments] = useState(false);\r\n\r\n  //state to refresh reviews after writing it\r\n  const [refreshReviews, setRefreshReviews] = useState(false);\r\n\r\n  const commentsPerPage = 5;\r\n  const reviewsPerPage = 8;\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (reviewIdOfVisibleComments !== -1) {\r\n        let data = await GetReviewComments(reviewIdOfVisibleComments);\r\n        let commentsObj = {};\r\n        data.forEach((x) => {\r\n          commentsObj[x._id] = x;\r\n        });\r\n        setComments((prev) =>\r\n          Object.assign({}, prev, { [reviewIdOfVisibleComments]: commentsObj })\r\n        );\r\n      }\r\n    }\r\n    getData();\r\n  }, [reviewIdOfVisibleComments, refreshComments]);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      let res = await GetRecentReviews(10);\r\n      if (!res.error) {\r\n        setReviews(res);\r\n      }\r\n    }\r\n    getData();\r\n  }, [refreshReviews]);\r\n\r\n  const renderComments = (ids, review) => {\r\n    return ids.map((x, ind) => {\r\n      return comments[review._id][x] ? (\r\n        <React.Fragment>\r\n          <div\r\n            style={{\r\n              marginLeft: `${\r\n                comments[review._id][x].notificationReceivers.length * 60 - 30\r\n              }px`,\r\n            }}\r\n            key={`comment-${reviewIdOfVisibleComments}-${ind}`}\r\n            className={`row no-gutters p-4 bg-over-root-lighter rounded mb-2 indented-comment`}\r\n          >\r\n            <div className=\"col-auto pr-4 d-none d-md-block\">\r\n              <div\r\n                className=\"bg-image rounded-circle square-70\"\r\n                style={{\r\n                  backgroundImage: `url(${\r\n                    publicUsers[comments[review._id][x].author]\r\n                      ? publicUsers[comments[review._id][x].author].photo\r\n                      : \"\"\r\n                  })`,\r\n                }}\r\n              ></div>\r\n            </div>\r\n            <div className=\"col\">\r\n              <div className=\"row no-gutters justify-content-between align-items-center mb-2\">\r\n                <div className=\"col-auto\">\r\n                  <div className=\"row no-gutters\">\r\n                    <div className=\"col-auto pr-2 d-block d-md-none\">\r\n                      <div\r\n                        className=\"bg-image rounded-circle square-40\"\r\n                        style={{\r\n                          backgroundImage: `url(${\r\n                            publicUsers[comments[review._id][x].author]\r\n                              ? publicUsers[comments[review._id][x].author]\r\n                                  .photo\r\n                              : \"\"\r\n                          })`,\r\n                        }}\r\n                      ></div>\r\n                    </div>\r\n                    <div className=\"col-auto mr-3 text-title-md mb-0\">\r\n                      {publicUsers[comments[review._id][x].author]\r\n                        ? publicUsers[comments[review._id][x].author]\r\n                            .display_name\r\n                        : \"\"}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-auto\">\r\n                  <div className=\"row no-gutters align-items-center\">\r\n                    <div className=\"col-auto\">\r\n                      <div className=\"row no-gutters align-items-center\">\r\n                        <div className=\"col-auto mr-2\">Commented on</div>\r\n                        <div className=\"col-auto mr-3 text-muted\">\r\n                          {date.format(\r\n                            new Date(comments[review._id][x].date),\r\n                            \"MMM DD, YYYY\"\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <Popover\r\n                      arrow={false}\r\n                      position=\"top\"\r\n                      trigger=\"mouseenter\"\r\n                      theme=\"dark\"\r\n                      content={(w) => (\r\n                        <div className=\"py-2 px-3 rounded bg-over-root\">\r\n                          Report Abuse\r\n                        </div>\r\n                      )}\r\n                    >\r\n                      <div\r\n                        className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                        onClick={async () => {\r\n                          if (user.token) {\r\n                            setLoadingReport(x);\r\n                            let res = await ReportComment(user, x);\r\n                            setLoadingReport(-1);\r\n                            if (res.error) {\r\n                              store.dispatch({\r\n                                type: \"SET_NOTIFICATION\",\r\n                                notification: {\r\n                                  title: \"Error\",\r\n                                  message: res.error,\r\n                                  type: \"failure\",\r\n                                },\r\n                              });\r\n                            } else {\r\n                              store.dispatch({\r\n                                type: \"SET_NOTIFICATION\",\r\n                                notification: {\r\n                                  title: \"Comment reported\",\r\n                                  message:\r\n                                    \"Comment was successfully reported. We will review it soon.\",\r\n                                  type: \"success\",\r\n                                },\r\n                              });\r\n                            }\r\n                          } else {\r\n                            store.dispatch({\r\n                              type: \"SET_NOTIFICATION\",\r\n                              notification: {\r\n                                title: \"Login required\",\r\n                                message: \"You need to login to report comment\",\r\n                                type: \"failure\",\r\n                              },\r\n                            });\r\n                          }\r\n                        }}\r\n                      >\r\n                        {loadingReport === x ? (\r\n                          <div className=\"square-20\">\r\n                            <Loader\r\n                              color={\"white\"}\r\n                              style={{\r\n                                position: \"absolute\",\r\n                                left: \"10px\",\r\n                                top: 0,\r\n                                bottom: 0,\r\n                                margin: \"auto\",\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                              }}\r\n                              loading={true}\r\n                              size={20}\r\n                            ></Loader>\r\n                          </div>\r\n                        ) : (\r\n                          <MdFlag fontSize=\"24px\"></MdFlag>\r\n                        )}\r\n                      </div>\r\n                    </Popover>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row no-gutters text-light mb-3 font-weight-300 text-break\">\r\n                {comments[review._id][x].comment}\r\n              </div>\r\n              <div className=\"row no-gutters justify-content-end align-items-center\">\r\n                <div className=\"col-auto\">\r\n                  <div className=\"row no-gutters align-items-center\">\r\n                    <div className=\"col-auto mr-2\">\r\n                      {comments[review._id][x].likes.length}\r\n                    </div>\r\n                    <div className=\"col-auto mr-2 \">\r\n                      {loadingComment === ind ? (\r\n                        <div className=\"square-20\">\r\n                          <Loader\r\n                            color={\"white\"}\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              left: \"10px\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              margin: \"auto\",\r\n                              display: \"flex\",\r\n                              alignItems: \"center\",\r\n                            }}\r\n                            loading={loadingComment === ind}\r\n                            size={20}\r\n                          ></Loader>\r\n                        </div>\r\n                      ) : (\r\n                        <MdThumbUp\r\n                          onClick={async () => {\r\n                            if (user.token) {\r\n                              if (user._id !== comments[review._id][x].author) {\r\n                                setLoadingComment(ind);\r\n                                let res = await LikeComment(user, x);\r\n                                setLoadingComment(-1);\r\n                                if (res.error) {\r\n                                  store.dispatch({\r\n                                    type: \"SET_NOTIFICATION\",\r\n                                    notification: {\r\n                                      title: \"Error\",\r\n                                      message: res.error,\r\n                                      type: \"failure\",\r\n                                    },\r\n                                  });\r\n                                } else {\r\n                                  setRefreshComments(!refreshComments);\r\n                                }\r\n                              } else {\r\n                                store.dispatch({\r\n                                  type: \"SET_NOTIFICATION\",\r\n                                  notification: {\r\n                                    title: \"Action not allowed\",\r\n                                    message:\r\n                                      \"You can not like your own comment\",\r\n                                    type: \"failure\",\r\n                                  },\r\n                                });\r\n                              }\r\n                            } else {\r\n                              store.dispatch({\r\n                                type: \"SET_NOTIFICATION\",\r\n                                notification: {\r\n                                  title: \"Login required\",\r\n                                  message: \"You need to login to like review\",\r\n                                  type: \"failure\",\r\n                                },\r\n                              });\r\n                            }\r\n                          }}\r\n                          fontSize=\"24px\"\r\n                          className=\"text-green scale-transition cursor-pointer\"\r\n                        ></MdThumbUp>\r\n                      )}\r\n                    </div>\r\n                    <div\r\n                      className=\"col-auto text-orange btn-tertiary\"\r\n                      onClick={() => {\r\n                        if (!user.token) {\r\n                          store.dispatch({\r\n                            type: \"SET_NOTIFICATION\",\r\n                            notification: {\r\n                              title: \"Login required\",\r\n                              message: \"You need to login to write review.\",\r\n                              type: \"failure\",\r\n                            },\r\n                          });\r\n                        } else {\r\n                          setReview(\r\n                            Object.assign({}, review, {\r\n                              comment_id: x,\r\n                              notificationReceivers: comments[review._id][\r\n                                x\r\n                              ].notificationReceivers.concat([\r\n                                publicUsers[comments[review._id][x].author],\r\n                              ]),\r\n                            })\r\n                          );\r\n                          setAddReplyOpen(true);\r\n                        }\r\n                      }}\r\n                    >\r\n                      Reply\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {renderComments(comments[review._id][x].comments, review)}\r\n        </React.Fragment>\r\n      ) : (\r\n        \"\"\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"row no-gutters justify-content-center text-white\">\r\n      <div className=\"col-60 content-container py-3 px-md-5 px-4\">\r\n        <div className=\"row no-gutters h5\">\r\n          <div\r\n            className=\"col-auto\"\r\n            style={{\r\n              padding: \"6px 30px 6px 0px\",\r\n              background: \"linear-gradient(to left, #ff0037, transparent)\",\r\n              borderRadius: \"0 4px 4px 0\",\r\n            }}\r\n          >\r\n            Recent Reviews\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters text-light mb-3\">\r\n          Most recent reviews in days\r\n        </div>\r\n        <div className=\"row no-gutters mb-2\" ref={topOfReviewsBlock}></div>\r\n        {reviews\r\n          .slice(\r\n            (page - 1) * reviewsPerPage,\r\n            (page - 1) * reviewsPerPage + reviewsPerPage\r\n          )\r\n          .map((x, i) => (\r\n            <React.Fragment key={`fragment-review-${i}`}>\r\n              <div\r\n                key={`review-${i}`}\r\n                className=\"row no-gutters p-4 bg-over-root-lighter rounded mb-2\"\r\n              >\r\n                <div\r\n                  className=\"col-sm-auto col-20 pr-4 d-none d-sm-block\"\r\n                  style={{ maxWidth: \"150px\" }}\r\n                >\r\n                  <div className=\"row no-gutters mb-1\">\r\n                    <img\r\n                      alt={`poster-of-${x.movie_id}`}\r\n                      onClick={() => history.push(`/movie/${x.movie_id}`)}\r\n                      width=\"100%\"\r\n                      style={{ borderRadius: \"13px\", cursor: \"pointer\" }}\r\n                      src={`https://image.tmdb.org/t/p/w154${\r\n                        ratings[x.movie_id]\r\n                          ? ratings[x.movie_id].movie_poster\r\n                          : \"https://critics.io/img/movies/poster-placeholder.png\"\r\n                      }`}\r\n                    ></img>\r\n                  </div>\r\n                  {/* <div className=\"row no-gutters text-white h6 mb-0\">\r\n                    {x.movie_title} ({x.movie_release_date.substring(0, 4)})\r\n                  </div>\r\n                  <div className=\"row no-gutters text-muted\">\r\n                    <div className=\"text-truncate\">{x.movie_genres}</div>\r\n                  </div> */}\r\n                </div>\r\n                <div className=\"col d-flex flex-column\">\r\n                  <div className=\"row no-gutters justify-content-between align-items-center mb-2 flex-grow-0\">\r\n                    <div className=\"col-60 d-block d-sm-none mb-3\">\r\n                      <div className=\"row no-gutters mb-1\">\r\n                        <div className=\"col-auto pr-3\">\r\n                          <div\r\n                            className=\"square-70 rounded bg-image\"\r\n                            style={{\r\n                              backgroundImage: `url(https://image.tmdb.org/t/p/w154${\r\n                                ratings[x.movie_id]\r\n                                  ? ratings[x.movie_id].movie_poster\r\n                                  : \"https://critics.io/img/movies/poster-placeholder.png\"\r\n                              })`,\r\n                            }}\r\n                          ></div>\r\n                          {/* <img\r\n                            onClick={() => history.push(`/movie/${x.id}`)}\r\n                            width=\"100%\"\r\n                            style={{ borderRadius: \"13px\" }}\r\n                            src={`https://image.tmdb.org/t/p/w154${x.movie_poster}`}\r\n                          ></img> */}\r\n                        </div>\r\n                        <div className=\"col\">\r\n                          <div className=\"row no-gutters text-white mb-0\">\r\n                            {ratings[x.movie_id]\r\n                              ? ratings[x.movie_id].movie_title\r\n                              : \"\"}{\" \"}\r\n                            (\r\n                            {ratings[x.movie_id]\r\n                              ? ratings[\r\n                                  x.movie_id\r\n                                ].movie_release_date.substring(0, 4)\r\n                              : \"\"}\r\n                            )\r\n                          </div>\r\n                          {/* <div className=\"row no-gutters text-muted\">\r\n                            <div className=\"text-truncate\">\r\n                              {x.movie_genres}\r\n                            </div>\r\n                          </div> */}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-60\">\r\n                      <div className=\"row no-gutters justify-content-between\">\r\n                        <div className=\"col-auto mb-2\">\r\n                          <div className=\"row no-gutters align-items-center\">\r\n                            <div className=\"col-auto pr-2\">\r\n                              <div\r\n                                className=\"bg-image rounded-circle square-40\"\r\n                                style={{\r\n                                  backgroundImage: `url(${\r\n                                    publicUsers[x.author]\r\n                                      ? publicUsers[x.author].photo\r\n                                      : \"\"\r\n                                  })`,\r\n                                }}\r\n                              ></div>\r\n                            </div>\r\n                            <div className=\"col-auto\">\r\n                              <div className=\"row no-gutters align-items-center text-white\">\r\n                                <div className=\"col-auto mr-3 mb-0\">\r\n                                  {publicUsers[x.author]\r\n                                    ? publicUsers[x.author].display_name\r\n                                    : \"\"}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                          <div className=\"row no-gutters text-white align-items-center\">\r\n                            <span className=\"mr-2 col-auto\">Posted on</span>\r\n                            <span className=\"text-muted col-auto mr-2\">\r\n                              {date.format(new Date(x.date), \"MMM DD, YYYY\")}\r\n                            </span>\r\n                            {user._id !== x.author ? (\r\n                              <Popover\r\n                                arrow={false}\r\n                                position=\"top\"\r\n                                trigger=\"mouseenter\"\r\n                                theme=\"dark\"\r\n                                content={(w) => (\r\n                                  <div className=\"py-2 px-3 rounded bg-root\">\r\n                                    Report Abuse\r\n                                  </div>\r\n                                )}\r\n                              >\r\n                                <div\r\n                                  className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                                  onClick={async () => {\r\n                                    if (user.token) {\r\n                                      setLoadingReport(x._id);\r\n                                      let res = await ReportReview(user, x._id);\r\n                                      setLoadingReport(-1);\r\n                                      if (res.error) {\r\n                                        store.dispatch({\r\n                                          type: \"SET_NOTIFICATION\",\r\n                                          notification: {\r\n                                            title: \"Error\",\r\n                                            message: res.error,\r\n                                            type: \"failure\",\r\n                                          },\r\n                                        });\r\n                                      } else {\r\n                                        store.dispatch({\r\n                                          type: \"SET_NOTIFICATION\",\r\n                                          notification: {\r\n                                            title: \"Review reported\",\r\n                                            message:\r\n                                              \"Review was successfully reported. We will review it soon.\",\r\n                                            type: \"success\",\r\n                                          },\r\n                                        });\r\n                                      }\r\n                                    } else {\r\n                                      store.dispatch({\r\n                                        type: \"SET_NOTIFICATION\",\r\n                                        notification: {\r\n                                          title: \"Login required\",\r\n                                          message:\r\n                                            \"You need to login to report review\",\r\n                                          type: \"failure\",\r\n                                        },\r\n                                      });\r\n                                    }\r\n                                  }}\r\n                                >\r\n                                  {loadingReport === x._id ? (\r\n                                    <div className=\"square-20\">\r\n                                      <Loader\r\n                                        color={\"white\"}\r\n                                        style={{\r\n                                          position: \"absolute\",\r\n                                          left: \"10px\",\r\n                                          top: 0,\r\n                                          bottom: 0,\r\n                                          margin: \"auto\",\r\n                                          display: \"flex\",\r\n                                          alignItems: \"center\",\r\n                                        }}\r\n                                        loading={true}\r\n                                        size={20}\r\n                                      ></Loader>\r\n                                    </div>\r\n                                  ) : (\r\n                                    <MdFlag fontSize=\"24px\"></MdFlag>\r\n                                  )}\r\n                                </div>\r\n                              </Popover>\r\n                            ) : (\r\n                              \"\"\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row no-gutters text-light mb-3 font-size-14 flex-grow-0 font-weight-300 text-break\">\r\n                    {x.review}\r\n                  </div>\r\n\r\n                  <div className=\"row no-gutters flex-grow-1 align-items-bottom\">\r\n                    <div className=\"col-60 d-flex flex-column justify-content-end\">\r\n                      <div className=\"row no-gutters justify-content-between align-items-center text-white\">\r\n                        <div className=\"col-auto\">\r\n                          <div className=\"row no-gutters\">\r\n                            {x.rating ? (\r\n                              x.rating === \"ok_rate\" ? (\r\n                                <OkIcon size={24}></OkIcon>\r\n                              ) : (\r\n                                <div style={{ marginBottom: \"-6px\" }}>\r\n                                  <Emoji\r\n                                    emoji={\r\n                                      x.rating === \"excellent_rate\"\r\n                                        ? \"fire\"\r\n                                        : x.rating === \"good_rate\"\r\n                                        ? \"heart\"\r\n                                        : x.rating === \"ok_rate\"\r\n                                        ? \"heavy-division-sign\"\r\n                                        : \"shit\"\r\n                                    }\r\n                                    set=\"facebook\"\r\n                                    size={24}\r\n                                  />\r\n                                </div>\r\n                              )\r\n                            ) : (\r\n                              \"\"\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-auto px-0\">\r\n                          <div className=\"row no-gutters align-items-center\">\r\n                            <div className=\"col-auto mr-2\">\r\n                              {x.likes.length}\r\n                            </div>\r\n                            <div className=\"col-auto mr-2 \">\r\n                              {loadingReview === i ? (\r\n                                <div className=\"square-20\">\r\n                                  <Loader\r\n                                    color={\"white\"}\r\n                                    style={{\r\n                                      position: \"absolute\",\r\n                                      left: \"10px\",\r\n                                      top: 0,\r\n                                      bottom: 0,\r\n                                      margin: \"auto\",\r\n                                      display: \"flex\",\r\n                                      alignItems: \"center\",\r\n                                    }}\r\n                                    loading={loadingReview === i}\r\n                                    size={20}\r\n                                  ></Loader>\r\n                                </div>\r\n                              ) : (\r\n                                <MdThumbUp\r\n                                  onClick={async () => {\r\n                                    if (user.token) {\r\n                                      if (user._id !== x.author) {\r\n                                        setLoadingReview(i);\r\n                                        let res = await LikeReview(user, x._id);\r\n                                        setLoadingReview(-1);\r\n                                        if (res.error) {\r\n                                          store.dispatch({\r\n                                            type: \"SET_NOTIFICATION\",\r\n                                            notification: {\r\n                                              title: \"Error\",\r\n                                              message: res.error,\r\n                                              type: \"failure\",\r\n                                            },\r\n                                          });\r\n                                        } else {\r\n                                          setRefreshReviews(!refreshReviews);\r\n                                        }\r\n                                      } else {\r\n                                        store.dispatch({\r\n                                          type: \"SET_NOTIFICATION\",\r\n                                          notification: {\r\n                                            title: \"Action not allowed\",\r\n                                            message:\r\n                                              \"You can not like your own review\",\r\n                                            type: \"failure\",\r\n                                          },\r\n                                        });\r\n                                      }\r\n                                    } else {\r\n                                      store.dispatch({\r\n                                        type: \"SET_NOTIFICATION\",\r\n                                        notification: {\r\n                                          title: \"Login required\",\r\n                                          message:\r\n                                            \"You need to login to like review\",\r\n                                          type: \"failure\",\r\n                                        },\r\n                                      });\r\n                                    }\r\n                                  }}\r\n                                  fontSize=\"24px\"\r\n                                  className=\"text-green scale-transition cursor-pointer\"\r\n                                ></MdThumbUp>\r\n                              )}\r\n                            </div>\r\n                            <div className=\"col-auto mr-2\">\r\n                              {x.comments.length}\r\n                            </div>\r\n                            <div className=\"col-auto mr-2\">\r\n                              <MdChatBubble\r\n                                onClick={() => {\r\n                                  setReviewIdOfVisibleComments(\r\n                                    reviewIdOfVisibleComments === x._id\r\n                                      ? -1\r\n                                      : x._id\r\n                                  );\r\n                                }}\r\n                                fontSize=\"24px\"\r\n                                className=\"text-orange scale-transition cursor-pointer\"\r\n                              ></MdChatBubble>\r\n                            </div>\r\n                            <div\r\n                              className=\"col-auto text-orange btn-tertiary\"\r\n                              onClick={() => {\r\n                                if (!user.token) {\r\n                                  store.dispatch({\r\n                                    type: \"SET_NOTIFICATION\",\r\n                                    notification: {\r\n                                      title: \"Login required\",\r\n                                      message:\r\n                                        \"You need to login to write review.\",\r\n                                      type: \"failure\",\r\n                                    },\r\n                                  });\r\n                                } else {\r\n                                  setReview(\r\n                                    Object.assign({}, x, {\r\n                                      notificationReceivers: [\r\n                                        publicUsers[x.author],\r\n                                      ],\r\n                                    })\r\n                                  );\r\n                                  setAddReplyOpen(true);\r\n                                }\r\n                              }}\r\n                            >\r\n                              Reply\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <Collapse\r\n                in={reviewIdOfVisibleComments === x._id}\r\n                className=\"mb-3\"\r\n              >\r\n                <div className=\"py-2 text-light\" style={{ marginLeft: \"30px\" }}>\r\n                  Comments (\r\n                  {comments[x._id] ? Object.values(comments[x._id]).length : 0})\r\n                </div>\r\n                {comments[x._id]\r\n                  ? renderComments(\r\n                      Object.values(comments[x._id])\r\n                        .filter((a) => a.notificationReceivers.length === 1)\r\n                        .map((b) => b._id),\r\n                      x\r\n                    )\r\n                  : \"\"}\r\n                <div className=\"row no-gutters mt-2 justify-content-end\">\r\n                  <div className=\"col-auto ml-4\">\r\n                    <Paigination\r\n                      count={Math.ceil(\r\n                        comments[x._id]\r\n                          ? comments[x._id].length / commentsPerPage\r\n                          : 1\r\n                      )}\r\n                      current={commentsPage}\r\n                      setCurrent={setCommentsPage}\r\n                      classNames={{\r\n                        notSelected: \"input-dark\",\r\n                        selected: \"input-dark-selected\",\r\n                      }}\r\n                    ></Paigination>\r\n                  </div>\r\n                </div>\r\n              </Collapse>\r\n            </React.Fragment>\r\n          ))}\r\n        <ReplyToReview\r\n          refreshReviews={() => setRefreshReviews(!refreshReviews)}\r\n          setReviewIdOfVisibleComments={setReviewIdOfVisibleComments}\r\n          refreshComments={() => setRefreshComments(!refreshComments)}\r\n          setComments={setComments}\r\n          movie={{\r\n            id: review.movie_id,\r\n          }}\r\n          reviewAuthor={\r\n            publicUsers[review.author]\r\n              ? publicUsers[review.author]\r\n              : { display_name: \"\" }\r\n          }\r\n          review={review}\r\n          open={addReplyOpen}\r\n          onClose={() => setAddReplyOpen(false)}\r\n          user={user}\r\n        ></ReplyToReview>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    ratings: state.ratings,\r\n    user: state.user,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(RecentReviews);\r\n","import React, { useState, useEffect, useLayoutEffect } from \"react\";\r\nimport PopularMovies from \"./PopularMovies\";\r\nimport TrailerPlayer from \"./TrailerPlayer\";\r\nimport Modal from \"../utility/Modal\";\r\nimport ReactionButton from \"./ReactionButton\";\r\nimport { FormatDuration } from \"../../utilities/Functions\";\r\nimport { connect } from \"react-redux\";\r\nimport WishlistButton from \"./WishlistButton\";\r\nimport Recommendations from \"./Recommendations\";\r\nimport PopularReviews from \"./PopularReviews\";\r\nimport RecentReviews from \"./RecentReviews\";\r\nimport { GetRecommendations } from \"../../server/DatabaseApi\";\r\n\r\nconst GetClosestValidWidth = () => {\r\n  let backdropSizes = [300, 780, 1280];\r\n  let closestSize = 1280;\r\n  let minDifference = 1280;\r\n  backdropSizes.forEach((x) => {\r\n    let diff = Math.abs(window.innerWidth - x);\r\n    if (diff < minDifference) {\r\n      minDifference = diff;\r\n      closestSize = x;\r\n    }\r\n  });\r\n  return closestSize;\r\n};\r\n\r\nfunction useWindowSize() {\r\n  const [height, setHeight] = useState(0);\r\n  useLayoutEffect(() => {\r\n    function updateSize() {\r\n      setHeight(window.innerHeight);\r\n    }\r\n    window.addEventListener(\"resize\", updateSize);\r\n    updateSize();\r\n    return () => window.removeEventListener(\"resize\", updateSize);\r\n  }, []);\r\n  return height;\r\n}\r\n\r\nconst Home = ({ publicUsers, ratings, user, settings, navbarHeight }) => {\r\n  const height = useWindowSize();\r\n  const [recommendedMovies, setRecommendedMovies] = useState([]);\r\n  const [openTrailer, setOpenTrailer] = useState(false);\r\n  const [backgroundMovie, setBackgroundMovie] = useState({\r\n    backdrop_path: \"\",\r\n    poster_path: \"\",\r\n    runtime: 0,\r\n    title: \"\",\r\n    overview: \"\",\r\n    id: \"\",\r\n    release_date: \"\",\r\n    genres: [],\r\n  });\r\n  const [trailerIsEmpty, setTrailerIsEmpty] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      setBackgroundMovie(settings.current_bg_movie);\r\n      if (settings.movies_api_key) {\r\n        let res = await GetRecommendations(8);\r\n        if (!res.error) {\r\n          setRecommendedMovies(res);\r\n        }\r\n      }\r\n    }\r\n    getData();\r\n  }, [settings]);\r\n\r\n  return (\r\n    <div className=\"row no-gutters\" style={{ marginTop: `-${navbarHeight}px` }}>\r\n      <div className=\"col-60\">\r\n        <div\r\n          className=\"row no-gutters align-items-end position-relative overflow-hidden\"\r\n          style={{ height: height }}\r\n        >\r\n          <div\r\n            className=\"position-absolute w-100 h-100\"\r\n            style={{\r\n              top: 0,\r\n              left: 0,\r\n              zIndex: 2,\r\n              background: `linear-gradient(180deg, rgba(0, 0, 0, 0.3) 72%, black)`,\r\n            }}\r\n          ></div>\r\n          <Modal open={openTrailer} onClose={() => setOpenTrailer(false)}>\r\n            <TrailerPlayer\r\n              modalOpened={openTrailer}\r\n              setIsEmpty={() => setTrailerIsEmpty(true)}\r\n              movieId={backgroundMovie.id}\r\n              onEnded={() => setOpenTrailer(false)}\r\n            ></TrailerPlayer>\r\n          </Modal>\r\n          <div\r\n            className=\"col-60 position-absolute\"\r\n            style={{\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              maxWidth: \"1200px\",\r\n              margin: \"auto\",\r\n            }}\r\n          >\r\n            <div className=\"position-relative\">\r\n              <img\r\n                alt={backgroundMovie.poster_path}\r\n                className=\"d-block d-lg-none\"\r\n                width=\"100%\"\r\n                src={`https://image.tmdb.org/t/p/w500${backgroundMovie.poster_path}`}\r\n              ></img>\r\n              <img\r\n                alt={backgroundMovie.poster_path}\r\n                className=\"d-none d-lg-block\"\r\n                width=\"100%\"\r\n                src={`https://image.tmdb.org/t/p/w${GetClosestValidWidth(\r\n                  \"backdrop\"\r\n                )}${backgroundMovie.backdrop_path}`}\r\n              ></img>\r\n              <div\r\n                className=\"position-absolute w-100 h-100\"\r\n                style={{\r\n                  background:\r\n                    \"linear-gradient(rgba(0, 0, 0, 0.3) 90%, black), linear-gradient(to right, black, transparent, black)\",\r\n                  top: 0,\r\n                  left: 0,\r\n                }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"col-60 px-md-5 px-4 py-4 position-relative mx-auto content-container\"\r\n            style={{\r\n              zIndex: 5,\r\n            }}\r\n          >\r\n            <div className=\"row no-gutters justify-content-between position-relative\">\r\n              <div className=\"col-60 col-sm-40 col-lg-30 d-flex flex-column justify-content-end text-white\">\r\n                <div className=\"row no-gutters align-items-center\">\r\n                  <div className=\"col-auto mr-3\">\r\n                    <div\r\n                      className=\"row no-gutters mb-2 text-title-lg align-items-center\"\r\n                      style={{\r\n                        fontWeight: \"700\",\r\n                      }}\r\n                    >\r\n                      {backgroundMovie.title}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-auto\">\r\n                    <div className=\"row no-gutters align-items-center\">\r\n                      <ReactionButton\r\n                        selected={\r\n                          user.ratings[backgroundMovie.id]\r\n                            ? user.ratings[backgroundMovie.id].rate_type ===\r\n                              \"excellent_rate\"\r\n                            : false\r\n                        }\r\n                        movie={backgroundMovie}\r\n                        emoji=\"fire\"\r\n                        className=\"mr-2 mb-2\"\r\n                        value={\r\n                          ratings[backgroundMovie.id]\r\n                            ? ratings[backgroundMovie.id].excellent_rate\r\n                            : []\r\n                        }\r\n                      ></ReactionButton>\r\n                      <ReactionButton\r\n                        selected={\r\n                          user.ratings[backgroundMovie.id]\r\n                            ? user.ratings[backgroundMovie.id].rate_type ===\r\n                              \"good_rate\"\r\n                            : false\r\n                        }\r\n                        movie={backgroundMovie}\r\n                        emoji=\"heart\"\r\n                        className=\"mr-2 mb-2\"\r\n                        value={\r\n                          ratings[backgroundMovie.id]\r\n                            ? ratings[backgroundMovie.id].good_rate\r\n                            : []\r\n                        }\r\n                      ></ReactionButton>\r\n                      <ReactionButton\r\n                        selected={\r\n                          user.ratings[backgroundMovie.id]\r\n                            ? user.ratings[backgroundMovie.id].rate_type ===\r\n                              \"ok_rate\"\r\n                            : false\r\n                        }\r\n                        movie={backgroundMovie}\r\n                        className=\"mr-2 mb-2\"\r\n                        emoji=\"heavy_division_sign\"\r\n                        value={\r\n                          ratings[backgroundMovie.id]\r\n                            ? ratings[backgroundMovie.id].ok_rate\r\n                            : []\r\n                        }\r\n                      ></ReactionButton>\r\n                      <ReactionButton\r\n                        className=\"mb-2\"\r\n                        selected={\r\n                          user.ratings[backgroundMovie.id]\r\n                            ? user.ratings[backgroundMovie.id].rate_type ===\r\n                              \"bad_rate\"\r\n                            : false\r\n                        }\r\n                        movie={backgroundMovie}\r\n                        emoji=\"shit\"\r\n                        value={\r\n                          ratings[backgroundMovie.id]\r\n                            ? ratings[backgroundMovie.id].bad_rate\r\n                            : []\r\n                        }\r\n                      ></ReactionButton>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters text-light mb-4 font-weight-300 text-clamp-6\">\r\n                  {backgroundMovie.overview}\r\n                </div>\r\n                <div className=\"row no-gutters mb-md-5 mb-4\">\r\n                  <div className=\"col-auto mr-2 d-flex\">\r\n                    {backgroundMovie.release_date.substring(0, 4)}\r\n                    <strong className=\"px-3\"></strong>\r\n                    <div>\r\n                      <div className=\"d-none d-md-block\">\r\n                        {backgroundMovie.genres\r\n                          .slice(0, 3)\r\n                          .map((x) => x.name)\r\n                          .join(\"/\")}\r\n                      </div>\r\n                      <div className=\"d-block d-md-none\">\r\n                        {backgroundMovie.genres\r\n                          .slice(0, 2)\r\n                          .map((x) => x.name)\r\n                          .join(\"/\")}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <strong className=\"px-3\"></strong>\r\n                    {FormatDuration(backgroundMovie.runtime)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters mb-md-4 mb-2\">\r\n                  {!trailerIsEmpty ? (\r\n                    <div\r\n                      className=\"col-auto mr-3 btn-custom btn-custom-primary btn-small\"\r\n                      onClick={() => setOpenTrailer(true)}\r\n                    >\r\n                      Play Trailer\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  <WishlistButton\r\n                    movie={backgroundMovie}\r\n                    user={user}\r\n                  ></WishlistButton>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-23 d-none d-lg-block\">\r\n                <div\r\n                  className=\"row no-gutters h5 text-white\"\r\n                  style={{\r\n                    padding: \"6px 10px\",\r\n                    background:\r\n                      \"linear-gradient(to right, #ff0037, transparent)\",\r\n                    borderRadius: \"4px 0 0 4px\",\r\n                    // marginLeft: \"10px\",\r\n                    marginBottom: \"11px\",\r\n                  }}\r\n                >\r\n                  Today's Recommendation\r\n                </div>\r\n                <Recommendations\r\n                  movies={recommendedMovies}\r\n                  user={user}\r\n                  ratings={ratings}\r\n                ></Recommendations>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters d-flex d-lg-none\">\r\n          <div className=\" col-60 py-4 px-md-5 px-4 content-container\">\r\n            <div className=\"row no-gutters justify-content-end\">\r\n              <div className=\"col-60\">\r\n                <div\r\n                  className=\"row no-gutters h5 text-white\"\r\n                  style={{\r\n                    padding: \"6px 10px\",\r\n                    background:\r\n                      \"linear-gradient(to right, #ff0037, transparent)\",\r\n                    borderRadius: \"4px 0 0 4px\",\r\n                    // marginLeft: \"10px\",\r\n                    marginBottom: \"18px\",\r\n                  }}\r\n                >\r\n                  Todays's Recommendation\r\n                </div>\r\n                <Recommendations\r\n                  movies={recommendedMovies}\r\n                  user={user}\r\n                  ratings={ratings}\r\n                ></Recommendations>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <PopularMovies apiKey={settings.movies_api_key}></PopularMovies>\r\n        <PopularReviews></PopularReviews>\r\n        <RecentReviews></RecentReviews>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUser: state.publicUsers,\r\n    ratings: state.ratings,\r\n    settings: state.settings,\r\n    user: state.user,\r\n    navbarHeight: state.navbarHeight,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Home);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Modal from \"../utility/Modal\";\r\nimport { EditComment as editFn } from \"../../server/DatabaseApi\";\r\nimport Loader from \"../utility/Loader\";\r\nimport store from \"../../store/store\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst EditComment = ({\r\n  open,\r\n  onClose,\r\n  user,\r\n  comment,\r\n  refreshComments,\r\n  settings,\r\n}) => {\r\n  const [newComment, setNewComment] = useState({ comment: \"\" });\r\n  const [problem, setProblem] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (comment) {\r\n      setNewComment((prev) => Object.assign({}, prev, comment));\r\n    }\r\n  }, [comment]);\r\n\r\n  return (\r\n    <Modal open={open} onClose={onClose}>\r\n      <div className=\"col-xl-42 p-4 bg-over-root-lighter rounded mx-4\">\r\n        <div className=\"row no-gutters h5 mb-4\">Edit comment</div>\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-auto pr-3 d-none d-md-block\">\r\n            <div\r\n              className=\"square-70 rounded-circle bg-image\"\r\n              style={{ backgroundImage: `url(${user.photo})` }}\r\n            ></div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"row no-gutters d-flex d-md-none justify-content-between mb-3\">\r\n              <div className=\"col-auto pr-3\">\r\n                <div\r\n                  className=\"square-70 rounded-circle bg-image\"\r\n                  style={{ backgroundImage: `url(${user.photo})` }}\r\n                ></div>\r\n              </div>\r\n              <div\r\n                className={`col-auto d-flex align-items-end ${\r\n                  newComment.comment.length <=\r\n                  settings.no_comment_characters - 1\r\n                    ? \"text-muted\"\r\n                    : \"text-danger\"\r\n                }`}\r\n              >\r\n                {newComment.comment\r\n                  ? settings.no_comment_characters - newComment.comment.length\r\n                  : settings.no_comment_characters}{\" \"}\r\n                characters left\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters mb-2\" style={{ height: \"150px\" }}>\r\n              <textarea\r\n                onChange={(e) => {\r\n                  e.persist();\r\n                  let text = e.target.value;\r\n                  if (text.length <= settings.no_comment_characters) {\r\n                    setNewComment((prev) =>\r\n                      Object.assign({}, prev, { comment: text })\r\n                    );\r\n                  }\r\n                }}\r\n                value={newComment.comment}\r\n                spellCheck={false}\r\n                placeholder=\"Add your comment...\"\r\n                style={{ resize: \"none\" }}\r\n                className=\"w-100 h-100 textarea\"\r\n              ></textarea>\r\n            </div>\r\n            <div className=\"row no-gutters justify-content-md-end justify-content-center\">\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters justify-content-end\">\r\n                  <div\r\n                    className={`col-auto d-none d-md-block ${\r\n                      newComment.comment.length <=\r\n                      settings.no_comment_characters - 1\r\n                        ? \"text-muted\"\r\n                        : \"text-danger\"\r\n                    }`}\r\n                  >\r\n                    {newComment.comment\r\n                      ? settings.no_comment_characters -\r\n                        newComment.comment.length\r\n                      : settings.no_comment_characters}{\" \"}\r\n                    characters left\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60\">\r\n                <div\r\n                  className=\"row no-gutters align-items-center text-danger justify-content-end\"\r\n                  style={{ height: \"30px\", opacity: problem ? 1 : 0 }}\r\n                >\r\n                  {problem}\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"btn-custom btn-custom-primary btn-small\"\r\n                onClick={async () => {\r\n                  if (!newComment.comment) {\r\n                    setProblem(\"Type comment\");\r\n                  } else {\r\n                    if (user.token) {\r\n                      setLoading(true);\r\n                      let res = await editFn(newComment, comment._id);\r\n                      setLoading(false);\r\n                      if (res.error) {\r\n                        store.dispatch({\r\n                          type: \"SET_NOTIFICATION\",\r\n                          notification: {\r\n                            title: \"Couldn't edit your comment\",\r\n                            type: \"failure\",\r\n                            message: res.error,\r\n                          },\r\n                        });\r\n                      } else {\r\n                        store.dispatch({\r\n                          type: \"SET_NOTIFICATION\",\r\n                          notification: {\r\n                            title: \"You successfully edited comment\",\r\n                            type: \"success\",\r\n                            message: \"Your comment successfully edited\",\r\n                          },\r\n                        });\r\n                        onClose();\r\n                        refreshComments();\r\n                      }\r\n                    } else {\r\n                      setProblem(\"You need to login to write comment\");\r\n                    }\r\n                  }\r\n                }}\r\n              >\r\n                <Loader\r\n                  color={\"white\"}\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    left: \"10px\",\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    margin: \"auto\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                  loading={loading}\r\n                  size={20}\r\n                ></Loader>\r\n                Submit\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    settings: state.settings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(EditComment);\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport date from \"date-and-time\";\r\nimport { nFormatter } from \"../../utilities/Functions\";\r\nimport { Emoji } from \"emoji-mart\";\r\nimport { MdThumbUp, MdChatBubble, MdFlag } from \"react-icons/md\";\r\nimport { BsPencil, BsTrash } from \"react-icons/bs\";\r\nimport ReplyToReview from \"./ReplyToReview\";\r\nimport AddReview from \"./AddReview\";\r\nimport {\r\n  GetMovieReviews,\r\n  GetMoviePromotedReviews,\r\n  GetReviewComments,\r\n  LikeReview,\r\n  LikeComment,\r\n  ReportReview,\r\n  DeleteReview,\r\n  ReportComment,\r\n  DeleteComment,\r\n} from \"../../server/DatabaseApi\";\r\nimport { connect } from \"react-redux\";\r\nimport { Collapse } from \"@material-ui/core\";\r\nimport Paigination from \"../utility/Paigination\";\r\nimport store from \"../../store/store\";\r\nimport Loader from \"../utility/Loader\";\r\nimport Popover from \"../utility/Popover\";\r\nimport OkIcon from \"../../images/OkIcon\";\r\nimport EditComment from \"./EditComment\";\r\n\r\nconst MovieReviews = ({\r\n  movie,\r\n  user,\r\n  publicUsers,\r\n  refreshReviewsFromParent,\r\n  seekReviewId,\r\n  seekCommentId,\r\n  ratings,\r\n}) => {\r\n  // local reviews object in order to be able to update it quickly instead of waiting for real changes in database\r\n  const [reviews, setReviews] = useState([]);\r\n  const [promotedReviews, setPromotedReviews] = useState([]);\r\n\r\n  const [loadingComment, setLoadingComment] = useState(-1);\r\n  const [loadingReview, setLoadingReview] = useState(-1);\r\n  const [loadingReport, setLoadingReport] = useState(-1);\r\n  const [deletingComment, setDeletingComment] = useState(-1);\r\n  const [deletingReview, setDeletingReview] = useState(-1);\r\n  const [userIsOwnerOfReview, setUserIsOwnerOfReview] = useState(false);\r\n\r\n  //admin can edit review and rating in promotions section. So promotions have edited content.\r\n  const [promotedContents, setPromotedContents] = useState({});\r\n\r\n  //comments object.Its property will be review id.\r\n  const [comments, setComments] = useState({});\r\n  const [comment, setComment] = useState(false);\r\n\r\n  //\r\n  const [reviewIdOfVisibleComments, setReviewIdOfVisibleComments] = useState(\r\n    seekCommentId ? seekReviewId : -1\r\n  );\r\n\r\n  // partitioning reviews into pages (8 reviews per page)\r\n  const [page, setPage] = useState(-1);\r\n  const [commentsPage, setCommentsPage] = useState(1);\r\n\r\n  // reference to top of the reviews block to scroll into view after changing the page\r\n  const topOfReviewsBlock = useRef(null);\r\n\r\n  // boolean variable to display \"add review\" modal or not\r\n  const [addReviewOpen, setAddReviewOpen] = useState(false);\r\n  const [replyOpen, setReplyOpen] = useState(false);\r\n  const [editCommentOpen, setEditCommentOpen] = useState(false);\r\n\r\n  // boolean variable to display \"add review\" modal or not\r\n  const [review, setReview] = useState(\"\");\r\n\r\n  //state to refresh comments after writing it\r\n  const [refreshComments, setRefreshComments] = useState(false);\r\n\r\n  //state to refresh reviews after writing it\r\n  const [refreshReviews, setRefreshReviews] = useState(false);\r\n\r\n  const commentsPerPage = 5;\r\n  const reviewsPerPage = 8;\r\n\r\n  const [scrolledOnce, setScrolledOnce] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (reviewIdOfVisibleComments !== -1) {\r\n        let data = await GetReviewComments(reviewIdOfVisibleComments);\r\n        let commentsObj = {};\r\n        data.forEach((x) => {\r\n          commentsObj[x._id] = x;\r\n        });\r\n        setComments((prev) =>\r\n          Object.assign({}, prev, { [reviewIdOfVisibleComments]: commentsObj })\r\n        );\r\n      }\r\n    }\r\n    getData();\r\n  }, [reviewIdOfVisibleComments, refreshComments]);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (movie.id) {\r\n        let promoted = await GetMoviePromotedReviews(movie.id);\r\n        let promotedContentIds = [];\r\n        let promoContents = {};\r\n        if (!promoted.error) {\r\n          promoted.forEach((x) => {\r\n            promotedContentIds.push(x.content_id);\r\n            promoContents[x.content_id] = x;\r\n          });\r\n        }\r\n        setPromotedContents(promoContents);\r\n        let data = await GetMovieReviews(movie.id);\r\n        if (!data.error) {\r\n          let promReviews = [],\r\n            notPromotedReviews = [];\r\n          data.reverse().forEach((x) => {\r\n            if (x._id === seekReviewId) {\r\n              promReviews.unshift(x);\r\n            } else if (promotedContentIds.includes(x._id)) {\r\n              x.promoted = true;\r\n              promReviews.push(x);\r\n            } else {\r\n              notPromotedReviews.push(x);\r\n            }\r\n          });\r\n          setPromotedReviews(promReviews);\r\n          setReviews(notPromotedReviews);\r\n        }\r\n      }\r\n    }\r\n    getData();\r\n  }, [movie, refreshReviews, refreshReviewsFromParent]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const renderComments = (ids, review) => {\r\n    return ids.map((x, ind) => {\r\n      return comments[review._id][x] ? (\r\n        <React.Fragment\r\n          key={`comment-fragment-${reviewIdOfVisibleComments}-${ind}`}\r\n        >\r\n          <div\r\n            ref={(el) => {\r\n              if (x === seekCommentId && el && !scrolledOnce) {\r\n                setScrolledOnce(true);\r\n                el.scrollIntoView({ behavior: \"smooth\" });\r\n                // reviewToSeek.current = el;\r\n              }\r\n            }}\r\n            style={{\r\n              marginLeft: `${\r\n                comments[review._id][x].notificationReceivers.length * 60 - 30\r\n              }px`,\r\n            }}\r\n            key={`comment-${reviewIdOfVisibleComments}-${ind}`}\r\n            className={`indented-comment row no-gutters p-4 bg-over-root-lighter rounded mb-2${\r\n              x === seekCommentId ? \" fading-shadow\" : \"\"\r\n            }`}\r\n          >\r\n            <div className=\"col-auto pr-4 d-none d-md-block\">\r\n              <div\r\n                className=\"bg-image rounded-circle square-70\"\r\n                style={{\r\n                  backgroundImage: `url(${\r\n                    publicUsers[comments[review._id][x].author]\r\n                      ? publicUsers[comments[review._id][x].author].photo\r\n                      : \"\"\r\n                  })`,\r\n                }}\r\n              ></div>\r\n            </div>\r\n            <div className=\"col\">\r\n              <div className=\"row no-gutters justify-content-between align-items-center mb-2\">\r\n                <div className=\"col-auto\">\r\n                  <div className=\"row no-gutters\">\r\n                    <div className=\"col-auto pr-2 d-block d-md-none\">\r\n                      <div\r\n                        className=\"bg-image rounded-circle square-40\"\r\n                        style={{\r\n                          backgroundImage: `url(${\r\n                            publicUsers[comments[review._id][x].author]\r\n                              ? publicUsers[comments[review._id][x].author]\r\n                                  .photo\r\n                              : \"\"\r\n                          })`,\r\n                        }}\r\n                      ></div>\r\n                    </div>\r\n                    <div className=\"col-auto\">\r\n                      <div className=\"row no-gutters align-items-center\">\r\n                        <div className=\"col-auto mr-3 text-title-md mb-0\">\r\n                          {publicUsers[comments[review._id][x].author]\r\n                            ? publicUsers[comments[review._id][x].author]\r\n                                .display_name\r\n                            : \"\"}\r\n                        </div>\r\n                        <div className=\"col-auto mr-3 text-muted\">\r\n                          {date.format(\r\n                            new Date(comments[review._id][x].date),\r\n                            \"MMM DD, YYYY\"\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {user._id === comments[review._id][x].author ? (\r\n                  <div className=\"col-auto\">\r\n                    <div className=\"row no-gutters\">\r\n                      <Popover\r\n                        arrow={false}\r\n                        position=\"top\"\r\n                        trigger=\"mouseenter\"\r\n                        theme=\"dark\"\r\n                        content={(w) => (\r\n                          <div className=\"py-2 px-3 rounded bg-root\">\r\n                            Edit comment\r\n                          </div>\r\n                        )}\r\n                      >\r\n                        <div\r\n                          className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                          onClick={async () => {\r\n                            setComment(comments[review._id][x]);\r\n                            setEditCommentOpen(true);\r\n                          }}\r\n                        >\r\n                          <BsPencil fontSize=\"24px\"></BsPencil>\r\n                        </div>\r\n                      </Popover>\r\n                      <Popover\r\n                        arrow={false}\r\n                        position=\"top\"\r\n                        trigger=\"mouseenter\"\r\n                        theme=\"dark\"\r\n                        content={(w) => (\r\n                          <div className=\"py-2 px-3 rounded bg-root\">\r\n                            Delete comment\r\n                          </div>\r\n                        )}\r\n                      >\r\n                        <div\r\n                          className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                          onClick={async () => {\r\n                            setDeletingComment(comments[review._id][x]._id);\r\n                            let res = await DeleteComment(\r\n                              comments[review._id][x]._id\r\n                            );\r\n                            setDeletingComment(-1);\r\n                            if (res.error) {\r\n                              store.dispatch({\r\n                                type: \"SET_NOTIFICATION\",\r\n                                notification: {\r\n                                  title: `Couldn't delete comment`,\r\n                                  type: \"failure\",\r\n                                  message: res.error,\r\n                                },\r\n                              });\r\n                            } else {\r\n                              store.dispatch({\r\n                                type: \"SET_NOTIFICATION\",\r\n                                notification: {\r\n                                  title: `Success`,\r\n                                  type: \"success\",\r\n                                  message: \"Comment successfully deleted\",\r\n                                },\r\n                              });\r\n                              setRefreshComments(!refreshComments);\r\n                              setRefreshReviews(!refreshReviews);\r\n                            }\r\n                          }}\r\n                        >\r\n                          {deletingComment === comments[review._id][x]._id ? (\r\n                            <div className=\"square-20\">\r\n                              <Loader\r\n                                color={\"white\"}\r\n                                style={{\r\n                                  position: \"absolute\",\r\n                                  left: \"10px\",\r\n                                  top: 0,\r\n                                  bottom: 0,\r\n                                  margin: \"auto\",\r\n                                  display: \"flex\",\r\n                                  alignItems: \"center\",\r\n                                }}\r\n                                loading={true}\r\n                                size={20}\r\n                              ></Loader>\r\n                            </div>\r\n                          ) : (\r\n                            <BsTrash fontSize=\"24px\"></BsTrash>\r\n                          )}\r\n                        </div>\r\n                      </Popover>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <Popover\r\n                    arrow={false}\r\n                    position=\"top\"\r\n                    trigger=\"mouseenter\"\r\n                    theme=\"dark\"\r\n                    content={(w) => (\r\n                      <div className=\"py-2 px-3 rounded bg-root\">\r\n                        Report Abuse\r\n                      </div>\r\n                    )}\r\n                  >\r\n                    <div\r\n                      className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                      onClick={async () => {\r\n                        if (user.token) {\r\n                          setLoadingReport(x);\r\n                          let res = await ReportComment(user, x);\r\n                          setLoadingReport(-1);\r\n                          if (res.error) {\r\n                            store.dispatch({\r\n                              type: \"SET_NOTIFICATION\",\r\n                              notification: {\r\n                                title: \"Error\",\r\n                                message: res.error,\r\n                                type: \"failure\",\r\n                              },\r\n                            });\r\n                          } else {\r\n                            store.dispatch({\r\n                              type: \"SET_NOTIFICATION\",\r\n                              notification: {\r\n                                title: \"Comment reported\",\r\n                                message:\r\n                                  \"Comment was successfully reported. We will review it soon.\",\r\n                                type: \"success\",\r\n                              },\r\n                            });\r\n                          }\r\n                        } else {\r\n                          store.dispatch({\r\n                            type: \"SET_NOTIFICATION\",\r\n                            notification: {\r\n                              title: \"Login required\",\r\n                              message: \"You need to login to report comment\",\r\n                              type: \"failure\",\r\n                            },\r\n                          });\r\n                        }\r\n                      }}\r\n                    >\r\n                      {loadingReport === x ? (\r\n                        <div className=\"square-20\">\r\n                          <Loader\r\n                            color={\"white\"}\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              left: \"10px\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              margin: \"auto\",\r\n                              display: \"flex\",\r\n                              alignItems: \"center\",\r\n                            }}\r\n                            loading={true}\r\n                            size={20}\r\n                          ></Loader>\r\n                        </div>\r\n                      ) : (\r\n                        <MdFlag fontSize=\"24px\"></MdFlag>\r\n                      )}\r\n                    </div>\r\n                  </Popover>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"row no-gutters text-light mb-3 font-weight-300 text-break\">\r\n                {comments[review._id][x].comment}\r\n              </div>\r\n              <div className=\"row no-gutters justify-content-end align-items-center\">\r\n                <div className=\"col-auto\">\r\n                  <div className=\"row no-gutters align-items-center\">\r\n                    <div className=\"col-auto mr-2\">\r\n                      {comments[review._id][x].likes.length}\r\n                    </div>\r\n                    <div className=\"col-auto mr-2 \">\r\n                      {loadingComment === ind ? (\r\n                        <div className=\"square-20\">\r\n                          <Loader\r\n                            color={\"white\"}\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              left: \"10px\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              margin: \"auto\",\r\n                              display: \"flex\",\r\n                              alignItems: \"center\",\r\n                            }}\r\n                            loading={loadingComment === ind}\r\n                            size={20}\r\n                          ></Loader>\r\n                        </div>\r\n                      ) : (\r\n                        <MdThumbUp\r\n                          onClick={async () => {\r\n                            if (user.token) {\r\n                              if (user._id !== comments[review._id][x].author) {\r\n                                setLoadingComment(ind);\r\n                                let res = await LikeComment(user, x);\r\n                                setLoadingComment(-1);\r\n                                if (res.error) {\r\n                                  store.dispatch({\r\n                                    type: \"SET_NOTIFICATION\",\r\n                                    notification: {\r\n                                      title: \"Error\",\r\n                                      message: res.error,\r\n                                      type: \"failure\",\r\n                                    },\r\n                                  });\r\n                                } else {\r\n                                  setRefreshComments(!refreshComments);\r\n                                }\r\n                              } else {\r\n                                store.dispatch({\r\n                                  type: \"SET_NOTIFICATION\",\r\n                                  notification: {\r\n                                    title: \"Action not allowed\",\r\n                                    message:\r\n                                      \"You can not like your own comment\",\r\n                                    type: \"failure\",\r\n                                  },\r\n                                });\r\n                              }\r\n                            } else {\r\n                              store.dispatch({\r\n                                type: \"SET_NOTIFICATION\",\r\n                                notification: {\r\n                                  title: \"Login required\",\r\n                                  message: \"You need to login to like review\",\r\n                                  type: \"failure\",\r\n                                },\r\n                              });\r\n                            }\r\n                          }}\r\n                          fontSize=\"24px\"\r\n                          className=\"text-green scale-transition cursor-pointer\"\r\n                        ></MdThumbUp>\r\n                      )}\r\n                    </div>\r\n                    <div\r\n                      className=\"col-auto text-orange btn-tertiary\"\r\n                      onClick={() => {\r\n                        if (!user.token) {\r\n                          store.dispatch({\r\n                            type: \"SET_NOTIFICATION\",\r\n                            notification: {\r\n                              title: \"Login required\",\r\n                              message: \"You need to login to write review.\",\r\n                              type: \"failure\",\r\n                            },\r\n                          });\r\n                        } else {\r\n                          setReview(\r\n                            Object.assign({}, review, {\r\n                              comment_id: x,\r\n                              notificationReceivers: comments[review._id][\r\n                                x\r\n                              ].notificationReceivers.concat([\r\n                                publicUsers[comments[review._id][x].author],\r\n                              ]),\r\n                            })\r\n                          );\r\n                          setReplyOpen(true);\r\n                        }\r\n                      }}\r\n                    >\r\n                      Reply\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {renderComments(comments[review._id][x].comments, review)}\r\n        </React.Fragment>\r\n      ) : (\r\n        \"\"\r\n      );\r\n    });\r\n  };\r\n\r\n  //avoid scrolling on first render into view\r\n  const realPage = page === -1 ? 1 : page;\r\n\r\n  return (\r\n    <div className=\"row no-gutters\">\r\n      {reviews.length ? (\r\n        <div className=\"col-60 h5 mb-3\">\r\n          Reviews ({nFormatter(reviews.length, 1)})\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters mb-2\" ref={topOfReviewsBlock}></div>\r\n        {promotedReviews\r\n          .concat(reviews)\r\n          .slice(\r\n            (realPage - 1) * reviewsPerPage,\r\n            (realPage - 1) * reviewsPerPage + reviewsPerPage\r\n          )\r\n          .map((x, i) => {\r\n            let rating = promotedContents[x._id]\r\n              ? promotedContents[x._id].content.rating\r\n              : x.rating;\r\n            let review = promotedContents[x._id]\r\n              ? promotedContents[x._id].content.review\r\n              : x.review;\r\n            return (\r\n              <React.Fragment key={`review-fragment-${i}`}>\r\n                <div\r\n                  ref={(el) => {\r\n                    if (!seekCommentId) {\r\n                      if (x._id === seekReviewId && el && !scrolledOnce) {\r\n                        setScrolledOnce(true);\r\n                        el.scrollIntoView({ behavior: \"smooth\" });\r\n                        // reviewToSeek.current = el;\r\n                      }\r\n                    }\r\n                  }}\r\n                  key={`review-${i}`}\r\n                  className={`row no-gutters p-4 bg-over-root-lighter rounded mb-2${\r\n                    x._id === seekReviewId && !seekCommentId\r\n                      ? \" fading-shadow\"\r\n                      : \"\"\r\n                  }`}\r\n                >\r\n                  <div className=\"col-auto pr-4 d-none d-md-block\">\r\n                    <div\r\n                      className=\"bg-image rounded-circle square-70\"\r\n                      style={{\r\n                        backgroundImage: `url(${\r\n                          publicUsers[x.author ? x.author : x.content_author]\r\n                            ? publicUsers[\r\n                                x.author ? x.author : x.content_author\r\n                              ].photo\r\n                            : \"\"\r\n                        })`,\r\n                      }}\r\n                    ></div>\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <div className=\"row no-gutters justify-content-between align-items-center mb-1\">\r\n                      <div className=\"col-auto\">\r\n                        <div className=\"row no-gutters align-items-center\">\r\n                          <div className=\"col-auto pr-2 d-block d-md-none\">\r\n                            <div\r\n                              className=\"bg-image rounded-circle square-40\"\r\n                              style={{\r\n                                backgroundImage: `url(${\r\n                                  publicUsers[x.author]\r\n                                    ? publicUsers[x.author].photo\r\n                                    : \"\"\r\n                                })`,\r\n                              }}\r\n                            ></div>\r\n                          </div>\r\n                          <div className=\"col-auto\">\r\n                            <div className=\"row no-gutters align-items-center\">\r\n                              <div className=\"col-auto mr-3 text-title-md mb-0\">\r\n                                {publicUsers[x.author]\r\n                                  ? publicUsers[x.author].display_name\r\n                                  : \"\"}\r\n                              </div>\r\n                              <div className=\"col-auto mr-3 text-muted\">\r\n                                {date.format(new Date(x.date), \"MMM DD, YYYY\")}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      {user._id === x.author ? (\r\n                        <div className=\"col-auto\">\r\n                          <div className=\"row no-gutters\">\r\n                            <Popover\r\n                              arrow={false}\r\n                              position=\"top\"\r\n                              trigger=\"mouseenter\"\r\n                              theme=\"dark\"\r\n                              content={(w) => (\r\n                                <div className=\"py-2 px-3 rounded bg-root\">\r\n                                  Edit review\r\n                                </div>\r\n                              )}\r\n                            >\r\n                              <div\r\n                                className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                                onClick={async () => {\r\n                                  setReview(x);\r\n                                  setUserIsOwnerOfReview(true);\r\n                                  setAddReviewOpen(true);\r\n                                }}\r\n                              >\r\n                                <BsPencil fontSize=\"24px\"></BsPencil>\r\n                              </div>\r\n                            </Popover>\r\n                            <Popover\r\n                              arrow={false}\r\n                              position=\"top\"\r\n                              trigger=\"mouseenter\"\r\n                              theme=\"dark\"\r\n                              content={(w) => (\r\n                                <div className=\"py-2 px-3 rounded bg-root\">\r\n                                  Delete review\r\n                                </div>\r\n                              )}\r\n                            >\r\n                              <div\r\n                                className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                                onClick={async () => {\r\n                                  setDeletingReview(x._id);\r\n                                  let res = await DeleteReview(x);\r\n                                  setDeletingReview(-1);\r\n                                  if (res.error) {\r\n                                    store.dispatch({\r\n                                      type: \"SET_NOTIFICATION\",\r\n                                      notification: {\r\n                                        title: `Couldn't delete comment`,\r\n                                        type: \"failure\",\r\n                                        message: res.error,\r\n                                      },\r\n                                    });\r\n                                  } else {\r\n                                    store.dispatch({\r\n                                      type: \"SET_NOTIFICATION\",\r\n                                      notification: {\r\n                                        title: `Success`,\r\n                                        type: \"success\",\r\n                                        message: \"Comment successfully deleted\",\r\n                                      },\r\n                                    });\r\n\r\n                                    let rating = ratings[movie.id];\r\n                                    let userInd = rating[x.rating].findIndex(\r\n                                      (r) => r === x.author\r\n                                    );\r\n                                    if (userInd !== -1) {\r\n                                      rating[x.rating].splice(userInd, 1);\r\n                                    }\r\n                                    store.dispatch({\r\n                                      type: \"UPDATE_RATINGS\",\r\n                                      rating: { [movie.id]: rating },\r\n                                    });\r\n\r\n                                    let userRatings = { ...user.ratings };\r\n                                    delete userRatings[movie.id];\r\n                                    store.dispatch({\r\n                                      type: \"UPDATE_USER\",\r\n                                      userProperty: {\r\n                                        ratings: userRatings,\r\n                                      },\r\n                                    });\r\n                                    setRefreshReviews(!refreshReviews);\r\n                                  }\r\n                                }}\r\n                              >\r\n                                {deletingReview === x._id ? (\r\n                                  <div className=\"square-20\">\r\n                                    <Loader\r\n                                      color={\"white\"}\r\n                                      style={{\r\n                                        position: \"absolute\",\r\n                                        left: \"10px\",\r\n                                        top: 0,\r\n                                        bottom: 0,\r\n                                        margin: \"auto\",\r\n                                        display: \"flex\",\r\n                                        alignItems: \"center\",\r\n                                      }}\r\n                                      loading={true}\r\n                                      size={20}\r\n                                    ></Loader>\r\n                                  </div>\r\n                                ) : (\r\n                                  <BsTrash fontSize=\"24px\"></BsTrash>\r\n                                )}\r\n                              </div>\r\n                            </Popover>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <Popover\r\n                          arrow={false}\r\n                          position=\"top\"\r\n                          trigger=\"mouseenter\"\r\n                          theme=\"dark\"\r\n                          content={(w) => (\r\n                            <div className=\"py-2 px-3 rounded bg-root\">\r\n                              Report Abuse\r\n                            </div>\r\n                          )}\r\n                        >\r\n                          <div\r\n                            className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                            onClick={async () => {\r\n                              if (user.token) {\r\n                                setLoadingReport(x._id);\r\n                                let res = await ReportReview(user, x._id);\r\n                                setLoadingReport(-1);\r\n                                if (res.error) {\r\n                                  store.dispatch({\r\n                                    type: \"SET_NOTIFICATION\",\r\n                                    notification: {\r\n                                      title: \"Error\",\r\n                                      message: res.error,\r\n                                      type: \"failure\",\r\n                                    },\r\n                                  });\r\n                                } else {\r\n                                  store.dispatch({\r\n                                    type: \"SET_NOTIFICATION\",\r\n                                    notification: {\r\n                                      title: \"Review reported\",\r\n                                      message:\r\n                                        \"Review was successfully reported. We will review it soon.\",\r\n                                      type: \"success\",\r\n                                    },\r\n                                  });\r\n                                }\r\n                              } else {\r\n                                store.dispatch({\r\n                                  type: \"SET_NOTIFICATION\",\r\n                                  notification: {\r\n                                    title: \"Login required\",\r\n                                    message:\r\n                                      \"You need to login to report review\",\r\n                                    type: \"failure\",\r\n                                  },\r\n                                });\r\n                              }\r\n                            }}\r\n                          >\r\n                            {loadingReport === x._id ? (\r\n                              <div className=\"square-20\">\r\n                                <Loader\r\n                                  color={\"white\"}\r\n                                  style={{\r\n                                    position: \"absolute\",\r\n                                    left: \"10px\",\r\n                                    top: 0,\r\n                                    bottom: 0,\r\n                                    margin: \"auto\",\r\n                                    display: \"flex\",\r\n                                    alignItems: \"center\",\r\n                                  }}\r\n                                  loading={true}\r\n                                  size={20}\r\n                                ></Loader>\r\n                              </div>\r\n                            ) : (\r\n                              <MdFlag fontSize=\"24px\"></MdFlag>\r\n                            )}\r\n                          </div>\r\n                        </Popover>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"row no-gutters text-light mb-3 font-weight-300 text-break\">\r\n                      <div className=\"text-break\">{review}</div>\r\n                    </div>\r\n                    <div className=\"row no-gutters justify-content-between align-items-center\">\r\n                      <div className=\"col-auto\">\r\n                        {rating === \"ok_rate\" ? (\r\n                          <OkIcon size={24}></OkIcon>\r\n                        ) : (\r\n                          <Emoji\r\n                            emoji={\r\n                              rating === \"excellent_rate\"\r\n                                ? \"fire\"\r\n                                : rating === \"good_rate\"\r\n                                ? \"heart\"\r\n                                : rating === \"ok_rate\"\r\n                                ? \"heavy_division_sign\"\r\n                                : \"shit\"\r\n                            }\r\n                            set=\"facebook\"\r\n                            size={24}\r\n                          />\r\n                        )}\r\n                      </div>\r\n                      <div className=\"col-auto\">\r\n                        <div className=\"row no-gutters align-items-center\">\r\n                          <div className=\"col-auto mr-2\">{x.likes.length}</div>\r\n                          <div className=\"col-auto mr-2 \">\r\n                            {loadingReview === i ? (\r\n                              <div className=\"square-20\">\r\n                                <Loader\r\n                                  color={\"white\"}\r\n                                  style={{\r\n                                    position: \"absolute\",\r\n                                    left: \"10px\",\r\n                                    top: 0,\r\n                                    bottom: 0,\r\n                                    margin: \"auto\",\r\n                                    display: \"flex\",\r\n                                    alignItems: \"center\",\r\n                                  }}\r\n                                  loading={loadingReview === i}\r\n                                  size={20}\r\n                                ></Loader>\r\n                              </div>\r\n                            ) : (\r\n                              <MdThumbUp\r\n                                onClick={async () => {\r\n                                  if (user.token) {\r\n                                    if (user._id !== x.author) {\r\n                                      setLoadingReview(i);\r\n                                      let res = await LikeReview(user, x._id);\r\n                                      setLoadingReview(-1);\r\n                                      if (res.error) {\r\n                                        store.dispatch({\r\n                                          type: \"SET_NOTIFICATION\",\r\n                                          notification: {\r\n                                            title: \"Error\",\r\n                                            message: res.error,\r\n                                            type: \"failure\",\r\n                                          },\r\n                                        });\r\n                                      } else {\r\n                                        setRefreshReviews(!refreshReviews);\r\n                                      }\r\n                                    } else {\r\n                                      store.dispatch({\r\n                                        type: \"SET_NOTIFICATION\",\r\n                                        notification: {\r\n                                          title: \"Action not allowed\",\r\n                                          message:\r\n                                            \"You can not like you own review\",\r\n                                          type: \"failure\",\r\n                                        },\r\n                                      });\r\n                                    }\r\n                                  } else {\r\n                                    store.dispatch({\r\n                                      type: \"SET_NOTIFICATION\",\r\n                                      notification: {\r\n                                        title: \"Login required\",\r\n                                        message:\r\n                                          \"You need to login to like review\",\r\n                                        type: \"failure\",\r\n                                      },\r\n                                    });\r\n                                  }\r\n                                }}\r\n                                fontSize=\"24px\"\r\n                                className=\"text-green scale-transition cursor-pointer\"\r\n                              ></MdThumbUp>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"col-auto mr-2\">\r\n                            {x.comments.length}\r\n                          </div>\r\n                          <div className=\"col-auto mr-2\">\r\n                            <MdChatBubble\r\n                              onClick={() => {\r\n                                setReviewIdOfVisibleComments(\r\n                                  reviewIdOfVisibleComments === x._id\r\n                                    ? -1\r\n                                    : x._id\r\n                                );\r\n                              }}\r\n                              fontSize=\"24px\"\r\n                              className=\"text-orange scale-transition cursor-pointer\"\r\n                            ></MdChatBubble>\r\n                          </div>\r\n                          <div\r\n                            className=\"col-auto text-orange btn-tertiary\"\r\n                            onClick={() => {\r\n                              setReview(\r\n                                Object.assign({}, x, {\r\n                                  notificationReceivers: [\r\n                                    publicUsers[x.author],\r\n                                  ],\r\n                                })\r\n                              );\r\n                              setReplyOpen(true);\r\n                            }}\r\n                          >\r\n                            Reply\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <Collapse\r\n                  in={reviewIdOfVisibleComments === x._id}\r\n                  className=\"mb-3\"\r\n                >\r\n                  <div\r\n                    style={{ marginLeft: \"30px\" }}\r\n                    className=\"py-2 text-light\"\r\n                  >\r\n                    Comments (\r\n                    {comments[x._id]\r\n                      ? Object.values(comments[x._id]).length\r\n                      : 0}\r\n                    )\r\n                  </div>\r\n                  {comments[x._id]\r\n                    ? renderComments(\r\n                        Object.values(comments[x._id])\r\n                          .filter((a) => a.notificationReceivers.length === 1)\r\n                          .map((b) => b._id),\r\n                        x\r\n                      )\r\n                    : \"\"}\r\n                  <div className=\"row no-gutters justify-content-end\">\r\n                    <div className=\"col-auto\">\r\n                      <Paigination\r\n                        count={Math.ceil(\r\n                          comments[x._id]\r\n                            ? comments[x._id].length / commentsPerPage\r\n                            : 1\r\n                        )}\r\n                        current={commentsPage}\r\n                        setCurrent={setCommentsPage}\r\n                        classNames={{\r\n                          notSelected: \"input-dark\",\r\n                          selected: \"input-dark-selected\",\r\n                        }}\r\n                      ></Paigination>\r\n                    </div>\r\n                  </div>\r\n                </Collapse>\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        <div className=\"row no-gutters justify-content-end pt-2\">\r\n          <div className=\"col-auto\">\r\n            <Paigination\r\n              classNames={{\r\n                notSelected: \"input-dark\",\r\n                selected: \"input-dark-selected\",\r\n              }}\r\n              count={Math.ceil(reviews.length / reviewsPerPage)}\r\n              current={realPage}\r\n              setCurrent={setPage}\r\n            ></Paigination>\r\n          </div>\r\n          <AddReview\r\n            userIsOwner={userIsOwnerOfReview}\r\n            open={addReviewOpen}\r\n            onClose={() => setAddReviewOpen(false)}\r\n            movie={movie}\r\n            review={review}\r\n            user={user}\r\n            refreshReviews={() => setRefreshReviews(!refreshReviews)}\r\n          ></AddReview>\r\n          <ReplyToReview\r\n            refreshReviews={() => setRefreshReviews(!refreshReviews)}\r\n            setReviewIdOfVisibleComments={setReviewIdOfVisibleComments}\r\n            refreshComments={() => setRefreshComments(!refreshComments)}\r\n            setComments={setComments}\r\n            movie={movie}\r\n            reviewAuthor={\r\n              publicUsers[review.author]\r\n                ? publicUsers[review.author]\r\n                : { display_name: \"\" }\r\n            }\r\n            review={review}\r\n            open={replyOpen}\r\n            onClose={() => setReplyOpen(false)}\r\n            user={user}\r\n          ></ReplyToReview>\r\n          <EditComment\r\n            comment={comment}\r\n            refreshComments={() => setRefreshComments(!refreshComments)}\r\n            setComments={() => {}}\r\n            movie={movie}\r\n            open={editCommentOpen}\r\n            onClose={() => setEditCommentOpen(false)}\r\n            user={user}\r\n          ></EditComment>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(MovieReviews);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { GetMovie, GetCredits, GetTvShow } from \"../../server/MoviesApi\";\r\nimport ReactionButton from \"./ReactionButton\";\r\nimport date from \"date-and-time\";\r\nimport Modal from \"../utility/Modal\";\r\nimport TrailerPlayer from \"./TrailerPlayer\";\r\nimport MovieReviews from \"./MovieReviews\";\r\nimport { connect } from \"react-redux\";\r\nimport { FormatDuration } from \"../../utilities/Functions\";\r\nimport store from \"../../store/store\";\r\nimport { AddViewToMovie, GetUserReview } from \"../../server/DatabaseApi\";\r\nimport WishlistButton from \"./WishlistButton\";\r\nimport { FaRegPaperPlane } from \"react-icons/fa\";\r\nimport history from \"../../History\";\r\nimport { BsPlayFill, BsPencil } from \"react-icons/bs\";\r\nimport AddReview from \"./AddReview\";\r\n\r\nconst Movie = (props) => {\r\n  const movieId = props.match.params.movieId;\r\n  const ratings = props.ratings;\r\n  const apiKey = props.settings.movies_api_key;\r\n  const seekReviewId = props.match.params.reviewId;\r\n  const seekCommentId = props.match.params.commentId;\r\n  //user will be needed to write comments on reviews and to add reviews\r\n  const user = props.user;\r\n  const [review, setReview] = useState(false);\r\n  const [refreshReviews, setRefreshReviews] = useState(false);\r\n  const [trailerIsEmpty, setTrailerIsEmpty] = useState(false);\r\n  const [addReviewOpen, setAddReviewOpen] = useState(false);\r\n  const [movie, setMovie] = useState({\r\n    poster_path: \"\",\r\n    genres: [],\r\n    title: \"\",\r\n    overview: \"\",\r\n    director: [],\r\n    cast: [],\r\n    runtime: 0,\r\n    release_date: \"\",\r\n    id: \"\",\r\n  });\r\n\r\n  //boolean variable to display trailer modal or not.\r\n  const [openTrailer, setOpenTrailer] = useState(false);\r\n\r\n  useEffect(() => {\r\n    //check if movie fetched from api\r\n    if (movie.title) {\r\n      AddViewToMovie(movie.id, apiKey);\r\n      if (!(movie.id in ratings)) {\r\n        store.dispatch({\r\n          type: \"UPDATE_RATINGS\",\r\n          rating: {\r\n            [movie.id]: {\r\n              excellent_rate: [],\r\n              ok_rate: [],\r\n              bad_rate: [],\r\n              good_rate: [],\r\n              movie_poster: movie.poster_path,\r\n              movie_title: movie.title,\r\n              movie_genres: movie.genres.map((x) => x.name),\r\n              movie_release_date: movie.release_date,\r\n            },\r\n          },\r\n        });\r\n      }\r\n    }\r\n  }, [movie.title]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    async function getData() {\r\n      if (movieId && apiKey) {\r\n        let data;\r\n        if (movieId.substring(0, 6) === \"serie-\") {\r\n          let serieId = movieId.substring(6);\r\n          let serieData = await GetTvShow(serieId, apiKey);\r\n          data = Object.assign({}, serieData, {\r\n            title: serieData.name,\r\n            release_date: serieData.first_air_date,\r\n            id: movieId,\r\n          });\r\n        } else {\r\n          data = await GetMovie(movieId, apiKey);\r\n        }\r\n        data.release_date = data.release_date ? data.release_date : \"0\";\r\n        if (data.success !== undefined && !data.success) {\r\n        }\r\n        setMovie((prev) => Object.assign({}, prev, data));\r\n        let credits = await GetCredits(movieId, apiKey);\r\n        let directors = credits.crew\r\n          ? credits.crew.filter((x) => x.job === \"Director\").map((x) => x.name)\r\n          : [];\r\n        let director = directors.length\r\n          ? directors\r\n          : credits.crew.map((x) => x.name);\r\n        let cast = credits.cast ? credits.cast.map((x) => x.name) : [];\r\n        setMovie((prev) => Object.assign({}, prev, { director, cast }));\r\n      }\r\n    }\r\n\r\n    getData();\r\n  }, [movieId, apiKey]);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      let res = await GetUserReview(user._id, movieId);\r\n      if (res) {\r\n        if (!res.error) {\r\n          setReview(res);\r\n        }\r\n      } else {\r\n        setReview({ review: \"\", rating: \"\" });\r\n      }\r\n    }\r\n    if (user._id && movieId) {\r\n      getData();\r\n    }\r\n  }, [refreshReviews, user, movieId]);\r\n\r\n  // const director = movie.credits.crew.find((x) => x.job === \"Director\");\r\n\r\n  return (\r\n    <div className=\"row no-gutters justify-content-center bg-movie-over-root position-relative\">\r\n      <div\r\n        className=\"position-absolute w-100 d-block d-lg-none\"\r\n        style={{\r\n          top: 0,\r\n          left: 0,\r\n        }}\r\n      >\r\n        <div\r\n          className=\"position-relative\"\r\n          style={{ height: window.innerHeight, overflow: \"hidden\" }}\r\n        >\r\n          <div className=\"position-relative\">\r\n            <img\r\n              alt={movie.poster_path}\r\n              width=\"100%\"\r\n              src={\r\n                movie.poster_path\r\n                  ? `https://image.tmdb.org/t/p/w342/${movie.poster_path}`\r\n                  : \"https://critics.io/img/movies/poster-placeholder.png\"\r\n              }\r\n            ></img>\r\n            <div\r\n              className=\"position-absolute w-100 h-100\"\r\n              style={{\r\n                background: \"linear-gradient(rgba(0, 0, 0, 0.3) 90%, black)\",\r\n                top: 0,\r\n                left: 0,\r\n              }}\r\n            ></div>\r\n          </div>\r\n          <div\r\n            className=\"position-absolute w-100 h-100\"\r\n            style={{\r\n              background: \"linear-gradient(rgb(0 0 0 / 30%), black)\",\r\n              top: 0,\r\n              left: 0,\r\n            }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n      <Modal open={openTrailer} onClose={() => setOpenTrailer(false)}>\r\n        <TrailerPlayer\r\n          modalOpened={openTrailer}\r\n          setIsEmpty={() => setTrailerIsEmpty(true)}\r\n          movieId={movieId}\r\n          onEnded={() => setOpenTrailer(false)}\r\n        ></TrailerPlayer>\r\n      </Modal>\r\n      <div className=\"col-60 text-white px-md-5 py-5 px-4 content-container\">\r\n        <div className=\"row no-gutters mb-5\">\r\n          <div className=\"col-auto mr-5 d-none d-lg-block\">\r\n            <div className=\"w-100 position-relative\">\r\n              <img\r\n                alt={movie.poster_path}\r\n                style={{ borderRadius: \"25px\" }}\r\n                width=\"300px\"\r\n                src={\r\n                  movie.poster_path\r\n                    ? `https://image.tmdb.org/t/p/w342/${movie.poster_path}`\r\n                    : \"https://critics.io/img/movies/poster-placeholder.png\"\r\n                }\r\n              ></img>\r\n              <div\r\n                onClick={() => history.push(`/movie/${movie.id}`)}\r\n                className=\"col-60 h-100 text-white d-flex flex-center img-cover cursor-pointer\"\r\n                style={{\r\n                  left: 0,\r\n                  top: 0,\r\n                  position: \"absolute\",\r\n                  zIndex: 4,\r\n                  borderRadius: \"13px\",\r\n                }}\r\n              >\r\n                {!trailerIsEmpty ? (\r\n                  <div\r\n                    className=\"square-60 rounded-circle d-flex flex-center play-btn\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      setOpenTrailer(true);\r\n                    }}\r\n                  >\r\n                    <BsPlayFill\r\n                      style={{\r\n                        fontSize: \"35px\",\r\n                        color: \"white\",\r\n                        marginRight: \"-5px\",\r\n                      }}\r\n                    ></BsPlayFill>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col position-relative\">\r\n            <div\r\n              className=\"row no-gutters position-relative\"\r\n              style={{ zIndex: 5 }}\r\n            >\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters align-items-center\">\r\n                  <div className=\"col-auto mr-3\">\r\n                    <div className=\"row no-gutters h5 mb-2 align-items-center\">\r\n                      {movie.title} ({movie.release_date.substring(0, 4)})\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-auto\">\r\n                    <div className=\"row no-gutters mb-2 align-items-center mt-2\">\r\n                      <ReactionButton\r\n                        selected={\r\n                          user.ratings[movie.id]\r\n                            ? user.ratings[movie.id].rate_type ===\r\n                              \"excellent_rate\"\r\n                            : false\r\n                        }\r\n                        movie={movie}\r\n                        emoji=\"fire\"\r\n                        className=\"mr-2 mb-2\"\r\n                        value={\r\n                          ratings[movie.id]\r\n                            ? ratings[movie.id].excellent_rate\r\n                            : []\r\n                        }\r\n                      ></ReactionButton>\r\n                      <ReactionButton\r\n                        selected={\r\n                          user.ratings[movie.id]\r\n                            ? user.ratings[movie.id].rate_type === \"good_rate\"\r\n                            : false\r\n                        }\r\n                        movie={movie}\r\n                        emoji=\"heart\"\r\n                        className=\"mr-2 mb-2\"\r\n                        value={\r\n                          ratings[movie.id] ? ratings[movie.id].good_rate : []\r\n                        }\r\n                      ></ReactionButton>\r\n                      <ReactionButton\r\n                        selected={\r\n                          user.ratings[movie.id]\r\n                            ? user.ratings[movie.id].rate_type === \"ok_rate\"\r\n                            : false\r\n                        }\r\n                        movie={movie}\r\n                        className=\"mr-2 mb-2\"\r\n                        emoji=\"heavy_division_sign\"\r\n                        value={\r\n                          ratings[movie.id] ? ratings[movie.id].ok_rate : []\r\n                        }\r\n                      ></ReactionButton>\r\n                      <ReactionButton\r\n                        className=\"mb-2\"\r\n                        emoji=\"shit\"\r\n                        value={\r\n                          ratings[movie.id] ? ratings[movie.id].bad_rate : []\r\n                        }\r\n                        selected={\r\n                          user.ratings[movie.id]\r\n                            ? user.ratings[movie.id].rate_type === \"bad_rate\"\r\n                            : false\r\n                        }\r\n                        movie={movie}\r\n                      ></ReactionButton>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row no-gutters text-movie-muted mb-2\">\r\n                  <div className=\"text-truncate\">\r\n                    {movie.genres.map((x) => x.name).join(\"/\")}\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters mb-4\">\r\n                  <div className=\"col-auto font-weight-500 mr-2\">Duration:</div>\r\n                  <div className=\"col-auto text-movie-muted\">\r\n                    {FormatDuration(movie.runtime)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters mb-4 text-light\">\r\n                  {movie.overview}\r\n                </div>\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <div className=\"col-auto\">\r\n                    <div className=\"row no-gutters\">\r\n                      <div className=\"col-auto mr-2\">Director:</div>\r\n                      <div className=\"col-auto col-sm mr-5 text-movie-muted\">\r\n                        {movie.director.length\r\n                          ? movie.director.join(\", \")\r\n                          : \"unknown\"}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-auto\">\r\n                    <div className=\"row no-gutters\">\r\n                      <div className=\"col-auto mr-2\">Cast:</div>\r\n                      <div className=\"col-auto col-sm\">\r\n                        <div className=\"row no-gutters\">\r\n                          <div\r\n                            className=\"text-clamp-2 text-muted-light cursor-pointer\"\r\n                            onClick={(e) => {\r\n                              if (\r\n                                e.currentTarget.classList.contains(\r\n                                  \"text-clamp-2\"\r\n                                )\r\n                              ) {\r\n                                e.currentTarget.classList.remove(\r\n                                  \"text-clamp-2\"\r\n                                );\r\n                              } else {\r\n                                e.currentTarget.classList.add(\"text-clamp-2\");\r\n                              }\r\n                            }}\r\n                          >\r\n                            {movie.cast.length\r\n                              ? movie.cast.join(\", \")\r\n                              : \"unknown\"}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters mb-5\">\r\n                  <div className=\"col-auto mr-2\">Release date:</div>\r\n                  <div className=\"col-auto text-movie-muted\">\r\n                    {movie.release_date !== \"0\"\r\n                      ? date.format(\r\n                          new Date(movie.release_date),\r\n                          \"MMMM DD, YYYY\"\r\n                        )\r\n                      : \"unknown\"}\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters justify-content-center justify-content-md-start\">\r\n                  <div\r\n                    className=\"col-auto mr-3 btn-custom btn-custom-primary btn-small\"\r\n                    onClick={() => {\r\n                      if (!user.token) {\r\n                        store.dispatch({\r\n                          type: \"SET_NOTIFICATION\",\r\n                          notification: {\r\n                            title: \"Login required\",\r\n                            message: \"You need to login to write review.\",\r\n                            type: \"failure\",\r\n                          },\r\n                        });\r\n                      } else {\r\n                        setAddReviewOpen(!addReviewOpen);\r\n                      }\r\n                    }}\r\n                  >\r\n                    {user.ratings[movie.id] ? (\r\n                      <React.Fragment>\r\n                        Edit Review\r\n                        <BsPencil fontSize=\"20px\" className=\"ml-2\"></BsPencil>\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n                        Add Review\r\n                        <FaRegPaperPlane\r\n                          fontSize=\"20px\"\r\n                          className=\"ml-2\"\r\n                        ></FaRegPaperPlane>\r\n                      </React.Fragment>\r\n                    )}\r\n                  </div>\r\n                  <WishlistButton movie={movie} user={user}></WishlistButton>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <AddReview\r\n          userIsOwner={user.ratings[movie.id]}\r\n          open={addReviewOpen}\r\n          onClose={() => setAddReviewOpen(false)}\r\n          movie={movie}\r\n          review={review}\r\n          user={user}\r\n          refreshReviews={() => setRefreshReviews(!refreshReviews)}\r\n        ></AddReview>\r\n        <MovieReviews\r\n          refreshReviewsFromParent={refreshReviews}\r\n          userHasWrittenReview={user.ratings[movie.id]}\r\n          seekCommentId={seekCommentId}\r\n          seekReviewId={seekReviewId}\r\n          movie={movie}\r\n          user={user}\r\n        ></MovieReviews>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    user: state.user,\r\n    ratings: state.ratings,\r\n    settings: state.settings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Movie);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Collapse } from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\nimport { GetReviewComments } from \"../../server/DatabaseApi\";\r\nimport { Emoji } from \"emoji-mart\";\r\nimport OkIcon from \"../../images/OkIcon\";\r\nimport Paigination from \"../utility/Paigination\";\r\nimport history from \"../../History\";\r\nimport date from \"date-and-time\";\r\nimport { MdThumbUp, MdChatBubble } from \"react-icons/md\";\r\n\r\nconst ReviewsList = ({ reviews, publicUsers, ratings }) => {\r\n  const [reviewIdOfVisibleComments, setReviewIdOfVisibleComments] = useState(\r\n    -1\r\n  );\r\n\r\n  const page = 1;\r\n  const [commentsPage, setCommentsPage] = useState(1);\r\n\r\n  const [comments, setComments] = useState({});\r\n\r\n  const commentsPerPage = 5;\r\n  const reviewsPerPage = 8;\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (reviewIdOfVisibleComments !== -1) {\r\n        let data = await GetReviewComments(reviewIdOfVisibleComments);\r\n        setComments((prev) =>\r\n          Object.assign({}, prev, { [reviewIdOfVisibleComments]: data })\r\n        );\r\n      }\r\n    }\r\n    getData();\r\n  }, [reviewIdOfVisibleComments]);\r\n\r\n  return reviews\r\n    .slice(\r\n      (page - 1) * reviewsPerPage,\r\n      (page - 1) * reviewsPerPage + reviewsPerPage\r\n    )\r\n    .map((x, i) => (\r\n      <React.Fragment key={`fragment-review-${i}`}>\r\n        <div\r\n          key={`review-${i}`}\r\n          className=\"row no-gutters p-4 bg-over-root-lighter rounded mb-2\"\r\n        >\r\n          <div\r\n            className=\"col-sm-auto col-20 pr-4 d-none d-sm-block\"\r\n            style={{ maxWidth: \"150px\" }}\r\n          >\r\n            <div className=\"row no-gutters mb-1\">\r\n              <img\r\n                alt={ratings[x.movie_id].movie_poster}\r\n                onClick={() => history.push(`/movie/${x.movie_id}`)}\r\n                width=\"100%\"\r\n                style={{ borderRadius: \"13px\", cursor: \"pointer\" }}\r\n                src={`https://image.tmdb.org/t/p/w154${\r\n                  ratings[x.movie_id].movie_poster\r\n                }`}\r\n              ></img>\r\n            </div>\r\n          </div>\r\n          <div className=\"col d-flex flex-column\">\r\n            <div className=\"row no-gutters justify-content-between align-items-center mb-2 flex-grow-0\">\r\n              <div className=\"col-60 d-block d-sm-none mb-3\">\r\n                <div className=\"row no-gutters mb-1\">\r\n                  <div className=\"col-auto pr-3\">\r\n                    <div\r\n                      className=\"square-70 rounded bg-image\"\r\n                      style={{\r\n                        backgroundImage: `url(https://image.tmdb.org/t/p/w154${\r\n                          ratings[x.movie_id].movie_poster\r\n                        })`,\r\n                      }}\r\n                    ></div>\r\n                    {/* <img\r\n                    onClick={() => history.push(`/movie/${x.id}`)}\r\n                    width=\"100%\"\r\n                    style={{ borderRadius: \"13px\" }}\r\n                    src={`https://image.tmdb.org/t/p/w154${x.movie_poster}`}\r\n                  ></img> */}\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <div className=\"row no-gutters text-white h6 mb-0\">\r\n                      {ratings[x.movie_id].movie_title} (\r\n                      {ratings[x.movie_id].movie_release_date.substring(0, 4)}\r\n                    </div>\r\n                    <div className=\"row no-gutters text-muted\">\r\n                      <div className=\"text-truncate\">{x.movie_genres}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters justify-content-between\">\r\n                  <div className=\"col-auto\">\r\n                    <div className=\"row no-gutters align-items-center\">\r\n                      <div className=\"col-auto pr-2\">\r\n                        <div\r\n                          className=\"bg-image rounded-circle square-40\"\r\n                          style={{\r\n                            backgroundImage: `url(${\r\n                              publicUsers[x.author]\r\n                                ? publicUsers[x.author].photo\r\n                                : \"\"\r\n                            })`,\r\n                          }}\r\n                        ></div>\r\n                      </div>\r\n                      <div className=\"col-auto\">\r\n                        <div className=\"row no-gutters align-items-center text-white\">\r\n                          <div className=\"col-auto mr-3 mb-0\">\r\n                            {publicUsers[x.author]\r\n                              ? publicUsers[x.author].display_name\r\n                              : \"\"}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-auto\">\r\n                    <div className=\"row no-gutters text-white\">\r\n                      <span className=\"mr-2\">Posted review on</span>\r\n                      <span className=\"text-muted\">\r\n                        {date.format(new Date(x.date), \"MMM DD, YYYY\")}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters text-light mb-3 font-size-14 flex-grow-0 font-weight-300\">\r\n              {x.review}\r\n            </div>\r\n\r\n            <div className=\"row no-gutters flex-grow-1 align-items-bottom\">\r\n              <div className=\"col-60 d-flex flex-column justify-content-end\">\r\n                <div className=\"row no-gutters justify-content-between align-items-center text-white\">\r\n                  <div className=\"col-auto\">\r\n                    <div className=\"row no-gutters\">\r\n                      {x.rating ? (\r\n                        x.rating === \"ok_rate\" ? (\r\n                          <div style={{ marginTop: \"-4px\" }}>\r\n                            <OkIcon size={24}></OkIcon>\r\n                          </div>\r\n                        ) : (\r\n                          <div style={{ marginBottom: \"-6px\" }}>\r\n                            <Emoji\r\n                              emoji={\r\n                                x.rating === \"excellent_rate\"\r\n                                  ? \"fire\"\r\n                                  : x.rating === \"good_rate\"\r\n                                  ? \"heart\"\r\n                                  : x.rating === \"ok_rate\"\r\n                                  ? \"heavy-division-sign\"\r\n                                  : \"shit\"\r\n                              }\r\n                              set=\"facebook\"\r\n                              size={24}\r\n                            />\r\n                          </div>\r\n                        )\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-auto px-0\">\r\n                    <div className=\"row no-gutters align-items-center\">\r\n                      <div className=\"col-auto mr-2\">{x.likes.length}</div>\r\n                      <div className=\"col-auto mr-2 \">\r\n                        <MdThumbUp\r\n                          fontSize=\"24px\"\r\n                          className=\"text-green\"\r\n                        ></MdThumbUp>\r\n                      </div>\r\n                      <div className=\"col-auto mr-2\">{x.comments.length}</div>\r\n                      <div className=\"col-auto\">\r\n                        <MdChatBubble\r\n                          onClick={() => {\r\n                            setReviewIdOfVisibleComments(\r\n                              reviewIdOfVisibleComments === x._id ? -1 : x._id\r\n                            );\r\n                          }}\r\n                          fontSize=\"24px\"\r\n                          className=\"text-orange scale-transition cursor-pointer\"\r\n                        ></MdChatBubble>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Collapse in={reviewIdOfVisibleComments === x._id} className=\"mb-3\">\r\n          <div className=\"ml-4 h5 py-2 text-white\">\r\n            Comments ({comments[x._id] ? comments[x._id].length : 0})\r\n          </div>\r\n          {comments[x._id]\r\n            ? comments[x._id]\r\n                .slice(\r\n                  commentsPage * (commentsPage - 1),\r\n                  commentsPage * (commentsPage - 1) + commentsPerPage\r\n                )\r\n                .map((y, ind) => (\r\n                  <div\r\n                    key={`comment-${reviewIdOfVisibleComments}-${ind}`}\r\n                    className=\"row no-gutters p-4 bg-over-root-lighter rounded ml-4 mb-2\"\r\n                  >\r\n                    <div className=\"col-auto pr-4 d-none d-md-block\">\r\n                      <div\r\n                        className=\"bg-image rounded-circle square-70\"\r\n                        style={{\r\n                          backgroundImage: `url(${\r\n                            publicUsers[y.author]\r\n                              ? publicUsers[y.author].photo\r\n                              : \"\"\r\n                          })`,\r\n                        }}\r\n                      ></div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div className=\"row no-gutters align-items-center mb-2\">\r\n                        <div className=\"col-auto pr-2 d-block d-md-none\">\r\n                          <div\r\n                            className=\"bg-image rounded-circle square-40\"\r\n                            style={{\r\n                              backgroundImage: `url(${\r\n                                publicUsers[y.author]\r\n                                  ? publicUsers[y.author].photo\r\n                                  : \"\"\r\n                              })`,\r\n                            }}\r\n                          ></div>\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                          <div className=\"row no-gutters align-items-center\">\r\n                            <div className=\"col-auto mr-3 h6 text-white mb-0\">\r\n                              {publicUsers[y.author]\r\n                                ? publicUsers[y.author].display_name\r\n                                : \"\"}\r\n                            </div>\r\n                            <div className=\"col-auto mr-3 text-muted\">\r\n                              {date.format(new Date(y.date), \"MMM DD, YYYY\")}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"row no-gutters text-light mb-3\">\r\n                        {y.comment}\r\n                      </div>\r\n                      <div className=\"row no-gutters justify-content-between align-items-center\">\r\n                        <div className=\"col-auto\">\r\n                          <div className=\"row no-gutters align-items-center\">\r\n                            <div className=\"col-auto mr-2\">\r\n                              {y.likes.length}\r\n                            </div>\r\n                            <div className=\"col-auto mr-2 \">\r\n                              <MdThumbUp\r\n                                fontSize=\"24px\"\r\n                                className=\"text-green cursor-pointer\"\r\n                              ></MdThumbUp>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n            : \"\"}\r\n          <div className=\"row no-gutters mt-2 justify-content-end\">\r\n            <div className=\"col-auto ml-4\">\r\n              <Paigination\r\n                count={Math.ceil(\r\n                  comments[x._id] ? comments[x._id].length / commentsPerPage : 1\r\n                )}\r\n                current={commentsPage}\r\n                setCurrent={setCommentsPage}\r\n                classNames={{\r\n                  notSelected: \"input-dark\",\r\n                  selected: \"input-dark-selected\",\r\n                }}\r\n              ></Paigination>\r\n            </div>\r\n          </div>\r\n        </Collapse>\r\n      </React.Fragment>\r\n    ));\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(ReviewsList);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { SearchMovies, SearchSeries } from \"../../server/MoviesApi\";\r\nimport MoviesList from \"./MoviesList\";\r\nimport { SearchReviews } from \"../../server/DatabaseApi\";\r\nimport ReviewsList from \"./ReviewsList\";\r\nimport store from \"../../store/store\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport \"simplebar/dist/simplebar.min.css\";\r\nimport { OfficialMoviesGenres, OfficialSeriesGenres } from \"../../Data\";\r\n\r\nconst extractGenres = (movies) => {\r\n  let genres = { 0: \"All\" };\r\n  movies.forEach((x) => {\r\n    x.genre_ids.forEach((gid) => {\r\n      let genre = x.title // movies have title, series - name\r\n        ? OfficialMoviesGenres.find((g) => g.id === gid)\r\n        : OfficialSeriesGenres.find((g) => g.id === gid);\r\n      if (genre && genre.name) {\r\n        if (!(gid in genres)) {\r\n          genres[gid] = genre.name;\r\n        }\r\n      } else {\r\n      }\r\n    });\r\n  });\r\n  return genres;\r\n};\r\n\r\nconst SearchResults = ({ search, settings }) => {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [movies, setMovies] = useState([]);\r\n  const [series, setSeries] = useState([]);\r\n  const [selectedMovieGenre, setSelectedMovieGenre] = useState(0);\r\n  const [selectedSerieGenre, setSelectedSerieGenre] = useState(0);\r\n  const category = search.category;\r\n\r\n  const onFail = () => {\r\n    store.dispatch({\r\n      type: \"SET_NOTIFICATION\",\r\n      notification: {\r\n        title: \"Error\",\r\n        message: \"You need to provide valid api key in admin dashboard\",\r\n        type: \"failure\",\r\n      },\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (search.query) {\r\n        if (category === \"Reviews\" || category === \"All\") {\r\n          let reviews = await SearchReviews(search.query);\r\n          if (!reviews.error) {\r\n            setReviews(reviews);\r\n          }\r\n        } else {\r\n          setReviews([]);\r\n        }\r\n        if (category === \"Movies\" || category === \"All\") {\r\n          let movies = await SearchMovies(\r\n            search.query,\r\n            settings.movies_api_key\r\n          );\r\n          if (movies.results) {\r\n            setMovies(movies.results);\r\n          } else {\r\n            onFail();\r\n          }\r\n        } else {\r\n          setMovies([]);\r\n        }\r\n        if (category === \"Series\" || category === \"All\") {\r\n          let series = await SearchSeries(\r\n            search.query,\r\n            settings.movies_api_key\r\n          );\r\n          if (series.results) {\r\n            setSeries(series.results);\r\n          } else {\r\n            onFail();\r\n          }\r\n        } else {\r\n          setSeries([]);\r\n        }\r\n      }\r\n    }\r\n    getData();\r\n  }, [search]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const moviesGenres = extractGenres(movies);\r\n  const seriesGenres = extractGenres(series);\r\n  return (\r\n    <div\r\n      className=\"row no-gutters justify-content-center bg-over-root\"\r\n      style={{ minHeight: window.innerHeight }}\r\n    >\r\n      <div className=\"col-60 d-flex flex-column\">\r\n        <div className=\"row no-gutters flex-grow-0\"></div>\r\n        <div className=\"row no-gutters flex-grow-1\">\r\n          <div className=\"col-60 d-flex flex-column\">\r\n            <div className=\"row no-gutters flex-grow-1 justify-content-center\">\r\n              <div className=\"col-60 p-5 text-white content-container d-flex flex-column\">\r\n                <div className=\"row no-gutters flex-grow-1\">\r\n                  <div className=\"col-60 mb-4\">\r\n                    <div className=\"row no-gutters h4\">Search Results</div>\r\n                    <div className=\"row no-gutters text-muted border-bottom pb-3\">\r\n                      Showing all results\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-60\">\r\n                    {movies.length ? (\r\n                      <div className=\"row no-gutters h5 mb-2\">\r\n                        Movies ({movies.length})\r\n                      </div>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    <div className=\"row no-gutters justify-content-end text-light align-items-center mb-4\">\r\n                      <div className=\"col-auto\">\r\n                        {Object.keys(moviesGenres).length > 1 ? (\r\n                          <SimpleBar\r\n                            style={{\r\n                              padding: \"14px 0\",\r\n                              width: \"100%\",\r\n                              overflowX: \"auto\",\r\n                              whiteSpace: \"nowrap\",\r\n                            }}\r\n                          >\r\n                            {Object.keys(moviesGenres).map((x, i) => (\r\n                              <div\r\n                                onClick={() => {\r\n                                  setSelectedMovieGenre(x);\r\n                                }}\r\n                                style={{ display: \"inline-block\" }}\r\n                                key={`genre-for-popular-movie-${i}`}\r\n                                className={`px-4 ${\r\n                                  +selectedMovieGenre === +x\r\n                                    ? \"btn-tertiary-selected text-white\"\r\n                                    : \"btn-tertiary text-light-white\"\r\n                                }`}\r\n                              >\r\n                                {moviesGenres[x]}\r\n                              </div>\r\n                            ))}\r\n                          </SimpleBar>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-60\">\r\n                    {movies.length ? (\r\n                      <React.Fragment>\r\n                        <MoviesList\r\n                          movies={movies.filter((x) => {\r\n                            return (\r\n                              x.genre_ids.includes(+selectedMovieGenre) ||\r\n                              +selectedMovieGenre === 0\r\n                            );\r\n                          })}\r\n                        ></MoviesList>\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    <div className=\"py-2 row no-gutters\"></div>\r\n                    <div className=\"row no-gutters\">\r\n                      <div className=\"col-60\">\r\n                        {series.length ? (\r\n                          <div className=\"row no-gutters h5 mb-2\">\r\n                            Series ({series.length})\r\n                          </div>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                        <div className=\"row no-gutters justify-content-end text-light align-items-center mb-4\">\r\n                          <div className=\"col-auto\">\r\n                            {Object.keys(seriesGenres).length > 1 ? (\r\n                              <SimpleBar\r\n                                style={{\r\n                                  padding: \"14px 0\",\r\n                                  width: \"100%\",\r\n                                  overflowX: \"auto\",\r\n                                  whiteSpace: \"nowrap\",\r\n                                }}\r\n                              >\r\n                                {Object.keys(seriesGenres).map((x, i) => (\r\n                                  <div\r\n                                    onClick={() => {\r\n                                      setSelectedSerieGenre(x);\r\n                                    }}\r\n                                    style={{ display: \"inline-block\" }}\r\n                                    key={`genre-for-popular-movie-${i}`}\r\n                                    className={`px-4 ${\r\n                                      +selectedSerieGenre === +x\r\n                                        ? \"btn-tertiary-selected text-white\"\r\n                                        : \"btn-tertiary text-light-white\"\r\n                                    }`}\r\n                                  >\r\n                                    {seriesGenres[x]}\r\n                                  </div>\r\n                                ))}\r\n                              </SimpleBar>\r\n                            ) : (\r\n                              \"\"\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    {series.length ? (\r\n                      <React.Fragment>\r\n                        <MoviesList\r\n                          prefix={\"serie-\"}\r\n                          movies={series\r\n                            .filter((x) => {\r\n                              return (\r\n                                x.genre_ids.includes(+selectedSerieGenre) ||\r\n                                +selectedSerieGenre === 0\r\n                              );\r\n                            })\r\n                            .map((x) =>\r\n                              Object.assign({}, x, { id: `serie-${x.id}` })\r\n                            )}\r\n                        ></MoviesList>\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    <div className=\"py-2 row no-gutters\"></div>\r\n                    {reviews.length ? (\r\n                      <React.Fragment>\r\n                        <div className=\"row no-gutters h5 mb-2\">\r\n                          Reviews ({reviews.length})\r\n                        </div>\r\n                        <ReviewsList reviews={reviews}></ReviewsList>\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    settings: state.settings,\r\n    search: state.search,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(SearchResults);\r\n","import * as React from \"react\";\r\n\r\nfunction Logo(props) {\r\n  return (\r\n    <svg\r\n      fill={\"transparent\"}\r\n      id=\"logo__svg8\"\r\n      viewBox=\"0 0 98.1 111.451\"\r\n      height={\"100%\"}\r\n      {...props}\r\n    >\r\n      <defs id=\"logo__defs2\">\r\n        <clipPath clipPathUnits=\"userSpaceOnUse\" id=\"logo__clipPath923\">\r\n          <rect\r\n            id=\"logo__rect925\"\r\n            width={595.99}\r\n            height={569.726}\r\n            x={359.033}\r\n            y={144.727}\r\n            ry={10.993}\r\n            fill=\"#14bf4f\"\r\n            fillOpacity={0.52}\r\n            strokeWidth={2.513}\r\n            strokeLinecap=\"square\"\r\n            paintOrder=\"markers fill stroke\"\r\n          />\r\n        </clipPath>\r\n        <clipPath id=\"logo__clipPath857\" clipPathUnits=\"userSpaceOnUse\">\r\n          <rect\r\n            ry={11.18}\r\n            y={200.285}\r\n            x={462.025}\r\n            height={421.234}\r\n            width={370.77}\r\n            id=\"logo__rect859\"\r\n            fill=\"#14bf4f\"\r\n            fillOpacity={0.52}\r\n            strokeWidth={2.443}\r\n            strokeLinecap=\"square\"\r\n            paintOrder=\"markers fill stroke\"\r\n          />\r\n        </clipPath>\r\n      </defs>\r\n      <g id=\"logo__layer1\" transform=\"translate(-52.373 -23.252)\">\r\n        <g\r\n          id=\"logo__g917\"\r\n          transform=\"matrix(.26458 0 0 .26458 -69.87 -29.74)\"\r\n          clipPath=\"url(#logo__clipPath857)\"\r\n        >\r\n          <path id=\"logo__rect870\" d=\"M2-3h1286v1026H2z\" />\r\n          <g id=\"logo__g894\">\r\n            <path\r\n              id=\"logo__path872\"\r\n              d=\"M582.17 504.56c-.49.61-1.24.71-1.88 1.03-7.21 3.59-11.41 9.32-12.53 17.34-.5 3.58-.2 7.07.57 10.55.95 4.29 3.05 7.95 6.19 11.01.33.32.68.6 1 .93.28.29.36.64.07.96-.49.54-1.03 1.03-1.51 1.57-4.22 4.78-6.45 10.36-6.11 16.73.58 10.7 7.16 18.96 16.77 21.94.86.27 1.8.3 2.58.87.28.71-.29 1.17-.55 1.69-3.92 7.96-3.6 15.77.77 23.46.31.54.78 1 .83 1.69-.24.55-.76.33-1.16.37-.45.04-.91.01-1.36.01-12.73 0-25.46 0-38.19.01-3.46 0-6.91-.03-10.37.02-8.48.12-16.11-2.48-23.04-7.22-11.1-7.6-17.68-18.06-19.61-31.41-.2-1.35-.37-2.7-.37-4.07.01-16.55-.06-33.1.02-49.65.05-10.03 3.1-19.14 9.2-27.14 5.2-6.82 11.88-11.71 19.87-14.79 5.55-2.14 10.19-5.53 14.06-10.02 2.51-2.91 4.62-6.08 6.44-9.44 3.45-6.37 5.63-13.18 7.11-20.24 1.61-7.69 2.25-15.46 2.19-23.3-.03-4.01 1-7.74 3.02-11.18 3.25-5.51 7.97-9.16 14.2-10.7 12.53-3.11 25.43 6.37 26.53 18.57.59 6.57.3 13.07-.42 19.58-.59 5.33-1.33 10.64-2.39 15.9-1.48 7.32-3.67 14.43-6.41 21.38-.46 1.16-1.19 1.99-2.05 2.82-3.72 3.57-6.06 7.88-6.98 12.98-.98 5.4-.04 10.47 2.39 15.34.38.77 1.08 1.43 1.12 2.41z\"\r\n              className=\"logo__st0\"\r\n            />\r\n            <path\r\n              id=\"logo__path874\"\r\n              d=\"M652.59 618.75c.16-1.11.69-1.64 1.07-2.24 3.91-6.12 5.54-12.8 4.79-20.02-.17-1.62-.61-3.21-.92-4.81-.1-.51.07-.89.6-1.03 1.41-.36 2.82-.7 4.23-1.06 21.37-5.42 40.31-15.44 56.69-30.21 18.45-16.63 31.25-36.94 39.23-60.38.5-1.46 1.02-2.92 1.4-4.41.5-1.9-.94-3.2-2.86-2.63-.69.2-1.35.54-2.02.82-5.52 2.33-11.09 4.56-16.8 6.41-5.55 1.8-11.23 3-17.03 3.61-3.89.41-7.79.67-11.67 1.12-2.31.27-4-.53-5.5-2.26-2-2.29-3.68-4.71-4.49-7.69-.9-3.32-.49-6.47.98-9.54.87-1.83 2.13-3.38 3.47-4.87.83-.92 1.86-1.43 3.1-1.52.82-.06 1.63-.17 2.44-.21 18.74-1.03 35.75-7.12 51-17.94 19.67-13.95 32.95-32.57 39.65-55.79 1.56-5.42 2.53-10.96 3.14-16.58 1.44-13.31-.37-26.29-3.84-39.11-3.07-11.32-7.82-21.88-14.66-31.46-8.18-11.45-18.57-20.38-30.88-27.12-8.24-4.51-16.89-8.05-26.01-10.37-.53-.13-1.06-.26-1.57-.44-.83-.28-1.14-1.31-.58-1.99.34-.42.76-.78 1.16-1.15 4.27-3.96 8.54-7.9 12.81-11.86 2.07-1.92 4.16-3.81 6.17-5.78.77-.76 1.49-.81 2.43-.44 5.08 2 10.07 4.2 14.84 6.85 29.34 16.29 49.33 40.48 60.49 72.02 3.13 8.85 4.97 18.02 5.89 27.38.72 7.26.86 14.54.29 21.79-2.11 26.66-11.41 50.53-28.29 71.35-2.06 2.54-4.26 4.98-6.51 7.35-2.94 3.09-4.53 6.72-4.99 10.94-3.71 34.36-17.62 64.25-39.98 90.31-14.67 17.09-32.59 29.96-52.98 39.44-13.08 6.08-26.69 10.52-40.91 13.05-1.05.2-2.13.3-3.38.47z\"\r\n              className=\"logo__st1\"\r\n            />\r\n            <path\r\n              id=\"logo__path876\"\r\n              d=\"M478.72 519.92c-.5-.47-.63-1.11-.86-1.69-4.42-11.29-7.62-22.91-9.37-34.92-.58-3.95-1.23-7.9-1.91-11.84-.56-3.25-.51-6.52-.46-9.79.05-3.73.12-7.45.13-11.18.01-2.91.14-5.79.65-8.68 1.37-7.69 2.45-15.43 4.34-23.02 6.18-24.86 17.44-47.13 34.09-66.6 20.87-24.41 46.77-41.16 77.51-50.44 5.83-1.76 11.74-3.22 17.76-4.17 1.82-.29 3.12-1.07 4.32-2.47 7.94-9.33 17.04-17.38 27.25-24.18.3-.2.6-.4.91-.6 1.15-.71 1.24-.74 2.09.13 1.53 1.55 3.02 3.15 4.55 4.71.69.71.94 1.53.78 2.49-.07.45-.12.9-.21 1.35-1.42 7.12-2.87 14.24-4.27 21.37-.24 1.22-.76 2.17-1.72 2.98a51.582 51.582 0 00-3.59 3.34c-9.65 9.94-21.33 16.11-34.77 19.32-19.29 4.6-36.74 13.15-52.2 25.58-21.51 17.28-36.31 39.19-44.61 65.49-2.91 9.21-4.75 18.64-5.63 28.27-.67 7.36-.68 14.71-.26 22.07.27 4.8.84 9.6 1.83 14.32.29 1.4 0 2.36-.95 3.42-7.06 7.89-11.63 17.07-13.84 27.42-.38 1.77-.58 3.58-.88 5.38-.11.69.01 1.46-.68 1.94z\"\r\n              className=\"logo__st1\"\r\n            />\r\n            <path\r\n              id=\"logo__path878\"\r\n              d=\"M684.32 203.33c.82.51.98 1.37 1.31 2.09 4.75 10.31 9.53 20.6 14.15 30.97.95 2.14 2.04 3.58 4.52 3.47 11.54 2 23.09 4.01 34.63 6.01.27.05.55.1.77.24.24.14.39.42.15.66-.57.58-1.17 1.14-1.78 1.69-8.21 7.59-16.44 15.16-24.64 22.77-2.32 2.15-2.39 1.45-1.86 5.14.8 5.57 1.64 11.14 2.45 16.72.89 6.11 1.76 12.23 2.63 18.34.05.35.01.72.01 1.09-.93.13-1.52-.54-2.19-.92-9.75-5.46-19.47-10.96-29.2-16.45-.32-.18-.67-.31-.95-.54-1.57-1.25-3.05-.99-4.77-.13-10.07 5.05-20.18 10-30.28 14.97-.87.43-1.77.79-2.66 1.19-.37-.88-.09-1.58.05-2.28 2.25-11.22 4.52-22.43 6.77-33.65.6-2.98.59-2.98-1.59-5.22-7.78-8.03-15.57-16.06-23.35-24.09-.62-.64-1.22-1.3-1.98-2.11.99-.54 1.88-.57 2.73-.67 8.48-.99 16.97-1.96 25.46-2.94 3.07-.35 6.13-.77 9.21-1.04 1.45-.13 2.24-.8 2.9-2.06 4.1-7.9 8.27-15.76 12.42-23.63 1.7-3.2 3.39-6.4 5.09-9.62z\"\r\n              className=\"logo__st0\"\r\n            />\r\n            <path\r\n              id=\"logo__path880\"\r\n              d=\"M623.34 542.48h-36.81c-1.18 0-2.35 0-3.52-.28-4.03-.99-6.84-4.24-6.95-8.36-.1-4.09-.01-8.18-.03-12.27-.02-3.59 2.82-7.96 7.69-8.57.9-.11 1.81-.16 2.71-.16 24.72-.01 49.44-.01 74.16 0 .99 0 2 .05 2.98.22 4.14.73 7.22 4.1 7.36 8.28.14 4.18.14 8.36.01 12.54-.15 4.68-3.82 8.25-8.62 8.59-.81.06-1.64.02-2.45.02-12.17-.01-24.35-.01-36.53-.01z\"\r\n              className=\"logo__st0\"\r\n            />\r\n            <path\r\n              id=\"logo__path882\"\r\n              d=\"M623.37 578.52h-36.8c-1.27 0-2.53 0-3.79-.34-3.89-1.04-6.62-4.26-6.72-8.27-.1-4.18-.11-8.36.01-12.54.12-4.17 3.25-7.6 7.35-8.28.98-.16 1.99-.22 2.98-.22 24.72-.01 49.43-.01 74.15 0 .91 0 1.82.04 2.71.17 4.27.62 7.51 4 7.67 8.29.15 4.17.14 8.36.01 12.54-.15 4.7-3.82 8.28-8.59 8.62-.81.06-1.64.02-2.45.02-12.17.01-24.35.01-36.53.01z\"\r\n              className=\"logo__st0\"\r\n            />\r\n            <path\r\n              id=\"logo__path884\"\r\n              d=\"M620.62 505.62c-6.18 0-12.37-.02-18.55.01-3.5.02-6.64-.99-9.33-3.22-4.56-3.78-6.17-8.75-5.07-14.42 1.09-5.62 4.67-9.32 10.13-11.1 1.57-.51 3.21-.62 4.85-.62 11.91 0 23.82 0 35.74.01 5.36.01 9.69 2.09 12.85 6.47 5.14 7.13 2.02 19.96-8.82 22.6-1.13.28-2.35.25-3.52.26-6.1.02-12.19.01-18.28.01z\"\r\n              className=\"logo__st0\"\r\n            />\r\n            <path\r\n              id=\"logo__path886\"\r\n              d=\"M619.47 614.55c-5.82 0-11.63-.01-17.45 0-2.46 0-4.65-.7-6.49-2.38-1.84-1.67-2.9-3.78-2.96-6.23-.1-4.09-.17-8.19.01-12.27.16-3.75 2.06-6.5 5.57-8.05 1.11-.49 2.28-.6 3.46-.61 1.91-.02 3.82-.01 5.73-.01h28.36c.82 0 1.64.01 2.45.03 4.74.12 8.34 4.48 8.33 8.5-.01 4 .06 8-.01 12-.08 5.04-3.7 8.74-8.74 9-1.36.07-2.73.02-4.09.02h-14.17z\"\r\n              className=\"logo__st0\"\r\n            />\r\n            <path\r\n              id=\"logo__path888\"\r\n              d=\"M733.06 336.76c7.64-.27 16.28 5.85 16.29 16.22.01 10.03-8.33 16.74-16.61 16.68a16.298 16.298 0 01-16.24-16.62c.17-10.3 8.58-16.54 16.56-16.28z\"\r\n              className=\"logo__st1\"\r\n            />\r\n            <path\r\n              id=\"logo__path890\"\r\n              d=\"M706.71 419.78c-5.31.04-11.12-4.33-11.9-9.26-.56-3.55.49-6.65 2.66-9.37 1.19-1.5 2.79-2.58 4.58-3.33 2.17-.9 4.39-1.15 6.63-.36 4.18 1.46 7.2 4.09 8.35 8.54.42 1.63.38 3.24-.12 4.82-1.38 4.33-4.03 7.44-8.55 8.69-.7.19-1.43.23-1.65.27z\"\r\n              className=\"logo__st1\"\r\n            />\r\n            <path\r\n              id=\"logo__path892\"\r\n              d=\"M662.89 381.33c.18 4.2-3.56 9.55-8.04 10.98-1.69.54-3.44.61-5.12.19-3.8-.95-6.71-3.14-8.53-6.66-.82-1.59-.95-3.31-.8-5.05.58-6.87 6.71-11.24 12.19-10.68 5.47.56 10.36 5.78 10.3 11.22z\"\r\n              className=\"logo__st1\"\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n      <style id=\"style868\" type=\"text/css\">\r\n        {\".logo__st0{fill:#fbfbfb}.logo__st1{fill:#fd0040}\"}\r\n      </style>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default Logo;\r\n","import React from \"react\";\r\nimport { MdSettings, MdGroup, MdRateReview, MdMenu } from \"react-icons/md\";\r\nimport { FaBullhorn } from \"react-icons/fa\";\r\nimport { BsBellFill, BsFillTagFill } from \"react-icons/bs\";\r\nimport store from \"../../store/store\";\r\nimport Logo from \"../../images/Logo\";\r\n\r\nconst menuItems = [\r\n  { name: \"Settings\", icon: MdSettings },\r\n  { name: \"User Management\", icon: MdGroup },\r\n  { name: \"Reviews & Comments\", icon: MdRateReview },\r\n  { name: \"Announcements\", icon: FaBullhorn },\r\n  { name: \"Promotions\", icon: BsFillTagFill },\r\n  { name: \"Notifications\", icon: BsBellFill },\r\n];\r\n\r\nconst LeftSideMenu = ({\r\n  section,\r\n  setSection,\r\n  isMenuOpened,\r\n  mobile = false,\r\n}) => {\r\n  return (\r\n    <div className=\"row no-gutters bg-over-root-lighter text-white h-100 admin-menu\">\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters justify-content-between align-items-center d-flex d-lg-none px-5 mb-4\">\r\n          <div className=\"col-auto h3\">\r\n            <div className=\"row no-gutters align-items-center\">\r\n              <div className=\"square-50 mr-2\">\r\n                <Logo></Logo>\r\n              </div>\r\n              <div className=\"col-auto logo text-title-lg\">CozyPotato</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-auto\">\r\n            <MdMenu\r\n              className=\"cursor-pointer\"\r\n              fontSize=\"34px\"\r\n              onClick={() => {\r\n                store.dispatch({\r\n                  type: \"SET_DASHBOARD_MENU_OPENED\",\r\n                  isOpened: !isMenuOpened,\r\n                });\r\n              }}\r\n            ></MdMenu>\r\n          </div>\r\n        </div>\r\n        {menuItems.map((x, i) => (\r\n          <div\r\n            key={`left-menu-item-${i}`}\r\n            className=\"row no-gutters px-4 mb-2\"\r\n            style={{\r\n              borderLeft:\r\n                section === i\r\n                  ? \"4px solid rgb(255, 0, 64)\"\r\n                  : \"4px solid transparent\",\r\n            }}\r\n          >\r\n            <div className=\"col-60\">\r\n              <div\r\n                onClick={() => {\r\n                  setSection(i);\r\n                  if (mobile) {\r\n                    store.dispatch({\r\n                      type: \"SET_DASHBOARD_MENU_OPENED\",\r\n                      isOpened: !isMenuOpened,\r\n                    });\r\n                  }\r\n                }}\r\n                key={`menu-item-${i}`}\r\n                className={`align-items-center px-3 btn-custom text-left row no-gutters${\r\n                  section === i ? \" bg-custom-primary\" : \"\"\r\n                }`}\r\n              >\r\n                <x.icon className=\"col-auto mr-2\" fontSize=\"24px\"></x.icon>\r\n                <div className=\"col-auto\">{x.name}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeftSideMenu;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  UpdateOrCreateSettings,\r\n  ChangeBackgroundMovie,\r\n  GetSettings,\r\n} from \"../../server/DatabaseApi\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../store/store\";\r\nimport date from \"date-and-time\";\r\nimport {\r\n  FaFacebookF,\r\n  FaInstagram,\r\n  FaLinkedinIn,\r\n  FaTwitter,\r\n} from \"react-icons/fa\";\r\nimport Loader from \"../utility/Loader\";\r\n\r\nconst socialIcons = [\r\n  { icon: FaFacebookF, name: \"Facebook\" },\r\n  { icon: FaInstagram, name: \"Instagram\" },\r\n  { icon: FaLinkedinIn, name: \"Linkedin\" },\r\n  { icon: FaTwitter, name: \"Twitter\" },\r\n];\r\n\r\nconst Settings = ({ settings }) => {\r\n  const [problem, setProblem] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const validations = [\r\n    {\r\n      valid:\r\n        (/^http/.test(settings.FacebookLink) || settings.FacebookLink === \"\") &&\r\n        (/^http/.test(settings.TwitterLink) || settings.TwitterLink === \"\") &&\r\n        (/^http/.test(settings.LinkedinLink) || settings.LinkedinLink === \"\") &&\r\n        (/^http/.test(settings.InstagramLink) || settings.InstagramLink === \"\"),\r\n\r\n      error: \"Social link must start with http:// or https://\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className={`row no-gutters admin-screen`}>\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters border-bottom pb-3 mb-5\">\r\n          <div className=\"col-60 admin-screen-title\">Settings</div>\r\n          <div className=\"col-60\">Configuration settings for admin panel</div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-xl-40 col-sm-60\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 mb-4\">\r\n                <div className=\"row no-gutters mb-1\">\r\n                  Configure API for popular movies (main for now)\r\n                </div>\r\n                <div className=\"row no-gutters\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter API key\"\r\n                    value={settings.movies_api_key}\r\n                    onChange={(e) => {\r\n                      e.persist();\r\n                      store.dispatch({\r\n                        type: \"UPDATE_SETTINGS\",\r\n                        settings: { movies_api_key: e.target.value },\r\n                      });\r\n                    }}\r\n                    className=\"px-3 input-light w-100\"\r\n                  ></input>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60 mb-4\">\r\n                <div className=\"row no-gutters mb-1\">\r\n                  Configure API for movie data\r\n                </div>\r\n                <div className=\"row no-gutters\">\r\n                  <input\r\n                    value={settings.movie_data_api}\r\n                    onChange={(e) => {\r\n                      e.persist();\r\n                      store.dispatch({\r\n                        type: \"UPDATE_SETTINGS\",\r\n                        settings: { movie_data_api: e.target.value },\r\n                      });\r\n                    }}\r\n                    type=\"text\"\r\n                    placeholder=\"Enter API key\"\r\n                    className=\"px-3 input-light w-100\"\r\n                  ></input>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60 mb-4\">\r\n                <div className=\"row no-gutters mb-1\">\r\n                  Configure API for latest movies\r\n                </div>\r\n                <div className=\"row no-gutters\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter API key\"\r\n                    value={settings.latest_movies_api}\r\n                    onChange={(e) => {\r\n                      e.persist();\r\n                      store.dispatch({\r\n                        type: \"UPDATE_SETTINGS\",\r\n                        settings: { latest_movies_api: e.target.value },\r\n                      });\r\n                    }}\r\n                    className=\"px-3 input-light w-100\"\r\n                  ></input>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60 mb-4\">\r\n                <div className=\"row no-gutters mb-1\">Set Captcha API key</div>\r\n                <div className=\"row no-gutters\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter API key\"\r\n                    value={settings.captcha_api_key}\r\n                    onChange={(e) => {\r\n                      e.persist();\r\n                      store.dispatch({\r\n                        type: \"UPDATE_SETTINGS\",\r\n                        settings: { captcha_api_key: e.target.value },\r\n                      });\r\n                    }}\r\n                    className=\"px-3 input-light w-100\"\r\n                  ></input>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-lg-30 col-60 mb-4\">\r\n                    <div className=\"row no-gutters mb-1\">\r\n                      Number of popular reviews to show\r\n                    </div>\r\n                    <div className=\"row no-gutters\">\r\n                      <input\r\n                        value={settings.no_popular_reviews}\r\n                        onChange={(e) => {\r\n                          e.persist();\r\n                          store.dispatch({\r\n                            type: \"UPDATE_SETTINGS\",\r\n                            settings: { no_popular_reviews: e.target.value },\r\n                          });\r\n                        }}\r\n                        min={0}\r\n                        type=\"number\"\r\n                        className=\"px-3 input-light w-100\"\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-lg-30 col-60 mb-4\">\r\n                    <div className=\"row no-gutters mb-1\">\r\n                      Number of popular movies to show\r\n                    </div>\r\n                    <div className=\"row no-gutters\">\r\n                      <input\r\n                        value={settings.no_popular_movies}\r\n                        onChange={(e) => {\r\n                          e.persist();\r\n                          store.dispatch({\r\n                            type: \"UPDATE_SETTINGS\",\r\n                            settings: { no_popular_movies: e.target.value },\r\n                          });\r\n                        }}\r\n                        min={0}\r\n                        type=\"number\"\r\n                        className=\"px-3 input-light w-100\"\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-lg-30 col-60 mb-4\">\r\n                    <div className=\"row no-gutters mb-1\">\r\n                      Number of Reviews allowed per day per user\r\n                    </div>\r\n                    <div className=\"row no-gutters\">\r\n                      <input\r\n                        value={settings.no_allowed_reviews}\r\n                        onChange={(e) => {\r\n                          e.persist();\r\n                          store.dispatch({\r\n                            type: \"UPDATE_SETTINGS\",\r\n                            settings: { no_allowed_reviews: e.target.value },\r\n                          });\r\n                        }}\r\n                        min={0}\r\n                        type=\"number\"\r\n                        className=\"px-3 input-light w-100\"\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-lg-30 col-60 mb-4\">\r\n                    <div className=\"row no-gutters mb-1\">\r\n                      Number of characters allowed in comments\r\n                    </div>\r\n                    <div className=\"row no-gutters\">\r\n                      <input\r\n                        value={settings.no_comment_characters}\r\n                        onChange={(e) => {\r\n                          e.persist();\r\n                          store.dispatch({\r\n                            type: \"UPDATE_SETTINGS\",\r\n                            settings: { no_comment_characters: e.target.value },\r\n                          });\r\n                        }}\r\n                        min={0}\r\n                        type=\"number\"\r\n                        className=\"px-3 input-light w-100\"\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-lg-30 col-60 mb-4\">\r\n                    <div className=\"row no-gutters mb-1\">\r\n                      Number of characters allowed in display name\r\n                    </div>\r\n                    <div className=\"row no-gutters\">\r\n                      <input\r\n                        value={settings.no_display_name_characters}\r\n                        onChange={(e) => {\r\n                          e.persist();\r\n                          store.dispatch({\r\n                            type: \"UPDATE_SETTINGS\",\r\n                            settings: {\r\n                              no_display_name_characters: e.target.value,\r\n                            },\r\n                          });\r\n                        }}\r\n                        min={0}\r\n                        type=\"number\"\r\n                        className=\"px-3 input-light w-100\"\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-lg-30 col-60 mb-4\">\r\n                    <div className=\"row no-gutters mb-1\">\r\n                      Number of words allowed in review\r\n                    </div>\r\n                    <div className=\"row no-gutters\">\r\n                      <input\r\n                        value={settings.no_review_words}\r\n                        onChange={(e) => {\r\n                          e.persist();\r\n                          store.dispatch({\r\n                            type: \"UPDATE_SETTINGS\",\r\n                            settings: { no_review_words: e.target.value },\r\n                          });\r\n                        }}\r\n                        min={0}\r\n                        type=\"number\"\r\n                        className=\"px-3 input-light w-100\"\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-xl-40 col-60 mb-4\">\r\n                <div className=\"row no-gutters mb-1\">\r\n                  Background image refresh time (days, hours, minutes)\r\n                </div>\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-20 pr-3\">\r\n                    <div className=\"row no-gutters text-muted\">days</div>\r\n                    <div className=\"row no-gutters\">\r\n                      <input\r\n                        value={settings.bg_image_refresh_time_days}\r\n                        onChange={(e) => {\r\n                          e.persist();\r\n                          store.dispatch({\r\n                            type: \"UPDATE_SETTINGS\",\r\n                            settings: {\r\n                              bg_image_refresh_time_days: e.target.value,\r\n                            },\r\n                          });\r\n                        }}\r\n                        min={0}\r\n                        type=\"number\"\r\n                        className=\"px-3 input-light w-100\"\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-20 pr-3\">\r\n                    <div className=\"row no-gutters text-muted\">hours</div>\r\n                    <div className=\"row no-gutters\">\r\n                      <input\r\n                        value={settings.bg_image_refresh_time_hours}\r\n                        onChange={(e) => {\r\n                          e.persist();\r\n                          store.dispatch({\r\n                            type: \"UPDATE_SETTINGS\",\r\n                            settings: {\r\n                              bg_image_refresh_time_hours: e.target.value,\r\n                            },\r\n                          });\r\n                        }}\r\n                        min={0}\r\n                        type=\"number\"\r\n                        className=\"px-3 input-light w-100\"\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-20 \">\r\n                    <div className=\"row no-gutters text-muted\">minutes</div>\r\n                    <div className=\"row no-gutters\">\r\n                      <input\r\n                        value={settings.bg_image_refresh_time_minutes}\r\n                        onChange={(e) => {\r\n                          e.persist();\r\n                          store.dispatch({\r\n                            type: \"UPDATE_SETTINGS\",\r\n                            settings: {\r\n                              bg_image_refresh_time_minutes: e.target.value,\r\n                            },\r\n                          });\r\n                        }}\r\n                        min={0}\r\n                        type=\"number\"\r\n                        className=\"px-3 input-light w-100\"\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60 mb-4\">\r\n                <div className=\"row no-gutters mb-1\">\r\n                  Current background movie\r\n                </div>\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <img\r\n                    alt={settings.current_bg_movie.backdrop_path}\r\n                    style={{ maxWidth: \"500px\" }}\r\n                    width=\"100%\"\r\n                    src={`https://image.tmdb.org/t/p/w500${settings.current_bg_movie.backdrop_path}`}\r\n                  ></img>\r\n                </div>\r\n                <div className=\"row no-gutters mb-1\">Title</div>\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <input\r\n                    disabled\r\n                    className=\"input-light-disabled w-100 px-3\"\r\n                    value={settings.current_bg_movie.title}\r\n                  ></input>\r\n                </div>\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <div className=\"col-auto mr-4\">\r\n                    <div className=\"row no-gutters mb-1\">Set Date</div>\r\n                    <div className=\"row no-gutters\">\r\n                      <input\r\n                        disabled\r\n                        className=\"input-light-disabled px-3\"\r\n                        value={date.format(\r\n                          new Date(settings.current_bg_movie.date_set),\r\n                          \"YYYY-MM-DD @ hh:mm A\"\r\n                        )}\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-auto\">\r\n                    <div className=\"row no-gutters mb-1\">Refresh Date</div>\r\n                    <div className=\"row no-gutters\">\r\n                      <input\r\n                        disabled\r\n                        className=\"input-light-disabled px-3\"\r\n                        value={date.format(\r\n                          new Date(\r\n                            settings.current_bg_movie.date_set +\r\n                              settings.bg_image_refresh_time_minutes * 60000 +\r\n                              settings.bg_image_refresh_time_hours * 3600000 +\r\n                              settings.bg_image_refresh_time_days * 86400000\r\n                          ),\r\n                          \"YYYY-MM-DD @ hh:mm A\"\r\n                        )}\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row no-gutters\">\r\n                  <div\r\n                    className=\"col-auto btn-custom btn-custom-primary btn-small\"\r\n                    onClick={async () => {\r\n                      if (settings.movies_api_key) {\r\n                        setLoading(true);\r\n                        let res = await ChangeBackgroundMovie(\r\n                          settings.movies_api_key\r\n                        );\r\n                        setLoading(false);\r\n                        if (!res.error) {\r\n                          store.dispatch({\r\n                            type: \"UPDATE_SETTINGS\",\r\n                            settings: { current_bg_movie: res },\r\n                          });\r\n                        } else {\r\n                          store.dispatch({\r\n                            type: \"SET_NOTIFICATION\",\r\n                            notification: {\r\n                              title: \"Action not allowed\",\r\n                              message: res.error,\r\n                              type: \"failure\",\r\n                            },\r\n                          });\r\n                        }\r\n                      } else {\r\n                        store.dispatch({\r\n                          type: \"SET_NOTIFICATION\",\r\n                          notification: {\r\n                            title: \"Action not allowed\",\r\n                            message:\r\n                              \"You need to set movies api key to change background movie\",\r\n                            type: \"failure\",\r\n                          },\r\n                        });\r\n                      }\r\n                    }}\r\n                  >\r\n                    {loading ? (\r\n                      <Loader\r\n                        color={\"white\"}\r\n                        style={{\r\n                          position: \"absolute\",\r\n                          left: \"10px\",\r\n                          top: 0,\r\n                          bottom: 0,\r\n                          margin: \"auto\",\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                        loading={loading}\r\n                        size={20}\r\n                      ></Loader>\r\n                    ) : (\r\n                      \"Refresh\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters mb-1\">Set social links</div>\r\n                {socialIcons.map((x, i) => (\r\n                  <div\r\n                    className=\"row no-gutters mb-2\"\r\n                    key={`social-icons-settings-${i}`}\r\n                  >\r\n                    <div className=\"col-auto mr-2\">\r\n                      <div className=\"square-40 rounded-circle bg-white d-flex flex-center\">\r\n                        <x.icon fontSize=\"24px\" className=\"text-dark\"></x.icon>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <input\r\n                        spellCheck={false}\r\n                        type=\"text\"\r\n                        placeholder={`Paste ${x.name} link`}\r\n                        value={settings[`${x.name}Link`]}\r\n                        onChange={(e) => {\r\n                          e.persist();\r\n                          store.dispatch({\r\n                            type: \"UPDATE_SETTINGS\",\r\n                            settings: { [`${x.name}Link`]: e.target.value },\r\n                          });\r\n                        }}\r\n                        className=\"px-3 input-light w-100\"\r\n                      ></input>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"col-60 mt-3\">\r\n                <div\r\n                  style={{ height: \"30px\", opacity: problem ? 1 : 0 }}\r\n                  className=\"row no-gutters align-items-center text-danger\"\r\n                >\r\n                  {problem}\r\n                </div>\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto\">\r\n                    Cancel\r\n                  </div>\r\n                  <div\r\n                    className=\"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto\"\r\n                    onClick={async () => {\r\n                      let invalid = validations.filter((x) => !x.valid);\r\n                      if (invalid.length) {\r\n                        setProblem(invalid[0].error);\r\n                      } else {\r\n                        setProblem(\"\");\r\n                        let res = await UpdateOrCreateSettings(settings);\r\n                        if (res.error) {\r\n                          store.dispatch({\r\n                            type: \"SET_NOTIFICATION\",\r\n                            notification: {\r\n                              title: \"Error\",\r\n                              message: \"Settings were not updated\",\r\n                              type: \"failure\",\r\n                            },\r\n                          });\r\n                        } else {\r\n                          store.dispatch({\r\n                            type: \"SET_NOTIFICATION\",\r\n                            notification: {\r\n                              title: \"Settings updated!\",\r\n                              message: \"Settings were successfully updated\",\r\n                              type: \"success\",\r\n                            },\r\n                          });\r\n                          GetSettings((settings) => {\r\n                            if (!settings.error) {\r\n                              if (settings.length) {\r\n                                store.dispatch({\r\n                                  type: \"UPDATE_SETTINGS\",\r\n                                  settings: settings[0],\r\n                                });\r\n                              }\r\n                            }\r\n                          });\r\n                        }\r\n                      }\r\n                    }}\r\n                  >\r\n                    Save\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    settings: state.settings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Settings);\r\n","import React from \"react\";\r\nimport LeftSideMenu from \"./LeftSideMenu\";\r\n\r\nconst RightSideMenuFloating = ({ isMenuOpened, setSection, section }) => {\r\n  return (\r\n    <div\r\n      className={`d-block d-lg-none col-60 col-sm-40 col-md-30 col-lg-20 col-xl-15 vh-100 zindex-99 ${\r\n        !isMenuOpened ? \"zindex-0-1\" : \"\"\r\n      }`}\r\n      style={{\r\n        position: \"fixed\",\r\n        right: 0,\r\n        top: 0,\r\n      }}\r\n    >\r\n      <div className=\"w-100 h-100 position-relative\">\r\n        <div\r\n          className=\"container-fluid px-0\"\r\n          style={{\r\n            height: \"100%\",\r\n            width: \"100%\",\r\n            right: isMenuOpened ? 0 : \"-100%\",\r\n            transition: \"right 0.3s\",\r\n            position: \"absolute\",\r\n            zIndex: 10,\r\n            background: \"white\",\r\n          }}\r\n        >\r\n          <LeftSideMenu\r\n            mobile={true}\r\n            className=\"text-white bg-internly-90 col-12\"\r\n            section={section}\r\n            isMenuOpened={isMenuOpened}\r\n            setSection={setSection}\r\n          ></LeftSideMenu>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RightSideMenuFloating;\r\n","import React, { useState, useRef } from \"react\";\r\nimport Popover from \"./Popover\";\r\nimport { MdArrowDropDown } from \"react-icons/md\";\r\nimport uniqid from \"uniqid\";\r\n\r\nconst Select = ({\r\n  items,\r\n  btnName,\r\n  className = \"\",\r\n  multipleSelect = false,\r\n  popoverClass = \"\",\r\n  popoverWidth = \"auto\",\r\n  disabled = false,\r\n  onSelect = () => {},\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const opener = useRef(null);\r\n  return disabled ? (\r\n    <div className={popoverClass}>\r\n      <div\r\n        ref={opener}\r\n        className={\r\n          \"user-select-none d-flex justify-content-between align-items-center \" +\r\n          className\r\n        }\r\n      >\r\n        <div className=\"mr-2\">{btnName}</div>\r\n        <MdArrowDropDown\r\n          fontSize=\"16px\"\r\n          strokeWidth=\"1.5px\"\r\n          className=\"text-internly\"\r\n          style={{\r\n            transform: `rotate(${isOpen ? \"180deg\" : \"0deg\"})`,\r\n            transition: \"transform 0.3s\",\r\n          }}\r\n        ></MdArrowDropDown>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <Popover\r\n      className={popoverClass}\r\n      arrow={false}\r\n      onOpen={() => setIsOpen(true)}\r\n      onHide={() => setIsOpen(false)}\r\n      content={(w) => (\r\n        <div\r\n          className=\"bg-white\"\r\n          style={{ maxHeight: \"400px\", overflowY: \"auto\", width: w }}\r\n        >\r\n          {items.map((x, i) => (\r\n            <div\r\n              key={uniqid()}\r\n              className=\"popover-item w-100\"\r\n              onClick={() => {\r\n                onSelect(i);\r\n                if (!multipleSelect) {\r\n                  opener.current.click();\r\n                }\r\n              }}\r\n            >\r\n              <div>{x.item ? x.item : x}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    >\r\n      <div\r\n        ref={opener}\r\n        className={\r\n          \"cursor-pointer user-select-none d-flex justify-content-between align-items-center \" +\r\n          className\r\n        }\r\n      >\r\n        <div className=\"mr-2\">{btnName}</div>\r\n        <MdArrowDropDown\r\n          fontSize=\"16px\"\r\n          strokeWidth=\"1.5px\"\r\n          className=\"text-internly\"\r\n          style={{\r\n            transform: `rotate(${isOpen ? \"180deg\" : \"0deg\"})`,\r\n            transition: \"transform 0.3s\",\r\n          }}\r\n        ></MdArrowDropDown>\r\n      </div>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import React from \"react\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { Checkbox as MuiCheckbox } from \"@material-ui/core\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"rgb(255, 0, 64)\",\r\n    },\r\n    secondary: {\r\n      main: \"#202020\",\r\n    },\r\n  },\r\n});\r\n\r\nconst Checkbox = (props) => {\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <MuiCheckbox {...props}></MuiCheckbox>\r\n    </MuiThemeProvider>\r\n  );\r\n};\r\n\r\nexport default Checkbox;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport Checkbox from \"../utility/Checkbox\";\r\nimport { Emoji } from \"emoji-mart\";\r\nimport Pagination from \"../utility/Paigination\";\r\nimport { BsSearch } from \"react-icons/bs\";\r\nimport date from \"date-and-time\";\r\nimport { Swipeable } from \"react-swipeable\";\r\nimport { GetReviews, DeleteMultipleReviews } from \"../../server/DatabaseApi\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../store/store\";\r\nimport history from \"../../History\";\r\nimport OkIcon from \"../../images/OkIcon\";\r\n\r\nconst Reviews = ({\r\n  setEditReviewSection,\r\n  setEditReview,\r\n  publicUsers,\r\n  ratings,\r\n}) => {\r\n  const [action, setAction] = useState(\"\");\r\n  const [role, setRole] = useState(\"\");\r\n  const [searchKey, setSearchKey] = useState(\"User\");\r\n  const [lastVisibleColumn, setLastVisibleColumn] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [roleFilter, setRoleFilter] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [mainFilter, setMainFilter] = useState({ key: \"\", value: \"\" });\r\n  const [reviews, setReviews] = useState([]);\r\n  const [filteredReviews, setFilteredReviews] = useState([]);\r\n  const [refresh, setRefresh] = useState(false);\r\n  useEffect(() => {\r\n    async function getData() {\r\n      let res = await GetReviews();\r\n      if (!res.error) {\r\n        setReviews(\r\n          res.reverse().map((x) => Object.assign({}, x, { selected: false }))\r\n        );\r\n      }\r\n    }\r\n    getData();\r\n  }, [refresh]);\r\n\r\n  useEffect(() => {\r\n    let arr = [...reviews];\r\n    if (reviews.length) {\r\n      if (search) {\r\n        if (searchKey === \"User\") {\r\n          arr = arr.filter((x) =>\r\n            publicUsers[x.author].display_name\r\n              .toLowerCase()\r\n              .includes(search.toLowerCase())\r\n          );\r\n        } else if (searchKey === \"Review\") {\r\n          arr = arr.filter((x) =>\r\n            x.review.toLowerCase().includes(search.toLowerCase())\r\n          );\r\n        } else if (searchKey === \"Movie\") {\r\n          arr = arr.filter(\r\n            (x) =>\r\n              ratings[x.movie_id] &&\r\n              ratings[x.movie_id].movie_title\r\n                .toLowerCase()\r\n                .includes(search.toLowerCase())\r\n          );\r\n        }\r\n      }\r\n\r\n      if (roleFilter) {\r\n        arr = arr.filter((x) => publicUsers[x.author].role === roleFilter);\r\n      }\r\n      if (mainFilter.key === \"role\" && mainFilter.value) {\r\n        arr = arr.filter(\r\n          (x) => publicUsers[x.author][mainFilter.key] === mainFilter.value\r\n        );\r\n      }\r\n\r\n      if (mainFilter.key === \"deleted\" && mainFilter.value) {\r\n        arr = arr.filter((x) => x[\"deleted\"] === mainFilter.value);\r\n      } else {\r\n        arr = arr.filter((x) => !x[\"deleted\"]);\r\n      }\r\n\r\n      setFilteredReviews(arr);\r\n    }\r\n  }, [search, roleFilter, reviews, mainFilter]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  //boundaries for slicing reviews array. (pagination)\r\n  let boundaries = [(page - 1) * 5, (page - 1) * 5 + 5];\r\n  if (boundaries[1] >= filteredReviews.length) {\r\n    boundaries[1] = boundaries[1] - (boundaries[1] - filteredReviews.length);\r\n  }\r\n\r\n  const handleApply = async (all = false) => {\r\n    if (all) {\r\n      setRoleFilter(role === \"All\" ? \"\" : role);\r\n    }\r\n    if (action === \"Edit\") {\r\n      let selected = filteredReviews.filter((x) => x.selected);\r\n      if (selected.length) {\r\n        setEditReview(selected[0]);\r\n        setEditReviewSection();\r\n      }\r\n    } else if (action === \"Delete\") {\r\n      let selected = filteredReviews.filter((x) => x.selected);\r\n      if (selected.length) {\r\n        let res = await DeleteMultipleReviews(selected.map((x) => x._id));\r\n        if (res.error) {\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Error\",\r\n              message: res.error,\r\n              type: \"failure\",\r\n            },\r\n          });\r\n        } else {\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Reviews were deleted\",\r\n              message: \"Reviews were successfully deleted\",\r\n              type: \"success\",\r\n            },\r\n          });\r\n        }\r\n        setRefresh(!refresh);\r\n      }\r\n    }\r\n  };\r\n\r\n  const columns = [\"Title\", \"Review\", \"Rating\", \"Posted on\", \"Reported\"];\r\n\r\n  return (\r\n    <div className=\"row no-gutters\">\r\n      <div className=\"col-60 py-5\">\r\n        <div className=\"row no-gutters h6 mb-3\">\r\n          <div\r\n            className={`col-auto cursor-pointer ${\r\n              !mainFilter.key && !roleFilter ? \"text-primary\" : \"text-dark\"\r\n            }`}\r\n            onClick={() => {\r\n              setMainFilter({ key: \"\", value: \"\" });\r\n              setRoleFilter(\"\");\r\n            }}\r\n          >\r\n            All ({reviews.filter((x) => !x.deleted).length})\r\n          </div>\r\n          <div className=\"col-auto px-2 text-muted\">|</div>\r\n          <div\r\n            onClick={() =>\r\n              setMainFilter((prev) =>\r\n                Object.assign({}, prev, { key: \"role\", value: \"Administrator\" })\r\n              )\r\n            }\r\n            className={`cursor-pointer col-auto ${\r\n              mainFilter.key === \"role\" && mainFilter.value === \"Administrator\"\r\n                ? \"text-primary\"\r\n                : \"text-dark\"\r\n            }`}\r\n          >\r\n            By Administrators (\r\n            {Object.values(publicUsers).length\r\n              ? reviews.filter(\r\n                  (x) =>\r\n                    publicUsers[x.author] &&\r\n                    publicUsers[x.author].role === \"Administrator\" &&\r\n                    !x.deleted\r\n                ).length\r\n              : \"\"}\r\n            )\r\n          </div>\r\n          <div className=\"col-auto px-2 text-muted\">|</div>\r\n          <div\r\n            onClick={() =>\r\n              setMainFilter((prev) =>\r\n                Object.assign({}, prev, { key: \"deleted\", value: true })\r\n              )\r\n            }\r\n            className={`cursor-pointer col-auto ${\r\n              mainFilter.key === \"deleted\" && mainFilter.value === true\r\n                ? \"text-primary\"\r\n                : \"text-dark\"\r\n            }`}\r\n          >\r\n            Deleted ({reviews.filter((x) => x.deleted).length})\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters justify-content-between\">\r\n          <div className=\"col-sm-auto col-60\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 col-sm-auto pb-3 mr-sm-3\">\r\n                <div className=\"row no-gutters\">\r\n                  <Select\r\n                    popoverClass=\"col-60 col-sm-auto\"\r\n                    onSelect={(index) => setAction([\"Delete\"][index])}\r\n                    items={[\"Delete\"]}\r\n                    btnName={action ? action : \"Select Action\"}\r\n                    className=\"input-light px-3 col-auto \"\r\n                  ></Select>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60 col-sm-auto pb-3 mr-sm-3\">\r\n                <div className=\"row no-gutters\">\r\n                  <Select\r\n                    popoverClass=\"col-60 col-sm-auto\"\r\n                    onSelect={(index) =>\r\n                      setRole([\"All\", \"Administrator\", \"User\"][index])\r\n                    }\r\n                    items={[\"All\", \"Administrator\", \"User\"]}\r\n                    btnName={role ? role : \"Select Role\"}\r\n                    className=\"input-light px-3 col-auto\"\r\n                  ></Select>\r\n                </div>\r\n              </div>\r\n              <div\r\n                onClick={() => handleApply(true)}\r\n                className=\"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall\"\r\n              >\r\n                Apply\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-60 d-block d-sm-none\">\r\n            <div className=\"row no-gutters mb-3\">\r\n              <Select\r\n                popoverClass=\"w-100\"\r\n                onSelect={(index) =>\r\n                  setSearchKey([\"User\", \"Review\", \"Movie\"][index])\r\n                }\r\n                className=\"input-light col-60\"\r\n                items={[\"User\", \"Review\", \"Movie\"]}\r\n                btnName={`Search by ${searchKey}`}\r\n              ></Select>\r\n            </div>\r\n            <div className=\"row no-gutters mb-3\">\r\n              <div className=\"col-60 position-relative\">\r\n                <BsSearch\r\n                  fontSize=\"20px\"\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    margin: \"auto\",\r\n                    right: \"18px\",\r\n                  }}\r\n                ></BsSearch>\r\n                <input\r\n                  className=\"input-light w-100 pr-5 pl-3\"\r\n                  value={search}\r\n                  onChange={(e) => {\r\n                    e.persist();\r\n                    setSearch(e.target.value);\r\n                  }}\r\n                ></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-auto mb-3 d-none d-sm-block\">\r\n            <div className=\"row no-gutters\">\r\n              <Select\r\n                onSelect={(index) =>\r\n                  setSearchKey([\"User\", \"Review\", \"Movie\"][index])\r\n                }\r\n                className=\"table-input-prepend-select col-auto\"\r\n                items={[\"User\", \"Review\", \"Movie\"]}\r\n                btnName={`Search by ${searchKey}`}\r\n              ></Select>\r\n              <div className=\"col position-relative\">\r\n                <BsSearch\r\n                  fontSize=\"20px\"\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    margin: \"auto\",\r\n                    right: \"18px\",\r\n                  }}\r\n                ></BsSearch>\r\n                <input\r\n                  value={search}\r\n                  onChange={(e) => {\r\n                    e.persist();\r\n                    setSearch(e.target.value);\r\n                  }}\r\n                  className=\"table-input pr-5 pl-3\"\r\n                  style={{ minWidth: \"300px\" }}\r\n                ></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <Swipeable\r\n            style={{ minWidth: \"100%\" }}\r\n            onSwipedLeft={() => {\r\n              setLastVisibleColumn(\r\n                lastVisibleColumn + 1 < 4\r\n                  ? lastVisibleColumn + 1\r\n                  : lastVisibleColumn\r\n              );\r\n            }}\r\n            onSwipedRight={() => {\r\n              setLastVisibleColumn(\r\n                lastVisibleColumn - 1 >= 0\r\n                  ? lastVisibleColumn - 1\r\n                  : lastVisibleColumn\r\n              );\r\n            }}\r\n          >\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table bg-white border\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">\r\n                      <Checkbox\r\n                        color={\"primary\"}\r\n                        checked={\r\n                          reviews\r\n                            .slice(boundaries[0], boundaries[1])\r\n                            .filter((x) => x.selected).length ===\r\n                          boundaries[1] - boundaries[0]\r\n                        }\r\n                        onChange={(e) => {\r\n                          setFilteredReviews((prev) => {\r\n                            let arr = [...prev];\r\n                            for (\r\n                              let i = boundaries[0];\r\n                              i < boundaries[1];\r\n                              i++\r\n                            ) {\r\n                              arr[i].selected = e.target.checked;\r\n                            }\r\n                            return arr;\r\n                          });\r\n                        }}\r\n                      ></Checkbox>\r\n                    </th>\r\n                    <th className=\"table-header text-truncate text-left\">\r\n                      <div className=\"d-none d-lg-block\">Posted By</div>\r\n                      <div className=\"d-block d-lg-none\">By</div>\r\n                    </th>\r\n                    <th className=\"d-table-cell d-xl-none table-header text-truncate\">\r\n                      {columns[lastVisibleColumn]}\r\n                    </th>\r\n                    {columns.map((x, i) => (\r\n                      <th\r\n                        key={`header-col-${i}`}\r\n                        className=\"d-none d-xl-table-cell table-header text-truncate\"\r\n                      >\r\n                        <div>{x}</div>\r\n                      </th>\r\n                    ))}\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filteredReviews.length ? (\r\n                    filteredReviews\r\n                      .slice((page - 1) * 5, (page - 1) * 5 + 5)\r\n                      .map((x, i) => (\r\n                        <tr\r\n                          className=\"font-weight-600 bg-light\"\r\n                          key={`shortlist-item-${i}`}\r\n                        >\r\n                          <td className=\"text-center\">\r\n                            <Checkbox\r\n                              color={\"primary\"}\r\n                              checked={x.selected}\r\n                              onChange={(e) => {\r\n                                setFilteredReviews((prev) => {\r\n                                  let arr = [...prev];\r\n                                  arr[(page - 1) * 5 + i].selected =\r\n                                    e.target.checked;\r\n                                  return arr;\r\n                                });\r\n                              }}\r\n                            ></Checkbox>\r\n                          </td>\r\n                          <td>\r\n                            {publicUsers[x.author] ? (\r\n                              <div>\r\n                                <div style={{ whiteSpace: \"nowrap\" }}>\r\n                                  <div className=\"d-inline-block mr-2\">\r\n                                    <div\r\n                                      className=\"square-50 rounded-circle bg-image\"\r\n                                      style={{\r\n                                        backgroundImage: `url(${\r\n                                          publicUsers[x.author].photo\r\n                                        })`,\r\n                                      }}\r\n                                    ></div>\r\n                                  </div>\r\n                                  <div className=\"d-none d-md-inline-block align-top\">\r\n                                    <div className=\"h6 text-primary\">\r\n                                      {publicUsers[x.author].display_name}\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      {publicUsers[x.author].email}\r\n                                    </div>\r\n                                    <div className=\"d-flex\">\r\n                                      <div\r\n                                        className=\"text-primary underline-link\"\r\n                                        onClick={() => {\r\n                                          setEditReview(x);\r\n                                          setEditReviewSection();\r\n                                        }}\r\n                                      >\r\n                                        Edit\r\n                                      </div>\r\n                                      <div className=\"px-2\">|</div>\r\n                                      <div\r\n                                        className=\"text-danger underline-link\"\r\n                                        onClick={async () => {\r\n                                          let res = await DeleteMultipleReviews(\r\n                                            [x._id]\r\n                                          );\r\n                                          if (res.error) {\r\n                                            store.dispatch({\r\n                                              type: \"SET_NOTIFICATION\",\r\n                                              notification: {\r\n                                                title: \"Error\",\r\n                                                message: res.error,\r\n                                                type: \"failure\",\r\n                                              },\r\n                                            });\r\n                                          } else {\r\n                                            store.dispatch({\r\n                                              type: \"SET_NOTIFICATION\",\r\n                                              notification: {\r\n                                                title: \"Review was deleted\",\r\n                                                message:\r\n                                                  \"Review was successfully deleted\",\r\n                                                type: \"success\",\r\n                                              },\r\n                                            });\r\n                                          }\r\n                                          setRefresh(!refresh);\r\n                                        }}\r\n                                      >\r\n                                        Delete\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            ) : (\r\n                              \"\"\r\n                            )}\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              lastVisibleColumn === 0\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            <div style={{ maxWidth: \"150px\" }}>\r\n                              {ratings[x.movie_id]\r\n                                ? ratings[x.movie_id].movie_title\r\n                                : \"\"}\r\n                            </div>\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              lastVisibleColumn === 1\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            <div>\r\n                              <div\r\n                                style={{ minWidth: \"200px\" }}\r\n                                className=\"cursor-pointer user-select-none btn-link text-clamp-4\"\r\n                                onClick={(e) => {\r\n                                  history.push(`/movie/${x.movie_id}/${x._id}`);\r\n                                }}\r\n                              >\r\n                                {x.review}\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              lastVisibleColumn === 2\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            {x.rating === \"ok_rate\" ? (\r\n                              <div style={{ marginTop: \"-4px\" }}>\r\n                                <OkIcon size={24}></OkIcon>\r\n                              </div>\r\n                            ) : (\r\n                              <div style={{ marginBottom: \"-6px\" }}>\r\n                                <Emoji\r\n                                  emoji={\r\n                                    x.rating === \"excellent_rate\"\r\n                                      ? \"fire\"\r\n                                      : x.rating === \"good_rate\"\r\n                                      ? \"heart\"\r\n                                      : x.rating === \"ok_rate\"\r\n                                      ? \"heavy_division_sign\"\r\n                                      : \"shit\"\r\n                                  }\r\n                                  set=\"facebook\"\r\n                                  size={24}\r\n                                />\r\n                              </div>\r\n                            )}\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              lastVisibleColumn === 3\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            <div style={{ whiteSpace: \"nowrap\" }}>\r\n                              {date.format(\r\n                                new Date(x.date),\r\n                                \"DD/MM/YYYY @ hh:mm A\"\r\n                              )}\r\n                            </div>\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              lastVisibleColumn === 4\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            {x.reported ? (\r\n                              <div className=\"text-danger\">Abused</div>\r\n                            ) : (\r\n                              <div className=\"text-success\">No</div>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      ))\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan={7} className=\" text-center py-5\">\r\n                        0 results found\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </Swipeable>\r\n        </div>\r\n        <div className=\"row no-gutters justify-content-center justify-content-sm-end\">\r\n          <div className=\"col-auto\">\r\n            <Pagination\r\n              count={Math.ceil(filteredReviews.length / 5)}\r\n              current={page}\r\n              setCurrent={setPage}\r\n            ></Pagination>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Reviews);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport Checkbox from \"../utility/Checkbox\";\r\nimport Pagination from \"../utility/Paigination\";\r\nimport { BsSearch } from \"react-icons/bs\";\r\nimport date from \"date-and-time\";\r\nimport { Swipeable } from \"react-swipeable\";\r\nimport { GetComments, DeleteMultipleComments } from \"../../server/DatabaseApi\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../store/store\";\r\nimport history from \"../../History\";\r\n\r\nconst Comments = ({\r\n  setEditCommentSection,\r\n  setEditComment,\r\n  publicUsers,\r\n  ratings,\r\n}) => {\r\n  const [action, setAction] = useState(\"\");\r\n  const [role, setRole] = useState(\"\");\r\n  const [searchKey, setSearchKey] = useState(\"User\");\r\n  const [lastVisibleColumn, setLastVisibleColumn] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [roleFilter, setRoleFilter] = useState(\"\");\r\n  const [mainFilter, setMainFilter] = useState({ key: \"\", value: \"\" });\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const [comments, setComments] = useState([]);\r\n  const [commentsObj, setCommentsObj] = useState({});\r\n\r\n  const [filteredComments, setFilteredComments] = useState([]);\r\n  const [refresh, setRefresh] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      let res = await GetComments();\r\n      if (!res.error) {\r\n        setComments(\r\n          res.reverse().map((x) => Object.assign({}, x, { selected: false }))\r\n        );\r\n        let obj = {};\r\n        res.forEach((x) => {\r\n          obj[x._id] = x;\r\n        });\r\n        setCommentsObj(obj);\r\n      }\r\n    }\r\n    getData();\r\n  }, [refresh]);\r\n\r\n  useEffect(() => {\r\n    let arr = [...comments];\r\n    if (comments.length) {\r\n      if (search) {\r\n        if (searchKey === \"User\") {\r\n          arr = arr.filter((x) =>\r\n            publicUsers[x.author].display_name\r\n              .toLowerCase()\r\n              .includes(search.toLowerCase())\r\n          );\r\n        } else if (searchKey === \"Comment\") {\r\n          arr = arr.filter((x) =>\r\n            x.comment.toLowerCase().includes(search.toLowerCase())\r\n          );\r\n        }\r\n      }\r\n\r\n      if (roleFilter) {\r\n        arr = arr.filter((x) => publicUsers[x.author].role === roleFilter);\r\n      }\r\n\r\n      if (mainFilter.key === \"role\" && mainFilter.value) {\r\n        arr = arr.filter(\r\n          (x) => publicUsers[x.author][mainFilter.key] === mainFilter.value\r\n        );\r\n      }\r\n\r\n      if (mainFilter.key === \"deleted\" && mainFilter.value) {\r\n        arr = arr.filter((x) => x[\"deleted\"] === mainFilter.value);\r\n      } else {\r\n        arr = arr.filter((x) => !x[\"deleted\"]);\r\n      }\r\n\r\n      setFilteredComments(arr);\r\n    }\r\n  }, [search, roleFilter, comments, mainFilter]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  //boundaries for slicing comments array. (pagination)\r\n  let boundaries = [(page - 1) * 5, (page - 1) * 5 + 5];\r\n  if (boundaries[1] >= filteredComments.length) {\r\n    boundaries[1] = boundaries[1] - (boundaries[1] - filteredComments.length);\r\n  }\r\n\r\n  const handleApply = async (all = false) => {\r\n    if (all) {\r\n      setRoleFilter(role === \"All\" ? \"\" : role);\r\n    }\r\n    let selected = filteredComments.filter((x) => x.selected);\r\n    if (selected.length) {\r\n      if (action === \"Edit\") {\r\n        setEditComment(selected[0]);\r\n        setEditCommentSection();\r\n      } else {\r\n        let ids = selected.map((x) => x._id);\r\n        let allIds = [...ids];\r\n\r\n        const fetchIds = (idsArr) => {\r\n          allIds = allIds.concat(idsArr);\r\n          idsArr.forEach((x) => fetchIds(commentsObj[x].comments));\r\n        };\r\n\r\n        fetchIds(ids);\r\n\r\n        let res = await DeleteMultipleComments(allIds);\r\n        if (res.error) {\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Error\",\r\n              message: res.error,\r\n              type: \"failure\",\r\n            },\r\n          });\r\n        } else {\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Comments were deleted\",\r\n              message: \"Comments were successfully deleted\",\r\n              type: \"success\",\r\n            },\r\n          });\r\n          setRefresh(!refresh);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"row no-gutters\">\r\n      <div className=\"col-60 py-5\">\r\n        <div className=\"row no-gutters h6 mb-3\">\r\n          <div\r\n            className={`col-auto cursor-pointer ${\r\n              !mainFilter.key && !roleFilter ? \"text-primary\" : \"text-dark\"\r\n            }`}\r\n            onClick={() => {\r\n              setMainFilter({ key: \"\", value: \"\" });\r\n              setRoleFilter(\"\");\r\n            }}\r\n          >\r\n            All ({comments.filter((x) => !x.deleted).length})\r\n          </div>\r\n          <div className=\"col-auto px-2 text-muted\">|</div>\r\n          <div\r\n            onClick={() =>\r\n              setMainFilter((prev) =>\r\n                Object.assign({}, prev, { key: \"role\", value: \"Administrator\" })\r\n              )\r\n            }\r\n            className={`cursor-pointer col-auto ${\r\n              mainFilter.key === \"role\" && mainFilter.value === \"Administrator\"\r\n                ? \"text-primary\"\r\n                : \"text-dark\"\r\n            }`}\r\n          >\r\n            By Administrators (\r\n            {Object.values(publicUsers).length\r\n              ? comments.filter(\r\n                  (x) =>\r\n                    publicUsers[x.author].role === \"Administrator\" && !x.deleted\r\n                ).length\r\n              : \"\"}\r\n            )\r\n          </div>\r\n          <div className=\"col-auto px-2 text-muted\">|</div>\r\n          <div\r\n            onClick={() =>\r\n              setMainFilter((prev) =>\r\n                Object.assign({}, prev, { key: \"deleted\", value: true })\r\n              )\r\n            }\r\n            className={`cursor-pointer col-auto ${\r\n              mainFilter.key === \"deleted\" && mainFilter.value === true\r\n                ? \"text-primary\"\r\n                : \"text-dark\"\r\n            }`}\r\n          >\r\n            Deleted ({comments.filter((x) => x.deleted).length})\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters justify-content-between\">\r\n          <div className=\"col-sm-auto col-60\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 col-sm-auto pb-3 mr-sm-3\">\r\n                <div className=\"row no-gutters\">\r\n                  <Select\r\n                    popoverClass=\"col-60 col-sm-auto\"\r\n                    onSelect={(index) => setAction([\"Delete\"][index])}\r\n                    items={[\"Delete\"]}\r\n                    btnName={action ? action : \"Select Action\"}\r\n                    className=\"input-light px-3 col-auto\"\r\n                  ></Select>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60 col-sm-auto pb-3 mr-sm-3\">\r\n                <div className=\"row no-gutters\">\r\n                  <Select\r\n                    popoverClass=\"col-60 col-sm-auto\"\r\n                    onSelect={(index) =>\r\n                      setRole([\"All\", \"Administrator\", \"User\"][index])\r\n                    }\r\n                    items={[\"All\", \"Administrator\", \"User\"]}\r\n                    btnName={role ? role : \"Select Role\"}\r\n                    className=\"input-light px-3 col-auto\"\r\n                  ></Select>\r\n                </div>\r\n              </div>\r\n              <div\r\n                onClick={() => handleApply(true)}\r\n                className=\"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall\"\r\n              >\r\n                Apply\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-60 d-block d-sm-none\">\r\n            <div className=\"row no-gutters mb-3\">\r\n              <Select\r\n                popoverClass=\"w-100\"\r\n                onSelect={(index) => setSearchKey([\"User\", \"Comment\"][index])}\r\n                className=\"input-light col-60\"\r\n                items={[\"User\", \"Comment\"]}\r\n                btnName={`Search by ${searchKey}`}\r\n              ></Select>\r\n            </div>\r\n            <div className=\"row no-gutters mb-3\">\r\n              <div className=\"col-60 position-relative\">\r\n                <BsSearch\r\n                  fontSize=\"20px\"\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    margin: \"auto\",\r\n                    right: \"18px\",\r\n                  }}\r\n                ></BsSearch>\r\n                <input\r\n                  className=\"input-light w-100 pr-5 pl-3\"\r\n                  value={search}\r\n                  onChange={(e) => {\r\n                    e.persist();\r\n                    setSearch(e.target.value);\r\n                  }}\r\n                ></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-auto mb-3 d-none d-sm-block\">\r\n            <div className=\"row no-gutters\">\r\n              <Select\r\n                onSelect={(index) => setSearchKey([\"User\", \"Comment\"][index])}\r\n                className=\"table-input-prepend-select col-auto\"\r\n                items={[\"User\", \"Comment\"]}\r\n                btnName={`Search by ${searchKey}`}\r\n              ></Select>\r\n              <div className=\"col position-relative\">\r\n                <BsSearch\r\n                  fontSize=\"20px\"\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    margin: \"auto\",\r\n                    right: \"18px\",\r\n                  }}\r\n                ></BsSearch>\r\n                <input\r\n                  value={search}\r\n                  onChange={(e) => {\r\n                    e.persist();\r\n                    setSearch(e.target.value);\r\n                  }}\r\n                  className=\"table-input pr-5 pl-3\"\r\n                  style={{ minWidth: \"300px\" }}\r\n                ></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <Swipeable\r\n            style={{ minWidth: \"100%\" }}\r\n            onSwipedLeft={() => {\r\n              setLastVisibleColumn(\r\n                lastVisibleColumn + 1 < 4\r\n                  ? lastVisibleColumn + 1\r\n                  : lastVisibleColumn\r\n              );\r\n            }}\r\n            onSwipedRight={() => {\r\n              setLastVisibleColumn(\r\n                lastVisibleColumn - 1 >= 0\r\n                  ? lastVisibleColumn - 1\r\n                  : lastVisibleColumn\r\n              );\r\n            }}\r\n          >\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table bg-white border\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">\r\n                      <Checkbox\r\n                        color={\"primary\"}\r\n                        checked={\r\n                          filteredComments\r\n                            .slice(boundaries[0], boundaries[1])\r\n                            .filter((x) => x.selected).length ===\r\n                          boundaries[1] - boundaries[0]\r\n                        }\r\n                        onChange={(e) => {\r\n                          setFilteredComments((prev) => {\r\n                            let arr = [...prev];\r\n                            for (\r\n                              let i = boundaries[0];\r\n                              i < boundaries[1];\r\n                              i++\r\n                            ) {\r\n                              arr[i].selected = e.target.checked;\r\n                            }\r\n                            return arr;\r\n                          });\r\n                        }}\r\n                      ></Checkbox>\r\n                    </th>\r\n                    <th className=\"table-header text-truncate text-left\">\r\n                      <div className=\"d-none d-lg-block\">Posted By</div>\r\n                      <div className=\"d-block d-lg-none\">By</div>\r\n                    </th>\r\n                    <th className=\"d-table-cell d-xl-none table-header text-truncate\">\r\n                      {\r\n                        [\"Comment\", \"In Repsonse To\", \"Posted On\", \"Reported\"][\r\n                          lastVisibleColumn\r\n                        ]\r\n                      }\r\n                    </th>\r\n                    <th className=\"d-none d-xl-table-cell table-header text-truncate\">\r\n                      <div>Comment</div>\r\n                    </th>\r\n                    <th className=\"d-none d-xl-table-cell table-header text-truncate\">\r\n                      <div>In Response To</div>\r\n                    </th>\r\n                    <th className=\"d-none d-xl-table-cell table-header text-truncate\">\r\n                      <div>Posted On</div>\r\n                    </th>\r\n                    <th className=\"d-none d-xl-table-cell table-header text-truncate\">\r\n                      <div>Reported</div>\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filteredComments.length ? (\r\n                    filteredComments\r\n                      .slice((page - 1) * 5, (page - 1) * 5 + 5)\r\n                      .map((x, i) => (\r\n                        <tr\r\n                          className=\"font-weight-600 bg-light\"\r\n                          key={`shortlist-item-${i}`}\r\n                        >\r\n                          <td className=\"text-center\">\r\n                            <Checkbox\r\n                              color={\"primary\"}\r\n                              checked={x.selected}\r\n                              onChange={(e) => {\r\n                                setFilteredComments((prev) => {\r\n                                  let arr = [...prev];\r\n                                  arr[(page - 1) * 5 + i].selected =\r\n                                    e.target.checked;\r\n                                  return arr;\r\n                                });\r\n                              }}\r\n                            ></Checkbox>\r\n                          </td>\r\n                          <td>\r\n                            <div>\r\n                              {publicUsers[x.author] ? (\r\n                                <div style={{ whiteSpace: \"nowrap\" }}>\r\n                                  <div className=\"d-inline-block mr-2\">\r\n                                    <div\r\n                                      className=\"square-50 rounded-circle bg-image\"\r\n                                      style={{\r\n                                        backgroundImage: `url(${\r\n                                          publicUsers[x.author].photo\r\n                                        })`,\r\n                                      }}\r\n                                    ></div>\r\n                                  </div>\r\n                                  <div className=\"d-none d-md-inline-block align-top\">\r\n                                    <div className=\"text-primary\">\r\n                                      {publicUsers[x.author].display_name}\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      {publicUsers[x.author].email}\r\n                                    </div>\r\n                                    <div className=\"d-flex\">\r\n                                      <div\r\n                                        className=\"text-primary underline-link\"\r\n                                        onClick={() => {\r\n                                          setEditComment(x);\r\n                                          setEditCommentSection();\r\n                                        }}\r\n                                      >\r\n                                        Edit\r\n                                      </div>\r\n                                      <div className=\"px-2\">|</div>\r\n                                      <div\r\n                                        className=\"text-danger underline-link\"\r\n                                        onClick={async () => {\r\n                                          let allIds = [x._id];\r\n\r\n                                          const fetchIds = (idsArr) => {\r\n                                            allIds = allIds.concat(idsArr);\r\n                                            idsArr.forEach((id) =>\r\n                                              fetchIds(commentsObj[id].comments)\r\n                                            );\r\n                                          };\r\n\r\n                                          fetchIds(allIds);\r\n\r\n                                          let res = await DeleteMultipleComments(\r\n                                            allIds\r\n                                          );\r\n                                          if (res.error) {\r\n                                            store.dispatch({\r\n                                              type: \"SET_NOTIFICATION\",\r\n                                              notification: {\r\n                                                title: \"Error\",\r\n                                                message: res.error,\r\n                                                type: \"failure\",\r\n                                              },\r\n                                            });\r\n                                          } else {\r\n                                            store.dispatch({\r\n                                              type: \"SET_NOTIFICATION\",\r\n                                              notification: {\r\n                                                title: \"Comment was deleted\",\r\n                                                message:\r\n                                                  \"Comment was successfully deleted\",\r\n                                                type: \"success\",\r\n                                              },\r\n                                            });\r\n                                          }\r\n                                          setRefresh(!refresh);\r\n                                        }}\r\n                                      >\r\n                                        Delete\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              ) : (\r\n                                \"\"\r\n                              )}\r\n                            </div>\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              lastVisibleColumn === 0\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            <div>\r\n                              <div\r\n                                style={{ minWidth: \"200px\" }}\r\n                                className=\"cursor-pointer user-select-none btn-link text-clamp-4\"\r\n                                onClick={(e) => {\r\n                                  history.push(\r\n                                    `/movie/${x.movie_id}/${x.review_id}/${x._id}`\r\n                                  );\r\n                                }}\r\n                              >\r\n                                {x.comment}\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              lastVisibleColumn === 1\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            <div>\r\n                              Movie:{\" \"}\r\n                              {ratings[x.movie_id]\r\n                                ? ratings[x.movie_id].movie_title\r\n                                : \"\"}\r\n                            </div>\r\n                            <div className=\"d-flex\">\r\n                              <div\r\n                                onClick={async () => {\r\n                                  history.push(\r\n                                    `/movie/${x.movie_id}/${x.review_id}`\r\n                                  );\r\n                                }}\r\n                                className=\"text-primary cursor-pointer\"\r\n                                style={{ whiteSpace: \"nowrap\" }}\r\n                              >\r\n                                View Review\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              lastVisibleColumn === 2\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            <div style={{ whiteSpace: \"nowrap\" }}>\r\n                              {date.format(\r\n                                new Date(x.date),\r\n                                \"DD/MM/YYYY @ hh:mm A\"\r\n                              )}\r\n                            </div>\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              lastVisibleColumn === 3\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            {x.reported ? (\r\n                              <div className=\"text-danger\">Abused</div>\r\n                            ) : (\r\n                              <div className=\"text-success\">No</div>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      ))\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan={6} className=\"text-center py-5\">\r\n                        0 results found\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n                {/* <tfoot>\r\n                  <tr>\r\n                    <th className=\"text-center\">\r\n                      <Checkbox\r\n                        color={\"primary\"}\r\n                        checked={\r\n                          comments\r\n                            .slice(boundaries[0], boundaries[1])\r\n                            .filter((x) => x.selected).length ===\r\n                          boundaries[1] - boundaries[0]\r\n                        }\r\n                        onChange={(e) => {\r\n                          setFilteredComments((prev) => {\r\n                            let arr = [...prev];\r\n                            for (\r\n                              let i = boundaries[0];\r\n                              i < boundaries[1];\r\n                              i++\r\n                            ) {\r\n                              arr[i].seleCted = e.target.checked;\r\n                            }\r\n                            return arr;\r\n                          });\r\n                        }}\r\n                      ></Checkbox>\r\n                    </th>\r\n                    <th className=\"table-footer text-truncate text-left\">\r\n                      <div className=\"d-none d-lg-block\">Posted By</div>\r\n                      <div className=\"d-block d-lg-none\">By</div>\r\n                    </th>\r\n                    <th className=\"d-table-cell d-xl-none table-header text-truncate\">\r\n                      {\r\n                        [\r\n                          \"Posted By\",\r\n                          \"Review\",\r\n                          \"Reported\",\r\n                          \"Movie Name\",\r\n                          \"Posted On\",\r\n                        ][lastVisibleColumn]\r\n                      }\r\n                    </th>\r\n                    <th className=\"d-none d-xl-table-cell table-footer text-truncate\">\r\n                      <div>Comment</div>\r\n                    </th>\r\n                    <th className=\"d-none d-xl-table-cell table-footer text-truncate\">\r\n                      <div>Reported</div>\r\n                    </th>\r\n                    <th className=\"d-none d-xl-table-cell table-footer text-truncate\">\r\n                      <div>In Response To</div>\r\n                    </th>\r\n                    <th className=\"d-none d-xl-table-cell table-footer text-truncate\">\r\n                      <div>Posted On</div>\r\n                    </th>\r\n                  </tr>\r\n                </tfoot> */}\r\n              </table>\r\n            </div>\r\n          </Swipeable>\r\n        </div>\r\n        <div className=\"row no-gutters justify-content-center justify-content-sm-end\">\r\n          <div className=\"col-auto\">\r\n            <Pagination\r\n              count={Math.ceil(filteredComments.length / 5)}\r\n              current={page}\r\n              setCurrent={setPage}\r\n            ></Pagination>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Comments);\r\n","import React, { useState } from \"react\";\r\nimport Reviews from \"./Reviews\";\r\nimport Comments from \"./Comments\";\r\n\r\nconst ReviewsAndComments = ({\r\n  setEditReview,\r\n  setEditReviewSection,\r\n  setEditCommentSection,\r\n  setEditComment,\r\n  containerSpacing,\r\n}) => {\r\n  const [tab, setTab] = useState(0);\r\n\r\n  return (\r\n    <div className={`row no-gutters admin-screen`}>\r\n      <div className=\"col-60 border-bottom\">\r\n        <div className=\"row no-gutters justify-content-between\">\r\n          <div className=\"col-auto pb-3\">\r\n            <div className=\"row no-gutters admin-screen-title\">\r\n              Reviews & Comments\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              Add, edit or delete reviews and comments\r\n            </div>\r\n          </div>\r\n          <div className=\"col-auto py-3\">\r\n            <div className=\"row no-gutters cursor-pointer\">\r\n              <div\r\n                style={{ width: \"150px\" }}\r\n                onClick={() => setTab(0)}\r\n                className={`rounded-left col table-btn${\r\n                  tab === 0 ? \" table-btn-selected\" : \"\"\r\n                }`}\r\n              >\r\n                Reviews\r\n              </div>\r\n              <div\r\n                style={{ width: \"150px\" }}\r\n                onClick={() => setTab(1)}\r\n                className={`rounded-right col table-btn${\r\n                  tab === 1 ? \" table-btn-selected\" : \"\"\r\n                }`}\r\n              >\r\n                Comments\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60\">\r\n        {tab === 0 ? (\r\n          <Reviews\r\n            setEditReviewSection={setEditReviewSection}\r\n            setEditReview={setEditReview}\r\n          ></Reviews>\r\n        ) : (\r\n          <Comments\r\n            setEditComment={setEditComment}\r\n            setEditCommentSection={setEditCommentSection}\r\n          ></Comments>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReviewsAndComments;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport { Ratings } from \"../../Data\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../store/store\";\r\nimport { EditReviewForAdmin } from \"../../server/DatabaseApi\";\r\nimport Loader from \"../utility/Loader\";\r\n\r\nconst EditReview = ({\r\n  currentReview,\r\n  publicUsers,\r\n  getBack,\r\n  ratings,\r\n  admin,\r\n}) => {\r\n  const [review, setReview] = useState({});\r\n  const [user, setUser] = useState({ display_name: \"\", email: \"\" });\r\n  const [loading, setLoading] = useState(false);\r\n  useEffect(() => {\r\n    if (currentReview) {\r\n      setReview(currentReview);\r\n      setUser(publicUsers[currentReview.author]);\r\n    }\r\n  }, [currentReview]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"row no-gutters p-md-5 p-4\" style={{ maxWidth: \"800px\" }}>\r\n      <div className=\"col-60 py-3 border-bottom mb-4\">\r\n        <div className=\"row no-gutters admin-screen-title\">\r\n          Reviews & Comments\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          Add, edit and delete reviews and comments\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Display name</div>\r\n          <div className=\"col-60\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"input-light w-100 px-3\"\r\n              value={user.display_name}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setUser((prev) =>\r\n                  Object.assign({}, prev, { display_name: e.target.value })\r\n                );\r\n              }}\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Message</div>\r\n          <div className=\"col-60\">\r\n            <textarea\r\n              value={review.review ? review.review : \"\"}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setReview((prev) =>\r\n                  Object.assign({}, prev, { review: e.target.value })\r\n                );\r\n              }}\r\n              className=\"textarea-light w-100\"\r\n              style={{ height: \"150px\" }}\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60 mb-4\">\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"60 mb-1\">Rating</div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <Select\r\n            popoverClass=\"col-md-30 col-60\"\r\n            className=\"input-light px-3\"\r\n            btnName={\r\n              review.rating\r\n                ? Ratings.find((x) => x.name === review.rating).element\r\n                : \"Select\"\r\n            }\r\n            onSelect={(index) => {\r\n              setReview((prev) =>\r\n                Object.assign({}, prev, { rating: Ratings[index].name })\r\n              );\r\n            }}\r\n            items={Ratings.map((x) => x.element)}\r\n          ></Select>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60 mb-4\">\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"60 mb-1\">Report status</div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <Select\r\n            popoverClass=\"col-md-30 col-60\"\r\n            className=\"input-light px-3\"\r\n            btnName={review.reported ? \"Reported\" : \"Not Reported\"}\r\n            onSelect={(index) => {\r\n              setReview((prev) =>\r\n                Object.assign({}, prev, {\r\n                  reported: index === 0 ? true : false,\r\n                })\r\n              );\r\n            }}\r\n            items={[\"Reported\", \"Not Reported\"]}\r\n          ></Select>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60 mb-4\">\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"60 mb-1\">Title</div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <input\r\n            value={ratings[currentReview.movie_id].movie_title}\r\n            disabled\r\n            className=\"input-light-disabled col-md-30 col-60 px-3\"\r\n          ></input>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60 mt-5\">\r\n        <div className=\"row no-gutters\">\r\n          <div\r\n            className=\"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto\"\r\n            onClick={() => getBack()}\r\n          >\r\n            Cancel\r\n          </div>\r\n          <div\r\n            className=\"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto\"\r\n            onClick={async () => {\r\n              try {\r\n                setLoading(true);\r\n                let res = await EditReviewForAdmin(review, user);\r\n                setLoading(false);\r\n                if (res.error) {\r\n                  store.dispatch({\r\n                    type: \"SET_NOTIFICATION\",\r\n                    notification: {\r\n                      title: \"Error\",\r\n                      message: res.error,\r\n                      type: \"failure\",\r\n                    },\r\n                  });\r\n                } else {\r\n                  store.dispatch({\r\n                    type: \"SET_NOTIFICATION\",\r\n                    notification: {\r\n                      title: \"Review updated\",\r\n                      message: \"Review was successfully updated\",\r\n                      type: \"success\",\r\n                    },\r\n                  });\r\n                  store.dispatch({\r\n                    type: \"UPDATE_RATINGS\",\r\n                    rating: {\r\n                      [review.movie_id]: res.rating,\r\n                    },\r\n                  });\r\n                  if (admin._id === review.author) {\r\n                    let adminRatings = { ...admin.ratings };\r\n                    adminRatings[review.movie_id] = {\r\n                      movie_id: review.movie_id,\r\n                      rate_type: review.rating,\r\n                    };\r\n\r\n                    store.dispatch({\r\n                      type: \"UPDATE_USER\",\r\n                      userProperty: {\r\n                        ratings: adminRatings,\r\n                      },\r\n                    });\r\n                  }\r\n\r\n                  getBack();\r\n                }\r\n              } catch (er) {}\r\n            }}\r\n          >\r\n            <Loader\r\n              color={\"white\"}\r\n              style={{\r\n                position: \"absolute\",\r\n                left: \"10px\",\r\n                top: 0,\r\n                bottom: 0,\r\n                margin: \"auto\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n              loading={loading}\r\n              size={20}\r\n            ></Loader>\r\n            Save\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    admin: state.user,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(EditReview);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../store/store\";\r\nimport { EditCommentForAdmin } from \"../../server/DatabaseApi\";\r\nimport Loader from \"../utility/Loader\";\r\n\r\nconst EditComment = ({ currentComment, publicUsers, getBack }) => {\r\n  const [comment, setComment] = useState({});\r\n  const [user, setUser] = useState({ display_name: \"\", email: \"\" });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (currentComment) {\r\n      setComment(currentComment);\r\n      setUser(publicUsers[currentComment.author]);\r\n    }\r\n  }, [currentComment]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"row no-gutters p-md-5 p-4\" style={{ maxWidth: \"800px\" }}>\r\n      <div className=\"col-60 py-3 border-bottom mb-4\">\r\n        <div className=\"row no-gutters admin-screen-title\">\r\n          Reviews & Comments\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          Add, edit and delete reviews and comments\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Display name</div>\r\n          <div className=\"col-60\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"input-light w-100 px-3\"\r\n              value={user.display_name}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setUser((prev) =>\r\n                  Object.assign({}, prev, { display_name: e.target.value })\r\n                );\r\n              }}\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Comment</div>\r\n          <div className=\"col-60\">\r\n            <textarea\r\n              value={comment.comment}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setComment((prev) =>\r\n                  Object.assign({}, prev, { comment: e.target.value })\r\n                );\r\n              }}\r\n              className=\"textarea-light w-100\"\r\n              style={{ height: \"150px\" }}\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60 mb-4\">\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"60 mb-1\">Report status</div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <Select\r\n            popoverClass=\"col-md-30 col-60\"\r\n            className=\"input-light px-3\"\r\n            btnName={comment.reported ? \"Reported\" : \"Not Reported\"}\r\n            onSelect={(index) => {\r\n              setComment((prev) =>\r\n                Object.assign({}, prev, {\r\n                  reported: index === 0 ? true : false,\r\n                })\r\n              );\r\n            }}\r\n            items={[\"Reported\", \"Not Reported\"]}\r\n          ></Select>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60 mt-5\">\r\n        <div className=\"row no-gutters\">\r\n          <div\r\n            className=\"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto\"\r\n            onClick={() => getBack()}\r\n          >\r\n            Cancel\r\n          </div>\r\n          <div\r\n            className=\"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto\"\r\n            onClick={async () => {\r\n              setLoading(true);\r\n              let res = await EditCommentForAdmin(comment, user);\r\n              setLoading(false);\r\n              if (res.error) {\r\n                store.dispatch({\r\n                  type: \"SET_NOTIFICATION\",\r\n                  notification: {\r\n                    title: \"Error\",\r\n                    message: res.error,\r\n                    type: \"failure\",\r\n                  },\r\n                });\r\n              } else {\r\n                store.dispatch({\r\n                  type: \"SET_NOTIFICATION\",\r\n                  notification: {\r\n                    title: \"Review updated\",\r\n                    message: \"Review was successfully updated\",\r\n                    type: \"success\",\r\n                  },\r\n                });\r\n                getBack();\r\n              }\r\n            }}\r\n          >\r\n            <Loader\r\n              color={\"white\"}\r\n              style={{\r\n                position: \"absolute\",\r\n                left: \"10px\",\r\n                top: 0,\r\n                bottom: 0,\r\n                margin: \"auto\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n              loading={loading}\r\n              size={20}\r\n            ></Loader>\r\n            Save\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(EditComment);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport Checkbox from \"../utility/Checkbox\";\r\nimport Pagination from \"../utility/Paigination\";\r\nimport { BsSearch } from \"react-icons/bs\";\r\nimport date from \"date-and-time\";\r\nimport { Swipeable } from \"react-swipeable\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  GetAnnouncements,\r\n  DeleteMultipleAnnouncements,\r\n} from \"../../server/DatabaseApi\";\r\nimport store from \"../../store/store\";\r\n\r\nconst Announcements = ({\r\n  setEditAnnouncement,\r\n  setEditAnnouncementSection,\r\n  setAddNewAnouncementSection,\r\n  publicUsers,\r\n}) => {\r\n  const [action, setAction] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [searchKey, setSearchKey] = useState(\"User\");\r\n  const [lastVisibleColumn, setLastVisibleColumn] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [typeFilter, setTypeFilter] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const [mainFilter, setMainFilter] = useState({ key: \"\", value: \"\" });\r\n\r\n  const [refresh, setRefresh] = useState(false);\r\n  const [announcements, setAnnouncements] = useState([]);\r\n  const [filteredAnnouncements, setFilteredAnnouncements] = useState([]);\r\n  useEffect(() => {\r\n    async function getData() {\r\n      let res = await GetAnnouncements();\r\n      if (!res.error) {\r\n        setAnnouncements(\r\n          res.map((x) => Object.assign({}, x, { selected: false }))\r\n        );\r\n      }\r\n    }\r\n    getData();\r\n  }, [refresh]);\r\n\r\n  useEffect(() => {\r\n    let arr = [...announcements];\r\n    if (announcements.length) {\r\n      if (search) {\r\n        if (searchKey === \"User\") {\r\n          arr = arr.filter((x) =>\r\n            publicUsers[x.author].display_name\r\n              .toLowerCase()\r\n              .includes(search.toLowerCase())\r\n          );\r\n        } else if (searchKey === \"Description\") {\r\n          arr = arr.filter((x) =>\r\n            x.description.toLowerCase().includes(search.toLowerCase())\r\n          );\r\n        }\r\n      }\r\n\r\n      if (typeFilter) {\r\n        arr = arr.filter((x) => x.type === typeFilter);\r\n      }\r\n\r\n      if (mainFilter.key) {\r\n        arr = arr.filter((x) => x[mainFilter.key] === mainFilter.value);\r\n      }\r\n\r\n      setFilteredAnnouncements(arr);\r\n    }\r\n  }, [search, typeFilter, announcements, mainFilter]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  //boundaries for slicing reviews array. (pagination)\r\n  let boundaries = [(page - 1) * 5, (page - 1) * 5 + 5];\r\n  if (boundaries[1] >= filteredAnnouncements.length) {\r\n    boundaries[1] =\r\n      boundaries[1] - (boundaries[1] - filteredAnnouncements.length);\r\n  }\r\n\r\n  const statuses = [\"Published\", \"Drafted\", \"Expired\"];\r\n  const actions = [\"Delete\"];\r\n\r\n  const handleApply = async (all = false) => {\r\n    if (all) {\r\n      setTypeFilter(type);\r\n    }\r\n    if (action === \"Edit\") {\r\n      let selected = filteredAnnouncements.filter((x) => x.selected);\r\n      if (selected.length) {\r\n        setEditAnnouncement(selected[0]);\r\n        setEditAnnouncementSection();\r\n      }\r\n    } else if (action === \"Delete\") {\r\n      let selected = filteredAnnouncements.filter((x) => x.selected);\r\n      if (selected.length) {\r\n        let res = await DeleteMultipleAnnouncements(selected.map((x) => x._id));\r\n        if (res.error) {\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Error\",\r\n              message: res.error,\r\n              type: \"failure\",\r\n            },\r\n          });\r\n        } else {\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Announcements were deleted\",\r\n              message: \"Announcements were successfully deleted\",\r\n              type: \"success\",\r\n            },\r\n          });\r\n        }\r\n        setRefresh(!refresh);\r\n      }\r\n    }\r\n  };\r\n\r\n  const types = [\"Information\", \"Error\", \"Warning\"];\r\n\r\n  return (\r\n    <div className=\"row no-gutters admin-screen\">\r\n      <div className=\"col-60 border-bottom\">\r\n        <div className=\"row no-gutters justify-content-between pb-3 align-items-end\">\r\n          <div className=\"col-auto\">\r\n            <div className=\"row no-gutters admin-screen-title\">\r\n              Announcements\r\n            </div>\r\n            <div className=\"row no-gutters\">Create and post announcements</div>\r\n          </div>\r\n          <div\r\n            className=\"col-auto btn-custom btn-custom-primary btn-natural\"\r\n            onClick={() => setAddNewAnouncementSection()}\r\n          >\r\n            Add New\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-60 py-5\">\r\n            <div className=\"row no-gutters h6 mb-3\">\r\n              <div\r\n                onClick={() => {\r\n                  setMainFilter({ key: \"\", value: \"\" });\r\n                  setType(\"\");\r\n                  setTypeFilter(\"\");\r\n                }}\r\n                className={`cursor-pointer col-auto ${\r\n                  !typeFilter && !mainFilter.key ? \"text-primary\" : \"text-dark\"\r\n                }`}\r\n              >\r\n                All ({announcements.length})\r\n              </div>\r\n              {statuses.map((x, i) => (\r\n                <React.Fragment key={`status-${i}`}>\r\n                  <div className=\"col-auto px-2 text-muted\">|</div>\r\n                  <div\r\n                    onClick={() =>\r\n                      setMainFilter((prev) =>\r\n                        Object.assign({}, prev, {\r\n                          key: \"status\",\r\n                          value: x,\r\n                        })\r\n                      )\r\n                    }\r\n                    className={`cursor-pointer col-auto ${\r\n                      mainFilter.key === \"status\" && mainFilter.value === x\r\n                        ? \"text-primary\"\r\n                        : \"text-dark\"\r\n                    }`}\r\n                  >\r\n                    {x} ({announcements.filter((y) => y.status === x).length})\r\n                  </div>\r\n                </React.Fragment>\r\n              ))}\r\n            </div>\r\n            <div className=\"row no-gutters justify-content-between\">\r\n              <div className=\"col-sm-auto col-60\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-60 col-sm-auto pb-3 mr-sm-3\">\r\n                    <div className=\"row no-gutters\">\r\n                      <Select\r\n                        popoverClass=\"col-60 col-sm-auto\"\r\n                        onSelect={(index) => setAction(actions[index])}\r\n                        items={actions}\r\n                        btnName={action ? action : \"Select Action\"}\r\n                        className=\"input-light px-3 col-auto \"\r\n                      ></Select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-60 col-sm-auto pb-3 mr-sm-3\">\r\n                    <div className=\"row no-gutters\">\r\n                      <Select\r\n                        popoverClass=\"col-60 col-sm-auto\"\r\n                        onSelect={(index) => setType(types[index])}\r\n                        items={types}\r\n                        btnName={type ? type : \"Select Type\"}\r\n                        className=\"input-light px-3 col-auto \"\r\n                      ></Select>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    onClick={() => handleApply(true)}\r\n                    className=\"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall\"\r\n                  >\r\n                    Apply\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60 d-block d-sm-none\">\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <Select\r\n                    popoverClass=\"w-100\"\r\n                    onSelect={(index) =>\r\n                      setSearchKey([\"User\", \"Description\"][index])\r\n                    }\r\n                    className=\"input-light col-60\"\r\n                    items={[\"User\", \"Description\"]}\r\n                    btnName={`Search by ${searchKey}`}\r\n                  ></Select>\r\n                </div>\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <div className=\"col-60 position-relative\">\r\n                    <BsSearch\r\n                      fontSize=\"20px\"\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        right: \"18px\",\r\n                      }}\r\n                    ></BsSearch>\r\n                    <input\r\n                      className=\"input-light w-100 pr-5 pl-3\"\r\n                      value={search}\r\n                      onChange={(e) => {\r\n                        e.persist();\r\n                        setSearch(e.target.value);\r\n                      }}\r\n                    ></input>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-auto mb-3 d-none d-sm-block\">\r\n                <div className=\"row no-gutters\">\r\n                  <Select\r\n                    onSelect={(index) =>\r\n                      setSearchKey([\"User\", \"Description\"][index])\r\n                    }\r\n                    className=\"table-input-prepend-select col-auto\"\r\n                    items={[\"User\", \"Description\"]}\r\n                    btnName={`Search by ${searchKey}`}\r\n                  ></Select>\r\n                  <div className=\"col position-relative\">\r\n                    <BsSearch\r\n                      fontSize=\"20px\"\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        right: \"18px\",\r\n                      }}\r\n                    ></BsSearch>\r\n                    <input\r\n                      value={search}\r\n                      onChange={(e) => {\r\n                        e.persist();\r\n                        setSearch(e.target.value);\r\n                      }}\r\n                      className=\"table-input pr-5 pl-3\"\r\n                      style={{ minWidth: \"300px\" }}\r\n                    ></input>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <Swipeable\r\n                style={{ minWidth: \"100%\" }}\r\n                onSwipedLeft={() => {\r\n                  setLastVisibleColumn(\r\n                    lastVisibleColumn + 1 < 4\r\n                      ? lastVisibleColumn + 1\r\n                      : lastVisibleColumn\r\n                  );\r\n                }}\r\n                onSwipedRight={() => {\r\n                  setLastVisibleColumn(\r\n                    lastVisibleColumn - 1 >= 0\r\n                      ? lastVisibleColumn - 1\r\n                      : lastVisibleColumn\r\n                  );\r\n                }}\r\n              >\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table bg-white border\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th className=\"text-center\">\r\n                          <Checkbox\r\n                            color={\"primary\"}\r\n                            checked={\r\n                              filteredAnnouncements\r\n                                .slice(boundaries[0], boundaries[1])\r\n                                .filter((x) => x.selected).length ===\r\n                              boundaries[1] - boundaries[0]\r\n                            }\r\n                            onChange={(e) => {\r\n                              setFilteredAnnouncements((prev) => {\r\n                                let arr = [...prev];\r\n                                for (\r\n                                  let i = boundaries[0];\r\n                                  i < boundaries[1];\r\n                                  i++\r\n                                ) {\r\n                                  arr[i].selected = e.target.checked;\r\n                                }\r\n                                return arr;\r\n                              });\r\n                            }}\r\n                          ></Checkbox>\r\n                        </th>\r\n                        <th className=\"table-header text-truncate text-left\">\r\n                          <div className=\"d-none d-lg-block\">Posted By</div>\r\n                          <div className=\"d-block d-lg-none\">By</div>\r\n                        </th>\r\n                        <th className=\"d-table-cell d-xl-none table-header text-truncate\">\r\n                          {\r\n                            [\"Type\", \"Description\", \"Duration\", \"Status\"][\r\n                              lastVisibleColumn\r\n                            ]\r\n                          }\r\n                        </th>\r\n                        <th className=\"d-none d-xl-table-cell table-header text-truncate\">\r\n                          <div>Type</div>\r\n                        </th>\r\n                        <th className=\"d-none d-xl-table-cell table-header text-truncate\">\r\n                          <div>Description</div>\r\n                        </th>\r\n                        <th className=\"d-none d-xl-table-cell table-header text-truncate\">\r\n                          <div>Duration</div>\r\n                        </th>\r\n                        <th className=\"d-none d-xl-table-cell table-header text-truncate\">\r\n                          <div>Status</div>\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {filteredAnnouncements.length ? (\r\n                        filteredAnnouncements\r\n                          .slice((page - 1) * 5, (page - 1) * 5 + 5)\r\n                          .map((x, i) => (\r\n                            <tr\r\n                              className=\"font-weight-600 bg-light\"\r\n                              key={`shortlist-item-${i}`}\r\n                            >\r\n                              <td className=\"text-center\">\r\n                                <Checkbox\r\n                                  color={\"primary\"}\r\n                                  checked={x.selected}\r\n                                  onChange={(e) => {\r\n                                    setFilteredAnnouncements((prev) => {\r\n                                      let arr = [...prev];\r\n                                      arr[(page - 1) * 5 + i].selected =\r\n                                        e.target.checked;\r\n                                      return arr;\r\n                                    });\r\n                                  }}\r\n                                ></Checkbox>\r\n                              </td>\r\n                              <td>\r\n                                {Object.values(publicUsers).length ? (\r\n                                  <React.Fragment>\r\n                                    <div>\r\n                                      <div style={{ whiteSpace: \"nowrap\" }}>\r\n                                        <div className=\"d-inline-block mr-2\">\r\n                                          <div\r\n                                            className=\"square-50 rounded-circle bg-image\"\r\n                                            style={{\r\n                                              backgroundImage: `url(${\r\n                                                publicUsers[x.author].photo\r\n                                              })`,\r\n                                            }}\r\n                                          ></div>\r\n                                        </div>\r\n                                        <div className=\"d-none d-md-inline-block align-top\">\r\n                                          <div className=\"text-primary\">\r\n                                            {publicUsers[x.author].display_name}\r\n                                          </div>\r\n                                          <div className=\"mb-3\">\r\n                                            {publicUsers[x.author].email}\r\n                                          </div>\r\n                                          <div className=\"d-flex\">\r\n                                            <div\r\n                                              className=\"text-primary underline-link\"\r\n                                              onClick={() => {\r\n                                                setEditAnnouncement(x);\r\n                                                setEditAnnouncementSection();\r\n                                              }}\r\n                                            >\r\n                                              Edit\r\n                                            </div>\r\n                                            <div className=\"px-2\">|</div>\r\n                                            <div\r\n                                              className=\"text-danger underline-link\"\r\n                                              onClick={async () => {\r\n                                                let res = await DeleteMultipleAnnouncements(\r\n                                                  [x._id]\r\n                                                );\r\n                                                if (res.error) {\r\n                                                  store.dispatch({\r\n                                                    type: \"SET_NOTIFICATION\",\r\n                                                    notification: {\r\n                                                      title: \"Error\",\r\n                                                      message: res.error,\r\n                                                      type: \"failure\",\r\n                                                    },\r\n                                                  });\r\n                                                } else {\r\n                                                  store.dispatch({\r\n                                                    type: \"SET_NOTIFICATION\",\r\n                                                    notification: {\r\n                                                      title:\r\n                                                        \"Announcement was deleted\",\r\n                                                      message:\r\n                                                        \"Announcement was successfully deleted\",\r\n                                                      type: \"success\",\r\n                                                    },\r\n                                                  });\r\n                                                }\r\n                                                setRefresh(!refresh);\r\n                                              }}\r\n                                            >\r\n                                              Delete\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </React.Fragment>\r\n                                ) : (\r\n                                  \"\"\r\n                                )}\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  x.type === \"Warning\"\r\n                                    ? \"text-warning\"\r\n                                    : x.type === \"Information\"\r\n                                    ? \"text-primary\"\r\n                                    : x.type === \"Error\"\r\n                                    ? \"text-danger\"\r\n                                    : \"\"\r\n                                }${\r\n                                  lastVisibleColumn === 0\r\n                                    ? \" d-table-cell\"\r\n                                    : \" d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                <div>{x.type}</div>\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 1\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                <div\r\n                                  style={{ minWidth: \"150px\" }}\r\n                                  className=\"text-clamp-4 cursor-pointer user-select-none\"\r\n                                  onClick={(e) => {\r\n                                    let target = e.currentTarget;\r\n                                    if (\r\n                                      target.classList.contains(\"text-clamp-4\")\r\n                                    ) {\r\n                                      target.classList.remove(\"text-clamp-4\");\r\n                                    } else {\r\n                                      target.classList.add(\"text-clamp-4\");\r\n                                    }\r\n                                  }}\r\n                                >\r\n                                  {x.description}\r\n                                </div>\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 2\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                <div style={{ whiteSpace: \"nowrap\" }}>\r\n                                  <div className=\"d-inline-block mr-2\">\r\n                                    <div>From: </div>\r\n                                    <div>To: </div>\r\n                                  </div>\r\n                                  <div className=\"d-inline-block\">\r\n                                    <div style={{ whiteSpace: \"nowrap\" }}>\r\n                                      {date.format(\r\n                                        new Date(x.start_date),\r\n                                        \"DD/MM/YYYY @ hh:mm A\"\r\n                                      )}\r\n                                      <div style={{ whiteSpace: \"nowrap\" }}>\r\n                                        {date.format(\r\n                                          new Date(x.end_date),\r\n                                          \"DD/MM/YYYY @ hh:mm A\"\r\n                                        )}\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 3\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                {x.status}\r\n                              </td>\r\n                            </tr>\r\n                          ))\r\n                      ) : (\r\n                        <tr>\r\n                          <td colSpan={6} className=\" text-center py-5\">\r\n                            0 results found\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                    {/* <tfoot>\r\n                      <tr>\r\n                        <th className=\"text-center\">\r\n                          <Checkbox\r\n                            color={\"primary\"}\r\n                            checked={\r\n                              filteredAnnouncements\r\n                                .slice(boundaries[0], boundaries[1])\r\n                                .filter((x) => x.selected).length ===\r\n                              boundaries[1] - boundaries[0]\r\n                            }\r\n                            onChange={(e) => {\r\n                              setFilteredAnnouncements((prev) => {\r\n                                let arr = [...prev];\r\n                                for (\r\n                                  let i = boundaries[0];\r\n                                  i < boundaries[1];\r\n                                  i++\r\n                                ) {\r\n                                  arr[i].selected = e.target.checked;\r\n                                }\r\n                                return arr;\r\n                              });\r\n                            }}\r\n                          ></Checkbox>\r\n                        </th>\r\n                        <th className=\"table-footer text-truncate text-left\">\r\n                          <div className=\"d-none d-lg-block\">Posted By</div>\r\n                          <div className=\"d-block d-lg-none\">By</div>\r\n                        </th>\r\n                        <th className=\"d-table-cell d-xl-none table-header text-truncate\">\r\n                          {\r\n                            [\"Type\", \"Description\", \"Duration\", \"Status\"][\r\n                              lastVisibleColumn\r\n                            ]\r\n                          }\r\n                        </th>\r\n                        <th className=\"d-none d-xl-table-cell table-footer text-truncate\">\r\n                          <div>Type</div>\r\n                        </th>\r\n                        <th className=\"d-none d-xl-table-cell table-footer text-truncate\">\r\n                          <div>Description</div>\r\n                        </th>\r\n                        <th className=\"d-none d-xl-table-cell table-footer text-truncate\">\r\n                          <div>Duration</div>\r\n                        </th>\r\n                        <th className=\"d-none d-xl-table-cell table-footer text-truncate\">\r\n                          <div>Status</div>\r\n                        </th>\r\n                      </tr>\r\n                    </tfoot> */}\r\n                  </table>\r\n                </div>\r\n              </Swipeable>\r\n            </div>\r\n            <div className=\"row no-gutters justify-content-center justify-content-sm-end\">\r\n              <div className=\"col-auto\">\r\n                <Pagination\r\n                  count={Math.ceil(filteredAnnouncements.length / 5)}\r\n                  current={page}\r\n                  setCurrent={setPage}\r\n                ></Pagination>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Announcements);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\r\nimport \"react-day-picker/lib/style.css\";\r\nimport { BsCalendar, BsClock } from \"react-icons/bs\";\r\nimport TimePicker from \"react-time-picker\";\r\nimport date from \"date-and-time\";\r\nimport Loader from \"../utility/Loader\";\r\nimport store from \"../../store/store\";\r\nimport { EditAnnouncement as Edit } from \"../../server/DatabaseApi\";\r\n\r\nconst EditAnnouncement = ({ currentAnnouncement, getBack }) => {\r\n  const [announcement, setAnnouncement] = useState({\r\n    description: \"\",\r\n    type: \"\",\r\n    start_date: Date.now(),\r\n    end_date: Date.now(),\r\n    status: \"\",\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (currentAnnouncement) {\r\n      setAnnouncement(currentAnnouncement);\r\n    }\r\n  }, [currentAnnouncement]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  const types = [\"Information\", \"Warning\", \"Error\"];\r\n  const statuses = [\"Published\", \"Drafted\", \"Expired\"];\r\n\r\n  return (\r\n    <div className=\"row no-gutters p-md-5 p-4\">\r\n      <div className=\"col-60 py-3 border-bottom mb-4\">\r\n        <div className=\"row no-gutters admin-screen-title\">Announcements</div>\r\n        <div className=\"row no-gutters\">Edit existing announcement</div>\r\n      </div>\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Type</div>\r\n          <div className=\"col-xl-40 col-md-50 col-60 pr-sm-3\">\r\n            <div className=\"row no-gutters\">\r\n              <Select\r\n                popoverClass=\"col-sm-30 col-60\"\r\n                onSelect={(index) =>\r\n                  setAnnouncement((prev) =>\r\n                    Object.assign({}, prev, { type: types[index] })\r\n                  )\r\n                }\r\n                className=\"w-100 input-light px-3\"\r\n                items={types}\r\n                btnName={announcement.type ? announcement.type : \"Select\"}\r\n              ></Select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Description</div>\r\n          <div className=\"col-60\">\r\n            <textarea\r\n              value={announcement.description ? announcement.description : \"\"}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setAnnouncement((prev) =>\r\n                  Object.assign({}, prev, { description: e.target.value })\r\n                );\r\n              }}\r\n              className=\"textarea-light w-100\"\r\n              style={{ height: \"150px\" }}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div\r\n            className={`col-60 ${\r\n              announcement.description.split(\" \").length <= 499\r\n                ? \"text-muted\"\r\n                : \"text-danger\"\r\n            }`}\r\n          >\r\n            {announcement.description\r\n              ? 500 - announcement.description.split(\" \").length\r\n              : 500}{\" \"}\r\n            words left\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 pr-sm-3 mb-4\">\r\n                <div className=\"row no-gutters\">Start Date</div>\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-auto mr-2\" style={{ width: \"182px\" }}>\r\n                    <DayPickerInput\r\n                      value={date.format(\r\n                        new Date(announcement.start_date),\r\n                        \"DD/MM/YYYY\"\r\n                      )}\r\n                      component={(props) => (\r\n                        <div className=\"position-relative\">\r\n                          <BsCalendar\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              margin: \"auto\",\r\n                              left: \"18px\",\r\n                            }}\r\n                          ></BsCalendar>\r\n                          <input\r\n                            {...props}\r\n                            className=\"input-light w-100 pl-5 pr-3\"\r\n                            placeholder=\"YYYY-MM-DD\"\r\n                          ></input>\r\n                        </div>\r\n                      )}\r\n                      onDayChange={(day) => {\r\n                        if (day) {\r\n                          let d = new Date(announcement.start_date);\r\n                          let year = day.getFullYear();\r\n                          let month = day.getMonth();\r\n                          let niceDay = day.getDate();\r\n                          d.setFullYear(year);\r\n                          d.setMonth(month);\r\n                          d.setDate(niceDay);\r\n                          setAnnouncement((prev) =>\r\n                            Object.assign({}, prev, { start_date: d.getTime() })\r\n                          );\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className=\"col-auto position-relative input-light\"\r\n                    style={{ width: \"150px\" }}\r\n                  >\r\n                    <BsClock\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        left: \"18px\",\r\n                      }}\r\n                    ></BsClock>\r\n                    <TimePicker\r\n                      clearIcon={null}\r\n                      clockIcon={null}\r\n                      className=\"w-100 pl-5\"\r\n                      onChange={(a) => {\r\n                        if (a) {\r\n                          let [h, m] = a.split(\":\");\r\n                          let newTime = new Date(announcement.start_date);\r\n                          newTime.setHours(h);\r\n                          newTime.setMinutes(m);\r\n                          setAnnouncement((prev) =>\r\n                            Object.assign({}, prev, {\r\n                              start_date: newTime.getTime(),\r\n                            })\r\n                          );\r\n                        }\r\n                      }}\r\n                      value={new Date(announcement.start_date)}\r\n                    ></TimePicker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 mb-4\">\r\n                <div className=\"row no-gutters\">End Date</div>\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-auto mr-2\" style={{ width: \"182px\" }}>\r\n                    <DayPickerInput\r\n                      value={date.format(\r\n                        new Date(announcement.end_date),\r\n                        \"DD/MM/YYYY\"\r\n                      )}\r\n                      component={(props) => (\r\n                        <div className=\"position-relative\">\r\n                          <BsCalendar\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              margin: \"auto\",\r\n                              left: \"18px\",\r\n                            }}\r\n                          ></BsCalendar>\r\n                          <input\r\n                            {...props}\r\n                            className=\"input-light w-100 pl-5 pr-3\"\r\n                            placeholder=\"YYYY-MM-DD\"\r\n                          ></input>\r\n                        </div>\r\n                      )}\r\n                      onDayChange={(day) => {\r\n                        if (day) {\r\n                          let d = new Date(announcement.end_date);\r\n                          let year = day.getFullYear();\r\n                          let month = day.getMonth();\r\n                          let niceDay = day.getDate();\r\n                          d.setFullYear(year);\r\n                          d.setMonth(month);\r\n                          d.setDate(niceDay);\r\n                          setAnnouncement((prev) =>\r\n                            Object.assign({}, prev, { end_date: d.getTime() })\r\n                          );\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className=\"col-auto position-relative input-light\"\r\n                    style={{ width: \"150px\" }}\r\n                  >\r\n                    <BsClock\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        left: \"18px\",\r\n                      }}\r\n                    ></BsClock>\r\n                    <TimePicker\r\n                      clearIcon={null}\r\n                      clockIcon={null}\r\n                      className=\"w-100 pl-5\"\r\n                      onChange={(a) => {\r\n                        if (a) {\r\n                          let [h, m] = a.split(\":\");\r\n                          let newTime = new Date(announcement.end_date);\r\n                          newTime.setHours(h);\r\n                          newTime.setMinutes(m);\r\n                          setAnnouncement((prev) =>\r\n                            Object.assign({}, prev, {\r\n                              end_date: newTime.getTime(),\r\n                            })\r\n                          );\r\n                        }\r\n                      }}\r\n                      value={new Date(announcement.end_date)}\r\n                    ></TimePicker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Type</div>\r\n          <div className=\"col-xl-40 col-md-50 col-60 pr-sm-3\">\r\n            <div className=\"row no-gutters\">\r\n              <Select\r\n                popoverClass=\"col-sm-30 col-60\"\r\n                onSelect={(index) =>\r\n                  setAnnouncement((prev) =>\r\n                    Object.assign({}, prev, { status: statuses[index] })\r\n                  )\r\n                }\r\n                className=\"w-100 input-light px-3\"\r\n                items={statuses}\r\n                btnName={announcement.status ? announcement.status : \"Select\"}\r\n              ></Select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"col-60 mt-5\">\r\n        <div className=\"row no-gutters\">\r\n          <div\r\n            className=\"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto\"\r\n            onClick={() => getBack()}\r\n          >\r\n            Cancel\r\n          </div>\r\n          <div\r\n            className=\"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto\"\r\n            onClick={async () => {\r\n              setLoading(true);\r\n              let res = await Edit(announcement);\r\n              setLoading(false);\r\n              if (res.error) {\r\n                store.dispatch({\r\n                  type: \"SET_NOTIFICATION\",\r\n                  notification: {\r\n                    title: \"Error\",\r\n                    message: res.error,\r\n                    type: \"failure\",\r\n                  },\r\n                });\r\n              } else {\r\n                store.dispatch({\r\n                  type: \"SET_NOTIFICATION\",\r\n                  notification: {\r\n                    title: \"Announcement updated\",\r\n                    message: \"Announcement was successfully updated\",\r\n                    type: \"success\",\r\n                  },\r\n                });\r\n                getBack();\r\n              }\r\n            }}\r\n          >\r\n            <Loader\r\n              color={\"white\"}\r\n              style={{\r\n                position: \"absolute\",\r\n                left: \"10px\",\r\n                top: 0,\r\n                bottom: 0,\r\n                margin: \"auto\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n              loading={loading}\r\n              size={20}\r\n            ></Loader>\r\n            Save\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditAnnouncement;\r\n","import React, { useState } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\r\nimport \"react-day-picker/lib/style.css\";\r\nimport { BsCalendar, BsClock } from \"react-icons/bs\";\r\nimport TimePicker from \"react-time-picker\";\r\nimport date from \"date-and-time\";\r\nimport { CreateAnnouncement } from \"../../server/DatabaseApi\";\r\nimport store from \"../../store/store\";\r\nimport { connect } from \"react-redux\";\r\nimport Loader from \"../utility/Loader\";\r\n\r\nconst AddNewAnnouncement = ({ user, getBack }) => {\r\n  const [announcement, setAnnouncement] = useState({\r\n    description: \"\",\r\n    type: \"\",\r\n    start_date: Date.now(),\r\n    end_date: Date.now(),\r\n    status: \"Published\",\r\n  });\r\n\r\n  const [problem, setProblem] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const types = [\"Information\", \"Warning\", \"Error\"];\r\n  const statuses = [\"Published\", \"Drafted\", \"Deleted\"];\r\n\r\n  const validations = [\r\n    { valid: announcement.description, error: \"Description is required\" },\r\n    { valid: announcement.type, error: \"Type is required\" },\r\n    {\r\n      valid: announcement.start_date < announcement.end_date,\r\n      error: \"Start date must be before end date\",\r\n    },\r\n    {\r\n      valid: announcement.start_date !== announcement.end_date,\r\n      error: \"Announcement duration is 0\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"row no-gutters p-md-5 p-4\">\r\n      <div className=\"col-60 py-3 border-bottom mb-4\">\r\n        <div className=\"row no-gutters admin-screen-title\">Announcements</div>\r\n        <div className=\"row no-gutters\">\r\n          Creat a brand new announcement and add to this site\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Type</div>\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <div className=\"row no-gutters\">\r\n              <Select\r\n                popoverClass=\"col-sm-30 col-60\"\r\n                onSelect={(index) =>\r\n                  setAnnouncement((prev) =>\r\n                    Object.assign({}, prev, { type: types[index] })\r\n                  )\r\n                }\r\n                className=\"w-100 input-light px-3\"\r\n                items={types}\r\n                btnName={announcement.type ? announcement.type : \"Select\"}\r\n              ></Select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Description</div>\r\n          <div className=\"col-60\">\r\n            <textarea\r\n              value={announcement.description ? announcement.description : \"\"}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setAnnouncement((prev) =>\r\n                  Object.assign({}, prev, { description: e.target.value })\r\n                );\r\n              }}\r\n              className=\"textarea-light w-100\"\r\n              style={{ height: \"150px\" }}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div\r\n            className={`col-60 ${\r\n              announcement.description.split(\" \").length <= 499\r\n                ? \"text-muted\"\r\n                : \"text-danger\"\r\n            }`}\r\n          >\r\n            {announcement.description\r\n              ? 500 - announcement.description.split(\" \").length\r\n              : 500}{\" \"}\r\n            words left\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 pr-sm-3 mb-4\">\r\n                <div className=\"row no-gutters\">Start Date</div>\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-auto mr-2\" style={{ width: \"182px\" }}>\r\n                    <DayPickerInput\r\n                      value={date.format(\r\n                        new Date(announcement.start_date),\r\n                        \"DD/MM/YYYY\"\r\n                      )}\r\n                      component={(props) => (\r\n                        <div className=\"position-relative\">\r\n                          <BsCalendar\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              margin: \"auto\",\r\n                              left: \"18px\",\r\n                            }}\r\n                          ></BsCalendar>\r\n                          <input\r\n                            {...props}\r\n                            className=\"input-light w-100 pl-5 pr-3\"\r\n                            placeholder=\"YYYY-MM-DD\"\r\n                          ></input>\r\n                        </div>\r\n                      )}\r\n                      onDayChange={(day) => {\r\n                        if (day) {\r\n                          let d = new Date(announcement.start_date);\r\n                          let year = day.getFullYear();\r\n                          let month = day.getMonth();\r\n                          let niceDay = day.getDate();\r\n                          d.setFullYear(year);\r\n                          d.setMonth(month);\r\n                          d.setDate(niceDay);\r\n                          setAnnouncement((prev) =>\r\n                            Object.assign({}, prev, { start_date: d.getTime() })\r\n                          );\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className=\"col-auto position-relative input-light\"\r\n                    style={{ width: \"150px\" }}\r\n                  >\r\n                    <BsClock\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        left: \"18px\",\r\n                      }}\r\n                    ></BsClock>\r\n                    <TimePicker\r\n                      clearIcon={null}\r\n                      clockIcon={null}\r\n                      className=\"w-100 pl-5\"\r\n                      onChange={(a) => {\r\n                        if (a) {\r\n                          let [h, m] = a.split(\":\");\r\n                          let newTime = new Date(announcement.start_date);\r\n                          newTime.setHours(h);\r\n                          newTime.setMinutes(m);\r\n                          setAnnouncement((prev) =>\r\n                            Object.assign({}, prev, {\r\n                              start_date: newTime.getTime(),\r\n                            })\r\n                          );\r\n                        }\r\n                      }}\r\n                      value={new Date(announcement.start_date)}\r\n                    ></TimePicker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 mb-4\">\r\n                <div className=\"row no-gutters\">End Date</div>\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-auto mr-2\" style={{ width: \"182px\" }}>\r\n                    <DayPickerInput\r\n                      value={date.format(\r\n                        new Date(announcement.end_date),\r\n                        \"DD/MM/YYYY\"\r\n                      )}\r\n                      component={(props) => (\r\n                        <div className=\"position-relative\">\r\n                          <BsCalendar\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              margin: \"auto\",\r\n                              left: \"18px\",\r\n                            }}\r\n                          ></BsCalendar>\r\n                          <input\r\n                            {...props}\r\n                            className=\"input-light w-100 pl-5 pr-3\"\r\n                            placeholder=\"YYYY-MM-DD\"\r\n                          ></input>\r\n                        </div>\r\n                      )}\r\n                      onDayChange={(day) => {\r\n                        if (day) {\r\n                          let d = new Date(announcement.end_date);\r\n                          let year = day.getFullYear();\r\n                          let month = day.getMonth();\r\n                          let niceDay = day.getDate();\r\n                          d.setFullYear(year);\r\n                          d.setMonth(month);\r\n                          d.setDate(niceDay);\r\n                          setAnnouncement((prev) =>\r\n                            Object.assign({}, prev, { end_date: d.getTime() })\r\n                          );\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className=\"col-auto position-relative input-light\"\r\n                    style={{ width: \"150px\" }}\r\n                  >\r\n                    <BsClock\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        left: \"18px\",\r\n                      }}\r\n                    ></BsClock>\r\n                    <TimePicker\r\n                      clearIcon={null}\r\n                      clockIcon={null}\r\n                      className=\"w-100 pl-5\"\r\n                      onChange={(a) => {\r\n                        if (a) {\r\n                          let [h, m] = a.split(\":\");\r\n                          let newTime = new Date(announcement.end_date);\r\n                          newTime.setHours(h);\r\n                          newTime.setMinutes(m);\r\n                          setAnnouncement((prev) =>\r\n                            Object.assign({}, prev, {\r\n                              end_date: newTime.getTime(),\r\n                            })\r\n                          );\r\n                        }\r\n                      }}\r\n                      value={new Date(announcement.end_date)}\r\n                    ></TimePicker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Status</div>\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <div className=\"row no-gutters\">\r\n              <Select\r\n                popoverClass=\"col-sm-30 col-60\"\r\n                onSelect={(index) =>\r\n                  setAnnouncement((prev) =>\r\n                    Object.assign({}, prev, { status: statuses[index] })\r\n                  )\r\n                }\r\n                className=\"w-100 input-light px-3\"\r\n                items={statuses}\r\n                btnName={announcement.status ? announcement.status : \"Select\"}\r\n              ></Select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"col-60 mt-3\">\r\n        <div\r\n          style={{ height: \"50px\", opacity: problem ? 1 : 0 }}\r\n          className=\"row no-gutters align-items-center text-danger\"\r\n        >\r\n          {problem}\r\n        </div>\r\n        <div className=\"row no-gutters mt-2\">\r\n          <div\r\n            className=\"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto\"\r\n            onClick={() => getBack()}\r\n          >\r\n            Cancel\r\n          </div>\r\n          <div\r\n            className=\"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto\"\r\n            onClick={async () => {\r\n              if (user._id) {\r\n                let invalid = validations.filter((x) => !x.valid);\r\n                if (invalid.length) {\r\n                  setProblem(invalid[0].error);\r\n                } else {\r\n                  setLoading(true);\r\n                  let res = await CreateAnnouncement(\r\n                    Object.assign({}, announcement, { author: user._id })\r\n                  );\r\n                  setLoading(false);\r\n                  if (res.error) {\r\n                    store.dispatch({\r\n                      type: \"SET_NOTIFICATION\",\r\n                      notification: {\r\n                        title: \"Error\",\r\n                        message: res.error,\r\n                        type: \"failure\",\r\n                      },\r\n                    });\r\n                  } else {\r\n                    store.dispatch({\r\n                      type: \"SET_NOTIFICATION\",\r\n                      notification: {\r\n                        title: \"Announcement created\",\r\n                        message: \"You successfully created announcement\",\r\n                        type: \"success\",\r\n                      },\r\n                    });\r\n                    getBack();\r\n                  }\r\n                }\r\n              } else {\r\n                store.dispatch({\r\n                  type: \"SET_NOTIFICATION\",\r\n                  notification: {\r\n                    title: \"Login required\",\r\n                    message: \"You need to login to create announcements\",\r\n                    type: \"failure\",\r\n                  },\r\n                });\r\n              }\r\n            }}\r\n          >\r\n            <Loader\r\n              color={\"white\"}\r\n              style={{\r\n                position: \"absolute\",\r\n                left: \"10px\",\r\n                top: 0,\r\n                bottom: 0,\r\n                margin: \"auto\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n              loading={loading}\r\n              size={20}\r\n            ></Loader>\r\n            Save\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    user: state.user,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(AddNewAnnouncement);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport Checkbox from \"../utility/Checkbox\";\r\nimport { Emoji } from \"emoji-mart\";\r\nimport Pagination from \"../utility/Paigination\";\r\nimport { BsSearch } from \"react-icons/bs\";\r\nimport date from \"date-and-time\";\r\nimport { Swipeable } from \"react-swipeable\";\r\nimport {\r\n  GetPromotions,\r\n  DeleteMultiplePromotions,\r\n} from \"../../server/DatabaseApi\";\r\nimport store from \"../../store/store\";\r\nimport { connect } from \"react-redux\";\r\nimport history from \"../../History\";\r\nimport OkIcon from \"../../images/OkIcon\";\r\n\r\nconst Promotions = ({\r\n  setEditPromotion,\r\n  setAddNewPromotionSection,\r\n  setEditPromotionSection,\r\n  ratings,\r\n}) => {\r\n  const [action, setAction] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [searchKey, setSearchKey] = useState(\"Description\");\r\n  const [lastVisibleColumn, setLastVisibleColumn] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [typeFilter, setTypeFilter] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [mainFilter, setMainFilter] = useState({ key: \"\", value: \"\" });\r\n\r\n  const [promotions, setPromotions] = useState([]);\r\n  const [filteredPromotions, setFilteredPromotions] = useState([]);\r\n  const [refresh, setRefresh] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      let data = await GetPromotions();\r\n      if (!data.error) {\r\n        setPromotions(\r\n          data.map((x) => Object.assign({}, x, { selected: false }))\r\n        );\r\n      }\r\n    }\r\n\r\n    getData();\r\n  }, [refresh]);\r\n\r\n  useEffect(() => {\r\n    let arr = [...promotions];\r\n    if (promotions.length) {\r\n      if (search) {\r\n        if (searchKey === \"Description\") {\r\n          arr = arr.filter((x) =>\r\n            x.description.toLowerCase().includes(search.toLowerCase())\r\n          );\r\n        } else if (searchKey === \"Review\") {\r\n          arr = arr.filter(\r\n            (x) =>\r\n              x.content_type === \"Review\" &&\r\n              x.content.review.toLowerCase().includes(search.toLowerCase())\r\n          );\r\n        }\r\n      }\r\n\r\n      if (typeFilter) {\r\n        arr = arr.filter((x) =>\r\n          x.content_type.match(new RegExp(typeFilter, \"i\"))\r\n        );\r\n      }\r\n\r\n      if (mainFilter.key) {\r\n        arr = arr.filter((x) => x[mainFilter.key] === mainFilter.value);\r\n      }\r\n\r\n      setFilteredPromotions(arr);\r\n    }\r\n  }, [search, typeFilter, promotions, mainFilter]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  //boundaries for slicing reviews array. (pagination)\r\n  let boundaries = [(page - 1) * 5, (page - 1) * 5 + 5];\r\n  if (boundaries[1] >= filteredPromotions.length) {\r\n    boundaries[1] = boundaries[1] - (boundaries[1] - filteredPromotions.length);\r\n  }\r\n\r\n  const columns = [\"Review\", \"Rating\", \"Duration\", \"Status\"];\r\n  const searchOptions = [\"Description\", \"Review\"];\r\n\r\n  const publishStatuses = [\"Published\", \"Drafted\", \"Deleted\"];\r\n  return (\r\n    <div className=\"row no-gutters admin-screen\">\r\n      <div className=\"col-60 border-bottom\">\r\n        <div className=\"row no-gutters justify-content-between pb-3 align-items-end\">\r\n          <div className=\"col-auto\">\r\n            <div className=\"row no-gutters admin-screen-title\">\r\n              Promotions List\r\n            </div>\r\n            <div className=\"row no-gutters\">Edit, add and delete promtions</div>\r\n          </div>\r\n          <div\r\n            className=\"col-auto btn-custom btn-custom-primary btn-natural\"\r\n            onClick={() => setAddNewPromotionSection()}\r\n          >\r\n            Add New\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-60 py-5\">\r\n            <div className=\"row no-gutters h6 mb-3\">\r\n              <div\r\n                className={`cursor-pointer col-auto ${\r\n                  mainFilter.key === \"\" && !typeFilter\r\n                    ? \"text-primary\"\r\n                    : \"text-dark\"\r\n                }`}\r\n                onClick={() => {\r\n                  setTypeFilter(\"\");\r\n                  setType(\"\");\r\n                  setMainFilter({ key: \"\", value: \"\" });\r\n                }}\r\n              >\r\n                All ({promotions.length})\r\n              </div>\r\n              {publishStatuses.map((x, i) => (\r\n                <React.Fragment key={`status-${i}`}>\r\n                  <div className=\"col-auto px-2 text-muted\">|</div>\r\n                  <div\r\n                    onClick={() =>\r\n                      setMainFilter((prev) =>\r\n                        Object.assign({}, prev, {\r\n                          key: \"publish_status\",\r\n                          value: x,\r\n                        })\r\n                      )\r\n                    }\r\n                    className={`cursor-pointer col-auto ${\r\n                      mainFilter.key === \"publish_status\" &&\r\n                      mainFilter.value === x\r\n                        ? \"text-primary\"\r\n                        : \"text-dark\"\r\n                    }`}\r\n                  >\r\n                    {x} (\r\n                    {promotions.filter((y) => y.publish_status === x).length})\r\n                  </div>\r\n                </React.Fragment>\r\n              ))}\r\n            </div>\r\n            <div className=\"row no-gutters justify-content-between\">\r\n              <div className=\"col-sm-auto col-60\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-60 col-sm-auto pb-3 mr-sm-3\">\r\n                    <div className=\"row no-gutters\">\r\n                      <Select\r\n                        popoverClass=\"col-60 col-sm-auto\"\r\n                        onSelect={(index) => setAction([\"Delete\"][index])}\r\n                        items={[\"Delete\"]}\r\n                        btnName={action ? action : \"Select Action\"}\r\n                        className=\"input-light px-3 col-auto\"\r\n                      ></Select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-60 col-sm-auto pb-3 mr-sm-3\">\r\n                    <div className=\"row no-gutters\">\r\n                      <Select\r\n                        popoverClass=\"col-60 col-sm-auto\"\r\n                        onSelect={(index) =>\r\n                          setType([\"Review\", \"Comment\"][index])\r\n                        }\r\n                        items={[\"Review\", \"Comment\"]}\r\n                        btnName={type ? type : \"Select Type\"}\r\n                        className=\"input-light px-3 col-auto\"\r\n                      ></Select>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    onClick={() => {\r\n                      if (action === \"Edit\") {\r\n                        let selected = filteredPromotions.filter(\r\n                          (x) => x.selected\r\n                        );\r\n                        if (selected.length) {\r\n                          setEditPromotion(selected[0]);\r\n                          setEditPromotionSection();\r\n                        }\r\n                      } else if (action === \"Delete\") {\r\n                        //delete review\r\n                      } else {\r\n                        setTypeFilter(type);\r\n                      }\r\n                    }}\r\n                    className=\"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall\"\r\n                  >\r\n                    Apply\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60 d-block d-sm-none\">\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <Select\r\n                    popoverClass=\"w-100\"\r\n                    onSelect={(index) => setSearchKey(searchOptions[index])}\r\n                    className=\"input-light col-60\"\r\n                    items={searchOptions}\r\n                    btnName={`Search by ${searchKey}`}\r\n                  ></Select>\r\n                </div>\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <div className=\"col-60 position-relative\">\r\n                    <BsSearch\r\n                      fontSize=\"20px\"\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        right: \"18px\",\r\n                      }}\r\n                    ></BsSearch>\r\n                    <input\r\n                      className=\"input-light w-100 pr-5 pl-3\"\r\n                      value={search}\r\n                      onChange={(e) => {\r\n                        e.persist();\r\n                        setSearch(e.target.value);\r\n                      }}\r\n                    ></input>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-auto mb-3 d-none d-sm-block\">\r\n                <div className=\"row no-gutters\">\r\n                  <Select\r\n                    onSelect={(index) => setSearchKey(searchOptions[index])}\r\n                    className=\"table-input-prepend-select col-auto\"\r\n                    items={searchOptions}\r\n                    btnName={`Search by ${searchKey}`}\r\n                  ></Select>\r\n                  <div className=\"col position-relative\">\r\n                    <BsSearch\r\n                      fontSize=\"20px\"\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        right: \"18px\",\r\n                      }}\r\n                    ></BsSearch>\r\n                    <input\r\n                      value={search}\r\n                      onChange={(e) => {\r\n                        e.persist();\r\n                        setSearch(e.target.value);\r\n                      }}\r\n                      className=\"table-input pr-5 pl-3\"\r\n                      style={{ minWidth: \"300px\" }}\r\n                    ></input>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <Swipeable\r\n                style={{ minWidth: \"100%\" }}\r\n                onSwipedLeft={() => {\r\n                  setLastVisibleColumn(\r\n                    lastVisibleColumn + 1 < 4\r\n                      ? lastVisibleColumn + 1\r\n                      : lastVisibleColumn\r\n                  );\r\n                }}\r\n                onSwipedRight={() => {\r\n                  setLastVisibleColumn(\r\n                    lastVisibleColumn - 1 >= 0\r\n                      ? lastVisibleColumn - 1\r\n                      : lastVisibleColumn\r\n                  );\r\n                }}\r\n              >\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table bg-white border\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th className=\"text-center\">\r\n                          <Checkbox\r\n                            color={\"primary\"}\r\n                            checked={\r\n                              filteredPromotions\r\n                                .slice(boundaries[0], boundaries[1])\r\n                                .filter((x) => x.selected).length ===\r\n                              boundaries[1] - boundaries[0]\r\n                            }\r\n                            onChange={(e) => {\r\n                              setFilteredPromotions((prev) => {\r\n                                let arr = [...prev];\r\n                                for (\r\n                                  let i = boundaries[0];\r\n                                  i < boundaries[1];\r\n                                  i++\r\n                                ) {\r\n                                  arr[i].selected = e.target.checked;\r\n                                }\r\n                                return arr;\r\n                              });\r\n                            }}\r\n                          ></Checkbox>\r\n                        </th>\r\n                        <th className=\"table-header text-truncate text-left\">\r\n                          Description\r\n                        </th>\r\n                        <th className=\"d-table-cell d-xl-none table-header text-truncate\">\r\n                          {columns[lastVisibleColumn]}\r\n                        </th>\r\n                        {columns.map((c, j) => (\r\n                          <th\r\n                            className=\"d-none d-xl-table-cell table-header text-truncate\"\r\n                            key={`column-${j}`}\r\n                          >\r\n                            <div>{c}</div>\r\n                          </th>\r\n                        ))}\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {filteredPromotions.length ? (\r\n                        filteredPromotions\r\n                          .slice((page - 1) * 5, (page - 1) * 5 + 5)\r\n                          .map((x, i) => (\r\n                            <tr\r\n                              className=\"font-weight-600 bg-light\"\r\n                              key={`shortlist-item-${i}`}\r\n                            >\r\n                              <td className=\"text-center\">\r\n                                <Checkbox\r\n                                  color={\"primary\"}\r\n                                  checked={x.selected}\r\n                                  onChange={(e) => {\r\n                                    setFilteredPromotions((prev) => {\r\n                                      let arr = [...prev];\r\n                                      arr[(page - 1) * 5 + i].selected =\r\n                                        e.target.checked;\r\n                                      return arr;\r\n                                    });\r\n                                  }}\r\n                                ></Checkbox>\r\n                              </td>\r\n                              <td style={{ whiteSpace: \"nowrap\" }}>\r\n                                <div\r\n                                  className=\"mb-2\"\r\n                                  style={{ minWidth: \"150px\" }}\r\n                                >\r\n                                  {x.description}\r\n                                </div>\r\n                                <div className=\"d-flex\">\r\n                                  <div\r\n                                    className=\"text-primary underline-link\"\r\n                                    onClick={() => {\r\n                                      setEditPromotion(x);\r\n                                      setEditPromotionSection();\r\n                                    }}\r\n                                  >\r\n                                    Edit\r\n                                  </div>\r\n                                  <div className=\"px-2\">|</div>\r\n                                  <div\r\n                                    className=\"text-danger underline-link\"\r\n                                    onClick={async () => {\r\n                                      let res = await DeleteMultiplePromotions(\r\n                                        [x._id],\r\n                                        { status: \"Deleted\" }\r\n                                      );\r\n                                      if (res.error) {\r\n                                        store.dispatch({\r\n                                          type: \"SET_NOTIFICATION\",\r\n                                          notification: {\r\n                                            title: \"Error\",\r\n                                            message: res.error,\r\n                                            type: \"failure\",\r\n                                          },\r\n                                        });\r\n                                      } else {\r\n                                        store.dispatch({\r\n                                          type: \"SET_NOTIFICATION\",\r\n                                          notification: {\r\n                                            title: \"Promotion was deleted\",\r\n                                            message:\r\n                                              \"Promotion was successfully deleted\",\r\n                                            type: \"success\",\r\n                                          },\r\n                                        });\r\n                                      }\r\n                                      setRefresh(!refresh);\r\n                                    }}\r\n                                  >\r\n                                    Delete\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 0\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                {x.content_type === \"Review\" ? (\r\n                                  <div style={{ minWidth: \"150px\" }}>\r\n                                    <div\r\n                                      className=\"cursor-pointer user-select-none btn-link\"\r\n                                      onClick={(e) => {\r\n                                        history.push(\r\n                                          `/movie/${x.movie_id}/${x.content_id}`\r\n                                        );\r\n                                      }}\r\n                                    >\r\n                                      {x.content.review}\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div\r\n                                    className=\"text-clamp-4 cursor-pointer user-select-none\"\r\n                                    onClick={(e) => {\r\n                                      let target = e.currentTarget;\r\n                                      if (\r\n                                        target.classList.contains(\r\n                                          \"text-clamp-4\"\r\n                                        )\r\n                                      ) {\r\n                                        target.classList.remove(\"text-clamp-4\");\r\n                                      } else {\r\n                                        target.classList.add(\"text-clamp-4\");\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    {x.content.comment}\r\n                                  </div>\r\n                                )}\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 1\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                {x.content.rating ? (\r\n                                  x.content.rating === \"ok_rate\" ? (\r\n                                    <div style={{ marginTop: \"-4px\" }}>\r\n                                      <OkIcon size={24}></OkIcon>\r\n                                    </div>\r\n                                  ) : (\r\n                                    <div style={{ marginBottom: \"-6px\" }}>\r\n                                      <Emoji\r\n                                        emoji={\r\n                                          x.content.rating === \"excellent_rate\"\r\n                                            ? \"fire\"\r\n                                            : x.content.rating === \"good_rate\"\r\n                                            ? \"heart\"\r\n                                            : x.content.rating === \"ok_rate\"\r\n                                            ? \"heavy_division_sign\"\r\n                                            : \"shit\"\r\n                                        }\r\n                                        set=\"facebook\"\r\n                                        size={24}\r\n                                      />\r\n                                    </div>\r\n                                  )\r\n                                ) : (\r\n                                  \"-\"\r\n                                )}\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 2\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                <div style={{ whiteSpace: \"nowrap\" }}>\r\n                                  <div className=\"d-inline-block mr-2\">\r\n                                    <div>From: </div>\r\n                                    <div>To: </div>\r\n                                  </div>\r\n                                  <div className=\"d-inline-block\">\r\n                                    <div style={{ whiteSpace: \"nowrap\" }}>\r\n                                      {date.format(\r\n                                        new Date(x.start_date),\r\n                                        \"DD/MM/YYYY @ hh:mm A\"\r\n                                      )}\r\n                                      <div style={{ whiteSpace: \"nowrap\" }}>\r\n                                        {date.format(\r\n                                          new Date(x.end_date),\r\n                                          \"DD/MM/YYYY @ hh:mm A\"\r\n                                        )}\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  x.status === \"Published\"\r\n                                    ? \"text-green\"\r\n                                    : x.status === \"Drafted\"\r\n                                    ? \"text-orange\"\r\n                                    : \"text-danger\"\r\n                                } ${\r\n                                  lastVisibleColumn === 3\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                {x.status === \"Published\"\r\n                                  ? \"Active\"\r\n                                  : x.status === \"Drafted\"\r\n                                  ? \"Inactive\"\r\n                                  : x.status}\r\n                              </td>\r\n                            </tr>\r\n                          ))\r\n                      ) : (\r\n                        <tr>\r\n                          <td colSpan={6} className=\" text-center py-5\">\r\n                            0 results found\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </Swipeable>\r\n            </div>\r\n            <div className=\"row no-gutters justify-content-center justify-content-sm-end\">\r\n              <div className=\"col-auto\">\r\n                <Pagination\r\n                  count={Math.ceil(filteredPromotions.length / 5)}\r\n                  current={page}\r\n                  setCurrent={setPage}\r\n                ></Pagination>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Promotions);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\r\nimport \"react-day-picker/lib/style.css\";\r\nimport { BsCalendar, BsClock } from \"react-icons/bs\";\r\nimport TimePicker from \"react-time-picker\";\r\nimport date from \"date-and-time\";\r\nimport { Ratings } from \"../../Data\";\r\nimport store from \"../../store/store\";\r\nimport Loader from \"../utility/Loader\";\r\nimport { EditPromotion as Edit } from \"../../server/DatabaseApi\";\r\n\r\nconst EditPromotion = ({ currentPromotion, getBack }) => {\r\n  const [promotion, setPromotion] = useState({\r\n    review: \"\",\r\n    comment: \"\",\r\n    review_id: 1,\r\n    comment_id: 1,\r\n    content_type: \"\",\r\n    publish_status: \"\",\r\n    active_status: \"\",\r\n    start_date: Date.now(),\r\n    end_date: Date.now(),\r\n    movie_title: \"\",\r\n    movie_id: \"\",\r\n    content: {},\r\n    title: \"\",\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setPromotion((prev) => Object.assign({}, prev, currentPromotion));\r\n  }, [currentPromotion]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  const publishStatuses = [\"Published\", \"Drafted\", \"Deleted\"];\r\n\r\n  return (\r\n    <div className=\"row no-gutters p-md-5 p-4\">\r\n      <div className=\"col-60 py-3 border-bottom mb-4\">\r\n        <div className=\"row no-gutters admin-screen-title\">Edit Promotions</div>\r\n        <div className=\"row no-gutters\">Edit existing promotion</div>\r\n      </div>\r\n      <div className=\"col-60\">\r\n        {/* <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Type</div>\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <div className=\"row no-gutters\">\r\n              <Select\r\n                popoverClass=\"col-sm-30 col-60 pr-sm-3\"\r\n                onSelect={(index) =>\r\n                  setPromotion((prev) =>\r\n                    Object.assign({}, prev, { content_type: types[index] })\r\n                  )\r\n                }\r\n                className=\"w-100 input-light px-3\"\r\n                items={types}\r\n                btnName={\r\n                  promotion.content_type ? promotion.content_type : \"Select\"\r\n                }\r\n              ></Select>\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <div className=\"row no-gutters mb-1\">Description</div>\r\n            <div className=\"row no-gutters\">\r\n              <textarea\r\n                value={promotion.description ? promotion.description : \"\"}\r\n                onChange={(e) => {\r\n                  e.persist();\r\n                  setPromotion((prev) =>\r\n                    Object.assign({}, prev, { description: e.target.value })\r\n                  );\r\n                }}\r\n                className=\"textarea-light w-100\"\r\n                style={{ height: \"150px\" }}\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-xl-40 col-md-50 col-60 mb-1\">\r\n            {promotion.content_type}\r\n          </div>\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <textarea\r\n              value={\r\n                promotion.content\r\n                  ? promotion.content_type === \"Review\"\r\n                    ? promotion.content.review\r\n                    : promotion.content.comment\r\n                  : \"\"\r\n              }\r\n              onChange={(e) => {\r\n                e.persist();\r\n                let text = e.target.value;\r\n                if (text.split(\" \").length <= 500) {\r\n                  if (promotion.content_type === \"Review\") {\r\n                    let newContent = { ...promotion.content };\r\n                    newContent.review = text;\r\n                    setPromotion((prev) =>\r\n                      Object.assign({}, prev, { content: newContent })\r\n                    );\r\n                  } else {\r\n                    let newContent = { ...promotion.content };\r\n                    newContent.comment = text;\r\n                    setPromotion((prev) =>\r\n                      Object.assign({}, prev, { content: newContent })\r\n                    );\r\n                  }\r\n                }\r\n              }}\r\n              className=\"textarea-light w-100\"\r\n              style={{ height: \"150px\" }}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div\r\n            className={`col-60 ${\r\n              promotion.content_type\r\n                ? promotion.content_type === \"Review\"\r\n                  ? promotion.content.review.split(\" \").length <= 499\r\n                    ? \"text-muted\"\r\n                    : \"text-danger\"\r\n                  : promotion.content.comment.split(\" \").length <= 499\r\n                  ? \"text-muted\"\r\n                  : \"text-danger\"\r\n                : \"\"\r\n            }`}\r\n          >\r\n            {promotion.content.review\r\n              ? promotion.content.review.length\r\n                ? 500 - promotion.content.review.split(\" \").length\r\n                : 500\r\n              : promotion.content.comment\r\n              ? promotion.content.comment.length\r\n                ? 500 - promotion.content.comment.split(\" \").length\r\n                : 500\r\n              : \"\"}{\" \"}\r\n            words left\r\n          </div>\r\n        </div>\r\n        {promotion.content_type === \"Review\" && (\r\n          <div className=\"col-xl-40 col-md-50 col-60 mb-4 px-0\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60\">Rating</div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-sm-30 col-60 pr-sm-3\">\r\n                <div className=\"row no-gutters\">\r\n                  <Select\r\n                    popoverClass=\"col-60\"\r\n                    className=\"input-light px-3\"\r\n                    btnName={\r\n                      promotion.content.rating\r\n                        ? Ratings.find(\r\n                            (x) => x.name === promotion.content.rating\r\n                          ).element\r\n                        : \"Select\"\r\n                    }\r\n                    onSelect={(index) => {\r\n                      let content = { ...promotion.content };\r\n                      content.rating = Ratings[index].name;\r\n                      setPromotion((prev) =>\r\n                        Object.assign({}, prev, { content: content })\r\n                      );\r\n                    }}\r\n                    items={Ratings.map((x) => x.element)}\r\n                  ></Select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-sm-30 col-60 pr-sm-3 mb-4\">\r\n                <div className=\"row no-gutters\">Start Date</div>\r\n                <div className=\"row no-gutters\">\r\n                  <DayPickerInput\r\n                    value={date.format(\r\n                      new Date(promotion.start_date),\r\n                      \"DD/MM/YYYY\"\r\n                    )}\r\n                    component={(props) => (\r\n                      <div className=\"position-relative w-100\">\r\n                        <BsCalendar\r\n                          style={{\r\n                            position: \"absolute\",\r\n                            top: 0,\r\n                            bottom: 0,\r\n                            margin: \"auto\",\r\n                            left: \"18px\",\r\n                          }}\r\n                        ></BsCalendar>\r\n                        <input\r\n                          {...props}\r\n                          className=\"input-light w-100 pl-5 pr-3\"\r\n                          placeholder=\"YYYY-MM-DD\"\r\n                        ></input>\r\n                      </div>\r\n                    )}\r\n                    onDayChange={(day) => {\r\n                      if (day) {\r\n                        let d = new Date(promotion.start_date);\r\n                        let year = day.getFullYear();\r\n                        let month = day.getMonth();\r\n                        let niceDay = day.getDate();\r\n                        d.setFullYear(year);\r\n                        d.setMonth(month);\r\n                        d.setDate(niceDay);\r\n                        setPromotion((prev) =>\r\n                          Object.assign({}, prev, { start_date: d.getTime() })\r\n                        );\r\n                      }\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-sm-30 col-60 mb-4\">\r\n                <div className=\"row no-gutters\">End Date</div>\r\n                <div className=\"row no-gutters\">\r\n                  <DayPickerInput\r\n                    value={date.format(\r\n                      new Date(promotion.end_date),\r\n                      \"DD/MM/YYYY\"\r\n                    )}\r\n                    component={(props) => (\r\n                      <div className=\"position-relative w-100\">\r\n                        <BsCalendar\r\n                          style={{\r\n                            position: \"absolute\",\r\n                            top: 0,\r\n                            bottom: 0,\r\n                            margin: \"auto\",\r\n                            left: \"18px\",\r\n                          }}\r\n                        ></BsCalendar>\r\n                        <input\r\n                          {...props}\r\n                          className=\"input-light w-100 pl-5 pr-3\"\r\n                          placeholder=\"YYYY-MM-DD\"\r\n                        ></input>\r\n                      </div>\r\n                    )}\r\n                    onDayChange={(day) => {\r\n                      if (day) {\r\n                        let d = new Date(promotion.end_date);\r\n                        let year = day.getFullYear();\r\n                        let month = day.getMonth();\r\n                        let niceDay = day.getDate();\r\n                        d.setFullYear(year);\r\n                        d.setMonth(month);\r\n                        d.setDate(niceDay);\r\n                        setPromotion((prev) =>\r\n                          Object.assign({}, prev, { end_date: d.getTime() })\r\n                        );\r\n                      }\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-sm-30 pr-sm-3 col-60 mb-4\">\r\n                <div className=\"row no-gutters\">Start Time</div>\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-60 position-relative input-light\">\r\n                    <BsClock\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        left: \"18px\",\r\n                      }}\r\n                    ></BsClock>\r\n                    <TimePicker\r\n                      clearIcon={null}\r\n                      clockIcon={null}\r\n                      className=\"w-100 pl-5\"\r\n                      onChange={(a) => {\r\n                        if (a) {\r\n                          let [h, m] = a.split(\":\");\r\n                          let newTime = new Date(promotion.start_date);\r\n                          newTime.setHours(h);\r\n                          newTime.setMinutes(m);\r\n                          setPromotion((prev) =>\r\n                            Object.assign({}, prev, {\r\n                              start_date: newTime.getTime(),\r\n                            })\r\n                          );\r\n                        }\r\n                      }}\r\n                      value={new Date(promotion.start_date)}\r\n                    ></TimePicker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-sm-30 col-60 mb-4\">\r\n                <div className=\"row no-gutters\">End Time</div>\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-60 position-relative input-light\">\r\n                    <BsClock\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        left: \"18px\",\r\n                      }}\r\n                    ></BsClock>\r\n                    <TimePicker\r\n                      clearIcon={null}\r\n                      clockIcon={null}\r\n                      className=\"w-100 pl-5\"\r\n                      onChange={(a) => {\r\n                        if (a) {\r\n                          let [h, m] = a.split(\":\");\r\n                          let newTime = new Date(promotion.end_date);\r\n                          newTime.setHours(h);\r\n                          newTime.setMinutes(m);\r\n                          setPromotion((prev) =>\r\n                            Object.assign({}, prev, {\r\n                              end_date: newTime.getTime(),\r\n                            })\r\n                          );\r\n                        }\r\n                      }}\r\n                      value={new Date(promotion.end_date)}\r\n                    ></TimePicker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Status</div>\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-sm-30 col-60 pr-sm-3\">\r\n                <div className=\"row no-gutters\">\r\n                  <Select\r\n                    popoverClass=\"col-60\"\r\n                    onSelect={(index) =>\r\n                      setPromotion((prev) =>\r\n                        Object.assign({}, prev, {\r\n                          status: publishStatuses[index],\r\n                        })\r\n                      )\r\n                    }\r\n                    className=\"w-100 input-light px-3\"\r\n                    items={publishStatuses}\r\n                    btnName={promotion.status ? promotion.status : \"Select\"}\r\n                  ></Select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60 mt-2\">\r\n        <div className=\"row no-gutters\">\r\n          <div\r\n            className=\"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto\"\r\n            onClick={getBack}\r\n          >\r\n            Cancel\r\n          </div>\r\n          <div\r\n            className=\"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto\"\r\n            onClick={async () => {\r\n              setLoading(true);\r\n              let res = await Edit(promotion);\r\n              setLoading(false);\r\n              if (res.error) {\r\n                store.dispatch({\r\n                  type: \"SET_NOTIFICATION\",\r\n                  notification: {\r\n                    title: \"Error\",\r\n                    message: res.error,\r\n                    type: \"failure\",\r\n                  },\r\n                });\r\n              } else {\r\n                store.dispatch({\r\n                  type: \"SET_NOTIFICATION\",\r\n                  notification: {\r\n                    title: \"Promotion updated\",\r\n                    message: \"Promotion was successfully updated\",\r\n                    type: \"success\",\r\n                  },\r\n                });\r\n                getBack();\r\n              }\r\n            }}\r\n          >\r\n            <Loader\r\n              color={\"white\"}\r\n              style={{\r\n                position: \"absolute\",\r\n                left: \"10px\",\r\n                top: 0,\r\n                bottom: 0,\r\n                margin: \"auto\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n              loading={loading}\r\n              size={20}\r\n            ></Loader>\r\n            Save\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditPromotion;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\r\nimport \"react-day-picker/lib/style.css\";\r\nimport { BsCalendar, BsClock, BsSearch } from \"react-icons/bs\";\r\nimport TimePicker from \"react-time-picker\";\r\nimport date from \"date-and-time\";\r\nimport Pagination from \"../utility/Paigination\";\r\nimport { Swipeable } from \"react-swipeable\";\r\nimport Checkbox from \"../utility/Checkbox\";\r\nimport { Emoji } from \"emoji-mart\";\r\nimport { GetReviews, CreatePromotions } from \"../../server/DatabaseApi\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../store/store\";\r\nimport Loader from \"../utility/Loader\";\r\nimport OkIcon from \"../../images/OkIcon\";\r\n\r\nconst AddNewPromotion = ({ publicUsers, getBack, ratings }) => {\r\n  const [promotion, setPromotion] = useState({\r\n    description: \"\",\r\n    start_date: Date.now(),\r\n    end_date: Date.now(),\r\n    content_type: \"\",\r\n    status: \"Published\",\r\n  });\r\n  const [page, setPage] = useState(1);\r\n\r\n  const [problem, setProblem] = useState(\"\");\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchKey, setSearchKey] = useState(\"User\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [candidates, setCandidates] = useState([]);\r\n  const searchKeys = [\"User\", \"Movie\", \"Review\"];\r\n  const [lastVisibleColumn, setLastVisibleColumn] = useState(0);\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      let rev = await GetReviews();\r\n      if (!rev.error) {\r\n        setReviews(rev);\r\n      }\r\n\r\n      // let com = await GetComments();\r\n      // if (!com.error) {\r\n      //   setComments(com);\r\n      // }\r\n    }\r\n\r\n    getData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let arr = [];\r\n    if (search) {\r\n      if (searchKey === \"User\") {\r\n        if (Object.values(publicUsers).length) {\r\n          reviews.forEach((x) => {\r\n            if (\r\n              publicUsers[x.author].display_name\r\n                .toLowerCase()\r\n                .includes(search.toLowerCase())\r\n            ) {\r\n              arr.push(x);\r\n            }\r\n          });\r\n        }\r\n      } else if (searchKey === \"Movie\") {\r\n        reviews.forEach((x) => {\r\n          if (\r\n            ratings[x.movie_id] &&\r\n            ratings[x.movie_id].movie_title\r\n              .toLowerCase()\r\n              .includes(search.toLowerCase())\r\n          ) {\r\n            arr.push(x);\r\n          }\r\n        });\r\n      } else if (searchKey === \"Review\") {\r\n        reviews.forEach((x) => {\r\n          if (x.review.toLowerCase().includes(search.toLowerCase())) {\r\n            arr.push(x);\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      arr = arr.concat([...reviews]);\r\n    }\r\n\r\n    setCandidates(arr.map((x) => Object.assign({}, x, { selected: false })));\r\n  }, [search, reviews]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  let boundaries = [(page - 1) * 5, (page - 1) * 5 + 5];\r\n  if (boundaries[1] >= candidates.length) {\r\n    boundaries[1] = boundaries[1] - (boundaries[1] - candidates.length);\r\n  }\r\n\r\n  const columns = [\"Movie Name\", \"Review\", \"Rating\", \"Posted On\", \"Reported\"];\r\n\r\n  const validations = [\r\n    { valid: promotion.description, error: \"Description is required\" },\r\n    {\r\n      valid: promotion.start_date < promotion.end_date,\r\n      error: \"Start date must be before end date\",\r\n    },\r\n    {\r\n      valid: promotion.start_date !== promotion.end_date,\r\n      error: \"promotion duration is 0\",\r\n    },\r\n    {\r\n      valid: candidates.filter((x) => x.selected).length,\r\n      error: \"No content selected\",\r\n    },\r\n  ];\r\n  return (\r\n    <div className=\"row no-gutters p-sm-5 p-4\">\r\n      <div className=\"col-60 border-bottom mb-4\">\r\n        <div className=\"row no-gutters justify-content-between\">\r\n          <div className=\"col-auto py-3\">\r\n            <div className=\"row no-gutters admin-screen-title\">\r\n              Promote Content\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              Edit, add and delete promotions\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-xl-40 col-md-50 col-60\">\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <div className=\"row no-gutters mb-1\">Description</div>\r\n            <div className=\"row no-gutters\">\r\n              <textarea\r\n                value={promotion.description ? promotion.description : \"\"}\r\n                onChange={(e) => {\r\n                  e.persist();\r\n                  setPromotion((prev) =>\r\n                    Object.assign({}, prev, { description: e.target.value })\r\n                  );\r\n                }}\r\n                className=\"textarea-light w-100\"\r\n                style={{ height: \"150px\" }}\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 pr-sm-3 mb-4\">\r\n                <div className=\"row no-gutters\">Start Date</div>\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-auto mr-2\" style={{ width: \"182px\" }}>\r\n                    <DayPickerInput\r\n                      value={date.format(\r\n                        new Date(promotion.start_date),\r\n                        \"DD/MM/YYYY\"\r\n                      )}\r\n                      component={(props) => (\r\n                        <div className=\"position-relative\">\r\n                          <BsCalendar\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              margin: \"auto\",\r\n                              left: \"18px\",\r\n                            }}\r\n                          ></BsCalendar>\r\n                          <input\r\n                            {...props}\r\n                            className=\"input-light w-100 pl-5 pr-3\"\r\n                            placeholder=\"YYYY-MM-DD\"\r\n                          ></input>\r\n                        </div>\r\n                      )}\r\n                      onDayChange={(day) => {\r\n                        if (day) {\r\n                          let d = new Date(promotion.start_date);\r\n                          let year = day.getFullYear();\r\n                          let month = day.getMonth();\r\n                          let niceDay = day.getDate();\r\n                          d.setFullYear(year);\r\n                          d.setMonth(month);\r\n                          d.setDate(niceDay);\r\n                          setPromotion((prev) =>\r\n                            Object.assign({}, prev, { start_date: d.getTime() })\r\n                          );\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className=\"col-auto position-relative input-light\"\r\n                    style={{ width: \"150px\" }}\r\n                  >\r\n                    <BsClock\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        left: \"18px\",\r\n                      }}\r\n                    ></BsClock>\r\n                    <TimePicker\r\n                      clearIcon={null}\r\n                      clockIcon={null}\r\n                      className=\"w-100 pl-5\"\r\n                      onChange={(a) => {\r\n                        if (a) {\r\n                          let [h, m] = a.split(\":\");\r\n                          let newTime = new Date(promotion.start_date);\r\n                          newTime.setHours(h);\r\n                          newTime.setMinutes(m);\r\n                          setPromotion((prev) =>\r\n                            Object.assign({}, prev, {\r\n                              start_date: newTime.getTime(),\r\n                            })\r\n                          );\r\n                        }\r\n                      }}\r\n                      value={new Date(promotion.start_date)}\r\n                    ></TimePicker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 mb-4\">\r\n                <div className=\"row no-gutters\">End Date</div>\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-auto mr-2\" style={{ width: \"182px\" }}>\r\n                    <DayPickerInput\r\n                      value={date.format(\r\n                        new Date(promotion.end_date),\r\n                        \"DD/MM/YYYY\"\r\n                      )}\r\n                      component={(props) => (\r\n                        <div className=\"position-relative\">\r\n                          <BsCalendar\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              margin: \"auto\",\r\n                              left: \"18px\",\r\n                            }}\r\n                          ></BsCalendar>\r\n                          <input\r\n                            {...props}\r\n                            className=\"input-light w-100 pl-5 pr-3\"\r\n                            placeholder=\"YYYY-MM-DD\"\r\n                          ></input>\r\n                        </div>\r\n                      )}\r\n                      onDayChange={(day) => {\r\n                        if (day) {\r\n                          let d = new Date(promotion.end_date);\r\n                          let year = day.getFullYear();\r\n                          let month = day.getMonth();\r\n                          let niceDay = day.getDate();\r\n                          d.setFullYear(year);\r\n                          d.setMonth(month);\r\n                          d.setDate(niceDay);\r\n                          setPromotion((prev) =>\r\n                            Object.assign({}, prev, { end_date: d.getTime() })\r\n                          );\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className=\"col-auto position-relative input-light\"\r\n                    style={{ width: \"150px\" }}\r\n                  >\r\n                    <BsClock\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        left: \"18px\",\r\n                      }}\r\n                    ></BsClock>\r\n                    <TimePicker\r\n                      clearIcon={null}\r\n                      clockIcon={null}\r\n                      className=\"w-100 pl-5\"\r\n                      onChange={(a) => {\r\n                        if (a) {\r\n                          let [h, m] = a.split(\":\");\r\n                          let newTime = new Date(promotion.end_date);\r\n                          newTime.setHours(h);\r\n                          newTime.setMinutes(m);\r\n                          setPromotion((prev) =>\r\n                            Object.assign({}, prev, {\r\n                              end_date: newTime.getTime(),\r\n                            })\r\n                          );\r\n                        }\r\n                      }}\r\n                      value={new Date(promotion.end_date)}\r\n                    ></TimePicker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-3 h6 mt-4\">\r\n          Select Content To Promote\r\n        </div>\r\n        <div className=\"row no-gutters mb-3\">\r\n          <Select\r\n            onSelect={(index) => setSearchKey(searchKeys[index])}\r\n            className=\"table-input-prepend-select col-auto bg-custom-primary text-white\"\r\n            items={searchKeys}\r\n            btnName={`Search by ${searchKey}`}\r\n          ></Select>\r\n          <div className=\"col position-relative\" style={{ maxWidth: \"400px\" }}>\r\n            <BsSearch\r\n              fontSize=\"20px\"\r\n              style={{\r\n                position: \"absolute\",\r\n                top: 0,\r\n                bottom: 0,\r\n                margin: \"auto\",\r\n                right: \"18px\",\r\n              }}\r\n            ></BsSearch>\r\n            <input\r\n              value={search}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setSearch(e.target.value);\r\n              }}\r\n              className=\"table-input pr-5 pl-3 w-100\"\r\n            ></input>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters\">\r\n          <Swipeable\r\n            style={{ minWidth: \"100%\" }}\r\n            onSwipedLeft={() => {\r\n              setLastVisibleColumn(\r\n                lastVisibleColumn + 1 < 4\r\n                  ? lastVisibleColumn + 1\r\n                  : lastVisibleColumn\r\n              );\r\n            }}\r\n            onSwipedRight={() => {\r\n              setLastVisibleColumn(\r\n                lastVisibleColumn - 1 >= 0\r\n                  ? lastVisibleColumn - 1\r\n                  : lastVisibleColumn\r\n              );\r\n            }}\r\n          >\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table bg-white border\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"text-center\">\r\n                      <Checkbox\r\n                        color={\"primary\"}\r\n                        checked={\r\n                          candidates\r\n                            .slice(boundaries[0], boundaries[1])\r\n                            .filter((x) => x.selected).length ===\r\n                          boundaries[1] - boundaries[0]\r\n                        }\r\n                        onChange={(e) => {\r\n                          setCandidates((prev) => {\r\n                            let arr = [...prev];\r\n                            for (\r\n                              let i = boundaries[0];\r\n                              i < boundaries[1];\r\n                              i++\r\n                            ) {\r\n                              arr[i].selected = e.target.checked;\r\n                            }\r\n                            return arr;\r\n                          });\r\n                        }}\r\n                      ></Checkbox>\r\n                    </th>\r\n                    <th className=\"table-header text-truncate text-left\">\r\n                      <div className=\"d-none d-lg-block\">Posted By</div>\r\n                      <div className=\"d-block d-lg-none\">By</div>\r\n                    </th>\r\n                    <th className=\"d-table-cell d-xl-none table-header text-truncate\">\r\n                      {columns[lastVisibleColumn]}\r\n                    </th>\r\n                    {columns.map((c,p) => (\r\n                      <th className=\"d-none d-xl-table-cell table-header text-truncate\" key={`x-col-${p}`}>\r\n                        <div>{c}</div>\r\n                      </th>\r\n                    ))}\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {candidates.length ? (\r\n                    candidates\r\n                      .slice((page - 1) * 5, (page - 1) * 5 + 5)\r\n                      .map((x, i) => (\r\n                        <tr\r\n                          className=\"font-weight-600 bg-light\"\r\n                          key={`shortlist-item-${i}`}\r\n                        >\r\n                          <td className=\"text-center\">\r\n                            <Checkbox\r\n                              color={\"primary\"}\r\n                              checked={x.selected}\r\n                              onChange={(e) => {\r\n                                setCandidates((prev) => {\r\n                                  let arr = [...prev];\r\n                                  arr[(page - 1) * 5 + i].selected =\r\n                                    e.target.checked;\r\n                                  return arr;\r\n                                });\r\n                              }}\r\n                            ></Checkbox>\r\n                          </td>\r\n                          <td style={{ whiteSpace: \"nowrap\" }}>\r\n                            <div className=\"d-inline-block mr-2\">\r\n                              <div\r\n                                className=\"square-50 rounded-circle bg-image\"\r\n                                style={{\r\n                                  backgroundImage: `url(${\r\n                                    Object.values(publicUsers).length\r\n                                      ? publicUsers[x.author].photo\r\n                                      : \"\"\r\n                                  })`,\r\n                                }}\r\n                              ></div>\r\n                            </div>\r\n                            {Object.values(publicUsers).length ? (\r\n                              <div className=\"d-none d-md-inline-block align-top\">\r\n                                <div className=\"h6 text-primary\">\r\n                                  {publicUsers[x.author].display_name}\r\n                                </div>\r\n                                <div>{publicUsers[x.author].email}</div>\r\n                              </div>\r\n                            ) : (\r\n                              \"\"\r\n                            )}\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              lastVisibleColumn === 0\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            {ratings[x.movie_id]\r\n                              ? ratings[x.movie_id].movie_title\r\n                              : \"\"}\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              lastVisibleColumn === 1\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            {!x.comment ? (\r\n                              <div style={{ minWidth: \"200px\" }}>\r\n                                <div\r\n                                  className=\"text-clamp-4 cursor-pointer user-select-none\"\r\n                                  onClick={(e) => {\r\n                                    let target = e.currentTarget;\r\n                                    if (\r\n                                      target.classList.contains(\"text-clamp-4\")\r\n                                    ) {\r\n                                      target.classList.remove(\"text-clamp-4\");\r\n                                    } else {\r\n                                      target.classList.add(\"text-clamp-4\");\r\n                                    }\r\n                                  }}\r\n                                >\r\n                                  {x.review}\r\n                                </div>\r\n                              </div>\r\n                            ) : (\r\n                              <div\r\n                                className=\"text-clamp-4 cursor-pointer user-select-none\"\r\n                                onClick={(e) => {\r\n                                  let target = e.currentTarget;\r\n                                  if (\r\n                                    target.classList.contains(\"text-clamp-4\")\r\n                                  ) {\r\n                                    target.classList.remove(\"text-clamp-4\");\r\n                                  } else {\r\n                                    target.classList.add(\"text-clamp-4\");\r\n                                  }\r\n                                }}\r\n                              >\r\n                                {x.comment}\r\n                              </div>\r\n                            )}\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              lastVisibleColumn === 2\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            {x.rating ? (\r\n                              x.rating === \"ok_rate\" ? (\r\n                                <div style={{ marginTop: \"-4px\" }}>\r\n                                  <OkIcon size={24}></OkIcon>\r\n                                </div>\r\n                              ) : (\r\n                                <div style={{ marginBottom: \"-6px\" }}>\r\n                                  <Emoji\r\n                                    emoji={\r\n                                      x.rating === \"excellent_rate\"\r\n                                        ? \"fire\"\r\n                                        : x.rating === \"good_rate\"\r\n                                        ? \"heart\"\r\n                                        : x.rating === \"ok_rate\"\r\n                                        ? \"heavy_division_sign\"\r\n                                        : \"shit\"\r\n                                    }\r\n                                    set=\"facebook\"\r\n                                    size={24}\r\n                                  />\r\n                                </div>\r\n                              )\r\n                            ) : (\r\n                              \"-\"\r\n                            )}\r\n                          </td>\r\n                          <td\r\n                            style={{ whiteSpace: \"nowrap\" }}\r\n                            className={`${\r\n                              lastVisibleColumn === 3\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            <div>\r\n                              {date.format(\r\n                                new Date(x.date),\r\n                                \"DD/MM/YYYY @ hh:mm A\"\r\n                              )}\r\n                            </div>\r\n                          </td>\r\n                          <td\r\n                            className={`${\r\n                              !x.reported ? \"text-green\" : \"text-danger\"\r\n                            } ${\r\n                              lastVisibleColumn === 4\r\n                                ? \"d-table-cell\"\r\n                                : \"d-none d-xl-table-cell\"\r\n                            }`}\r\n                          >\r\n                            {x.reported ? \"Abused\" : \"Not Reported\"}\r\n                          </td>\r\n                        </tr>\r\n                      ))\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan={3} className=\" text-center py-5\">\r\n                        0 results found\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </Swipeable>\r\n        </div>\r\n        <div className=\"row no-gutters justify-content-end\">\r\n          <div className=\"col-auto\">\r\n            <Pagination\r\n              count={Math.ceil(candidates.length / 5)}\r\n              current={page}\r\n              setCurrent={setPage}\r\n            ></Pagination>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-60 mt-1 px-0\">\r\n          <div\r\n            style={{ height: \"50px\", opacity: problem ? 1 : 0 }}\r\n            className=\"row no-gutters align-items-center text-danger mb-2\"\r\n          >\r\n            {problem}\r\n          </div>\r\n          <div className=\"row no-gutters\">\r\n            <div\r\n              className=\"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto\"\r\n              onClick={() => getBack()}\r\n            >\r\n              Cancel\r\n            </div>\r\n            <div\r\n              className=\"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto\"\r\n              onClick={async () => {\r\n                let invalid = validations.filter((x) => !x.valid);\r\n                if (invalid.length) {\r\n                  setProblem(invalid[0].error);\r\n                } else {\r\n                  let promos = candidates\r\n                    .filter((x) => x.selected)\r\n                    .map((x) =>\r\n                      Object.assign({}, promotion, {\r\n                        content_type: x.comment ? \"Comment\" : \"Review\",\r\n                        content: x.comment\r\n                          ? { comment: x.comment }\r\n                          : { review: x.review, rating: x.rating },\r\n                        content_id: x._id,\r\n                        content_author: x.author,\r\n                        movie_title: x.movie_title,\r\n                        movie_genres: x.movie_genres,\r\n                        movie_poster: x.movie_poster,\r\n                        movie_release_date: x.movie_release_date,\r\n                        movie_id: x.movie_id,\r\n                      })\r\n                    );\r\n                  setLoading(true);\r\n                  let res = await CreatePromotions(promos);\r\n                  setLoading(false);\r\n                  if (res.error) {\r\n                    store.dispatch({\r\n                      type: \"SET_NOTIFICATION\",\r\n                      notification: {\r\n                        title: \"Error\",\r\n                        message: res.error,\r\n                        type: \"failure\",\r\n                      },\r\n                    });\r\n                  } else {\r\n                    store.dispatch({\r\n                      type: \"SET_NOTIFICATION\",\r\n                      notification: {\r\n                        title: \"Promotions created\",\r\n                        message: \"Promotions were successfully created\",\r\n                        type: \"success\",\r\n                      },\r\n                    });\r\n                    getBack();\r\n                  }\r\n                }\r\n              }}\r\n            >\r\n              <Loader\r\n                color={\"white\"}\r\n                style={{\r\n                  position: \"absolute\",\r\n                  left: \"10px\",\r\n                  top: 0,\r\n                  bottom: 0,\r\n                  margin: \"auto\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                }}\r\n                loading={loading}\r\n                size={20}\r\n              ></Loader>\r\n              Save\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(AddNewPromotion);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport Checkbox from \"../utility/Checkbox\";\r\nimport Pagination from \"../utility/Paigination\";\r\nimport { BsSearch } from \"react-icons/bs\";\r\nimport date from \"date-and-time\";\r\nimport { Swipeable } from \"react-swipeable\";\r\nimport {\r\n  GetNotifications,\r\n  DeleteMultipleNotifications,\r\n} from \"../../server/DatabaseApi\";\r\nimport store from \"../../store/store\";\r\n\r\nconst Notifications = ({\r\n  setEditNotification,\r\n  setEditNotificationSection,\r\n  setAddNewNotificationSection,\r\n}) => {\r\n  const [action, setAction] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [searchKey, setSearchKey] = useState(\"Subject\");\r\n  const [lastVisibleColumn, setLastVisibleColumn] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [typeFilter, setTypeFilter] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [mainFilter, setMainFilter] = useState({ key: \"\", value: \"\" });\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [filteredNotifications, setFilteredNotifications] = useState([]);\r\n  const [refresh, setRefresh] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      let data = await GetNotifications();\r\n      if (!data.error) {\r\n        setNotifications(\r\n          data.reverse().map((x) => Object.assign({}, x, { selected: false }))\r\n        );\r\n      }\r\n    }\r\n\r\n    getData();\r\n  }, [refresh]);\r\n\r\n  const types = [\"App\", \"Email\", \"System\"];\r\n\r\n  useEffect(() => {\r\n    let arr = [...notifications];\r\n    if (notifications.length) {\r\n      if (search) {\r\n        if (searchKey === \"Subject\") {\r\n          arr = arr.filter((x) =>\r\n            x.subject.toLowerCase().includes(search.toLowerCase())\r\n          );\r\n        } else if (searchKey === \"Description\") {\r\n          arr = arr.filter((x) =>\r\n            x.description.toLowerCase().includes(search.toLowerCase())\r\n          );\r\n        }\r\n      }\r\n\r\n      if (typeFilter) {\r\n        arr = arr.filter((x) => x.type === typeFilter);\r\n      }\r\n\r\n      if (mainFilter.key) {\r\n        arr = arr.filter((x) => x[mainFilter.key] === mainFilter.value);\r\n      }\r\n\r\n      setFilteredNotifications(arr);\r\n    }\r\n  }, [search, typeFilter, notifications, mainFilter]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  //boundaries for slicing reviews array. (pagination)\r\n  let boundaries = [(page - 1) * 5, (page - 1) * 5 + 5];\r\n  if (boundaries[1] >= filteredNotifications.length) {\r\n    boundaries[1] =\r\n      boundaries[1] - (boundaries[1] - filteredNotifications.length);\r\n  }\r\n\r\n  const statuses = [\"Sent\", \"Drafted\", \"Deleted\"];\r\n\r\n  const handleApply = async (all = false) => {\r\n    if (all) {\r\n      setTypeFilter(type);\r\n    }\r\n    if (action === \"Edit\") {\r\n      let selected = filteredNotifications.filter((x) => x.selected);\r\n      if (selected.length) {\r\n        setEditNotification(selected[0]);\r\n        setEditNotificationSection();\r\n      }\r\n    } else if (action === \"Delete\") {\r\n      let selected = filteredNotifications.filter((x) => x.selected);\r\n      if (selected.length) {\r\n        let res = await DeleteMultipleNotifications(\r\n          selected.map((x) => x._id),\r\n          { status: \"Deleted\" }\r\n        );\r\n        if (res.error) {\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Error\",\r\n              message: res.error,\r\n              type: \"failure\",\r\n            },\r\n          });\r\n        } else {\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Selected notifications deleted\",\r\n              message: \"Selected notifications were successfully deleted\",\r\n              type: \"success\",\r\n            },\r\n          });\r\n          store.dispatch({\r\n            type: \"UPDATE_USER\",\r\n            userProperty: { update: Date.now() },\r\n          });\r\n        }\r\n        setRefresh(!refresh);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"row no-gutters admin-screen\">\r\n      <div className=\"col-60 border-bottom\">\r\n        <div className=\"row no-gutters justify-content-between pb-3 align-items-end\">\r\n          <div className=\"col-auto\">\r\n            <div className=\"row no-gutters admin-screen-title\">\r\n              Notifications\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              Create, send and manage notifications\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"col-auto btn-custom btn-custom-primary btn-natural\"\r\n            onClick={() => setAddNewNotificationSection()}\r\n          >\r\n            Add New\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-60 py-5\">\r\n            <div className=\"row no-gutters h6 mb-3\">\r\n              <div\r\n                onClick={() => {\r\n                  setTypeFilter(\"\");\r\n                  setType(\"\");\r\n                  setMainFilter({ key: \"\", value: \"\" });\r\n                }}\r\n                className={`col-auto cursor-pointer ${\r\n                  !typeFilter && !mainFilter.key ? \"text-primary\" : \"text-dark\"\r\n                }`}\r\n              >\r\n                All ({notifications.length})\r\n              </div>\r\n              {statuses.map((x, i) => (\r\n                <React.Fragment key={`status-${i}`}>\r\n                  <div className=\"col-auto px-2 text-muted\">|</div>\r\n                  <div\r\n                    onClick={() =>\r\n                      setMainFilter((prev) =>\r\n                        Object.assign({ key: \"status\", value: x })\r\n                      )\r\n                    }\r\n                    className={`col-auto cursor-pointer ${\r\n                      mainFilter.key === \"status\" && mainFilter.value === x\r\n                        ? \"text-primary\"\r\n                        : \"text-dark\"\r\n                    }`}\r\n                  >\r\n                    {x} ({notifications.filter((y) => y.status === x).length})\r\n                  </div>\r\n                </React.Fragment>\r\n              ))}\r\n            </div>\r\n            <div className=\"row no-gutters justify-content-between\">\r\n              <div className=\"col-sm-auto col-60\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-60 col-sm-auto pb-3 mr-sm-3\">\r\n                    <div className=\"row no-gutters\">\r\n                      <Select\r\n                        popoverClass=\"col-60 col-sm-auto\"\r\n                        onSelect={(index) => setAction([\"Delete\"][index])}\r\n                        items={[\"Delete\"]}\r\n                        btnName={action ? action : \"Select Action\"}\r\n                        className=\"input-light px-3 col-auto\"\r\n                      ></Select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-60 col-sm-auto pb-3 mr-sm-3\">\r\n                    <div className=\"row no-gutters\">\r\n                      <Select\r\n                        popoverClass=\"col-60 col-sm-auto\"\r\n                        onSelect={(index) => setType(types[index])}\r\n                        items={types}\r\n                        btnName={type ? type : \"Select Type\"}\r\n                        className=\"input-light px-3 col-auto\"\r\n                      ></Select>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    onClick={() => handleApply(true)}\r\n                    className=\"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall\"\r\n                  >\r\n                    Apply\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60 d-block d-sm-none\">\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <Select\r\n                    popoverClass=\"w-100\"\r\n                    onSelect={(index) =>\r\n                      setSearchKey([\"Subject\", \"Description\"][index])\r\n                    }\r\n                    className=\"input-light col-60\"\r\n                    items={[\"Subject\", \"Description\"]}\r\n                    btnName={`Search by ${searchKey}`}\r\n                  ></Select>\r\n                </div>\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <div className=\"col-60 position-relative\">\r\n                    <BsSearch\r\n                      fontSize=\"20px\"\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        right: \"18px\",\r\n                      }}\r\n                    ></BsSearch>\r\n                    <input\r\n                      className=\"input-light w-100 pr-5 pl-3\"\r\n                      value={search}\r\n                      onChange={(e) => {\r\n                        e.persist();\r\n                        setSearch(e.target.value);\r\n                      }}\r\n                    ></input>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-auto mb-3 d-none d-sm-block\">\r\n                <div className=\"row no-gutters\">\r\n                  <Select\r\n                    onSelect={(index) =>\r\n                      setSearchKey([\"Subject\", \"Description\"][index])\r\n                    }\r\n                    className=\"table-input-prepend-select col-auto\"\r\n                    items={[\"Subject\", \"Description\"]}\r\n                    btnName={`Search by ${searchKey}`}\r\n                  ></Select>\r\n                  <div className=\"col position-relative\">\r\n                    <BsSearch\r\n                      fontSize=\"20px\"\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        right: \"18px\",\r\n                      }}\r\n                    ></BsSearch>\r\n                    <input\r\n                      value={search}\r\n                      onChange={(e) => {\r\n                        e.persist();\r\n                        setSearch(e.target.value);\r\n                      }}\r\n                      className=\"table-input pr-5 pl-3\"\r\n                      style={{ minWidth: \"300px\" }}\r\n                    ></input>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <Swipeable\r\n                style={{ minWidth: \"100%\" }}\r\n                onSwipedLeft={() => {\r\n                  setLastVisibleColumn(\r\n                    lastVisibleColumn + 1 < 4\r\n                      ? lastVisibleColumn + 1\r\n                      : lastVisibleColumn\r\n                  );\r\n                }}\r\n                onSwipedRight={() => {\r\n                  setLastVisibleColumn(\r\n                    lastVisibleColumn - 1 >= 0\r\n                      ? lastVisibleColumn - 1\r\n                      : lastVisibleColumn\r\n                  );\r\n                }}\r\n              >\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table bg-white border\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th className=\"text-center\">\r\n                          <Checkbox\r\n                            color={\"primary\"}\r\n                            checked={\r\n                              filteredNotifications\r\n                                .slice(boundaries[0], boundaries[1])\r\n                                .filter((x) => x.selected).length ===\r\n                              boundaries[1] - boundaries[0]\r\n                            }\r\n                            onChange={(e) => {\r\n                              setFilteredNotifications((prev) => {\r\n                                let arr = [...prev];\r\n                                for (\r\n                                  let i = boundaries[0];\r\n                                  i < boundaries[1];\r\n                                  i++\r\n                                ) {\r\n                                  arr[i].selected = e.target.checked;\r\n                                }\r\n                                return arr;\r\n                              });\r\n                            }}\r\n                          ></Checkbox>\r\n                        </th>\r\n                        <th className=\"table-header text-truncate text-left\">\r\n                          Subject\r\n                        </th>\r\n                        <th className=\"d-table-cell d-xl-none table-header text-truncate\">\r\n                          {\r\n                            [\"Type\", \"Description\", \"Duration\", \"Status\"][\r\n                              lastVisibleColumn\r\n                            ]\r\n                          }\r\n                        </th>\r\n                        <th className=\"d-none d-xl-table-cell table-header text-truncate\">\r\n                          <div>Type</div>\r\n                        </th>\r\n                        <th className=\"d-none d-xl-table-cell table-header text-truncate\">\r\n                          <div>Description</div>\r\n                        </th>\r\n                        <th className=\"d-none d-xl-table-cell table-header text-truncate\">\r\n                          <div>Duration</div>\r\n                        </th>\r\n                        <th className=\"d-none d-xl-table-cell table-header text-truncate\">\r\n                          <div>Status</div>\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {filteredNotifications.length ? (\r\n                        filteredNotifications\r\n                          .slice((page - 1) * 5, (page - 1) * 5 + 5)\r\n                          .map((x, i) => (\r\n                            <tr\r\n                              className=\"font-weight-600 bg-light\"\r\n                              key={`shortlist-item-${i}`}\r\n                            >\r\n                              <td className=\"text-center\">\r\n                                <Checkbox\r\n                                  color={\"primary\"}\r\n                                  checked={x.selected}\r\n                                  onChange={(e) => {\r\n                                    setFilteredNotifications((prev) => {\r\n                                      let arr = [...prev];\r\n                                      arr[(page - 1) * 5 + i].selected =\r\n                                        e.target.checked;\r\n                                      return arr;\r\n                                    });\r\n                                  }}\r\n                                ></Checkbox>\r\n                              </td>\r\n                              <td style={{ whiteSpace: \"nowrap\" }}>\r\n                                <div className=\"mb-2\">{x.subject}</div>\r\n                                <div className=\"d-flex\">\r\n                                  <div\r\n                                    className=\"text-primary underline-link\"\r\n                                    onClick={() => {\r\n                                      setEditNotification(x);\r\n                                      setEditNotificationSection();\r\n                                    }}\r\n                                  >\r\n                                    Edit\r\n                                  </div>\r\n                                  <div className=\"px-2\">|</div>\r\n                                  <div\r\n                                    className=\"text-danger underline-link\"\r\n                                    onClick={async () => {\r\n                                      let res = await DeleteMultipleNotifications(\r\n                                        [x._id],\r\n                                        { status: \"Deleted\" }\r\n                                      );\r\n                                      if (res.error) {\r\n                                        store.dispatch({\r\n                                          type: \"SET_NOTIFICATION\",\r\n                                          notification: {\r\n                                            title: \"Error\",\r\n                                            message: res.error,\r\n                                            type: \"failure\",\r\n                                          },\r\n                                        });\r\n                                      } else {\r\n                                        store.dispatch({\r\n                                          type: \"SET_NOTIFICATION\",\r\n                                          notification: {\r\n                                            title: \"Notification was deleted\",\r\n                                            message:\r\n                                              \"Notification was successfully deleted\",\r\n                                            type: \"success\",\r\n                                          },\r\n                                        });\r\n                                        store.dispatch({\r\n                                          type: \"UPDATE_USER\",\r\n                                          userProperty: { update: Date.now() },\r\n                                        });\r\n                                      }\r\n                                      setRefresh(!refresh);\r\n                                    }}\r\n                                  >\r\n                                    Delete\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 0\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                <div>{x.type}</div>\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 1\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                <div\r\n                                  style={{ minWidth: \"200px\" }}\r\n                                  className=\"text-clamp-4 cursor-pointer user-select-none\"\r\n                                  onClick={(e) => {\r\n                                    let target = e.currentTarget;\r\n                                    if (\r\n                                      target.classList.contains(\"text-clamp-4\")\r\n                                    ) {\r\n                                      target.classList.remove(\"text-clamp-4\");\r\n                                    } else {\r\n                                      target.classList.add(\"text-clamp-4\");\r\n                                    }\r\n                                  }}\r\n                                >\r\n                                  {x.description}\r\n                                </div>\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 2\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                <div className=\"d-flex mb-2\">\r\n                                  <div style={{ width: \"55px\" }}>From:</div>\r\n                                  <div>\r\n                                    <div style={{ whiteSpace: \"nowrap\" }}>\r\n                                      {date.format(\r\n                                        new Date(x.start_date),\r\n                                        \"DD/MM/YYYY @ hh:mm A\"\r\n                                      )}\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"d-flex\">\r\n                                  <div style={{ width: \"55px\" }}>To:</div>\r\n                                  <div>\r\n                                    <div style={{ whiteSpace: \"nowrap\" }}>\r\n                                      {date.format(\r\n                                        new Date(x.end_date),\r\n                                        \"DD/MM/YYYY @ hh:mm A\"\r\n                                      )}\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 3\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                {x.status}\r\n                              </td>\r\n                            </tr>\r\n                          ))\r\n                      ) : (\r\n                        <tr>\r\n                          <td colSpan={6} className=\" text-center py-5\">\r\n                            0 results found\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </Swipeable>\r\n            </div>\r\n            <div className=\"row no-gutters justify-content-center justify-content-sm-end\">\r\n              <div className=\"col-auto\">\r\n                <Pagination\r\n                  count={Math.ceil(filteredNotifications.length / 5)}\r\n                  current={page}\r\n                  setCurrent={setPage}\r\n                ></Pagination>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notifications;\r\n","import { default as MuiAutocomplete } from \"@material-ui/lab/Autocomplete\";\r\nimport React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  inputRoot: {\r\n    \"& .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"rgb(255, 0, 64)\",\r\n    },\r\n    secondary: {\r\n      main: \"#202020\",\r\n    },\r\n  },\r\n});\r\n\r\nconst Autocomplete = (props) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <MuiAutocomplete\r\n        {...props}\r\n        classes={classes}\r\n        multiple\r\n        id=\"tags-outlined\"\r\n        filterSelectedOptions\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            variant=\"outlined\"\r\n            placeholder={props.placeholder}\r\n          />\r\n        )}\r\n      ></MuiAutocomplete>\r\n    </MuiThemeProvider>\r\n  );\r\n};\r\n\r\nexport default Autocomplete;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport Autocomplete from \"../utility/Autocomplete\";\r\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\r\nimport \"react-day-picker/lib/style.css\";\r\nimport { BsCalendar, BsClock } from \"react-icons/bs\";\r\nimport TimePicker from \"react-time-picker\";\r\nimport date from \"date-and-time\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../store/store\";\r\nimport Loader from \"../utility/Loader\";\r\nimport { EditNotification as Edit, GetUser } from \"../../server/DatabaseApi\";\r\n\r\nconst EditNotification = ({\r\n  currentNotification,\r\n  getBack,\r\n  publicUsers,\r\n  user,\r\n}) => {\r\n  const types = [\"App\", \"Email\", \"System\"];\r\n\r\n  let initialDate = Date.now();\r\n\r\n  const [notification, setNotification] = useState({\r\n    type: \"\",\r\n    subject: \"\",\r\n    start_date: initialDate,\r\n    end_date: initialDate,\r\n    receivers: [],\r\n    description: \"\",\r\n    status: \"Drafted\",\r\n  });\r\n\r\n  const statuses = [\"Sent\", \"Drafted\", \"Deleted\"];\r\n\r\n  const [problem, setProblem] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const validations = [\r\n    { valid: notification.subject, error: \"Subject is required\" },\r\n    { valid: notification.type, error: \"Select notification type\" },\r\n    {\r\n      valid: notification.receivers.length,\r\n      error: \"Select at least one receiver\",\r\n    },\r\n    { valid: notification.description, error: \"Description is required\" },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setNotification(currentNotification);\r\n  }, [currentNotification]);\r\n\r\n  const autocompleteOptions = {\r\n    All: \"All\",\r\n    \"All users\": \"User\",\r\n    \"All admins\": \"Administrator\",\r\n    \"Inactive users\": \"Inactive\",\r\n    \"Active users\": \"Active\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"row no-gutters p-sm-5 p-4\">\r\n      <div className=\"col-60 py-3 border-bottom mb-4\">\r\n        <div className=\"row no-gutters admin-screen-title\">\r\n          Edit notification\r\n        </div>\r\n        <div className=\"row no-gutters\">Edit existing notification</div>\r\n      </div>\r\n      <div className=\"col-60\" style={{ maxWidth: \"800px\" }}>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Subject</div>\r\n          <div className=\"col-60\">\r\n            <input\r\n              disabled={notification.type === \"System\"}\r\n              type=\"text\"\r\n              className={`w-100 ${\r\n                notification.type === \"System\"\r\n                  ? \"input-light-disabled\"\r\n                  : \"input-light\"\r\n              } px-3`}\r\n              value={notification.subject}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setNotification((prev) =>\r\n                  Object.assign({}, prev, { subject: e.target.value })\r\n                );\r\n              }}\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Type</div>\r\n          <Select\r\n            disabled={notification.type === \"System\"}\r\n            popoverClass=\"col-sm-30 col-60\"\r\n            className={`input-light${\r\n              notification.type === \"System\" ? \"-disabled\" : \"\"\r\n            } col-60`}\r\n            btnName={notification.type ? notification.type : \"Select\"}\r\n            items={types}\r\n            onSelect={(index) =>\r\n              setNotification((prev) =>\r\n                Object.assign({}, prev, { type: types[index] })\r\n              )\r\n            }\r\n          ></Select>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Notification to</div>\r\n          <Autocomplete\r\n            disabled={notification.type === \"System\"}\r\n            value={notification.receivers}\r\n            onChange={(e, val) => {\r\n              setNotification((prev) =>\r\n                Object.assign({}, prev, { receivers: val })\r\n              );\r\n            }}\r\n            placeholder={\"Search by username\"}\r\n            color={\"primary\"}\r\n            className={`col-md-30 col-60 input-light-resize${\r\n              notification.type === \"System\" ? \"-disabled\" : \"\"\r\n            }`}\r\n            options={Object.keys(autocompleteOptions).concat(\r\n              Object.values(publicUsers).filter((x) => x.status !== \"Deleted\")\r\n            )}\r\n            getOptionLabel={(option) =>\r\n              option.display_name ? option.display_name : option\r\n            }\r\n          ></Autocomplete>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Description</div>\r\n          <div className=\"col-60\">\r\n            <textarea\r\n              disabled={notification.type === \"System\"}\r\n              value={notification.description}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                let text = e.target.value;\r\n                if (text.split(\" \").length <= 500) {\r\n                  setNotification((prev) =>\r\n                    Object.assign({}, prev, { description: text })\r\n                  );\r\n                }\r\n              }}\r\n              className={`${\r\n                notification.type === \"System\"\r\n                  ? \"textarea-light-disabled\"\r\n                  : \"textarea-light\"\r\n              } w-100`}\r\n              style={{ height: \"150px\" }}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div\r\n            className={`col-60 ${\r\n              notification.description.split(\" \").length <= 499\r\n                ? \"text-muted\"\r\n                : \"text-danger\"\r\n            }`}\r\n          >\r\n            {notification.description\r\n              ? 500 - notification.description.split(\" \").length\r\n              : 500}\r\n            words left\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 pr-sm-3 mb-4\">\r\n                <div className=\"row no-gutters\">Date</div>\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-auto mr-2\" style={{ width: \"182px\" }}>\r\n                    <DayPickerInput\r\n                      value={date.format(\r\n                        new Date(notification.start_date),\r\n                        \"DD/MM/YYYY\"\r\n                      )}\r\n                      component={(props) => (\r\n                        <div className=\"position-relative\">\r\n                          <BsCalendar\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              margin: \"auto\",\r\n                              left: \"18px\",\r\n                            }}\r\n                          ></BsCalendar>\r\n                          <input\r\n                            disabled={notification.type === \"System\"}\r\n                            {...props}\r\n                            className={`input-light${\r\n                              notification.type === \"System\" ? \"-disabled\" : \"\"\r\n                            } w-100 pl-5 pr-3`}\r\n                            placeholder=\"YYYY-MM-DD\"\r\n                          ></input>\r\n                        </div>\r\n                      )}\r\n                      onDayChange={(day) => {\r\n                        if (day) {\r\n                          let d = new Date(notification.start_date);\r\n                          let year = day.getFullYear();\r\n                          let month = day.getMonth();\r\n                          let niceDay = day.getDate();\r\n                          d.setFullYear(year);\r\n                          d.setMonth(month);\r\n                          d.setDate(niceDay);\r\n                          setNotification((prev) =>\r\n                            Object.assign({}, prev, { start_date: d.getTime() })\r\n                          );\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className={`col-auto position-relative input-light${\r\n                      notification.type === \"System\" ? \"-disabled\" : \"\"\r\n                    }`}\r\n                    style={{ width: \"150px\" }}\r\n                  >\r\n                    <BsClock\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        left: \"18px\",\r\n                      }}\r\n                    ></BsClock>\r\n                    {notification.type === \"System\" ? (\r\n                      <div className=\"w-100 pl-5\">\r\n                        {date.format(\r\n                          new Date(notification.start_date),\r\n                          \"hh:mm A\"\r\n                        )}\r\n                      </div>\r\n                    ) : (\r\n                      <TimePicker\r\n                        clearIcon={null}\r\n                        clockIcon={null}\r\n                        className=\"w-100 pl-5\"\r\n                        onChange={(a) => {\r\n                          if (a) {\r\n                            let [h, m] = a.split(\":\");\r\n                            let newTime = new Date(notification.start_date);\r\n                            newTime.setHours(h);\r\n                            newTime.setMinutes(m);\r\n                            setNotification((prev) =>\r\n                              Object.assign({}, prev, {\r\n                                start_date: newTime.getTime(),\r\n                              })\r\n                            );\r\n                          }\r\n                        }}\r\n                        value={new Date(notification.start_date)}\r\n                      ></TimePicker>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Status</div>\r\n          <Select\r\n            disabled={notification.type === \"System\"}\r\n            popoverClass=\"col-sm-30 col-60\"\r\n            className={`input-light${\r\n              notification.type === \"System\" ? \"-disabled\" : \"\"\r\n            } col-60`}\r\n            btnName={\r\n              notification.status ? notification.status : \"Select status\"\r\n            }\r\n            items={statuses}\r\n            onSelect={(index) =>\r\n              setNotification((prev) =>\r\n                Object.assign({}, prev, { status: statuses[index] })\r\n              )\r\n            }\r\n          ></Select>\r\n        </div>\r\n        <div\r\n          style={{ height: \"50px\", opacity: problem ? 1 : 0 }}\r\n          className=\"row no-gutters align-items-center text-danger my-2\"\r\n        >\r\n          {problem}\r\n        </div>\r\n        {notification.type !== \"System\" ? (\r\n          <div className=\"row no-gutters\">\r\n            <div\r\n              className=\"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto\"\r\n              onClick={getBack}\r\n            >\r\n              Cancel\r\n            </div>\r\n            <div\r\n              className=\"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto\"\r\n              onClick={async () => {\r\n                let invalid = validations.filter((x) => !x.valid);\r\n                if (invalid.length) {\r\n                  setProblem(invalid[0].error);\r\n                } else {\r\n                  setLoading(true);\r\n\r\n                  let res = await Edit(notification);\r\n                  setLoading(false);\r\n                  if (res.error) {\r\n                    store.dispatch({\r\n                      type: \"SET_NOTIFICATION\",\r\n                      notification: {\r\n                        title: \"Error\",\r\n                        message: res.error,\r\n                        type: \"failure\",\r\n                      },\r\n                    });\r\n                  } else {\r\n                    store.dispatch({\r\n                      type: \"SET_NOTIFICATION\",\r\n                      notification: {\r\n                        title: \"Notification edited\",\r\n                        message: \"Notification was successfully edited\",\r\n                        type: \"success\",\r\n                      },\r\n                    });\r\n                    let updatedUser = await GetUser(user._id);\r\n                    store.dispatch({\r\n                      type: \"SET_USER\",\r\n                      user: updatedUser,\r\n                    });\r\n                    getBack();\r\n                  }\r\n                }\r\n              }}\r\n            >\r\n              <Loader\r\n                color={\"white\"}\r\n                style={{\r\n                  position: \"absolute\",\r\n                  left: \"10px\",\r\n                  top: 0,\r\n                  bottom: 0,\r\n                  margin: \"auto\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                }}\r\n                loading={loading}\r\n                size={20}\r\n              ></Loader>\r\n              Save\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"row no-gutters\">\r\n            <div\r\n              className=\"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto\"\r\n              onClick={getBack}\r\n            >\r\n              Go back\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    user: state.user,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(EditNotification);\r\n","import React, { useState } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport Autocomplete from \"../utility/Autocomplete\";\r\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\r\nimport \"react-day-picker/lib/style.css\";\r\nimport { BsCalendar, BsClock } from \"react-icons/bs\";\r\nimport TimePicker from \"react-time-picker\";\r\nimport date from \"date-and-time\";\r\nimport { connect } from \"react-redux\";\r\nimport Loader from \"../utility/Loader\";\r\nimport { CreateNotification, GetUser } from \"../../server/DatabaseApi\";\r\nimport store from \"../../store/store\";\r\n\r\nconst AddNewNotification = ({ publicUsers, getBack, user }) => {\r\n  const types = [\"App\", \"Email\", \"System\"];\r\n  let initialDate = Date.now();\r\n  const [notification, setNotification] = useState({\r\n    type: \"\",\r\n    subject: \"\",\r\n    receivers: [],\r\n    start_date: initialDate,\r\n    end_date: initialDate,\r\n    description: \"\",\r\n    status: \"Sent\",\r\n  });\r\n\r\n  const [problem, setProblem] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const statuses = [\"Sent\", \"Drafted\", \"Deleted\"];\r\n  const validations = [\r\n    { valid: notification.subject, error: \"Subject is required\" },\r\n    { valid: notification.type, error: \"Select notification type\" },\r\n    {\r\n      valid: notification.receivers.length,\r\n      error: \"Select at least one receiver\",\r\n    },\r\n    { valid: notification.description, error: \"Description is required\" },\r\n  ];\r\n\r\n  const autocompleteOptions = {\r\n    All: \"All\",\r\n    \"All users\": \"User\",\r\n    \"All admins\": \"Administrator\",\r\n    \"Inactive users\": \"Inactive\",\r\n    \"Active users\": \"Active\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"row no-gutters p-sm-5 p-4\">\r\n      <div className=\"col-60 py-3 border-bottom mb-4\">\r\n        <div className=\"row no-gutters admin-screen-title\">\r\n          Add new notification\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          Create a brand new notification and add to this site\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60\" style={{ maxWidth: \"800px\" }}>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Subject</div>\r\n          <div className=\"col-60\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"w-100 input-light px-3\"\r\n              value={notification.subject}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setNotification((prev) =>\r\n                  Object.assign({}, prev, { subject: e.target.value })\r\n                );\r\n              }}\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Type</div>\r\n          <Select\r\n            popoverClass=\"col-sm-30 col-60\"\r\n            className=\"input-light col-60 w-100\"\r\n            btnName={notification.type ? notification.type : \"Select\"}\r\n            items={types}\r\n            onSelect={(index) =>\r\n              setNotification((prev) =>\r\n                Object.assign({}, prev, { type: types[index] })\r\n              )\r\n            }\r\n          ></Select>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Notification to</div>\r\n\r\n          <Autocomplete\r\n            value={notification.receivers}\r\n            onChange={(e, val) => {\r\n              setNotification((prev) =>\r\n                Object.assign({}, prev, { receivers: val })\r\n              );\r\n            }}\r\n            placeholder={\"Search by username\"}\r\n            color={\"primary\"}\r\n            className=\"col-md-30 col-60 input-light-resize\"\r\n            options={Object.keys(autocompleteOptions).concat(\r\n              Object.values(publicUsers).filter((x) => x.status !== \"Deleted\")\r\n            )}\r\n            getOptionLabel={(option) =>\r\n              option.display_name ? option.display_name : option\r\n            }\r\n          ></Autocomplete>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Description</div>\r\n          <div className=\"col-60\">\r\n            <textarea\r\n              value={notification.description}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                let text = e.target.value;\r\n                if (text.split(\" \").length <= 500) {\r\n                  setNotification((prev) =>\r\n                    Object.assign({}, prev, { description: text })\r\n                  );\r\n                }\r\n              }}\r\n              className=\"textarea-light w-100\"\r\n              style={{ height: \"150px\" }}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div\r\n            className={`col-60 ${\r\n              notification.description.split(\" \").length <= 499\r\n                ? \"text-muted\"\r\n                : \"text-danger\"\r\n            }`}\r\n          >\r\n            {notification.description\r\n              ? 500 - notification.description.split(\" \").length\r\n              : 500}\r\n            words left\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-xl-40 col-md-50 col-60\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 pr-sm-3 mb-4\">\r\n                <div className=\"row no-gutters\">Date</div>\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-auto mr-2\" style={{ width: \"182px\" }}>\r\n                    <DayPickerInput\r\n                      value={date.format(\r\n                        new Date(notification.start_date),\r\n                        \"DD/MM/YYYY\"\r\n                      )}\r\n                      component={(props) => (\r\n                        <div className=\"position-relative\">\r\n                          <BsCalendar\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              top: 0,\r\n                              bottom: 0,\r\n                              margin: \"auto\",\r\n                              left: \"18px\",\r\n                            }}\r\n                          ></BsCalendar>\r\n                          <input\r\n                            {...props}\r\n                            className=\"input-light w-100 pl-5 pr-3\"\r\n                            placeholder=\"YYYY-MM-DD\"\r\n                          ></input>\r\n                        </div>\r\n                      )}\r\n                      onDayChange={(day) => {\r\n                        if (day) {\r\n                          let d = new Date(notification.start_date);\r\n                          let year = day.getFullYear();\r\n                          let month = day.getMonth();\r\n                          let niceDay = day.getDate();\r\n                          d.setFullYear(year);\r\n                          d.setMonth(month);\r\n                          d.setDate(niceDay);\r\n                          setNotification((prev) =>\r\n                            Object.assign({}, prev, { start_date: d.getTime() })\r\n                          );\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className=\"col-auto position-relative input-light\"\r\n                    style={{ width: \"150px\" }}\r\n                  >\r\n                    <BsClock\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        left: \"18px\",\r\n                      }}\r\n                    ></BsClock>\r\n                    <TimePicker\r\n                      clearIcon={null}\r\n                      clockIcon={null}\r\n                      className=\"w-100 pl-5\"\r\n                      onChange={(a) => {\r\n                        if (a) {\r\n                          let [h, m] = a.split(\":\");\r\n                          let newTime = new Date(notification.start_date);\r\n                          newTime.setHours(h);\r\n                          newTime.setMinutes(m);\r\n                          setNotification((prev) =>\r\n                            Object.assign({}, prev, {\r\n                              start_date: newTime.getTime(),\r\n                            })\r\n                          );\r\n                        }\r\n                      }}\r\n                      value={new Date(notification.start_date)}\r\n                    ></TimePicker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Status</div>\r\n          <Select\r\n            popoverClass=\"col-sm-30 col-60\"\r\n            className=\"input-light col-60\"\r\n            btnName={\r\n              notification.status ? notification.status : \"Select status\"\r\n            }\r\n            items={statuses}\r\n            onSelect={(index) =>\r\n              setNotification((prev) =>\r\n                Object.assign({}, prev, { status: statuses[index] })\r\n              )\r\n            }\r\n          ></Select>\r\n        </div>\r\n        <div\r\n          style={{ height: \"50px\", opacity: problem ? 1 : 0 }}\r\n          className=\"row no-gutters align-items-center text-danger my-2\"\r\n        >\r\n          {problem}\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div\r\n            className=\"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto\"\r\n            onClick={getBack}\r\n          >\r\n            Cancel\r\n          </div>\r\n          <div\r\n            className=\"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto\"\r\n            onClick={async () => {\r\n              let invalid = validations.filter((x) => !x.valid);\r\n              if (invalid.length) {\r\n                setProblem(invalid[0].error);\r\n              } else {\r\n                setLoading(true);\r\n\r\n                let res = await CreateNotification(notification);\r\n                setLoading(false);\r\n                if (res.error) {\r\n                  store.dispatch({\r\n                    type: \"SET_NOTIFICATION\",\r\n                    notification: {\r\n                      title: \"Error\",\r\n                      message: res.error,\r\n                      type: \"failure\",\r\n                    },\r\n                  });\r\n                } else {\r\n                  store.dispatch({\r\n                    type: \"SET_NOTIFICATION\",\r\n                    notification: {\r\n                      title: \"Notification created\",\r\n                      message: \"Notification was successfully created\",\r\n                      type: \"success\",\r\n                    },\r\n                  });\r\n                  let updatedUser = await GetUser(user._id);\r\n                  store.dispatch({\r\n                    type: \"SET_USER\",\r\n                    user: updatedUser,\r\n                  });\r\n\r\n                  getBack();\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            <Loader\r\n              color={\"white\"}\r\n              style={{\r\n                position: \"absolute\",\r\n                left: \"10px\",\r\n                top: 0,\r\n                bottom: 0,\r\n                margin: \"auto\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n              loading={loading}\r\n              size={20}\r\n            ></Loader>\r\n            Save\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    user: state.user,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(AddNewNotification);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport Checkbox from \"../utility/Checkbox\";\r\nimport Pagination from \"../utility/Paigination\";\r\nimport { BsSearch } from \"react-icons/bs\";\r\nimport { Swipeable } from \"react-swipeable\";\r\nimport {\r\n  GetUsers,\r\n  EditMultipleUsers,\r\n  DeleteMultipleUsers,\r\n} from \"../../server/DatabaseApi\";\r\nimport { format as TimeAgo } from \"timeago.js\";\r\nimport store from \"../../store/store\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Users = ({\r\n  setEditUser,\r\n  setEditUserSection,\r\n  setAddNewUserSection,\r\n  publicUsers,\r\n  ratings,\r\n}) => {\r\n  const [action, setAction] = useState(\"\");\r\n  const [role, setRole] = useState(\"\");\r\n  const [searchKey, setSearchKey] = useState(\"User\");\r\n  const [lastVisibleColumn, setLastVisibleColumn] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [roleFilter, setRoleFilter] = useState(\"\");\r\n  const [statusFilter, setStatusFilter] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const [users, setUsers] = useState([]);\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n  const [refresh, setRefresh] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      let data = await GetUsers();\r\n      setUsers(data.map((x) => Object.assign({}, x, { selected: false })));\r\n    }\r\n\r\n    getData();\r\n  }, [refresh]);\r\n\r\n  useEffect(() => {\r\n    let arr = [...users];\r\n    if (users.length) {\r\n      if (search) {\r\n        if (searchKey === \"User\") {\r\n          arr = arr.filter((x) =>\r\n            x.display_name.toLowerCase().includes(search.toLowerCase())\r\n          );\r\n        } else if (searchKey === \"Email\") {\r\n          arr = arr.filter((x) =>\r\n            x.email.toLowerCase().includes(search.toLowerCase())\r\n          );\r\n        }\r\n      }\r\n\r\n      if (roleFilter) {\r\n        arr = arr.filter((x) => x.role === roleFilter);\r\n      }\r\n\r\n      if (statusFilter) {\r\n        arr = arr.filter((x) => x.status === statusFilter);\r\n      }\r\n    }\r\n    setFilteredUsers(arr);\r\n  }, [search, roleFilter, users, statusFilter]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  //boundaries for slicing reviews array. (pagination)\r\n  let boundaries = [(page - 1) * 5, (page - 1) * 5 + 5];\r\n  if (boundaries[1] >= filteredUsers.length) {\r\n    boundaries[1] = boundaries[1] - (boundaries[1] - filteredUsers.length);\r\n  }\r\n\r\n  const handleApply = async (all = false) => {\r\n    if (all) {\r\n      setRoleFilter(role === \"All\" ? \"\" : role);\r\n    }\r\n    let selected = filteredUsers.filter((x) => x.selected);\r\n\r\n    if (selected.length) {\r\n      if (action === \"Edit\") {\r\n        setEditUser(selected[0]);\r\n        setEditUserSection();\r\n      } else {\r\n        let update = {};\r\n        if (action === \"Delete\") {\r\n          update[\"status\"] = \"Deleted\";\r\n        } else if (action === \"Inactivate\") {\r\n          update[\"status\"] = \"Inactive\";\r\n        } else if (action === \"Block\") {\r\n          update[\"status\"] = \"Blocked\";\r\n        } else if (action === \"Activate\") {\r\n          update[\"status\"] = \"Active\";\r\n        }\r\n        let res = await EditMultipleUsers(\r\n          selected.map((x) => x._id),\r\n          selected.map((x) => publicUsers[x._id]._id),\r\n          update\r\n        );\r\n\r\n        if (res.error) {\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Error\",\r\n              message: res.error,\r\n              type: \"failure\",\r\n            },\r\n          });\r\n        } else {\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Users updated\",\r\n              message: \"User were successfully updated\",\r\n              type: \"success\",\r\n            },\r\n          });\r\n          setRefresh(!refresh);\r\n          let newPublicUsers = { ...publicUsers };\r\n          selected.forEach((x) => {\r\n            newPublicUsers[x._id].status = update[\"status\"];\r\n          });\r\n          store.dispatch({\r\n            type: \"SET_PUBLICUSERS\",\r\n            publicUsers: newPublicUsers,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const editUsers = async (update, ids, pids) => {\r\n    let res = await EditMultipleUsers(ids, pids, update);\r\n    if (res.error) {\r\n      store.dispatch({\r\n        type: \"SET_NOTIFICATION\",\r\n        notification: {\r\n          title: \"Error\",\r\n          message: res.error,\r\n          type: \"failure\",\r\n        },\r\n      });\r\n    } else {\r\n      store.dispatch({\r\n        type: \"SET_NOTIFICATION\",\r\n        notification: {\r\n          title: \"Users updated\",\r\n          message: \"User were successfully updated\",\r\n          type: \"success\",\r\n        },\r\n      });\r\n      setRefresh(!refresh);\r\n    }\r\n  };\r\n  const actions = [\"Block\", \"Inactivate\", \"Activate\", \"Delete\"];\r\n  const statuses = [\"Active\", \"Inactive\", \"Blocked\"];\r\n  const columns = [\"Email\", \"Role\", \"Last login\", \"Activity\", \"Status\"];\r\n  return (\r\n    <div className=\"row no-gutters admin-screen\">\r\n      <div className=\"col-60 border-bottom\">\r\n        <div className=\"row no-gutters justify-content-between pb-3 align-items-end\">\r\n          <div className=\"col-auto\">\r\n            <div className=\"row no-gutters admin-screen-title\">Users</div>\r\n            <div className=\"row no-gutters\">Add, edit and delete users</div>\r\n          </div>\r\n          <div\r\n            className=\"col-auto btn-custom btn-custom-primary btn-natural\"\r\n            onClick={() => setAddNewUserSection()}\r\n          >\r\n            Add New\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-60 py-5\">\r\n            <div className=\"row no-gutters h6 mb-3\">\r\n              <div\r\n                className={`col-auto ${\r\n                  statusFilter ? \"text-dark\" : \"text-primary\"\r\n                }`}\r\n                onClick={() => setStatusFilter(\"\")}\r\n              >\r\n                All ({users.length})\r\n              </div>\r\n              {statuses.map((x, i) => (\r\n                <React.Fragment key={`status-${i}`}>\r\n                  <div className=\"col-auto px-2 text-muted\">|</div>\r\n                  <div\r\n                    className={`col-auto cursor-pointer ${\r\n                      statusFilter === x ? \"text-primary\" : \"text-dark\"\r\n                    }`}\r\n                    onClick={() => setStatusFilter(x)}\r\n                  >\r\n                    {x} ({users.filter((y) => y.status === x).length})\r\n                  </div>\r\n                </React.Fragment>\r\n              ))}\r\n            </div>\r\n            <div className=\"row no-gutters justify-content-between\">\r\n              <div className=\"col-sm-auto col-60\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-60 col-sm-auto pb-3 mr-sm-3\">\r\n                    <div className=\"row no-gutters\">\r\n                      <Select\r\n                        popoverClass=\"col-60 col-sm-auto\"\r\n                        onSelect={(index) => setAction(actions[index])}\r\n                        items={actions}\r\n                        btnName={action ? action : \"Select Action\"}\r\n                        className=\"input-light px-3 col-auto\"\r\n                      ></Select>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-60 col-sm-auto pb-3 mr-sm-3\">\r\n                    <div className=\"row no-gutters\">\r\n                      <Select\r\n                        popoverClass=\"col-60 col-sm-auto\"\r\n                        onSelect={(index) =>\r\n                          setRole([\"All\", \"Administrator\", \"User\"][index])\r\n                        }\r\n                        items={[\"All\", \"Administrator\", \"User\"]}\r\n                        btnName={role ? role : \"Select Role\"}\r\n                        className=\"input-light px-3 col-auto\"\r\n                      ></Select>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    onClick={() => handleApply(true)}\r\n                    className=\"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall\"\r\n                  >\r\n                    Apply\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60 d-block d-sm-none\">\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <Select\r\n                    popoverClass=\"w-100\"\r\n                    onSelect={(index) => setSearchKey([\"User\", \"Email\"][index])}\r\n                    className=\"input-light col-60\"\r\n                    items={[\"User\", \"Email\"]}\r\n                    btnName={`Search by ${searchKey}`}\r\n                  ></Select>\r\n                </div>\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <div className=\"col-60 position-relative\">\r\n                    <BsSearch\r\n                      fontSize=\"20px\"\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        right: \"18px\",\r\n                      }}\r\n                    ></BsSearch>\r\n                    <input\r\n                      className=\"input-light w-100 pr-5 pl-3\"\r\n                      value={search}\r\n                      onChange={(e) => {\r\n                        e.persist();\r\n                        setSearch(e.target.value);\r\n                      }}\r\n                    ></input>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-auto mb-3 d-none d-sm-block\">\r\n                <div className=\"row no-gutters\">\r\n                  <Select\r\n                    onSelect={(index) => setSearchKey([\"User\", \"Email\"][index])}\r\n                    className=\"table-input-prepend-select col-auto\"\r\n                    items={[\"User\", \"Email\"]}\r\n                    btnName={`Search by ${searchKey}`}\r\n                  ></Select>\r\n                  <div className=\"col position-relative\">\r\n                    <BsSearch\r\n                      fontSize=\"20px\"\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: \"auto\",\r\n                        right: \"18px\",\r\n                      }}\r\n                    ></BsSearch>\r\n                    <input\r\n                      value={search}\r\n                      onChange={(e) => {\r\n                        e.persist();\r\n                        setSearch(e.target.value);\r\n                      }}\r\n                      className=\"table-input pr-5 pl-3\"\r\n                      style={{ minWidth: \"300px\" }}\r\n                    ></input>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <Swipeable\r\n                style={{ minWidth: \"100%\" }}\r\n                onSwipedLeft={() => {\r\n                  setLastVisibleColumn(\r\n                    lastVisibleColumn + 1 < 4\r\n                      ? lastVisibleColumn + 1\r\n                      : lastVisibleColumn\r\n                  );\r\n                }}\r\n                onSwipedRight={() => {\r\n                  setLastVisibleColumn(\r\n                    lastVisibleColumn - 1 >= 0\r\n                      ? lastVisibleColumn - 1\r\n                      : lastVisibleColumn\r\n                  );\r\n                }}\r\n              >\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table bg-white border\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th className=\"text-center\">\r\n                          <Checkbox\r\n                            color={\"primary\"}\r\n                            checked={\r\n                              filteredUsers\r\n                                .slice(boundaries[0], boundaries[1])\r\n                                .filter((x) => x.selected).length ===\r\n                              boundaries[1] - boundaries[0]\r\n                            }\r\n                            onChange={(e) => {\r\n                              setFilteredUsers((prev) => {\r\n                                let arr = [...prev];\r\n                                for (\r\n                                  let i = boundaries[0];\r\n                                  i < boundaries[1];\r\n                                  i++\r\n                                ) {\r\n                                  arr[i].selected = e.target.checked;\r\n                                }\r\n                                return arr;\r\n                              });\r\n                            }}\r\n                          ></Checkbox>\r\n                        </th>\r\n                        <th className=\"table-header text-truncate text-left\">\r\n                          <div className=\"d-none d-lg-block\">Display Name</div>\r\n                          <div className=\"d-block d-lg-none\">Name</div>\r\n                        </th>\r\n                        <th className=\"d-table-cell d-xl-none table-header text-truncate\">\r\n                          {columns[lastVisibleColumn]}\r\n                        </th>\r\n                        {columns.map((c, j) => (\r\n                          <th\r\n                            className=\"d-none d-xl-table-cell table-header text-truncate\"\r\n                            key={`column-${j}`}\r\n                          >\r\n                            <div>{c}</div>\r\n                          </th>\r\n                        ))}\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {filteredUsers.length ? (\r\n                        filteredUsers\r\n                          .slice((page - 1) * 5, (page - 1) * 5 + 5)\r\n                          .map((x, i) => (\r\n                            <tr\r\n                              className=\"font-weight-600 bg-light\"\r\n                              key={`shortlist-item-${i}`}\r\n                            >\r\n                              <td className=\"text-center\">\r\n                                <Checkbox\r\n                                  color={\"primary\"}\r\n                                  checked={x.selected}\r\n                                  onChange={(e) => {\r\n                                    setFilteredUsers((prev) => {\r\n                                      let arr = [...prev];\r\n                                      arr[(page - 1) * 5 + i].selected =\r\n                                        e.target.checked;\r\n                                      return arr;\r\n                                    });\r\n                                  }}\r\n                                ></Checkbox>\r\n                              </td>\r\n                              <td style={{ whiteSpace: \"nowrap\" }}>\r\n                                <div>\r\n                                  <div style={{ whiteSpace: \"nowrap\" }}>\r\n                                    <div className=\"d-inline-block mr-2\">\r\n                                      <div\r\n                                        className=\"square-50 rounded-circle bg-image\"\r\n                                        style={{\r\n                                          backgroundImage: `url(${x.photo})`,\r\n                                        }}\r\n                                      ></div>\r\n                                    </div>\r\n                                    <div className=\"d-none d-md-inline-block align-top\">\r\n                                      <div className=\"text-primary mb-2 text-truncate\" style={{maxWidth:\"300px\"}}>\r\n                                        {x.display_name}\r\n                                      </div>\r\n                                      <div className=\"d-flex\">\r\n                                        <div\r\n                                          className=\"text-primary underline-link\"\r\n                                          onClick={() => {\r\n                                            setEditUser(x);\r\n                                            setEditUserSection();\r\n                                          }}\r\n                                        >\r\n                                          Edit\r\n                                        </div>\r\n                                        <div className=\"px-2\">|</div>\r\n                                        <div\r\n                                          className=\"text-primary underline-link\"\r\n                                          onClick={() => {\r\n                                            editUsers(\r\n                                              { status: \"Blocked\" },\r\n                                              [x._id],\r\n                                              [publicUsers[x._id]._id]\r\n                                            );\r\n                                          }}\r\n                                        >\r\n                                          Block\r\n                                        </div>\r\n                                        <div className=\"px-2\">|</div>\r\n                                        <div\r\n                                          className=\"text-danger underline-link\"\r\n                                          onClick={async () => {\r\n                                            let res = await DeleteMultipleUsers(\r\n                                              [x._id],\r\n                                              [publicUsers[x._id]._id]\r\n                                            );\r\n                                            if (res.error) {\r\n                                              store.dispatch({\r\n                                                type: \"SET_NOTIFICATION\",\r\n                                                notification: {\r\n                                                  title: \"Error\",\r\n                                                  message: res.error,\r\n                                                  type: \"failure\",\r\n                                                },\r\n                                              });\r\n                                            } else {\r\n                                              store.dispatch({\r\n                                                type: \"SET_NOTIFICATION\",\r\n                                                notification: {\r\n                                                  title: \"Users deleted\",\r\n                                                  message:\r\n                                                    \"User were successfully deleted\",\r\n                                                  type: \"success\",\r\n                                                },\r\n                                              });\r\n                                              setRefresh(!refresh);\r\n                                              let newPublicUsers = {\r\n                                                ...publicUsers,\r\n                                              };\r\n                                              newPublicUsers[x._id].status =\r\n                                                \"Deleted\";\r\n\r\n                                              store.dispatch({\r\n                                                type: \"SET_PUBLICUSERS\",\r\n                                                publicUsers: newPublicUsers,\r\n                                              });\r\n                                            }\r\n                                          }}\r\n                                        >\r\n                                          Delete\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 0\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                <div>{x.email}</div>\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 1\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                {x.role}\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 2\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                {x.last_login\r\n                                  ? TimeAgo(x.last_login)\r\n                                  : \"No data\"}\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  lastVisibleColumn === 3\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                {x.last_activity\r\n                                  ? TimeAgo(x.last_activity)\r\n                                  : \"No data\"}\r\n                              </td>\r\n                              <td\r\n                                className={`${\r\n                                  x.status === \"Active\"\r\n                                    ? \"text-green\"\r\n                                    : x.status === \"Inactive\"\r\n                                    ? \"text-orange\"\r\n                                    : \"text-danger\"\r\n                                } ${\r\n                                  lastVisibleColumn === 4\r\n                                    ? \"d-table-cell\"\r\n                                    : \"d-none d-xl-table-cell\"\r\n                                }`}\r\n                              >\r\n                                {x.status}\r\n                              </td>\r\n                            </tr>\r\n                          ))\r\n                      ) : (\r\n                        <tr>\r\n                          <td colSpan={7} className=\" text-center py-5\">\r\n                            0 results found\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </Swipeable>\r\n            </div>\r\n            <div className=\"row no-gutters justify-content-center justify-content-sm-end\">\r\n              <div className=\"col-auto\">\r\n                <Pagination\r\n                  count={Math.ceil(filteredUsers.length / 5)}\r\n                  current={page}\r\n                  setCurrent={setPage}\r\n                ></Pagination>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    ratings: state.ratings,\r\n    publicUsers: state.publicUsers,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Users);\r\n","import React, { useState } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport { CreateUserForAdmin } from \"../../server/DatabaseApi\";\r\nimport store from \"../../store/store\";\r\nimport Loader from \"../utility/Loader\";\r\nimport { connect } from \"react-redux\";\r\nimport { validateEmail } from \"../../utilities/Functions\";\r\n\r\nconst AddNewUser = ({ getBack, publicUsers }) => {\r\n  const [newUser, setNewUser] = useState({\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    display_name: \"\",\r\n    email: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    re_password: \"\",\r\n    status: \"Active\",\r\n    role: \"User\",\r\n  });\r\n\r\n  const [problem, setProblem] = useState(\"\");\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const validations = [\r\n    {\r\n      valid: newUser.email,\r\n      error: \"Email is required\",\r\n    },\r\n    {\r\n      valid: validateEmail(newUser.email),\r\n      error: \"Email is not valid\",\r\n    },\r\n    {\r\n      valid: newUser.password,\r\n      error: \"Password is required\",\r\n    },\r\n    {\r\n      valid: /[^\\w\\s]/.test(newUser.password) || /\\d/.test(newUser.password),\r\n      error: \"Password must contain number or symbol\",\r\n    },\r\n    {\r\n      valid: newUser.password === newUser.re_password,\r\n      error: \"Passwords don't match\",\r\n    },\r\n    {\r\n      valid: newUser.password.length >= 6,\r\n      error: \"Password must contain at least 6 characters\",\r\n    },\r\n\r\n    {\r\n      valid: !Object.values(publicUsers)\r\n        .map((x) => x.email)\r\n        .includes(newUser.email),\r\n      error: \"This email address is taken\",\r\n    },\r\n  ];\r\n\r\n  const statuses = [\"Active\", \"Inactive\", \"Blocked\"];\r\n  const roles = [\"Administrator\", \"User\"];\r\n\r\n  return (\r\n    <div className=\"row no-gutters p-md-5 p-4\">\r\n      <div className=\"col-60\" style={{ maxWidth: \"800px\" }}>\r\n        <div className=\"row no-gutters border-bottom py-3 mb-5\">\r\n          <div className=\"col-60 admin-screen-title\">Add User</div>\r\n          <div className=\"col-60\">Add brand new user</div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-sm-30 col-60 pr-sm-3 mb-4\">\r\n            <div className=\"row no-gutters mb-1\">First name</div>\r\n            <div className=\"row no-gutters\">\r\n              <input\r\n                spellCheck={false}\r\n                value={newUser.first_name}\r\n                onChange={(e) => {\r\n                  e.persist();\r\n                  setNewUser((prev) =>\r\n                    Object.assign({}, prev, {\r\n                      first_name: e.target.value,\r\n                    })\r\n                  );\r\n                }}\r\n                type=\"text\"\r\n                className=\"px-3 input-light w-100\"\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-sm-30 col-60 mb-4\">\r\n            <div className=\"row no-gutters mb-1\">Last name</div>\r\n            <div className=\"row no-gutters\">\r\n              <input\r\n                spellCheck={false}\r\n                value={newUser.last_name}\r\n                onChange={(e) => {\r\n                  e.persist();\r\n                  setNewUser((prev) =>\r\n                    Object.assign({}, prev, {\r\n                      last_name: e.target.value,\r\n                    })\r\n                  );\r\n                }}\r\n                type=\"text\"\r\n                className=\"px-3 input-light w-100\"\r\n              ></input>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Display name</div>\r\n          <div className=\"col-60 mb-1\">\r\n            <input\r\n              spellCheck={false}\r\n              value={newUser.display_name}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setNewUser((prev) =>\r\n                  Object.assign({}, prev, {\r\n                    display_name: e.target.value,\r\n                  })\r\n                );\r\n              }}\r\n              type=\"text\"\r\n              className=\"px-3 input-light w-100\"\r\n            ></input>\r\n          </div>\r\n          <div className=\"col-60 text-muted\">\r\n            This name will be visible for everyone\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">*Email</div>\r\n          <div className=\"col-60\">\r\n            <input\r\n              spellCheck={false}\r\n              value={newUser.email}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setNewUser((prev) =>\r\n                  Object.assign({}, prev, {\r\n                    email: e.target.value,\r\n                  })\r\n                );\r\n              }}\r\n              type=\"text\"\r\n              className=\"px-3 input-light w-100\"\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">*Password</div>\r\n          <div className=\"col-60 mb-1\">\r\n            <input\r\n              spellCheck={false}\r\n              value={newUser.password}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setNewUser((prev) =>\r\n                  Object.assign({}, prev, {\r\n                    password: e.target.value,\r\n                  })\r\n                );\r\n              }}\r\n              type=\"password\"\r\n              className=\"px-3 input-light w-100\"\r\n            ></input>\r\n          </div>\r\n          <div className=\"col-60 text-muted\">\r\n            Must be at least 6 characters and must contain a number or symbol\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">*Confirm Password</div>\r\n          <div className=\"col-60 mb-1\">\r\n            <input\r\n              spellCheck={false}\r\n              value={newUser.re_password}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setNewUser((prev) =>\r\n                  Object.assign({}, prev, {\r\n                    re_password: e.target.value,\r\n                  })\r\n                );\r\n              }}\r\n              type=\"password\"\r\n              className=\"px-3 input-light w-100\"\r\n            ></input>\r\n          </div>\r\n          <div className=\"col-60 text-muted\">\r\n            Must be at least 6 characters and must contain a number or symbol\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-sm-20 col-60 pr-sm-3 mb-4\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 mb-1\">Status</div>\r\n              <Select\r\n                popoverClass=\"w-100\"\r\n                onSelect={(index) =>\r\n                  setNewUser((prev) =>\r\n                    Object.assign({}, prev, {\r\n                      status: statuses[index],\r\n                    })\r\n                  )\r\n                }\r\n                items={statuses}\r\n                btnName={newUser.status ? newUser.status : \"Select\"}\r\n                className=\"input-light px-3 col-60\"\r\n              ></Select>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-sm-20 col-60 mb-4\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 mb-1\">Role</div>\r\n              <Select\r\n                popoverClass=\"w-100\"\r\n                onSelect={(index) =>\r\n                  setNewUser((prev) =>\r\n                    Object.assign({}, prev, {\r\n                      role: roles[index],\r\n                    })\r\n                  )\r\n                }\r\n                items={roles}\r\n                btnName={newUser.role ? newUser.role : \"Select\"}\r\n                className=\"input-light px-3 col-60\"\r\n              ></Select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{ height: \"50px\", opacity: problem ? 1 : 0 }}\r\n          className=\"row no-gutters align-items-center text-danger\"\r\n        >\r\n          {problem}\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div\r\n            className=\"btn-custom btn-custom-secondary btn-small mr-sm-3 col-sm-auto col-60 mb-3\"\r\n            onClick={() => getBack()}\r\n          >\r\n            Cancel\r\n          </div>\r\n          <div\r\n            className=\"btn-custom btn-custom-primary btn-small col-sm-auto col-60 mb-3\"\r\n            onClick={async () => {\r\n              let invalid = validations.filter((x) => !x.valid);\r\n              if (invalid.length) {\r\n                setProblem(invalid[0].error);\r\n              } else {\r\n                setLoading(true);\r\n                let res = await CreateUserForAdmin(newUser);\r\n                setLoading(false);\r\n                if (res.error) {\r\n                  store.dispatch({\r\n                    type: \"SET_NOTIFICATION\",\r\n                    notification: {\r\n                      title: \"Error\",\r\n                      message: res.error,\r\n                      type: \"failure\",\r\n                    },\r\n                  });\r\n                } else {\r\n                  store.dispatch({\r\n                    type: \"SET_NOTIFICATION\",\r\n                    notification: {\r\n                      title: \"User created\",\r\n                      message: \"User was successfully created\",\r\n                      type: \"success\",\r\n                    },\r\n                  });\r\n                  store.dispatch({\r\n                    type: \"UPDATE_PUBLICUSERS\",\r\n                    publicUser: {\r\n                      [res.id]: Object.assign({}, newUser, {\r\n                        user_id: res.id,\r\n                        _id: res.pid,\r\n                      }),\r\n                    },\r\n                  });\r\n                  getBack();\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            <Loader\r\n              color={\"white\"}\r\n              style={{\r\n                position: \"absolute\",\r\n                left: \"10px\",\r\n                top: 0,\r\n                bottom: 0,\r\n                margin: \"auto\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n              loading={loading}\r\n              size={20}\r\n            ></Loader>\r\n            Save\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(AddNewUser);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"../utility/Select\";\r\nimport { EditUserForAdmin } from \"../../server/DatabaseApi\";\r\nimport store from \"../../store/store\";\r\nimport Loader from \"../utility/Loader\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst EditUser = ({ currentUser, getBack, no_display_name_characters }) => {\r\n  const [newUser, setNewUser] = useState({\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    display_name: \"\",\r\n    email: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    re_password: \"\",\r\n    status: \"Active\",\r\n    role: \"Administrator\",\r\n  });\r\n\r\n  const [problem, setProblem] = useState(\"\");\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      setNewUser(\r\n        Object.assign({}, currentUser, { re_password: \"\", password: \"\" })\r\n      );\r\n    }\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  const validations = [\r\n    {\r\n      valid: newUser.display_name.length <= no_display_name_characters,\r\n      error: \"Display name is too long\",\r\n    },\r\n    {\r\n      valid: /[^\\w\\s]/.test(newUser.password) || /\\d/.test(newUser.password),\r\n      error: \"Password must contain number or symbol\",\r\n    },\r\n    {\r\n      valid: newUser.password === newUser.re_password,\r\n      error: \"Passwords don't match\",\r\n    },\r\n    {\r\n      valid: newUser.password.length >= 6,\r\n      error: \"Password must contain at least 6 characters\",\r\n    },\r\n  ];\r\n\r\n  const statuses = [\"Active\", \"Inactive\", \"Blocked\"];\r\n  const roles = [\"Administrator\", \"User\"];\r\n\r\n  return (\r\n    <div className=\"row no-gutters p-md-5 p-4\">\r\n      <div className=\"col-60\" style={{ maxWidth: \"800px\" }}>\r\n        <div className=\"row no-gutters border-bottom py-3 mb-5\">\r\n          <div className=\"col-60 admin-screen-title\">Edit User</div>\r\n          <div className=\"col-60\">Edit existing user</div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-sm-30 col-60 pr-sm-3 mb-4\">\r\n            <div className=\"row no-gutters mb-1\">First name</div>\r\n            <div className=\"row no-gutters\">\r\n              <input\r\n                spellCheck={false}\r\n                value={newUser.first_name}\r\n                onChange={(e) => {\r\n                  e.persist();\r\n                  setNewUser((prev) =>\r\n                    Object.assign({}, prev, {\r\n                      first_name: e.target.value,\r\n                    })\r\n                  );\r\n                }}\r\n                type=\"text\"\r\n                className=\"px-3 input-light w-100\"\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-sm-30 col-60 mb-4\">\r\n            <div className=\"row no-gutters mb-1\">Last name</div>\r\n            <div className=\"row no-gutters\">\r\n              <input\r\n                spellCheck={false}\r\n                value={newUser.last_name}\r\n                onChange={(e) => {\r\n                  e.persist();\r\n                  setNewUser((prev) =>\r\n                    Object.assign({}, prev, {\r\n                      last_name: e.target.value,\r\n                    })\r\n                  );\r\n                }}\r\n                type=\"text\"\r\n                className=\"px-3 input-light w-100\"\r\n              ></input>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Display name</div>\r\n          <div className=\"col-60 mb-1\">\r\n            <input\r\n              spellCheck={false}\r\n              value={newUser.display_name}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setNewUser((prev) =>\r\n                  Object.assign({}, prev, {\r\n                    display_name: e.target.value,\r\n                  })\r\n                );\r\n              }}\r\n              type=\"text\"\r\n              className=\"px-3 input-light w-100\"\r\n            ></input>\r\n          </div>\r\n          <div className=\"col-60 text-muted\">\r\n            This name will be visible for everyone\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Email</div>\r\n          <div className=\"col-60\">\r\n            <input\r\n              spellCheck={false}\r\n              value={newUser.email}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setNewUser((prev) =>\r\n                  Object.assign({}, prev, {\r\n                    email: e.target.value,\r\n                  })\r\n                );\r\n              }}\r\n              type=\"text\"\r\n              className=\"px-3 input-light w-100\"\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Password</div>\r\n          <div className=\"col-60 mb-1\">\r\n            <input\r\n              spellCheck={false}\r\n              value={newUser.password}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setNewUser((prev) =>\r\n                  Object.assign({}, prev, {\r\n                    password: e.target.value,\r\n                  })\r\n                );\r\n              }}\r\n              type=\"password\"\r\n              className=\"px-3 input-light w-100\"\r\n            ></input>\r\n          </div>\r\n          <div className=\"col-60 text-muted\">\r\n            Must be at least 6 characters and must contain a number or symbol\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-60 mb-1\">Confirm Password</div>\r\n          <div className=\"col-60 mb-1\">\r\n            <input\r\n              spellCheck={false}\r\n              value={newUser.re_password}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setNewUser((prev) =>\r\n                  Object.assign({}, prev, {\r\n                    re_password: e.target.value,\r\n                  })\r\n                );\r\n              }}\r\n              type=\"password\"\r\n              className=\"px-3 input-light w-100\"\r\n            ></input>\r\n          </div>\r\n          <div className=\"col-60 text-muted\">\r\n            Must be at least 6 characters and must contain a number or symbol\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-4\">\r\n          <div className=\"col-sm-20 col-60 pr-sm-3 mb-4\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 mb-1\">Status</div>\r\n              <Select\r\n                popoverClass=\"w-100\"\r\n                onSelect={(index) =>\r\n                  setNewUser((prev) =>\r\n                    Object.assign({}, prev, {\r\n                      status: statuses[index],\r\n                    })\r\n                  )\r\n                }\r\n                items={statuses}\r\n                btnName={newUser.status ? newUser.status : \"Select\"}\r\n                className=\"input-light px-3 col-60\"\r\n              ></Select>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-sm-20 col-60 mb-4\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-60 mb-1\">Role</div>\r\n              <Select\r\n                popoverClass=\"w-100\"\r\n                onSelect={(index) =>\r\n                  setNewUser((prev) =>\r\n                    Object.assign({}, prev, {\r\n                      role: roles[index],\r\n                    })\r\n                  )\r\n                }\r\n                items={roles}\r\n                btnName={newUser.role ? newUser.role : \"Select\"}\r\n                className=\"input-light px-3 col-60\"\r\n              ></Select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{ height: \"50px\", opacity: problem ? 1 : 0 }}\r\n          className=\"row no-gutters align-items-center text-danger\"\r\n        >\r\n          {problem}\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div\r\n            className=\"btn-custom btn-custom-secondary btn-small mr-sm-3 col-sm-auto col-60 mb-3\"\r\n            onClick={() => getBack()}\r\n          >\r\n            Cancel\r\n          </div>\r\n          <div\r\n            className=\"btn-custom btn-custom-primary btn-small col-sm-auto col-60 mb-3\"\r\n            onClick={async () => {\r\n              let allowEdit = true;\r\n              let finalUser = { ...newUser };\r\n              if (newUser.password) {\r\n                let invalid = validations.filter((x) => !x.valid);\r\n                if (invalid.length) {\r\n                  allowEdit = false;\r\n                  setProblem(invalid[0].error);\r\n                }\r\n              }\r\n              if (finalUser.password === \"\") {\r\n                delete finalUser.password;\r\n                delete finalUser.re_password;\r\n              }\r\n              if (allowEdit) {\r\n                setLoading(true);\r\n                let res = await EditUserForAdmin(finalUser);\r\n                setLoading(false);\r\n                if (res.error) {\r\n                  store.dispatch({\r\n                    type: \"SET_NOTIFICATION\",\r\n                    notification: {\r\n                      title: \"Error\",\r\n                      message: res.error,\r\n                      type: \"failure\",\r\n                    },\r\n                  });\r\n                } else {\r\n                  store.dispatch({\r\n                    type: \"SET_NOTIFICATION\",\r\n                    notification: {\r\n                      title: \"User updated\",\r\n                      message: \"User was successfully updated\",\r\n                      type: \"success\",\r\n                    },\r\n                  });\r\n                  let publicUser = store.getState().publicUsers[newUser._id];\r\n                  publicUser.status = newUser.status;\r\n                  publicUser.role = newUser.role;\r\n                  store.dispatch({ type: \"UPDATE_PUBLICUSERS\", publicUser });\r\n                  getBack();\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            <Loader\r\n              color={\"white\"}\r\n              style={{\r\n                position: \"absolute\",\r\n                left: \"10px\",\r\n                top: 0,\r\n                bottom: 0,\r\n                margin: \"auto\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n              loading={loading}\r\n              size={20}\r\n            ></Loader>\r\n            Save\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    no_display_name_characters: state.settings.no_display_name_characters,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(EditUser);\r\n","import React, { useState } from \"react\";\r\nimport LeftSideMenu from \"./LeftSideMenu\";\r\nimport Settings from \"./Settings\";\r\nimport RightSideMenuFloating from \"./RightSideMenuFloating\";\r\nimport ReviewsAndComments from \"./ReviewAndComments\";\r\nimport EditReview from \"./EditReview\";\r\nimport { BsArrowLeft } from \"react-icons/bs\";\r\nimport EditComment from \"./EditComment\";\r\nimport Announcements from \"./Announcements\";\r\nimport EditAnnouncement from \"./EditAnnouncement\";\r\nimport AddNewAnnouncement from \"./AddNewAnnouncement\";\r\nimport Promotions from \"./Promotions\";\r\nimport EditPromotion from \"./EditPromotion\";\r\nimport AddNewPromotion from \"./AddNewPromotion\";\r\nimport Notifications from \"./Notifications\";\r\nimport EditNotification from \"./EditNotification\";\r\nimport AddNewNotification from \"./AddNewNotification\";\r\nimport Users from \"./Users\";\r\nimport AddNewUser from \"./AddNewUser\";\r\nimport EditUser from \"./EditUser\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst sections = {\r\n  settings: 0,\r\n  userManagement: 1,\r\n  reviewsAndComments: 2,\r\n  announcements: 3,\r\n  promotions: 4,\r\n  notifications: 5,\r\n  editReview: 6,\r\n  editComment: 7,\r\n  editAnnouncement: 8,\r\n  addNewAnnouncement: 9,\r\n  editPromotion: 10,\r\n  addNewPromotion: 11,\r\n  editNotification: 12,\r\n  addNewNotification: 13,\r\n  editUser: 14,\r\n  addNewUser: 15,\r\n};\r\n\r\nconst AdminDashboard = ({ dashboardMenuOpened }) => {\r\n  const [section, setSection] = useState(0);\r\n  const [editReview, setEditReview] = useState(null);\r\n  const [editComment, setEditComment] = useState(null);\r\n  const [editAnnouncement, setEditAnnouncement] = useState(null);\r\n  const [editPromotion, setEditPromotion] = useState(null);\r\n  const [editNotification, setEditNotification] = useState(null);\r\n  const [editUser, setEditUser] = useState(null);\r\n  return (\r\n    <div\r\n      className=\"row no-gutters justify-content-center\"\r\n      style={{ minHeight: window.innerHeight }}\r\n    >\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters h-100 position-relative bg-light\">\r\n          <RightSideMenuFloating\r\n            isMenuOpened={dashboardMenuOpened}\r\n            setSection={setSection}\r\n            section={section}\r\n          ></RightSideMenuFloating>\r\n          <div\r\n            className=\"col-auto d-none d-lg-block\"\r\n            style={{ width: \"300px\" }}\r\n          >\r\n            <LeftSideMenu\r\n              section={section}\r\n              setSection={setSection}\r\n            ></LeftSideMenu>\r\n          </div>\r\n          <div className=\"col\">\r\n            {section >= 6 && (\r\n              <div\r\n                className=\"row no-gutters px-md-5 px-4 pt-4\"\r\n                style={{ marginBottom: \"-40px\" }}\r\n              >\r\n                <div className=\"col-auto cursor-pointer\">\r\n                  <BsArrowLeft\r\n                    fontSize=\"24px\"\r\n                    onClick={() =>\r\n                      setSection(\r\n                        section === 6 || section === 7\r\n                          ? 2\r\n                          : section === 8 || section === 9\r\n                          ? 3\r\n                          : section === 10 || section === 11\r\n                          ? 4\r\n                          : section === 12 || section === 13\r\n                          ? 5\r\n                          : section === 14 || section === 15\r\n                          ? 1\r\n                          : 0\r\n                      )\r\n                    }\r\n                  ></BsArrowLeft>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {section === 0 ? (\r\n              <Settings></Settings>\r\n            ) : section === 1 ? (\r\n              <Users\r\n                setAddNewUserSection={() => setSection(sections[\"addNewUser\"])}\r\n                setEditUser={(u) => setEditUser(u)}\r\n                setEditUserSection={() => setSection(sections[\"editUser\"])}\r\n              ></Users>\r\n            ) : section === 2 ? (\r\n              <ReviewsAndComments\r\n                setEditReview={(rev) => setEditReview(rev)}\r\n                setEditReviewSection={() => setSection(sections[\"editReview\"])}\r\n                setEditComment={(rev) => setEditComment(rev)}\r\n                setEditCommentSection={() =>\r\n                  setSection(sections[\"editComment\"])\r\n                }\r\n              ></ReviewsAndComments>\r\n            ) : section === 3 ? (\r\n              <Announcements\r\n                setAddNewAnouncementSection={() =>\r\n                  setSection(sections[\"addNewAnnouncement\"])\r\n                }\r\n                setEditAnnouncement={(ann) => setEditAnnouncement(ann)}\r\n                setEditAnnouncementSection={() => {\r\n                  setSection(sections[\"editAnnouncement\"]);\r\n                }}\r\n              ></Announcements>\r\n            ) : section === 4 ? (\r\n              <Promotions\r\n                setAddNewPromotionSection={() =>\r\n                  setSection(sections[\"addNewPromotion\"])\r\n                }\r\n                setEditPromotion={(prom) => setEditPromotion(prom)}\r\n                setEditPromotionSection={() =>\r\n                  setSection(sections[\"editPromotion\"])\r\n                }\r\n              ></Promotions>\r\n            ) : section === 5 ? (\r\n              <Notifications\r\n                setAddNewNotificationSection={() =>\r\n                  setSection(sections[\"addNewNotification\"])\r\n                }\r\n                setEditNotification={(not) => setEditNotification(not)}\r\n                setEditNotificationSection={() =>\r\n                  setSection(sections[\"editNotification\"])\r\n                }\r\n              ></Notifications>\r\n            ) : section === 6 ? (\r\n              <EditReview\r\n                currentReview={editReview}\r\n                getBack={() => setSection(2)}\r\n              ></EditReview>\r\n            ) : section === 7 ? (\r\n              <EditComment\r\n                currentComment={editComment}\r\n                getBack={() => setSection(2)}\r\n              ></EditComment>\r\n            ) : section === 8 ? (\r\n              <EditAnnouncement\r\n                getBack={() => setSection(3)}\r\n                currentAnnouncement={editAnnouncement}\r\n              ></EditAnnouncement>\r\n            ) : section === 9 ? (\r\n              <AddNewAnnouncement getBack={() => setSection(3)} />\r\n            ) : section === 10 ? (\r\n              <EditPromotion\r\n                currentPromotion={editPromotion}\r\n                getBack={() => setSection(4)}\r\n              ></EditPromotion>\r\n            ) : section === 11 ? (\r\n              <AddNewPromotion getBack={() => setSection(4)}></AddNewPromotion>\r\n            ) : section === 12 ? (\r\n              <EditNotification\r\n                currentNotification={editNotification}\r\n                getBack={() => setSection(5)}\r\n              ></EditNotification>\r\n            ) : section === 13 ? (\r\n              <AddNewNotification\r\n                getBack={() => setSection(5)}\r\n              ></AddNewNotification>\r\n            ) : section === 14 ? (\r\n              <EditUser\r\n                currentUser={editUser}\r\n                getBack={() => setSection(1)}\r\n              ></EditUser>\r\n            ) : section === 15 ? (\r\n              <AddNewUser getBack={() => setSection(1)}></AddNewUser>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    dashboardMenuOpened: state.dashboardMenuOpened,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(AdminDashboard);\r\n","import React, { useState } from \"react\";\r\nimport history from \"../../History\";\r\nimport { Login as LoginFunction } from \"../../server/DatabaseApi\";\r\nimport store from \"../../store/store\";\r\nimport Logo from \"../../images/Logo\";\r\nimport { BsChevronLeft } from \"react-icons/bs\";\r\n\r\nconst handleSubmit = async (credentials) => {\r\n  let res = await LoginFunction(credentials);\r\n  if (res.error) {\r\n    store.dispatch({\r\n      type: \"SET_NOTIFICATION\",\r\n      notification: {\r\n        type: \"failure\",\r\n        title: \"Error\",\r\n        message: res.error,\r\n      },\r\n    });\r\n  } else {\r\n    localStorage.setItem(\"movies_user_token\", res.token);\r\n    store.dispatch({ type: \"SET_USER\", user: res });\r\n    history.push(\"/\");\r\n  }\r\n};\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  return (\r\n    <div\r\n      className=\"row no-gutters justify-content-center aligm-items-start align-items-sm-center\"\r\n      style={{ height: window.innerHeight }}\r\n    >\r\n      <div className=\"col-xl-50 col-60 col-lg-50 col-md-30 col-sm-40 login-rounded overflow-hidden\">\r\n        <div className=\"row no-gutters h-100\">\r\n          <div className=\"col bg-dark d-lg-block d-none\">\r\n            <div className=\"row no-gutters h-100 flex-center position-relative\">\r\n              <div\r\n                className=\"position-absolute d-flex align-items-center text-white cursor-pointer\"\r\n                onClick={() => history.push(\"/\")}\r\n                style={{ top: \"15px\", left: \"15px\" }}\r\n              >\r\n                <BsChevronLeft className=\"mr-2\"></BsChevronLeft>Back to home\r\n              </div>\r\n              <div className=\"col-auto\">\r\n                <div className=\"square-150 mx-auto\">\r\n                  <Logo></Logo>\r\n                </div>\r\n                <div className=\"logo text-title-xl text-white\">CozyPotato</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"col-60 col-lg-30 col-xl-25 col-md-auto p-sm-5 p-4 bg-light\"\r\n            style={{\r\n              minHeight: window.innerHeight - 100,\r\n            }}\r\n          >\r\n            <div className=\"row no-gutters h-100 py-3\">\r\n              <div className=\"col-60 d-flex align-items-start flex-wrap mb-5\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-60 h3 mb-3\">Hello, welcome back</div>\r\n                  <div className=\"col-60\">\r\n                    Login to your account to review movies and interact with\r\n                    movies community\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60 d-flex align-items-end flex-wrap\">\r\n                <div className=\"row no-gutters w-100\">\r\n                  <div className=\"col-60\">\r\n                    <div className=\"row no-gutters justify-content-center mb-4\">\r\n                      <div className=\"col-60 mb-1\">Email</div>\r\n                      <div className=\"col-60\">\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"input-light w-100 px-3\"\r\n                          value={email}\r\n                          onChange={(e) => {\r\n                            e.persist();\r\n                            setEmail(e.target.value);\r\n                          }}\r\n                        ></input>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row no-gutters mb-4\">\r\n                      <div className=\"col-60 mb-1\">Password</div>\r\n                      <div className=\"col-60\">\r\n                        <input\r\n                          type=\"password\"\r\n                          className=\"input-light w-100 px-3\"\r\n                          value={password}\r\n                          onChange={(e) => {\r\n                            e.persist();\r\n                            setPassword(e.target.value);\r\n                          }}\r\n                          onKeyDown={(e) => {\r\n                            if (e.keyCode === 13) {\r\n                              handleSubmit({ email, password });\r\n                            }\r\n                          }}\r\n                        ></input>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row no-gutters mb-4\">\r\n                      <div\r\n                        className=\"col-60 btn-custom btn-custom-primary\"\r\n                        onClick={() => handleSubmit({ email, password })}\r\n                      >\r\n                        Login\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      className=\"row no-gutters justify-content-between\"\r\n                      style={{ fontSize: \"14px\" }}\r\n                    >\r\n                      <div className=\"col-auto mr-4\">\r\n                        Don't have an account?{\" \"}\r\n                        <span\r\n                          className=\"btn-link cursor-pointer\"\r\n                          onClick={() => history.push(\"/signup\")}\r\n                        >\r\n                          Sign up\r\n                        </span>\r\n                      </div>\r\n                      <div\r\n                        className=\"col-auto btn-link cursor-pointer\"\r\n                        onClick={() => history.push(\"/forgot-password\")}\r\n                      >\r\n                        Forgot password\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n  return (\r\n    <div className=\"pg-viewer-wrapper\">\r\n      <div className=\"pg-viewer\" id=\"pg-viewer\">\r\n        <div id=\"docx\">\r\n          <div className=\"document-container\">\r\n            <p>\r\n              <strong>PRIVACY POLICY</strong>\r\n            </p>\r\n            <p>\r\n              <strong>Welcome to CozyPotato!</strong>\r\n            </p>\r\n            <p>CozyPotato Is owned and operated by SkonLabs LLC.</p>\r\n            <p>\r\n              <strong>CozyPotato </strong>values your privacy. This notice\r\n              describes what information we collect, how we use it, and, if\r\n              necessary, those with whom we share it<strong>.&nbsp;</strong>\r\n            </p>\r\n            <p>\r\n              <strong>\r\n                By downloading and using the CozyPotato application and website,\r\n                you are accepting the practices described in this Privacy\r\n                Policy.\r\n              </strong>\r\n              &nbsp;Your use of the application and website is also subject to\r\n              our Terms and Conditions.\r\n            </p>\r\n            <p>\r\n              This Privacy Policy may change from time to time. Your continued\r\n              use of the application and website after we make changes is deemed\r\n              to be acceptance of those changes, so please check the policy\r\n              periodically for updates. This Privacy Policy has been developed\r\n              and is maintained in accordance with all applicable federal and\r\n              international laws and regulations, and specifically with the\r\n              Personal Information Protection and Electronic Documents Act\r\n              (PIPEDA), California Online Privacy Protection Act (CalOPPA  U.S\r\n              regulation) and the GDPR (General Data Protection Regulation -\r\n              European regulation).\r\n            </p>\r\n            <p>\r\n              <strong>GENERAL INFORMATION</strong>\r\n            </p>\r\n            <p>\r\n              The personal data of the users that are collected and processed\r\n              through:\r\n            </p>\r\n            <ul>\r\n              <li>\r\n                <strong>CozyPotato App </strong>\r\n\r\n                <strong>\r\n                  (Android and iOS version  Available on Google Play and App\r\n                  store)\r\n                </strong>\r\n              </li>\r\n              <li></li>\r\n            </ul>\r\n            <p>Will be under responsibility and in charge of:</p>\r\n            <ul>\r\n              <li>\r\n                <strong>SkonLabs LLC </strong>\r\n              </li>\r\n              <li>\r\n                <strong>(Insert contact information, email, phone)</strong>\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              (Hereinafter referred to as <strong>CozyPotato</strong>).{\" \"}\r\n            </p>\r\n            <p>\r\n              <strong>TYPES OF INFORMATION GATHERED</strong>\r\n            </p>\r\n            <p>\r\n              The information we learn from customers helps personalize and\r\n              continually improve your experience at CozyPotato. Here are the\r\n              types of information we gather:\r\n            </p>\r\n            <p>\r\n              <strong>Information You Give Us. </strong>You provide information\r\n              when you download the app, search, read and watch the content,\r\n              register on the app, use the app or communicate with us. As a\r\n              result of those actions, you might supply us with the following\r\n              information:\r\n            </p>\r\n            <ul>\r\n              <li>First name and last name </li>\r\n              <li>Phone number</li>\r\n              <li>IP address</li>\r\n              <li>\r\n                Any additional information relating to you that you provide to\r\n                us directly through our websites or indirectly through our\r\n                websites or online presence such as cookies.\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              CozyPotato will not collect any personally identifiable\r\n              information about you, unless you provide it.\r\n            </p>\r\n            <p>\r\n              <strong>Payment information: </strong>Your credit card information\r\n              or payment information, will be processed by PayPal and Stripe\r\n              (payment platforms), which will treat and safeguard your data with\r\n              total security and with the exclusive purpose of processing the\r\n              purchase of the services. CozyPotato reserves the right to\r\n              contract any payment platform available in the market, which\r\n              treats your data for the exclusive purpose of processing the\r\n              purchase of the services.\r\n            </p>\r\n            <p>Please consult PayPal and Stripe Privacy Policy here: </p>\r\n            <ul>\r\n              <li>\r\n                <a href=\"https://www.paypal.com/us/webapps/mpp/ua/privacy-full\">\r\n                  https://www.paypal.com/us/webapps/mpp/ua/privacy-full\r\n                </a>\r\n              </li>\r\n              <li>\r\n                <a href=\"https://stripe.com/gb/privacy\">\r\n                  https://stripe.com/gb/privacy\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              <strong>GOOGLE Analytics. </strong>We use Google Firebase\r\n              Analytics provided by Google, Inc., USA (Google). These tool and\r\n              technologies collect and analyze certain types of information,\r\n              including IP addresses, device and software identifiers, referring\r\n              and exit URLs, feature use metrics and statistics, usage and\r\n              purchase history, media access control address (MAC Address),\r\n              mobile unique device identifiers, and other similar information\r\n              via the use of cookies. The information generated by Google\r\n              Analytics (including your IP address) may be transmitted to and\r\n              stored by Google on servers in the United States. We use the\r\n              GOOGLE Firebase Analytics collection of data to enhance the\r\n              website and platform and improve our service.\r\n            </p>\r\n            <p>Please consult Google's privacy policy here:</p>\r\n            <ul>\r\n              <li>\r\n                <a href=\"https://policies.google.com/privacy\">\r\n                  https://policies.google.com/privacy\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              <strong>Automatic Information.</strong> Like many websites, we use\r\n              \"cookies.\" We obtain certain types of anonymous information which\r\n              is not personally identifiable when your web browser accesses\r\n              CozyPotato or third-party content served by or on behalf of\r\n              CozyPotato on other websites. Some of the information we collect\r\n              and analyze includes the Internet protocol (IP) address; computer\r\n              and connection information such as browser type, version, and\r\n              connection speed; purchase history; and the content you searched\r\n              for, viewed, and possibly purchased.\r\n            </p>\r\n            <p>\r\n              <strong>HOW LONG WE KEEP YOUR DATA</strong>\r\n            </p>\r\n            <p>\r\n              Personal data will be kept for the time necessary for the\r\n              provision of the services or as long as the user does not close\r\n              his account or withdraw his consent. The user's personal data will\r\n              be deleted from our database immediately the user's account is\r\n              closed or his consent withdrawn.\r\n            </p>\r\n            <p>\r\n              <strong>HOW WE USE YOUR INFORMATION. </strong>\r\n            </p>\r\n            <p>\r\n              In general, we use the information we collect primarily to\r\n              provide, maintain, protect and improve our current application,\r\n              website (landing page) and services. We use personal information\r\n              collected through our site as described below and described\r\n              elsewhere in this Policy to:\r\n            </p>\r\n            <ul>\r\n              <li>Identify you as a user in our system.</li>\r\n              <li>Provide the application.</li>\r\n              <li>User registration.</li>\r\n              <li>Provide the reviews and recommendations.</li>\r\n              <li>Provide the application's functionalities.</li>\r\n              <li>\r\n                Improve our services, website, and how we operate our business.\r\n              </li>\r\n              <li>\r\n                Understand and enhance your experience using our application.\r\n              </li>\r\n              <li>\r\n                Send emails through bulk email delivery platforms such as\r\n                MailChimp and Klaviyo.\r\n              </li>\r\n              <li>\r\n                Respond to your comments or questions through our support team.\r\n              </li>\r\n              <li>\r\n                Send you related information, including confirmations, invoices,\r\n                technical notices, updates, security alerts and support and\r\n                administrative messages.\r\n              </li>\r\n              <li>\r\n                Communicate with you about upcoming events and news about\r\n                services offered by CozyPotato and our selected partners.\r\n              </li>\r\n              <li>Marketing purposes of CozyPotato.</li>\r\n              <li>\r\n                Link or combine your information with other information we get\r\n                from third parties to help understand your needs and provide you\r\n                with better service.\r\n              </li>\r\n              <li>\r\n                Protect, investigate and deter against fraudulent, unauthorized\r\n                or illegal activity.\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              <strong>HOW DO YOU GET MY CONSENT?</strong>\r\n            </p>\r\n            <p>\r\n              By downloading the application, registering, using the services\r\n              and providing us with personal information to communicate with\r\n              you, you agree that we collect and use your information. You can\r\n              withdraw your consent, contact us through the contact information\r\n              or the contact page.\r\n            </p>\r\n            <p>\r\n              <strong>HOW WE SHARE INFORMATION</strong>\r\n            </p>\r\n            <p>\r\n              Information about our customers is an important part of our\r\n              business, and we are not in the business of selling it to others.\r\n              We share customer information only as described below.\r\n            </p>\r\n            <p>\r\n              <strong>Third-Party Service Providers.</strong>&nbsp;We employ\r\n              other companies and individuals to perform functions on our\r\n              behalf. Examples include process payments (PayPal and Stripe),\r\n              analyzing data, providing marketing assistance, providing search\r\n              results and links. They have access to personal information needed\r\n              to perform their functions, but may not use it for other purposes.\r\n            </p>\r\n            <p>\r\n              <strong>Business Transfers</strong>.&nbsp;In the event that\r\n              CozyPotato creates, merges with, or is acquired by another entity,\r\n              your information will most likely be transferred. CozyPotato will\r\n              email you or place a prominent notice on our Website before your\r\n              information becomes subject to another privacy policy.\r\n            </p>\r\n            <p>\r\n              <strong>Protection of CozyPotato and others</strong>.&nbsp;We\r\n              release personal information when we believe release is\r\n              appropriate to comply with the law, enforce or apply our Terms and\r\n              conditions and other agreements, or protect the rights, property,\r\n              or safety of CozyPotato, our users or others. This includes\r\n              exchanging information with other companies and organizations for\r\n              fraud protection and credit risk reduction.\r\n            </p>\r\n            <p>\r\n              <strong>With Your Consent</strong>.&nbsp;Other than as set out\r\n              above, you will receive notice when personally identifiable\r\n              information about you might go to third parties, and you will have\r\n              an opportunity to choose not to share the information.\r\n            </p>\r\n            <p>\r\n              <strong>Anonymous Information.&nbsp;</strong>\r\n              CozyPotato uses the anonymous browsing information collected\r\n              automatically by our servers primarily to help us administer and\r\n              improve the platform and website. We may also use aggregated\r\n              anonymous information to provide information about the website to\r\n              potential business partners and other unaffiliated entities. This\r\n              information is not personally identifiable.\r\n            </p>\r\n            <p>\r\n              <strong>Email Address</strong>.&nbsp;The email address that you\r\n              supply to us for purposes of receiving our email communications\r\n              will never be rented or sold to a third party.\r\n            </p>\r\n            <p>\r\n              <strong>PROTECTING YOUR INFORMATION</strong>\r\n            </p>\r\n            <p>\r\n              We work to protect the security of your information during\r\n              transmission by using Secure Sockets Layer (SSL) software, which\r\n              encrypts information you input. If transactions are processed on\r\n              the Website, transaction information is transmitted to and from\r\n              the Website in encrypted form using industry-standard SSL\r\n              connections to help protect such information from interception. We\r\n              restrict authorized access to your personal information to those\r\n              persons who have a legitimate purpose to know that information to\r\n              provide products or services to you and those persons you have\r\n              authorized to have access to such information.\r\n            </p>\r\n            <p>\r\n              CozyPotato follows generally accepted industry standards to\r\n              protect the personal information submitted to us, both during\r\n              transmission and once CozyPotato receives it. No method of\r\n              transmission over the Internet, or method of electronic storage,\r\n              is 100% secure. Therefore, while CozyPotato strives to use\r\n              commercially acceptable means to protect your personal\r\n              information, we cannot guarantee its absolute security.{\" \"}\r\n            </p>\r\n            <p>\r\n              We will not sell, distribute, or lease your personal information\r\n              to third parties unless we have your permission or are required by\r\n              law to do so.\r\n            </p>\r\n            <p>\r\n              <strong>YOUR RIGHTS</strong>\r\n            </p>\r\n            <p>\r\n              You have the following rights in relation to your personal data\r\n              provided to CozyPotato:\r\n            </p>\r\n            <ul>\r\n              <li>Access your personal data.</li>\r\n              <li>Request the correction of inaccurate data.</li>\r\n              <li>Request its deletion.</li>\r\n              <li>Request limitation of the processing of your data.</li>\r\n              <li>Oppose the treatment of your data.</li>\r\n              <li>Request your portability.</li>\r\n              <li>Not be subject to automated individual decisions.</li>\r\n            </ul>\r\n            <p>\r\n              The Users can exercise all these rights contacting us through the\r\n              contact information or the contact page and indicating the reason\r\n              for his request.\r\n            </p>\r\n            <p>\r\n              Without preconception to any other administrative appeal or legal\r\n              action, the User shall have the right to submit a claim to a\r\n              Control Authority, in particular in the Member State in which he\r\n              or she has their habitual residence, place of work or place of the\r\n              alleged infringement. If you consider that the processing of your\r\n              personal data is not appropriate to the regulations, as well as in\r\n              the case of not seeing the exercise of your rights satisfied. The\r\n              control authority in which the claim was filed will inform the\r\n              claimant about the course and result of the claim.\r\n            </p>\r\n            <p>\r\n              <strong>EU MEMBERS RIGHTS (GDPR COMPLIANT)</strong>\r\n            </p>\r\n            <p>\r\n              If you are habitually located in the European Union, you have the\r\n              right to access, rectify, download or erase your information, as\r\n              well as the right to restrict and object to certain processing of\r\n              your information. While some of these rights apply generally,\r\n              certain rights apply only in certain limited circumstances.\r\n            </p>\r\n            <p>We describe these rights below:</p>\r\n            <ul>\r\n              <li>\r\n                Access and Porting: You can access your information at any time.\r\n              </li>\r\n              <li>\r\n                Rectify, Restrict, Limit, Delete: You can also rectify,\r\n                restrict, limit or delete much of your information by contact\r\n                us.{\" \"}\r\n              </li>\r\n              <li>\r\n                Object: Where we process your information based on our\r\n                legitimate interests explained above, or in the public interest,\r\n                you can object to this processing in certain circumstances. In\r\n                such cases, we will cease processing your information unless we\r\n                have compelling legitimate grounds to continue processing or\r\n                where it is needed for legal reasons.\r\n              </li>\r\n              <li>\r\n                Revoke consent: Where you have previously provided your consent,\r\n                such as to permit us to process health-related data about you,\r\n                you have the right to withdraw your consent to the processing of\r\n                your information at any time. For example, you can withdraw your\r\n                consent by updating your settings. In certain cases, we may\r\n                continue to process your information after you have withdrawn\r\n                consent if we have a legal basis to do so or if your withdrawal\r\n                of consent was limited to certain processing activities.\r\n              </li>\r\n              <li>\r\n                Complain: Should you wish to raise a concern about our use of\r\n                your information (and without prejudice to any other rights you\r\n                may have), you have the right to do so with your local\r\n                supervisory authority.\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              Additionally, if you are a European resident, we note that we are\r\n              processing your information in order to fulfil contracts we might\r\n              have with you or otherwise to pursue our legitimate business\r\n              interests listed above. Additionally, please note that your\r\n              information will be transferred outside of Europe.\r\n            </p>\r\n            <p>You can see more about these rights at:</p>\r\n            <p>\r\n              <a href=\"https://ec.europa.eu/info/law/law-topic/data-protection/reform/rights-citizens_en\">\r\n                https://ec.europa.eu/info/law/law-topic/data-protection/reform/rights-citizens_en\r\n              </a>\r\n            </p>\r\n            <p>\r\n              <strong>\r\n                CALIFORNIA ONLINE PRIVACY PROTECTION ACT COMPLIANCE (CalOPPA)\r\n              </strong>\r\n            </p>\r\n            <p>\r\n              CalOPPA is the first state law in the nation to require commercial\r\n              websites and online services to post a privacy policy. The laws\r\n              reach stretches well beyond California to require any person or\r\n              company in the United States (and conceivably the world) that\r\n              operates websites collecting Personally Identifiable Information\r\n              from California consumers to post a conspicuous privacy policy on\r\n              its website stating exactly the information being collected and\r\n              those individuals or companies with whom it is being shared.\r\n            </p>\r\n            <p>\r\n              Because we value your privacy, we have taken the necessary\r\n              precautions to be in compliance with the California Online Privacy\r\n              Protection Act (CalOPPA).{\" \"}\r\n            </p>\r\n            <p>\r\n              According to the California Online Privacy act, you have the\r\n              following rights:\r\n            </p>\r\n            <ul>\r\n              <li>Know what personal data is being collected.</li>\r\n              <li>\r\n                Know whether your personal data is sold or disclosed and to\r\n                whom.\r\n              </li>\r\n              <li>Access to your personal data.</li>\r\n              <li>Request to delete any personal information about you.</li>\r\n              <li>\r\n                Not be discriminated against for exercising their privacy\r\n                rights.\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              <strong>CHILDRENS ONLINE PRIVACY PROTECTION </strong>\r\n            </p>\r\n            <p>\r\n              We are in compliance with the requirements of the GDPR (General\r\n              Data Protection Regulation), the&nbsp;Personal Information\r\n              Protection and Electronic Documents Act&nbsp;(PIPEDA)&nbsp;and the\r\n              California Online Privacy Protection Act (CalOPPA) regarding the\r\n              protection of the personal data of minors. We do not collect any\r\n              information from anyone under 13 years of age. Our website,\r\n              platform and services are all directed to people who are at least\r\n              18 years old or older.\r\n            </p>\r\n            <p>\r\n              <strong>EDITING AND DELETING INFORMATION</strong>\r\n            </p>\r\n            <p>\r\n              If you believe that any information, we are holding on you is\r\n              incorrect or incomplete, please write to or email us as soon as\r\n              possible. We will promptly correct any information found to be\r\n              incorrect. You can change, modify, rectify and delete your\r\n              Information at any time, please contact us through the contact\r\n              information.\r\n            </p>\r\n            <p>\r\n              To opt-out of CozyPotato email, follow the instructions included\r\n              in the email. Your request should be processed within 48 hours.\r\n            </p>\r\n            <p>\r\n              <strong>SUPPLIERS AND OTHER THIRD PARTIES</strong>\r\n            </p>\r\n            <p>\r\n              Except as otherwise expressly included in this Privacy Policy,\r\n              this document addresses only the use and disclosure of information\r\n              CozyPotato collects from you. If you disclose your information to\r\n              others, whether other users or suppliers on CozyPotato, different\r\n              rules may apply to their use or disclosure of the information you\r\n              disclose to them. CozyPotato does not control the privacy policies\r\n              of third parties, and you are subject to the privacy policies of\r\n              those third parties where applicable. CozyPotato is not\r\n              responsible for the privacy or security practices of other\r\n              websites on the Internet, even those linked to or from the\r\n              <strong> </strong>CozyPotato site. CozyPotato encourages you to\r\n              ask questions before you disclose your personal information to\r\n              others.\r\n            </p>\r\n            <p>\r\n              <strong>CHANGES TO THIS PRIVACY POLICY</strong>\r\n            </p>\r\n            <p>\r\n              CozyPotato will post modifications by date to this Privacy Policy\r\n              to inform you of any changes. CozyPotato reserves the right to\r\n              modify this Privacy Policy at any time, please review it\r\n              frequently.\r\n            </p>\r\n            <p>\r\n              <strong>ENFORCEMENT</strong>\r\n            </p>\r\n            <p>\r\n              CozyPotato regularly reviews its compliance with this Policy.\r\n              Please feel free to direct any questions or concerns regarding\r\n              this Policy or CozyPotato treatment of personal information by\r\n              contacting us.\r\n            </p>\r\n            <p>\r\n              When we receive formal written complaints, it is CozyPotato policy\r\n              to contact the complaining user regarding his or her concerns. We\r\n              will cooperate with the appropriate regulatory authorities,\r\n              including local data protection authorities, to resolve any\r\n              complaints regarding the transfer of personal data that cannot be\r\n              resolved between CozyPotato and an individual.\r\n            </p>\r\n            <p>\r\n              <strong>CONTACT US</strong>\r\n            </p>\r\n            <p>\r\n              If you have questions or concerns about these Privacy Policy and\r\n              the handling and security of your data on the app or website,\r\n              please contact us throw our contact page or contact at:\r\n            </p>\r\n            <p>\r\n              <strong>(Insert contact information, email, phone)</strong>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n  return (\r\n    <div className=\"pg-viewer-wrapper\">\r\n      <div className=\"pg-viewer\" id=\"pg-viewer\">\r\n        <div id=\"docx\">\r\n          <div className=\"document-container\">\r\n            <p>\r\n              <strong>TERMS AND CONDITIONS</strong>\r\n            </p>\r\n            <p>\r\n              <strong>Welcome to CozyPotato!</strong>\r\n            </p>\r\n            <p>CozyPotato Is owned and operated by SkonLabs LLC.</p>\r\n            <p>These are the terms and conditions for: </p>\r\n            <ul>\r\n              <li>\r\n                <strong>\r\n                  CozyPotato App (Android and iOS version  Available on Google\r\n                  Play and App store)\r\n                </strong>\r\n              </li>\r\n              <li>\r\n                <a href=\"https://cozypotato.com\">\r\n                  <strong>https://cozypotato.com</strong>\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              By registering, downloading and using the application, you agree\r\n              to be bound by these terms and conditions and our Privacy Policy.\r\n              If you do not accept all of these terms, then you may not use the\r\n              application and services. In these terms, \"we\", \"us\", \"our\" and\r\n              CozyPotato refers to CozyPotato and \"you\" and your\" refers to\r\n              you, the user of CozyPotato.\r\n            </p>\r\n            <p>\r\n              The following terms and conditions apply to the website,\r\n              application and services offered by CozyPotato. This includes the\r\n              mobile and tablet versions as well as any other version of\r\n              CozyPotato<strong> </strong>accessible via desktop, mobile,\r\n              tablet, social media or other devices.\r\n            </p>\r\n            <p>\r\n              READ THESE TERMS AND CONDITIONS CAREFULLY BEFORE DOWNLOADING,\r\n              USING OR OBTAINING ANY PRODUCT, INFORMATION OR SERVICE FROM THE\r\n              COZYPOTATO APPLICATION.\r\n            </p>\r\n            <p>\r\n              <strong>ACCEPTANCE OF TERMS</strong>\r\n            </p>\r\n            <p>\r\n              This agreement sets forth legally binding terms for your use of\r\n              CozyPotato. By downloading and using the CozyPotato application,\r\n              you agree to be bound by this agreement. If you do not accept the\r\n              terms of this agreement, you should not download the application\r\n              and discontinue use of the service immediately. We may modify this\r\n              agreement from time to time, and such modification shall be\r\n              effective upon its posting on CozyPotato. You agree to be bound by\r\n              any modification to this terms and conditions when you use\r\n              CozyPotato after any such modification is posted; it is therefore\r\n              important that you review this agreement regularly.\r\n            </p>\r\n            <p>\r\n              We may modify this agreement from time to time, and such\r\n              modification shall be effective upon its posting on CozyPotato.\r\n              You agree to be bound by any modification to this agreement when\r\n              you use CozyPotato after any such modification is posted; it is\r\n              therefore important that you review this agreement regularly.\r\n            </p>\r\n            <p>\r\n              You represent and warrant that all registration information you\r\n              submit is accurate and truthful; and that your use of the platform\r\n              does not violate any applicable law or regulation. Company may, in\r\n              its sole discretion, refuse to offer the platform to any entity\r\n              and change its eligibility criteria at any time. This provision is\r\n              void where prohibited by law and the right to access the service\r\n              and the platform is revoked in such jurisdictions.\r\n            </p>\r\n            <p>\r\n              <strong>ELIGIBLITY</strong>\r\n            </p>\r\n            <p>\r\n              You may use the application and services only if you can form a\r\n              binding contract with CozyPotato, and only in compliance with\r\n              these terms and all applicable local, state, national, and\r\n              international laws, rules, and regulations.\r\n            </p>\r\n            <p>\r\n              The use of this website and application for children under 13\r\n              years is prohibited and older children should be supervised and\r\n              given appropriate guidance in their use of our platform and\r\n              services. It is the responsibility of parents and legal guardians\r\n              to determine whether any of the content and/or services are\r\n              appropriate for their child.<strong> </strong>&nbsp;\r\n            </p>\r\n            <p>\r\n              By downloading and using the application and services, you\r\n              represent and warrant that you have the full right, power and\r\n              authority to enter into this agreement and to fully perform all of\r\n              your obligations hereunder. You further represent and warrant that\r\n              you are under no legal disability or contractual restriction that\r\n              prevents you from entering into this agreement.\r\n            </p>\r\n            <p></p>\r\n            <p>\r\n              <strong>COZYPOTATO </strong>\r\n            </p>\r\n            <p>CozyPotato Is owned and operated by SkonLabs LLC.</p>\r\n            <p>\r\n              CozyPotato offers through the application personalized reviews and\r\n              recommendation of Movies, Series, Documentaries, Books etc.\r\n              CozyPotato also offers its users the possibility to create paid\r\n              ads in our application.\r\n            </p>\r\n            <p>\r\n              The CozyPotato application is available for iOS and Android and\r\n              downloadable through Google Play and Apple Store.{\" \"}\r\n            </p>\r\n            <p>\r\n              For more information about the app, please contact us, through our\r\n              contact information, our support team will be attentive and\r\n              available to answer your questions and concerns.\r\n            </p>\r\n            <p>\r\n              <strong>USERS</strong>\r\n            </p>\r\n            <p>\r\n              Only people on the user's contact list can be invited to download\r\n              and use the application. If you wish to register in the CozyPotato\r\n              application, you must read this agreement and indicate your\r\n              acceptance during the registration process. By registering on the\r\n              application, you also accept the provisions of the privacy policy.\r\n              In consideration of your use of the service, you represent that\r\n              you are of legal age to form a binding contract and are not a\r\n              person barred from receiving services under the applicable laws\r\n              and jurisdiction. You also agree to: (a) provide true, accurate,\r\n              current and complete information about yourself as prompted by the\r\n              registration form available on CozyPotato, (b) maintain and\r\n              promptly update your registration data to keep it true, accurate,\r\n              current and complete. If we have reasonable grounds to suspect\r\n              that such information is untrue, inaccurate, not current or\r\n              incomplete, CozyPotato reserves the right to suspend or terminate\r\n              your account and refuse any and all current or future use of the\r\n              service (or any portion thereof) at any time and without any\r\n              notification.\r\n            </p>\r\n            <p>\r\n              <strong>ACCOUNT AND SECURITY</strong>\r\n            </p>\r\n            <p>\r\n              If you register on CozyPotato, you will be required to choose a\r\n              password and you may be asked for additional information regarding\r\n              your account, such as your phone and name. You are responsible for\r\n              maintaining the confidentiality of your password and account\r\n              information, and are fully responsible for all activities that\r\n              occur under your password or account. You agree to (a) immediately\r\n              notify CozyPotato of any unauthorized use of your password or\r\n              account or any other breach of security, and (b) ensure that you\r\n              log out from your account at the end of each session. You may\r\n              never use another Users account without prior authorization from\r\n              CozyPotato. CozyPotato will not be liable for any loss or damage\r\n              arising from your failure to comply with this Agreement.\r\n            </p>\r\n            <p>\r\n              <strong>ACCOUNT DELETION AND TERMINATION</strong>\r\n            </p>\r\n            <p>\r\n              The users may terminate their accounts any time, for any reason,\r\n              by following the instructions on CozyPotato. That termination will\r\n              only result in the deletion of the account and the deletion of all\r\n              the personal data granted to CozyPotato.\r\n            </p>\r\n            <p>\r\n              CozyPotato reserves the right to terminate your account or your\r\n              access immediately, with or without notice to you, and without\r\n              liability to you, if CozyPotato believes that you have breached\r\n              any of these terms, furnished CozyPotato with false or misleading\r\n              information, or interfered with use of the website or the service\r\n              by others.\r\n            </p>\r\n            <p>\r\n              <strong>SUBSCRIPTIONS</strong>\r\n            </p>\r\n            <p>\r\n              CozyPotato may offer access to certain parts of the service on a\r\n              subscription basis. Subscriptions shall be for a specified term\r\n              selected by you through the service.{\" \"}\r\n            </p>\r\n            <p>\r\n              When you place an order for a subscription, you are offering to\r\n              buy the subscription for the advertised price declared on the\r\n              application. Please check the price and characteristics of the\r\n              subscription, before placing an order.\r\n            </p>\r\n            <p>\r\n              When a website user with the intent to purchase a subscription on\r\n              the website, places an order, CozyPotato will send that user an\r\n              email to confirm that the order has been received. This email\r\n              confirmation will be produced automatically so that the user has\r\n              confirmation of their subscription details.\r\n            </p>\r\n            <p>\r\n              CozyPotato may cancel any sale and not supply services if it is\r\n              reasonable to do so and may change or discontinue the availability\r\n              of the monthly plans at any time at its sole discretion. This does\r\n              not affect your Statutory Rights.\r\n            </p>\r\n            <p>\r\n              <strong>PAYMENTS</strong>\r\n            </p>\r\n            <p>\r\n              All payments to CozyPotato are handled securely. Subscriptions\r\n              will be paid through Stripe (credit card) and PayPal.\r\n            </p>\r\n            <p>\r\n              Payment will be debited from your credit card or PayPal account,\r\n              immediately on you placing the order. Upon processing a\r\n              transaction, we will issue you with an electronic transaction\r\n              receipt which will be sent to the email address you provide.{\" \"}\r\n            </p>\r\n            <p>\r\n              Your payment information will be treated and safeguarded with\r\n              total security and with the exclusive purpose of processing the\r\n              purchase of the services. CozyPotato\r\n              <strong> </strong>reserves the right to contract any payment\r\n              platform available in the market, which treats your data for the\r\n              exclusive purpose of processing the purchase of the services.\r\n            </p>\r\n            <p>\r\n              <strong>DISCLAIMER</strong>\r\n            </p>\r\n            <p>\r\n              Even though we work very hard to provide you with up-to-date\r\n              information, we make no representations or warranties of any kind\r\n              (expressed or implied) about the completeness, accuracy,\r\n              reliability, suitability or availability of any information,\r\n              products, services or related movies, series, documentaries,\r\n              books, photographs, graphics contained on CozyPotato application\r\n              for any purpose. Our aim to provide you with accurate information\r\n              at the time of publishing, but some information will\r\n              understandably be less accurate as time passes. Should you find\r\n              any inaccurate information, please do not hesitate to contact me,\r\n              and we can update said info as soon as possible.\r\n            </p>\r\n            <p>\r\n              <strong>LICENSE TO USE THE PLATFORM</strong>\r\n            </p>\r\n            <p>\r\n              CozyPotato gives you a personal, worldwide, royalty-free,\r\n              non-assignable and non-exclusive license to use the software\r\n              provided to you by CozyPotato as part of the services. This\r\n              license is for the sole purpose of enabling you to use and enjoy\r\n              the benefit of the services as provided by CozyPotato, in the\r\n              manner permitted by these terms. You may not copy, modify,\r\n              distribute, sell, or lease any part of our services or included\r\n              software, nor may you reverse engineer or attempt to extract the\r\n              source code of that software, unless laws prohibit those\r\n              restrictions or you have our written permission.\r\n            </p>\r\n            <p>\r\n              The user agrees not to use the platform and the services\r\n              negligently, for fraudulent purposes or in an unlawful manner.\r\n              Likewise, the user agrees not to partake in any conduct or action\r\n              that could damage the image, interests or rights of the CozyPotato\r\n              application or third parties.\r\n            </p>\r\n            <p>\r\n              <strong>RESALE OF SERVICES</strong>\r\n            </p>\r\n            <p>\r\n              Users may not resell any portion of the content or the\r\n              functionality of the platform, to any other party without prior\r\n              written permission from CozyPotato, which may be granted or\r\n              withheld in CozyPotato sole discretion.\r\n            </p>\r\n            <p>\r\n              <strong>SECURITY COMPONENTS</strong>\r\n            </p>\r\n            <p>\r\n              You understand that CozyPotato and software embodied within\r\n              CozyPotato may include security components that permit digital\r\n              materials to be protected, and that use of these materials is\r\n              subject to usage rules set by CozyPotato and/or content providers\r\n              who provide content to CozyPotato platform. You may not attempt to\r\n              override, disable, circumvent or otherwise interfere with any such\r\n              security components and usage rules embedded into CozyPotato.\r\n            </p>\r\n            <p>\r\n              <strong>COPYRIGHT</strong>\r\n            </p>\r\n            <p>\r\n              All materials on CozyPotato, including, without limitation, names,\r\n              logos, trademarks, images, text, columns, graphics, videos,\r\n              photographs, illustrations, artwork, software and other elements\r\n              are protected by copyrights, trademarks and/or other intellectual\r\n              property rights owned and controlled by CozyPotato or by third\r\n              parties that have licensed or otherwise provided their material to\r\n              the application and Website. You acknowledge and agree that all\r\n              Materials on CozyPotato are made available for limited,\r\n              non-commercial, personal use only. Except as specifically provided\r\n              herein. No material may be copied, reproduced, republished, sold,\r\n              downloaded, posted, transmitted, or distributed in any way, or\r\n              otherwise used for any purpose, by any person or entity, without\r\n              CozyPotato prior express written permission. You may not add,\r\n              delete, distort, or otherwise modify the material. Any\r\n              unauthorized attempt to modify any material, to defeat or\r\n              circumvent any security features, or to utilize CozyPotato or any\r\n              part of the material for any purpose other than its intended\r\n              purposes is strictly prohibited.\r\n            </p>\r\n            <p>\r\n              <strong>COPYRIGHT COMPLAINTS </strong>\r\n            </p>\r\n            <p>\r\n              CozyPotato respects the intellectual property of others, and\r\n              expects users to do the same. If you believe, in good faith, that\r\n              any materials provided on or in connection with the CozyPotato\r\n              website and application infringe upon your copyright or other\r\n              intellectual property right, please send the following information\r\n              to:&nbsp;\r\n            </p>\r\n            <ol>\r\n              <li>\r\n                Identification of the intellectual property right that is\r\n                allegedly infringed. All relevant registration numbers, or a\r\n                statement concerning the ownership of the work, should be\r\n                included.\r\n              </li>\r\n              <li>\r\n                A statement specifically identifying the location of the\r\n                infringing material, with enough detail that CozyPotato may find\r\n                it on the CozyPotato website and application. &nbsp;Please note:\r\n                it is not sufficient to merely provide a top-level URL.\r\n              </li>\r\n              <li>Your name, address, telephone number and e-mail address.</li>\r\n              <li>\r\n                A statement by you that you have a good faith belief that the\r\n                use of the allegedly infringing material is not authorized by\r\n                the owner of the rights, or its agents, or by law.\r\n              </li>\r\n              <li>\r\n                A statement by you, made under penalty of perjury, that the\r\n                information in your notice is accurate, and that you are the\r\n                copyright owner or authorized to act on the copyright owner's\r\n                behalf.\r\n              </li>\r\n              <li>\r\n                An electronic or physical signature of the owner of the\r\n                copyright or the person authorized to act on behalf of the owner\r\n                of the copyright interest.\r\n              </li>\r\n            </ol>\r\n            <p>\r\n              <strong>USER CONTENT </strong>\r\n            </p>\r\n            <p>\r\n              Certain features of the application may permit users to upload\r\n              content, which may be comprised of messages, images, text, and\r\n              others and to publish that user content on the application. You\r\n              retain any Copyright that you may hold in the user content that\r\n              you post to the application. Nevertheless, we need certain\r\n              permission from you in order to publish the content. CozyPotato is\r\n              not responsible for the accuracy, safety or legality of user\r\n              content published in the application. Users are solely and\r\n              exclusively responsible for their content and the consequences of\r\n              publishing their content.\r\n            </p>\r\n            <p>\r\n              <strong>LICENSE GRANT TO COZYPOTATO</strong>\r\n            </p>\r\n            <p>\r\n              By providing user content through the application, you grant\r\n              CozyPotato a worldwide, non-exclusive, royalty-free, fully paid\r\n              (with the right to sublicense) right and license to host, store,\r\n              transfer, display, perform, reproduce, modify, publish and share\r\n              with other authorized users your user content on the application\r\n              for the sole purpose of achieving optimal performance of the\r\n              application.{\" \"}\r\n            </p>\r\n            <p>\r\n              <strong>USER CONTENT REPRESENTATIONS AND WARRANTIES</strong>\r\n            </p>\r\n            <p>\r\n              CozyPotato disclaims any and all liability in connection with User\r\n              Content. You are solely responsible for your user content and the\r\n              consequences of providing user content via the service. By\r\n              providing user content via the Service, you affirm, represent, and\r\n              warrant that:\r\n            </p>\r\n            <p>\r\n              a) You are the creator and owner of the User Content, or have the\r\n              necessary licenses, rights, consents, and permissions to authorize\r\n              CozyPotato and users of the service to use and distribute your\r\n              user content as necessary to exercise the licenses granted by you\r\n              in this section, in the manner contemplated by CozyPotato, the\r\n              Service, and these Terms.\r\n            </p>\r\n            <p>\r\n              b) Your User content, and the use of your user content as\r\n              contemplated by these Terms, does not and will not: (i) infringe,\r\n              violate, or misappropriate any third party right, including any\r\n              copyright, trademark, patent, trade secret, moral right, privacy\r\n              right, right of publicity, or any other intellectual property or\r\n              proprietary right; (ii) slander, defame, libel, or invade the\r\n              right of privacy, publicity or other property rights of any other\r\n              person; or (iii) cause CozyPotato to violate any law or\r\n              regulation.\r\n            </p>\r\n            <p>\r\n              c) Your user content could not be deemed by a reasonable person to\r\n              be objectionable, profane, indecent, pornographic, harassing,\r\n              threatening, embarrassing, hateful, or otherwise inappropriate.\r\n            </p>\r\n            <p>\r\n              d) Your user content does not and will not contain Hateful\r\n              Content, a Threat of Physical Harm, or Harassment.\r\n            </p>\r\n            <p>\r\n              <strong>USER CONTENT DISCLAIMER</strong>\r\n            </p>\r\n            <p>\r\n              We are under no obligation to edit or control user content that\r\n              you or other users post or publish, and will not be in any way\r\n              responsible or liable for User Content. CozyPotato may, however,\r\n              at any time and without prior notice, screen, remove, edit, or\r\n              block any user content that in our sole judgment violates these\r\n              Terms or is otherwise objectionable. You understand that when\r\n              using the service, you will be exposed to user content from a\r\n              variety of sources and acknowledge that user content may be\r\n              inaccurate, offensive, indecent, or objectionable. You agree to\r\n              waive, and do waive, any legal or equitable right or remedy you\r\n              have or may have against CozyPotato with respect to user content.\r\n              If notified by a user or content owner that user content allegedly\r\n              does not conform to these Terms, we may investigate the allegation\r\n              and determine in our sole discretion whether to remove the user\r\n              content, which we reserve the right to do at any time and without\r\n              notice. For clarity, CozyPotato does not permit\r\n              copyright-infringing activities on the Service.\r\n            </p>\r\n            <p>\r\n              <strong>CONTENT REVIEW</strong>\r\n            </p>\r\n            <p>\r\n              CozyPotato does not control and does not have any obligation to\r\n              monitor: (a) User Content; (ii) any content made available by\r\n              third parties; or (iii) the use of the services by its users. You\r\n              acknowledge and agree that CozyPotato reserves the right to, and\r\n              may from time to time, monitor any and all information transmitted\r\n              or received through the service for operational and other\r\n              purposes. If at any time CozyPotato chooses to monitor the\r\n              content, CozyPotato still assumes no responsibility or liability\r\n              for content or any loss or damage incurred as a result of the use\r\n              of content. During monitoring, information may be examined,\r\n              recorded, copied, and used in accordance with our Privacy Policy.\r\n            </p>\r\n            <p>\r\n              <strong>PERSONAL DATA</strong>\r\n            </p>\r\n            <p>\r\n              Any personal information you post on or otherwise submit in\r\n              connection with the services and the use of the application, will\r\n              be used in accordance with our Privacy Policy. When you use the\r\n              CozyPotato application, you agree for us to collect and store your\r\n              personal information. The personal information collected is also\r\n              used to check the correctness of identification and do necessary\r\n              checks. In giving the information you also agree for us to message\r\n              or communicate with you unless you tell us not to. Please refer to\r\n              our Privacy Policy.\r\n            </p>\r\n            <p>\r\n              <strong>NON-COMMERCIAL USE</strong>\r\n            </p>\r\n            <p>\r\n              The service may not be used in connection with any commercial\r\n              purposes, except as specifically approved by CozyPotato.\r\n              Unauthorized framing of or linking to any of CozyPotato is\r\n              prohibited. Commercial advertisements, affiliate links, and other\r\n              forms of content without notice and may result in termination of\r\n              the account.\r\n            </p>\r\n            <p>\r\n              <strong>THIRD PARTIES</strong>\r\n            </p>\r\n            <p>\r\n              CozyPotato contains content of third-party licensors to\r\n              CozyPotato, which is protected by copyright, trademark, patent,\r\n              trade secret and other laws. CozyPotato owns and retains all\r\n              rights, title and interest in the content. CozyPotato hereby\r\n              grants to you a limited, revocable, non-sublicensable license to\r\n              stream and/or view the content and any third party content located\r\n              on or available through CozyPotato or services (excluding any\r\n              software code therein as set forth above) solely for your\r\n              personal, non-commercial use in connection with viewing CozyPotato\r\n              and using the services.{\" \"}\r\n            </p>\r\n            <p>\r\n              Any dealings with third parties included within or on CozyPotato\r\n              involving the delivery of and payment for goods and services, or\r\n              any other terms, conditions, warranties, or representations\r\n              associated with such third parties, are solely between you and\r\n              that third party. CozyPotato is neither responsible nor liable for\r\n              any part of such dealings or promotions. Any reference to any\r\n              third party or the products or services of any third party on\r\n              CozyPotato does not constitute an endorsement or recommendation of\r\n              such third party or the product or services of such third party by\r\n              CozyPotato or any of its employees, officers, independent\r\n              contractors, agents or other representatives. Any reference to any\r\n              third party on CozyPotato is provided to you for informational\r\n              purposes only. CozyPotato encourages you to conduct your own\r\n              research and due diligence regarding such third parties and their\r\n              products and services. While CozyPotato works to ensure the\r\n              information on CozyPotato is current and accurate.\r\n            </p>\r\n            <p>\r\n              <strong>PROHIBITED ACTIVITIES</strong>\r\n            </p>\r\n            <p>\r\n              The content and information available on the website and\r\n              application (including, but not limited to, data, information,\r\n              text, music, sound, photos, graphics, video, maps, icons or other\r\n              material), as well as the infrastructure used to provide such\r\n              Content and information, is proprietary to CozyPotato or licensed\r\n              to the CozyPotato by third parties. For all content other than\r\n              your content, you agree not to otherwise modify, copy, distribute,\r\n              transmit, display, perform, reproduce, publish, license, create\r\n              derivative works from, transfer, or sell or re-sell any\r\n              information, software or services obtained from or through the\r\n              website. Additionally, you agree not to:\r\n            </p>\r\n            <ol>\r\n              <li>\r\n                Use the services or content for any commercial purpose, outside\r\n                the scope of those commercial purposes explicitly permitted\r\n                under this agreement and related guidelines as made available by\r\n                CozyPotato.\r\n              </li>\r\n              <li>\r\n                Access, monitor, reproduce, distribute, transmit, broadcast,\r\n                display, sell, license, copy or otherwise exploit any Content of\r\n                the services, including but not limited to, using any robot,\r\n                spider, scraper or other automated means or any manual process\r\n                for any purpose not in accordance with this agreement or without\r\n                our express written permission.\r\n              </li>\r\n              <li>\r\n                Violate the restrictions in any robot exclusion headers on the\r\n                services or bypass or circumvent other measures employed to\r\n                prevent or limit access to the services.\r\n              </li>\r\n              <li>\r\n                Take any action that imposes, or may impose, in our discretion,\r\n                an unreasonable or disproportionately large load on our\r\n                infrastructure.\r\n              </li>\r\n              <li>\r\n                Deep-link to any portion of the services for any purpose without\r\n                our express written permission.\r\n              </li>\r\n              <li>\r\n                \"Frame\", \"mirror\" or otherwise incorporate any part of the\r\n                services into any other websites or service without our prior\r\n                written authorization.\r\n              </li>\r\n              <li>\r\n                Attempt to modify, translate, adapt, edit, decompile,\r\n                disassemble, or reverse engineer any software programs used by\r\n                CozyPotato in connection with the services.\r\n              </li>\r\n              <li>\r\n                Circumvent, disable or otherwise interfere with security-related\r\n                features of the services or features that prevent or restrict\r\n                use or copying of any Content.\r\n              </li>\r\n              <li>\r\n                Download any Content unless its expressly made available for\r\n                download by CozyPotato.\r\n              </li>\r\n            </ol>\r\n            <p>\r\n              <strong>DISCLAIMER OF WARRANTIES </strong>\r\n            </p>\r\n            <p>\r\n              CozyPotato will provide its services with reasonable skill and\r\n              care but does not give any guarantees, warranties or\r\n              representations in respect of any other person's services.\r\n            </p>\r\n            <p>\r\n              Because of the nature of the Internet CozyPotato provides and\r\n              maintains the Website and application on an \"as is\", \"as\r\n              available\" basis and makes no promise that use of the website and\r\n              application will be uninterrupted or entirely error free. We are\r\n              not responsible to you if we are unable to provide our Internet\r\n              services for any reason beyond our control.\r\n            </p>\r\n            <p>\r\n              Our Website and application may from time to time contain links to\r\n              other web sites which are not under the control of and are not\r\n              maintained by us. These links are provided for your convenience\r\n              only and we are not responsible for the content of those sites.\r\n            </p>\r\n            <p>\r\n              Except as provided above we can give no other warranties,\r\n              conditions or other terms, express or implied, statutory or\r\n              otherwise and all such terms are hereby excluded to the maximum\r\n              extent permitted by law.\r\n            </p>\r\n            <p>\r\n              You will be responsible for any breach of these terms by you and\r\n              if you use&nbsp;the application\r\n              <strong>\r\n                <em>&nbsp;</em>\r\n              </strong>\r\n              in breach of these terms you will be liable to and will reimburse\r\n              CozyPotato<strong> </strong>for any loss or damage caused as a\r\n              result.\r\n            </p>\r\n            <p>\r\n              CozyPotato<strong> </strong>will not be liable in any amount for\r\n              failure to perform any obligation under this agreement if such\r\n              failure is caused by the occurrence of any unforeseen event beyond\r\n              its reasonable control including without limitation Internet\r\n              outages, communications outages, fire, flood, war or act of God.\r\n            </p>\r\n            <p>\r\n              These terms do not affect your statutory rights as a consumer\r\n              which are available to you.\r\n            </p>\r\n            <p>\r\n              Subject as aforesaid, to the maximum extent permitted by law,\r\n              CozyPotato<strong> </strong>excludes liability for any loss or\r\n              damage of any kind howsoever arising, including without limitation\r\n              any direct, indirect or consequential loss whether or not such\r\n              arises out of any problem you notify to CozyPotato and CozyPotato\r\n              <strong> </strong>shall have no liability to pay any money by way\r\n              of compensation, including without limitation all liability in\r\n              relation to:\r\n            </p>\r\n            <ul>\r\n              <li>Any incorrect or inaccurate information on CozyPotato.</li>\r\n              <li>\r\n                Any interruptions to or delays in updating&nbsp;CozyPotato.\r\n              </li>\r\n              <li>\r\n                The infringement by any person of any Intellectual Property\r\n                Rights of any third party caused by their use of&nbsp;the\r\n                application<strong>&nbsp;</strong>or any product or service\r\n                purchased through&nbsp;the\r\n                <strong>\r\n                  <em>&nbsp;</em>\r\n                </strong>\r\n                application.\r\n              </li>\r\n              <li>\r\n                Any loss or damage resulting from your use or the inability to\r\n                use the&nbsp;application or resulting from unauthorized access\r\n                to, or alteration of your transmissions or data in circumstances\r\n                which are beyond our control.\r\n              </li>\r\n              <li>\r\n                Any loss of profit, wasted expenditure, corruption or\r\n                destruction of data or any other loss which does not directly\r\n                result from something we have done wrong.\r\n              </li>\r\n              <li>\r\n                Any amount or kind of loss or damage due to viruses or other\r\n                malicious software that may infect a user's computer equipment,\r\n                software, data or other property caused by persons accessing or\r\n                using content from&nbsp;The Website and application, or from\r\n                transmissions via emails or attachments received\r\n                from&nbsp;CozyPotato<strong>.</strong>\r\n              </li>\r\n              <li>\r\n                All representations, warranties, conditions and other terms\r\n                which but for this notice would have effect.\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              <strong>ELECTRONIC COMMUNICATIONS</strong>\r\n            </p>\r\n            <p>\r\n              No responsibility will be accepted by CozyPotato for failed,\r\n              partial or garbled computer transmissions, for any computer,\r\n              telephone, cable, network, electronic or internet hardware or\r\n              software malfunctions, failures, connections, availability, for\r\n              the acts or omissions of any Cleaner User, internet accessibility\r\n              or availability or for traffic congestion or unauthorized human\r\n              act, including any errors or mistakes.{\" \"}\r\n            </p>\r\n            <p>\r\n              <strong>INDEMNIFICATION</strong>\r\n            </p>\r\n            <p>\r\n              You agree to defend and indemnify CozyPotato from and against any\r\n              claims, causes of action, demands, recoveries, losses, damages,\r\n              fines, penalties or other costs or expenses of any kind or nature\r\n              including but not limited to reasonable legal and accounting fees,\r\n              brought by third parties as a result of:\r\n            </p>\r\n            <ul>\r\n              <li>\r\n                Your breach of this agreement or the documents referenced\r\n                herein.\r\n              </li>\r\n              <li>Your violation of any law or the rights of a third party.</li>\r\n              <li>Download the CozyPotato application.</li>\r\n              <li>Your use of the CozyPotato application.</li>\r\n            </ul>\r\n            <p>\r\n              <strong>CHANGES AND TERMINATION</strong>\r\n            </p>\r\n            <p>\r\n              We may change the application, website and these terms at any\r\n              time, in our sole discretion and without notice to you. You are\r\n              responsible for remaining knowledgeable about these terms. Your\r\n              continued use of the site constitutes your acceptance of any\r\n              changes to these Terms and any changes will supersede all previous\r\n              versions of the terms. Unless otherwise specified herein, all\r\n              changes to these Terms apply to all users take effect.\r\n              Furthermore, we may terminate this agreement with you under these\r\n              Terms at any time by notifying you in writing (including by email)\r\n              or without any warning.\r\n            </p>\r\n            <p>\r\n              <strong>ASSIGNMENT</strong>\r\n            </p>\r\n            <p>\r\n              This agreement and any rights and licenses granted hereunder, may\r\n              not be transferred or assigned by you, but may be assigned by\r\n              CozyPotato without restriction.\r\n            </p>\r\n            <p>\r\n              <strong>INTEGRATION CLAUSE</strong>\r\n            </p>\r\n            <p>\r\n              This agreement together with the&nbsp; &nbsp;and any other legal\r\n              notices published by CozyPotato, shall constitute the entire\r\n              agreement between you and CozyPotato concerning and governs your\r\n              use of the applicationlication, website and the service.\r\n            </p>\r\n            <p>\r\n              <strong>DISPUTES</strong>\r\n            </p>\r\n            <p>\r\n              You agree that any dispute, claim or controversy arising out of or\r\n              relating to these Terms or the breach, termination, enforcement,\r\n              interpretation or validity thereof or the use of the\r\n              <strong> </strong>CozyPotato website and application\r\n              <strong>, </strong>will be settled by binding arbitration between\r\n              you and <strong> </strong>CozyPotato, except that each party\r\n              retains the right to bring an individual action in small claims\r\n              court and the right to seek injunctive or other equitable relief\r\n              in a court of competent jurisdiction to prevent the actual or\r\n              threatened infringement, misappropriation or violation of a\r\n              partys copyrights, trademarks, trade secrets, patents or other\r\n              intellectual property rights. You acknowledge and agree that you\r\n              and CozyPotato are each waiving the right to a trial by jury or to\r\n              participate as a plaintiff or class in any purported class action\r\n              or representative proceeding. Further, unless both you and\r\n              CozyPotato otherwise agree in writing, the arbitrator may not\r\n              consolidate more than one person's claims, and may not otherwise\r\n              preside over any form of any class or representative proceeding.{\" \"}\r\n            </p>\r\n            <p>\r\n              <strong>HEADINGS</strong>\r\n            </p>\r\n            <p>\r\n              Headings are for reference purposes only and in no way define,\r\n              limit, construe or describe the scope or extent of such section.\r\n              Our failure to act with respect to a breach by you or others does\r\n              not waive our right to act with respect to subsequent or similar\r\n              breaches. These terms set forth the entire understanding and\r\n              agreement between us with respect to the subject matter therein.\r\n            </p>\r\n            <p>\r\n              <strong>FINAL PROVISIONS</strong>\r\n            </p>\r\n            <p>\r\n              These Terms are governed by the law of USA. Use of CozyPotato\r\n              application and website is unauthorized in any jurisdiction that\r\n              does not give effect to all provisions of these Terms, including,\r\n              without limitation, this paragraph.\r\n            </p>\r\n            <p>\r\n              Our performance of these Terms is subject to existing laws and\r\n              legal process, and nothing contained in these Terms limits our\r\n              right to comply with law enforcement or other governmental or\r\n              legal requests or requirements relating to your use of our\r\n              Platform or information provided to or gathered by us with respect\r\n              to such use.\r\n            </p>\r\n            <p>\r\n              If any part of these Terms is found to be invalid, illegal or\r\n              unenforceable, the validity, legality and enforceability of the\r\n              remaining provisions will not in any way be affected or impaired.\r\n              Our failure or delay in enforcing any provision of these Terms at\r\n              any time does not waive our right to enforce the same or any other\r\n              provision(s) hereof in the future.\r\n            </p>\r\n            <p>Any rights not expressly granted herein are reserved.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n  return (\r\n    <div className=\"pg-viewer-wrapper\">\r\n      <div className=\"pg-viewer\" id=\"pg-viewer\">\r\n        <div id=\"docx\">\r\n          <div className=\"document-container\">\r\n            <p>\r\n              <strong>COOKIE POLICY</strong>\r\n            </p>\r\n            <p>\r\n              <strong>Welcome to </strong>\r\n\r\n              <strong>CozyPotato!</strong>\r\n            </p>\r\n            <p>CozyPotato Is owned and operated by SkonLabs LLC.</p>\r\n            <p>\r\n              This Cookie Policy explains how and why cookies and other similar\r\n              technologies may be stored on and accessed from your device when\r\n              you use or visit:\r\n            </p>\r\n            <ul>\r\n              <li>\r\n                <a href=\"https://cozypotato.com\">\r\n                  <strong>https://cozypotato.com</strong>\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <p> </p>\r\n            <p>\r\n              The information collected through cookies will be under\r\n              responsibility and in charge of:\r\n            </p>\r\n            <ul>\r\n              <li>\r\n                <strong>SkonLabs LLC </strong>\r\n              </li>\r\n              <li>\r\n                <strong>(Insert contact information, email, phone)</strong>\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              This Cookie Policy should be read together with our Privacy Policy\r\n              and our Terms and conditions.\r\n            </p>\r\n            <p>\r\n              <strong>\r\n                By using CozyPotato website, you accept the use of cookies by\r\n                this website, in the terms contained in this policy.\r\n              </strong>\r\n            </p>\r\n            <p>\r\n              <strong>WHAT ARE COOKIES?</strong>\r\n            </p>\r\n            <p>\r\n              Cookies are small text files that are stored on your computer or\r\n              mobile device when you visit a website. They allow the website to\r\n              recognize your device and remember if you have been to the website\r\n              before.\r\n            </p>\r\n            <p>\r\n              Cookies are very common web technology, most website use Cookies\r\n              and have done for years. Cookies are widely used in order to make\r\n              website work more efficiently, as well as providing information to\r\n              the owners of website.\r\n            </p>\r\n            <p>\r\n              Cookies are used to measure which parts of the website people\r\n              visit and to customize your experience. Cookies also provide\r\n              information that helps us monitor and improve the websites\r\n              performance.\r\n            </p>\r\n            <p>\r\n              <strong>\r\n                REFUSING OR WITHDRAWING CONSENT TO THE USE OF COOKIES\r\n              </strong>\r\n            </p>\r\n            <p>\r\n              If you do not want Cookies to be dropped on your device, you can\r\n              adjust the setting of your Internet browser to reject the setting\r\n              of all or some Cookies and to alert you when a Cookie is placed on\r\n              your device. For further information about how to do so, please\r\n              refer to your browser help, tool, or edit section. Please\r\n              note that if you use your browser settings to block all Cookies,\r\n              including strictly necessary Cookies, you may not be able to\r\n              access or use all or parts of the functionalities of the\r\n              CozyPotato website.\r\n            </p>\r\n            <p>\r\n              If you want to remove previously-stored Cookies, you can manually\r\n              delete the Cookies at any time. However, this will not prevent the\r\n              CozyPotato website from placing further Cookies on your device\r\n              unless and until you adjust your Internet browser setting as\r\n              described above.\r\n            </p>\r\n            <p>\r\n              We provide the links for the management and blocking of cookies\r\n              depending on the browser you use:\r\n            </p>\r\n            <ul>\r\n              <li>\r\n                Internet Explorer:{\" \"}\r\n                <a href=\"http://windows.microsoft.com/es-xl/internet-explorer/delete-manage-cookies%23ie=ie-10\">\r\n                  http://windows.microsoft.com/es-xl/internet-explorer/delete-manage-cookies#ie=ie-10\r\n                </a>\r\n              </li>\r\n              <li>\r\n                Firefox:{\" \"}\r\n                <a href=\"https://support.mozilla.org/en-US/kb/clear-cookies-and-site-data-firefox\">\r\n                  https://support.mozilla.org/en-US/kb/clear-cookies-and-site-data-firefox\r\n                </a>\r\n              </li>\r\n              <li>\r\n                Chrome:{\" \"}\r\n                <a href=\"https://support.google.com/chrome/answer/95647?hl=en\">\r\n                  https://support.google.com/chrome/answer/95647?hl=en\r\n                </a>\r\n              </li>\r\n              <li>\r\n                Safari:{\" \"}\r\n                <a href=\"https://support.apple.com/guide/safari/manage-cookies-and-website-data-sfri11471/mac\">\r\n                  https://support.apple.com/guide/safari/manage-cookies-and-website-data-sfri11471/mac\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              <strong>FIRST-PARTY COOKIES</strong>\r\n            </p>\r\n            <p>\r\n              Cookies help us to collect information on how people use our\r\n              website and which pages they visit. They enable us to monitor the\r\n              number of visitors and to analyze website usage patterns and\r\n              trends.\r\n            </p>\r\n            <p>\r\n              We collect this information anonymously, so it does not identify\r\n              anyone as an individual and no personal information is stored in\r\n              our Cookies. We always use Cookie data in a responsible way.\r\n            </p>\r\n            <p>\r\n              Our aim is to continually improve the CozyPotato online\r\n              experience. Cookies help to make our website work better and more\r\n              efficiently. However, you can stop Cookies from being downloaded\r\n              to your device from CozyPotato at any time by selecting the\r\n              appropriate settings in your browser. Most browsers will tell you\r\n              how to change your browser settings to notify you when a Cookie is\r\n              being set or updated, or to restrict or block certain types or all\r\n              Cookies.{\" \"}\r\n            </p>\r\n            <p>\r\n              <strong>USES OF COOKIES</strong>\r\n            </p>\r\n            <p>Our Cookies are used for the following purposes:</p>\r\n            <p>\r\n              <strong>Strictly Necessary: </strong>These Cookies are essential\r\n              for CozyPotato website to perform its basic functions.\r\n            </p>\r\n            <p>\r\n              <strong>Security: </strong>We use these Cookies to help identify\r\n              and prevent potential security risks.\r\n            </p>\r\n            <p>\r\n              <strong>GOOGLE Firebase Analytics. </strong>We use Google Firebase\r\n              Analytics provided by Google, Inc., USA (Google). These tool and\r\n              technologies collect and analyze certain types of information,\r\n              including IP addresses, device and software identifiers, referring\r\n              and exit URLs, feature use metrics and statistics, usage and\r\n              purchase history, media access control address (MAC Address),\r\n              mobile unique device identifiers, and other similar information\r\n              via the use of cookies. The information generated by Google\r\n              Analytics (including your IP address) may be transmitted to and\r\n              stored by Google on servers in the United States. We use the\r\n              GOOGLE Analytics collection of data to enhance the website and\r\n              platform and improve our service.\r\n            </p>\r\n            <p>Please consult Google's privacy policy here:</p>\r\n            <ul>\r\n              <li>\r\n                <a href=\"https://policies.google.com/privacy\">\r\n                  https://policies.google.com/privacy\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              <strong>CONTACT US</strong>\r\n            </p>\r\n            <p>\r\n              If you have questions about this Cookie Policy, please contact us\r\n              at:\r\n            </p>\r\n            <p>(Insert contact information, email, phone)</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport PrivacyPolicy from \"../../documents/PrivacyPolicy\";\r\nimport TermsAndConditions from \"../../documents/TermsAndConditions\";\r\nimport CookiesPolicy from \"../../documents/CookiesPolicy\";\r\n\r\nconst LegalDocument = ({ type }) => {\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [type]);\r\n  return type ? (\r\n    <div className=\"col-60 py-md-5 text-dark\">\r\n      <div className=\"row no-gutters justify-content-center\">\r\n        <div className=\"p-sm-5 p-4 bg-white\">\r\n          {type === \"privacy-policy\" ? (\r\n            <PrivacyPolicy></PrivacyPolicy>\r\n          ) : type === \"terms-and-conditions\" ? (\r\n            <TermsAndConditions></TermsAndConditions>\r\n          ) : type === \"cookies-policy\" ? (\r\n            <CookiesPolicy></CookiesPolicy>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n\r\nexport default LegalDocument;\r\n","import React, { useState } from \"react\";\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\nimport history from \"../../History\";\r\nimport { Signup as SignupFunction } from \"../../server/DatabaseApi\";\r\nimport { validateEmail } from \"../../utilities/Functions\";\r\nimport store from \"../../store/store\";\r\nimport Logo from \"../../images/Logo\";\r\nimport Checkbox from \"../utility/Checkbox\";\r\nimport Modal from \"../utility/Modal\";\r\nimport LegalDocument from \"../user/LegalDocument\";\r\nimport { BsChevronLeft } from \"react-icons/bs\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Signup = ({ no_display_name_characters, captcha_api_key }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [validated, setValidated] = useState(false);\r\n  const [agreedWithPolicies, setAgreedWithPolicies] = useState(false);\r\n  const [problem, setProblem] = useState(\"\");\r\n  const [legalDocument, setLegalDocument] = useState(\"\");\r\n\r\n  const validations = [\r\n    { valid: validateEmail(email), error: \"Email is not valid\" },\r\n    {\r\n      valid: email.split(\"@\")[0].length < no_display_name_characters,\r\n      error: \"Email is too long\",\r\n    },\r\n    {\r\n      valid: /[^\\w\\s]/.test(password) || /\\d/.test(password),\r\n      error: \"Password must contain number or symbol\",\r\n    },\r\n    {\r\n      valid: password === confirmPassword,\r\n      error: \"Passwords don't match\",\r\n    },\r\n    {\r\n      valid: password.length >= 6,\r\n      error: \"Password must contain at least 6 characters\",\r\n    },\r\n    {\r\n      valid: validated,\r\n      error: \"Pass captcha validation\",\r\n    },\r\n\r\n    {\r\n      valid: agreedWithPolicies,\r\n      error: \"Check if you agree with privacy policy and terms and conditions\",\r\n    },\r\n  ];\r\n\r\n  const handleSubmit = async () => {\r\n    let notValid = validations.filter((x) => !x.valid);\r\n    if (notValid.length === 0) {\r\n      let res = await SignupFunction({ email, password });\r\n      if (res.success) {\r\n        store.dispatch({\r\n          type: \"SET_NOTIFICATION\",\r\n          notification: {\r\n            title: \"Account created!\",\r\n            message:\r\n              \"Login to start writing reviews and comments about your favorite movies\",\r\n            type: \"success\",\r\n          },\r\n        });\r\n\r\n        store.dispatch({\r\n          type: \"UPDATE_PUBLICUSERS\",\r\n          publicUser: { [res.publicUser.user_id]: res.publicUser },\r\n        });\r\n        history.push(\"/login\");\r\n      } else {\r\n        store.dispatch({\r\n          type: \"SET_NOTIFICATION\",\r\n          notification: {\r\n            message: res.error,\r\n            type: \"failure\",\r\n            title: \"Failed create account\",\r\n          },\r\n        });\r\n      }\r\n    } else {\r\n      setProblem(notValid[0].error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"row no-gutters justify-content-center aligm-items-start align-items-sm-center py-sm-3\"\r\n      style={{ minHeight: window.innerHeight }}\r\n    >\r\n      <Modal\r\n        open={legalDocument}\r\n        mobileCloserColor={\"black\"}\r\n        onClose={() => setLegalDocument(\"\")}\r\n      >\r\n        <LegalDocument type={legalDocument}></LegalDocument>\r\n      </Modal>\r\n      <div className=\"col-xl-50 col-60 col-lg-50 col-md-35 col-sm-50 login-rounded overflow-hidden\">\r\n        <div className=\"row no-gutters h-100\">\r\n          <div className=\"col bg-dark d-lg-block d-none text-center\">\r\n            <div className=\"row no-gutters h-100 flex-center position-relative\">\r\n              <div\r\n                className=\"position-absolute d-flex align-items-center text-white cursor-pointer\"\r\n                onClick={() => history.push(\"/\")}\r\n                style={{ top: \"15px\", left: \"15px\" }}\r\n              >\r\n                <BsChevronLeft className=\"mr-2\"></BsChevronLeft>Back to home\r\n              </div>\r\n              <div className=\"col-auto\">\r\n                <div className=\"square-150 mx-auto\">\r\n                  <Logo></Logo>\r\n                </div>\r\n                <div className=\"logo text-title-xl text-white\">CozyPotato</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"col-60 col-lg-30 col-xl-25 col-md-auto p-4 p-sm-5 bg-light\"\r\n            style={{\r\n              minHeight: window.innerHeight - 100,\r\n            }}\r\n          >\r\n            <div className=\"row no-gutters h-100\">\r\n              <div className=\"col-60 d-flex align-items-start flex-wrap\">\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-60 h3 mb-3\">Create Account</div>\r\n                  {/* <div className=\"col-60\">\r\n                    By creating account you will be joining milions of people on\r\n                    the largest movies reviewing platform\r\n                  </div> */}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-60 d-flex align-items-end flex-wrap\">\r\n                <div className=\"row no-gutters w-100\">\r\n                  <div className=\"col-60\">\r\n                    <div className=\"row no-gutters justify-content-center mb-3\">\r\n                      <div className=\"col-60 mb-1\">Email</div>\r\n                      <div className=\"col-60\">\r\n                        <input\r\n                          type=\"email\"\r\n                          className=\"input-light w-100 px-3\"\r\n                          value={email}\r\n                          onChange={(e) => {\r\n                            e.persist();\r\n                            setEmail(e.target.value);\r\n                          }}\r\n                        ></input>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row no-gutters mb-3\">\r\n                      <div className=\"col-60 mb-1\">Password</div>\r\n                      <div className=\"col-60 mb-1\">\r\n                        <input\r\n                          type=\"password\"\r\n                          className=\"input-light w-100 px-3\"\r\n                          value={password}\r\n                          onChange={(e) => {\r\n                            e.persist();\r\n                            setPassword(e.target.value);\r\n                          }}\r\n                        ></input>\r\n                      </div>\r\n                      <div className=\"col-60 text-muted font-size-14\">\r\n                        Must be at least 6 characters and must contain number or\r\n                        symbol\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row no-gutters mb-3\">\r\n                      <div className=\"col-60 mb-1\">Confirm Password</div>\r\n                      <div className=\"col-60 mb-1\">\r\n                        <input\r\n                          type=\"password\"\r\n                          className=\"input-light w-100 px-3\"\r\n                          value={confirmPassword}\r\n                          onKeyDown={(e) => {\r\n                            if (e.keyCode === 13) {\r\n                              handleSubmit();\r\n                            }\r\n                          }}\r\n                          onChange={(e) => {\r\n                            e.persist();\r\n                            setConfirmPassword(e.target.value);\r\n                          }}\r\n                        ></input>\r\n                      </div>\r\n                      <div className=\"col-60 text-muted font-size-14\">\r\n                        Must be at least 6 characters and must contain number or\r\n                        symbol\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row no-gutters mb-3\">\r\n                      <ReCAPTCHA\r\n                        sitekey={captcha_api_key}\r\n                        onChange={(value) => {\r\n                          if (value) {\r\n                            setValidated(true);\r\n                          }\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"row no-gutters\">\r\n                      <div className=\"col-auto mr-2\">\r\n                        <Checkbox\r\n                          color={\"primary\"}\r\n                          checked={agreedWithPolicies}\r\n                          onChange={(e) => {\r\n                            setAgreedWithPolicies(e.target.checked);\r\n                          }}\r\n                        ></Checkbox>\r\n                      </div>\r\n                      <div className=\"col\">\r\n                        By registering you agree with{\" \"}\r\n                        <span\r\n                          onClick={() =>\r\n                            setLegalDocument(\"terms-and-conditions\")\r\n                          }\r\n                          className=\"btn-link\"\r\n                        >\r\n                          terms and conditions\r\n                        </span>{\" \"}\r\n                        and{\" \"}\r\n                        <span\r\n                          className=\"btn-link\"\r\n                          onClick={() => setLegalDocument(\"privacy-policy\")}\r\n                        >\r\n                          privacy policy\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={{ height: \"40px\", opacity: problem ? 1 : 0 }}\r\n                      className=\"row no-gutters align-items-center text-danger\"\r\n                    >\r\n                      {problem}\r\n                    </div>\r\n                    <div className=\"row no-gutters mb-3\">\r\n                      <div\r\n                        className=\"col-60 btn-custom btn-custom-primary\"\r\n                        onClick={handleSubmit}\r\n                      >\r\n                        Create Account\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      className=\"row no-gutters justify-content-end\"\r\n                      style={{ fontSize: \"14px\" }}\r\n                    >\r\n                      <div className=\"col-auto\">\r\n                        Already have account?{\" \"}\r\n                        <span\r\n                          className=\"btn-link cursor-pointer\"\r\n                          onClick={() => history.push(\"/login\")}\r\n                        >\r\n                          Login\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    captcha_api_key: state.settings.captcha_api_key,\r\n    no_display_name_characters: state.settings.no_display_name_characters,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Signup);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../store/store\";\r\nimport { BsCheck, BsExclamation, BsX } from \"react-icons/bs\";\r\nimport { CreateNotification } from \"../../server/DatabaseApi\";\r\n\r\nconst Toast = ({ notification, publicUsers }) => {\r\n  const [hovered, setHovered] = useState(false);\r\n  const [expired, setExpired] = useState(false);\r\n  useEffect(() => {\r\n    let timeout;\r\n    if (!notification.expired) {\r\n      timeout = setTimeout(() => {\r\n        setExpired(true);\r\n      }, 5000);\r\n    }\r\n\r\n    return function cleanUp() {\r\n      if (!notification.expired && timeout) {\r\n        clearTimeout(timeout);\r\n      }\r\n    };\r\n  }, [notification]);\r\n\r\n  useEffect(() => {\r\n    if (expired && !hovered) {\r\n      store.dispatch({\r\n        type: \"UPDATE_NOTIFICATION\",\r\n        notification: { expired: true },\r\n      });\r\n      setExpired(false);\r\n    }\r\n  }, [expired, hovered]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      notification.type !== \"success\" &&\r\n      typeof notification.message === \"object\"\r\n    ) {\r\n      let adminNotification = {\r\n        type: \"System\",\r\n        subject: \"System error occured\",\r\n        receivers: [\"All admins\"],\r\n        start_date: Date.now(),\r\n        end_date: Date.now(),\r\n        description: JSON.stringify(notification.message).replace(/\"/g, \"\"),\r\n        status: \"Sent\",\r\n      };\r\n      CreateNotification(adminNotification);\r\n    }\r\n  }, [notification.message]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  return (\r\n    <div\r\n      onMouseOver={() => setHovered(true)}\r\n      onMouseLeave={() => setHovered(false)}\r\n      className=\"container-fluid toast-pro bg-over-root px-0\"\r\n      style={{\r\n        maxWidth: \"300px\",\r\n        bottom: notification.expired ? \"-100%\" : \"50px\",\r\n      }}\r\n    >\r\n      <div className=\"row no-gutters p-3\">\r\n        {notification.type && (\r\n          <div className=\"col-auto pr-2\">\r\n            {notification.type === \"success\" ? (\r\n              <BsCheck\r\n                strokeWidth=\"1px\"\r\n                fontSize=\"24px\"\r\n                className=\"text-success\"\r\n              ></BsCheck>\r\n            ) : (\r\n              <BsExclamation\r\n                strokeWidth=\"1px\"\r\n                fontSize=\"24px\"\r\n                className=\"text-primary\"\r\n              ></BsExclamation>\r\n            )}\r\n          </div>\r\n        )}\r\n        <div className=\"col pr-2 toast-title\">{notification.title}</div>\r\n        <div\r\n          className=\"col-auto toast-close-icon\"\r\n          onClick={() =>\r\n            store.dispatch({\r\n              type: \"UPDATE_NOTIFICATION\",\r\n              notification: { expired: true },\r\n            })\r\n          }\r\n        >\r\n          <BsX fontSize=\"24px\" className=\"text-white\"></BsX>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row no-gutters p-4 text-white\">\r\n        {notification.type !== \"success\"\r\n          ? typeof notification.message === \"object\"\r\n            ? \"Action failed\"\r\n            : notification.message\r\n          : notification.message}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    notification: state.notification,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Toast);\r\n","import React, { useState } from \"react\";\r\nimport history from \"../../../History\";\r\nimport WishlistButton from \"../WishlistButton\";\r\nimport { connect } from \"react-redux\";\r\nimport ReactionButton from \"../ReactionButton\";\r\nimport { BsPlayFill } from \"react-icons/bs\";\r\nimport Paigination from \"../../utility/Paigination\";\r\nimport TrailerPlayer from \"../TrailerPlayer\";\r\nimport Modal from \"../../utility/Modal\";\r\nimport MoveToWatchedButton from \"../MoveToWatchedButton\";\r\n\r\nconst MoviesList = ({\r\n  movies,\r\n  user,\r\n  ratings,\r\n  listType = \"not wishlist\",\r\n  setMovie,\r\n  setAddReviewOpen,\r\n  owner = false,\r\n  refreshProfile = () => {},\r\n}) => {\r\n  const [page, setPage] = useState(1);\r\n  const maxItemsPerPage = 12;\r\n  const [trailerMovieId, setTrailerMovieId] = useState(\"\");\r\n  const [openTrailer, setOpenTrailer] = useState(false);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Modal open={openTrailer} onClose={() => setOpenTrailer(false)}>\r\n        <TrailerPlayer\r\n          movieId={trailerMovieId}\r\n          onEnded={() => setOpenTrailer(false)}\r\n        ></TrailerPlayer>\r\n      </Modal>\r\n\r\n      <div className=\"row\">\r\n        {movies\r\n          .slice(\r\n            maxItemsPerPage * (page - 1),\r\n            maxItemsPerPage * (page - 1) + maxItemsPerPage\r\n          )\r\n          .map((x, i) => {\r\n            let formatedMovie = ratings[x.movie_id]\r\n              ? {\r\n                  id: x.movie_id,\r\n                  title: ratings[x.movie_id].movie_title,\r\n                  poster_path: ratings[x.movie_id].movie_poster,\r\n                  release_date: ratings[x.movie_id].movie_release_date,\r\n                  genres: ratings[x.movie_id].movie_genres,\r\n                }\r\n              : {\r\n                  id: x.movie_id,\r\n                  title: \"\",\r\n                  poster_path: \"\",\r\n                  genres: [],\r\n                  release_date: \"\",\r\n                };\r\n            return (\r\n              <div\r\n                key={`result-${i}`}\r\n                className=\"col-lg-12 col-md-15 col-sm-20 col-60 p-3 text-white\"\r\n              >\r\n                {listType !== \"watchedlist\" && owner ? (\r\n                  <div\r\n                    className=\"row no-gutters justify-content-end position-relative px-2 d-none d-sm-flex\"\r\n                    style={{\r\n                      marginBottom: \"-51px\",\r\n                      zIndex: 5,\r\n                      height: \"44px\",\r\n                      pointerEvents: \"none\",\r\n                    }}\r\n                  >\r\n                    <React.Fragment>\r\n                      <WishlistButton\r\n                        movie={formatedMovie}\r\n                        user={user}\r\n                      ></WishlistButton>\r\n                      {listType === \"wishlist\" ? (\r\n                        <React.Fragment>\r\n                          <div className=\"pl-1\"></div>\r\n                          <MoveToWatchedButton\r\n                            refreshProfile={() => {\r\n                              setMovie(formatedMovie);\r\n                              setAddReviewOpen(true);\r\n                              refreshProfile();\r\n                            }}\r\n                            user={user}\r\n                            movieId={formatedMovie.id}\r\n                          ></MoveToWatchedButton>\r\n                        </React.Fragment>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </React.Fragment>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                <div className=\"row no-gutters\">\r\n                  <div className=\"col-sm-60 col-auto mr-3 mr-sm-0\">\r\n                    <div className=\"row no-gutters mb-2 position-relative movies-list-image\">\r\n                      <img\r\n                        alt={`poster of ${formatedMovie.id}`}\r\n                        width=\"100%\"\r\n                        style={{ borderRadius: \"13px\" }}\r\n                        src={\r\n                          formatedMovie.poster_path\r\n                            ? `https://image.tmdb.org/t/p/w342${formatedMovie.poster_path}`\r\n                            : \"https://critics.io/img/movies/poster-placeholder.png\"\r\n                        }\r\n                      ></img>\r\n                      <div\r\n                        onClick={() =>\r\n                          history.push(`/movie/${formatedMovie.id}`)\r\n                        }\r\n                        className=\"col-60 h-100 text-white d-flex flex-center img-cover cursor-pointer\"\r\n                        style={{\r\n                          left: 0,\r\n                          top: 0,\r\n                          position: \"absolute\",\r\n                          zIndex: 4,\r\n                          borderRadius: \"13px\",\r\n                        }}\r\n                      >\r\n                        <div\r\n                          className=\"square-50 rounded-circle d-flex flex-center play-btn\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            setTrailerMovieId(formatedMovie.id);\r\n                            setOpenTrailer(true);\r\n                          }}\r\n                        >\r\n                          <BsPlayFill\r\n                            style={{\r\n                              fontSize: \"30px\",\r\n                              color: \"white\",\r\n                              marginRight: \"-5px\",\r\n                            }}\r\n                          ></BsPlayFill>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-sm-60 col\">\r\n                    <div\r\n                      className=\"row no-gutters text-title-md mb-0 cursor-pointer\"\r\n                      onClick={() => history.push(`/movie/${formatedMovie.id}`)}\r\n                    >\r\n                      <div className=\"text-truncate\">{formatedMovie.title}</div>\r\n                    </div>\r\n                    <div className=\"row no-gutters text-muted mb-2\">\r\n                      <div className=\"text-truncate\">\r\n                        {formatedMovie.genres.length\r\n                          ? formatedMovie.genres.join(\"/\")\r\n                          : \"unknown\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row no-gutters mb-2 justify-content-end\">\r\n                      <ReactionButton\r\n                        size=\"small\"\r\n                        selected={\r\n                          user.ratings[formatedMovie.id]\r\n                            ? user.ratings[formatedMovie.id].rate_type ===\r\n                              \"excellent_rate\"\r\n                            : false\r\n                        }\r\n                        movie={formatedMovie}\r\n                        emoji=\"fire\"\r\n                        className=\"mr-1 mb-2\"\r\n                        value={\r\n                          ratings[formatedMovie.id]\r\n                            ? ratings[formatedMovie.id].excellent_rate\r\n                            : []\r\n                        }\r\n                      ></ReactionButton>\r\n                      <ReactionButton\r\n                        size=\"small\"\r\n                        selected={\r\n                          user.ratings[formatedMovie.id]\r\n                            ? user.ratings[formatedMovie.id].rate_type ===\r\n                              \"good_rate\"\r\n                            : false\r\n                        }\r\n                        movie={formatedMovie}\r\n                        emoji=\"heart\"\r\n                        className=\"mr-1 mb-2\"\r\n                        value={\r\n                          ratings[formatedMovie.id]\r\n                            ? ratings[formatedMovie.id].good_rate\r\n                            : []\r\n                        }\r\n                      ></ReactionButton>\r\n                      <ReactionButton\r\n                        size=\"small\"\r\n                        selected={\r\n                          user.ratings[formatedMovie.id]\r\n                            ? user.ratings[formatedMovie.id].rate_type ===\r\n                              \"ok_rate\"\r\n                            : false\r\n                        }\r\n                        movie={formatedMovie}\r\n                        className=\"mr-1 mb-2\"\r\n                        emoji=\"heavy_division_sign\"\r\n                        value={\r\n                          ratings[formatedMovie.id]\r\n                            ? ratings[formatedMovie.id].ok_rate\r\n                            : []\r\n                        }\r\n                      ></ReactionButton>\r\n                      <ReactionButton\r\n                        size=\"small\"\r\n                        emoji=\"shit\"\r\n                        value={\r\n                          ratings[formatedMovie.id]\r\n                            ? ratings[formatedMovie.id].bad_rate\r\n                            : []\r\n                        }\r\n                        selected={\r\n                          user.ratings[formatedMovie.id]\r\n                            ? user.ratings[formatedMovie.id].rate_type ===\r\n                              \"bad_rate\"\r\n                            : false\r\n                        }\r\n                        movie={formatedMovie}\r\n                      ></ReactionButton>\r\n                    </div>\r\n                    <div className=\"row no-gutters d-flex d-sm-none\">\r\n                      {listType !== \"watchedlist\" ? (\r\n                        <React.Fragment>\r\n                          <WishlistButton\r\n                            movie={formatedMovie}\r\n                            user={user}\r\n                          ></WishlistButton>\r\n                          {listType === \"wishlist\" ? (\r\n                            <React.Fragment>\r\n                              <div className=\"pl-1\"></div>\r\n                              <MoveToWatchedButton\r\n                                refreshProfile={refreshProfile}\r\n                                user={user}\r\n                                movieId={formatedMovie.id}\r\n                              ></MoveToWatchedButton>\r\n                            </React.Fragment>\r\n                          ) : (\r\n                            \"\"\r\n                          )}\r\n                        </React.Fragment>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n      <div className=\"row no-gutters justify-content-end\">\r\n        <div className=\"col-auto\">\r\n          <Paigination\r\n            classNames={{\r\n              notSelected: \"input-dark\",\r\n              selected: \"input-dark-selected\",\r\n            }}\r\n            count={Math.ceil(movies.length / maxItemsPerPage)}\r\n            current={page}\r\n            setCurrent={setPage}\r\n          ></Paigination>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    user: state.user,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(MoviesList);\r\n","import React, { useState } from \"react\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport \"simplebar/dist/simplebar.min.css\";\r\nimport MoviesList from \"./MoviesList\";\r\nimport AddReview from \"../AddReview\";\r\n\r\nconst extractGenres = (movies, ratings) => {\r\n  let genres = [\"All\"];\r\n  movies.forEach((x) => {\r\n    if (ratings[x.movie_id]) {\r\n      ratings[x.movie_id].movie_genres.forEach((g) => {\r\n        if (g.name) {\r\n          if (!genres.includes(g.name)) {\r\n            genres.push(g.name);\r\n          }\r\n        } else {\r\n          if (!genres.includes(g)) {\r\n            genres.push(g);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return genres;\r\n};\r\n\r\nconst Wishlist = ({ movies, owner, refreshProfile, ratings, user }) => {\r\n  const [selectedGenre, setSelectedGenre] = useState(0);\r\n  const genres = extractGenres(movies, ratings);\r\n\r\n  const [movie, setMovie] = useState(false);\r\n  const [addReviewOpen, setAddReviewOpen] = useState(false);\r\n\r\n  return (\r\n    <div className=\"col-60 px-0\">\r\n      <AddReview\r\n        movie={movie}\r\n        user={user}\r\n        open={addReviewOpen}\r\n        onClose={() => {\r\n          setAddReviewOpen(false);\r\n          refreshProfile();\r\n        }}\r\n      ></AddReview>\r\n      <div className=\"row no-gutters justify-content-end text-light align-items-center mb-2\">\r\n        <div className=\"col-auto\">\r\n          {genres.length > 1 ? (\r\n            <SimpleBar\r\n              style={{\r\n                padding: \"14px 0\",\r\n                width: \"100%\",\r\n                overflowX: \"auto\",\r\n                whiteSpace: \"nowrap\",\r\n              }}\r\n            >\r\n              {genres.map((x, i) => (\r\n                <div\r\n                  onClick={() => {\r\n                    setSelectedGenre(i);\r\n                  }}\r\n                  style={{ display: \"inline-block\" }}\r\n                  key={`genre-for-popular-movie-${i}`}\r\n                  className={`px-4 ${\r\n                    selectedGenre === i\r\n                      ? \"btn-tertiary-selected text-white\"\r\n                      : \"btn-tertiary text-light-white\"\r\n                  }`}\r\n                >\r\n                  {x}\r\n                </div>\r\n              ))}\r\n            </SimpleBar>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </div>\r\n      {movies.length ? (\r\n        <MoviesList\r\n          setAddReviewOpen={setAddReviewOpen}\r\n          setMovie={setMovie}\r\n          refreshProfile={refreshProfile}\r\n          owner={owner}\r\n          listType=\"wishlist\"\r\n          movies={movies.filter(\r\n            (x) =>\r\n              (ratings[x.movie_id] &&\r\n                ratings[x.movie_id].movie_genres.includes(\r\n                  genres[selectedGenre]\r\n                )) ||\r\n              genres[selectedGenre] === \"All\"\r\n          )}\r\n        ></MoviesList>\r\n      ) : (\r\n        <div\r\n          className=\"row no-gutters flex-center bg-over-root-lighter rounded p-5 text-white\"\r\n          style={{ height: \"150px\" }}\r\n        >\r\n          You have not added any movies/series to your wishlist.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wishlist;\r\n","import React, { useState } from \"react\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport \"simplebar/dist/simplebar.min.css\";\r\nimport MoviesList from \"./MoviesList\";\r\n\r\nconst extractGenres = (movies, ratings) => {\r\n  let genres = [\"All\"];\r\n  movies.forEach((x) => {\r\n    if (ratings[x.movie_id]) {\r\n      ratings[x.movie_id].movie_genres.forEach((g) => {\r\n        if (g.name) {\r\n          if (!genres.includes(g.name)) {\r\n            genres.push(g.name);\r\n          }\r\n        } else {\r\n          if (!genres.includes(g)) {\r\n            genres.push(g);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return genres;\r\n};\r\n\r\nconst Wishlist = ({ movies, ratings }) => {\r\n  const [selectedGenre, setSelectedGenre] = useState(0);\r\n  const genres = extractGenres(movies, ratings);\r\n\r\n  return (\r\n    <div className=\"col-60 px-0\">\r\n      <div className=\"row no-gutters justify-content-end text-light align-items-center mb-2\">\r\n        <div className=\"col-auto\">\r\n          {genres.length > 1 ? (\r\n            <SimpleBar\r\n              style={{\r\n                padding: \"14px 0\",\r\n                maxWidth: \"100%\",\r\n                overflowX: \"auto\",\r\n                whiteSpace: \"nowrap\",\r\n              }}\r\n            >\r\n              {genres.map((x, i) => (\r\n                <div\r\n                  onClick={() => {\r\n                    setSelectedGenre(i);\r\n                  }}\r\n                  style={{ display: \"inline-block\" }}\r\n                  key={`genre-for-popular-movie-${i}`}\r\n                  className={`px-4 ${\r\n                    selectedGenre === i\r\n                      ? \"btn-tertiary-selected text-white\"\r\n                      : \"btn-tertiary text-light-white\"\r\n                  }`}\r\n                >\r\n                  {x}\r\n                </div>\r\n              ))}\r\n            </SimpleBar>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </div>\r\n      {movies.length ? (\r\n        <MoviesList\r\n          listType=\"watchedlist\"\r\n          movies={movies.filter(\r\n            (x) =>\r\n              (ratings[x.movie_id] &&\r\n                ratings[x.movie_id].movie_genres.includes(\r\n                  genres[selectedGenre]\r\n                )) ||\r\n              genres[selectedGenre] === \"All\"\r\n          )}\r\n        ></MoviesList>\r\n      ) : (\r\n        <div\r\n          className=\"row no-gutters flex-center bg-over-root-lighter rounded p-5 text-white\"\r\n          style={{ height: \"150px\" }}\r\n        >\r\n          You have not watched any movies/series yet. Please go to your wishlist\r\n          any mark titles as watched.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wishlist;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport date from \"date-and-time\";\r\nimport { Emoji } from \"emoji-mart\";\r\nimport { MdThumbUp, MdChatBubble } from \"react-icons/md\";\r\nimport { GetReviewComments, DeleteReview } from \"../../../server/DatabaseApi\";\r\nimport { connect } from \"react-redux\";\r\nimport { Collapse } from \"@material-ui/core\";\r\nimport Paigination from \"../../utility/Paigination\";\r\nimport history from \"../../../History\";\r\nimport AddReview from \"../AddReview\";\r\nimport { BsPencil, BsTrash } from \"react-icons/bs\";\r\nimport Popover from \"../../utility/Popover\";\r\nimport OkIcon from \"../../../images/OkIcon\";\r\nimport store from \"../../../store/store\";\r\nimport Loader from \"../../utility/Loader\";\r\n\r\nconst Reviews = ({\r\n  reviews,\r\n  publicUsers,\r\n  ratings,\r\n  owner,\r\n  user,\r\n  refreshReviews,\r\n}) => {\r\n  //comments object.Its property will be review id.\r\n  const [comments, setComments] = useState({});\r\n\r\n  const [addReviewOpen, setAddReviewOpen] = useState(false);\r\n  const [movie, setMovie] = useState(false);\r\n  const [review, setReview] = useState(false);\r\n\r\n  const [reviewIdOfVisibleComments, setReviewIdOfVisibleComments] = useState(\r\n    -1\r\n  );\r\n  const [deletingReview, setDeletingReview] = useState(-1);\r\n\r\n  // partitioning reviews into pages (8 reviews per page)\r\n  const [page, setPage] = useState(-1);\r\n  const [commentsPage, setCommentsPage] = useState(1);\r\n\r\n  // reference to top of the reviews block to scroll into view after changing the page\r\n  const topOfReviewsBlock = useRef(null);\r\n\r\n  const commentsPerPage = 5;\r\n  const reviewsPerPage = 8;\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (reviewIdOfVisibleComments !== -1) {\r\n        let data = await GetReviewComments(reviewIdOfVisibleComments);\r\n        setComments((prev) =>\r\n          Object.assign({}, prev, { [reviewIdOfVisibleComments]: data })\r\n        );\r\n      }\r\n    }\r\n    getData();\r\n  }, [reviewIdOfVisibleComments]);\r\n\r\n  //to avoid scroll into view on first render\r\n  let realPage = page === -1 ? 1 : page;\r\n\r\n  return (\r\n    <div className=\"row no-gutters text-white\">\r\n      <AddReview\r\n        userIsOwner={true}\r\n        open={addReviewOpen}\r\n        onClose={() => setAddReviewOpen(false)}\r\n        movie={movie}\r\n        review={review}\r\n        user={user}\r\n        refreshReviews={refreshReviews}\r\n      ></AddReview>\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters mb-2\" ref={topOfReviewsBlock}></div>\r\n        {reviews.length ? (\r\n          reviews\r\n            .slice(\r\n              (realPage - 1) * reviewsPerPage,\r\n              (realPage - 1) * reviewsPerPage + reviewsPerPage\r\n            )\r\n            .map((x, i) =>\r\n              ratings[x.movie_id] ? (\r\n                <React.Fragment key={`fragment-review-${i}`}>\r\n                  <div\r\n                    key={`review-${i}`}\r\n                    className=\"row no-gutters p-4 bg-over-root-lighter rounded mb-2\"\r\n                  >\r\n                    <div\r\n                      className=\"col-sm-auto col-20 pr-4 d-none d-sm-block\"\r\n                      style={{ maxWidth: \"150px\" }}\r\n                    >\r\n                      <div className=\"row no-gutters mb-1\">\r\n                        <img\r\n                          alt={ratings[x.movie_id].movie_poster}\r\n                          onClick={() => history.push(`/movie/${x.movie_id}`)}\r\n                          width=\"100%\"\r\n                          style={{ borderRadius: \"13px\" }}\r\n                          src={`https://image.tmdb.org/t/p/w154${\r\n                            ratings[x.movie_id].movie_poster\r\n                          }`}\r\n                        ></img>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col d-flex flex-column\">\r\n                      <div className=\"row no-gutters justify-content-between align-items-center mb-2 flex-grow-0\">\r\n                        <div className=\"col-60 d-block d-sm-none mb-3\">\r\n                          <div className=\"row no-gutters mb-1\">\r\n                            <div className=\"col-auto pr-3\">\r\n                              <div\r\n                                className=\"square-70 rounded bg-image\"\r\n                                style={{\r\n                                  backgroundImage: `url(https://image.tmdb.org/t/p/w154${\r\n                                    ratings[x.movie_id].movie_poster\r\n                                  })`,\r\n                                }}\r\n                              ></div>\r\n                            </div>\r\n                            <div className=\"col\">\r\n                              <div className=\"row no-gutters text-white mb-0\">\r\n                                {ratings[x.movie_id].movie_title} (\r\n                                {ratings[\r\n                                  x.movie_id\r\n                                ].movie_release_date.substring(0, 4)}\r\n                                )\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                          <div className=\"row no-gutters align-items-center\">\r\n                            <div className=\"col-auto pr-2\">\r\n                              <div\r\n                                className=\"bg-image rounded-circle square-40\"\r\n                                style={{\r\n                                  backgroundImage: `url(${\r\n                                    publicUsers[x.author]\r\n                                      ? publicUsers[x.author].photo\r\n                                      : \"\"\r\n                                  })`,\r\n                                }}\r\n                              ></div>\r\n                            </div>\r\n                            <div className=\"col-auto\">\r\n                              <div className=\"row no-gutters align-items-center text-white\">\r\n                                <div className=\"col-auto mr-3 mb-0\">\r\n                                  {publicUsers[x.author]\r\n                                    ? publicUsers[x.author].display_name\r\n                                    : \"\"}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                          <div className=\"row no-gutters text-white\">\r\n                            <span className=\"mr-2 col-auto\">\r\n                              Posted review on\r\n                            </span>\r\n                            <span className=\"text-muted col-auto mr-2\">\r\n                              {date.format(new Date(x.date), \"MMM DD, YYYY\")}\r\n                            </span>\r\n                            {owner ? (\r\n                              <React.Fragment>\r\n                                <Popover\r\n                                  arrow={false}\r\n                                  position=\"top\"\r\n                                  trigger=\"mouseenter\"\r\n                                  theme=\"dark\"\r\n                                  content={(w) => (\r\n                                    <div className=\"py-2 px-3 rounded bg-root\">\r\n                                      Edit review\r\n                                    </div>\r\n                                  )}\r\n                                >\r\n                                  <div\r\n                                    className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                                    onClick={async () => {\r\n                                      setMovie({\r\n                                        release_date:\r\n                                          ratings[x.movie_id]\r\n                                            .movie_release_date,\r\n                                        title: ratings[x.movie_id].movie_title,\r\n                                        id: ratings[x.movie_id].tmdb_id,\r\n                                      });\r\n                                      setReview(x);\r\n                                      setAddReviewOpen(true);\r\n                                    }}\r\n                                  >\r\n                                    <BsPencil fontSize=\"24px\"></BsPencil>\r\n                                  </div>\r\n                                </Popover>\r\n                                <Popover\r\n                                  arrow={false}\r\n                                  position=\"top\"\r\n                                  trigger=\"mouseenter\"\r\n                                  theme=\"dark\"\r\n                                  content={(w) => (\r\n                                    <div className=\"py-2 px-3 rounded bg-root\">\r\n                                      Delete review\r\n                                    </div>\r\n                                  )}\r\n                                >\r\n                                  <div\r\n                                    className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                                    onClick={async () => {\r\n                                      try {\r\n                                        setDeletingReview(x._id);\r\n                                        let res = await DeleteReview(x);\r\n                                        setDeletingReview(-1);\r\n                                        if (res.error) {\r\n                                          store.dispatch({\r\n                                            type: \"SET_NOTIFICATION\",\r\n                                            notification: {\r\n                                              title: `Couldn't delete comment`,\r\n                                              type: \"failure\",\r\n                                              message: res.error,\r\n                                            },\r\n                                          });\r\n                                        } else {\r\n                                          store.dispatch({\r\n                                            type: \"SET_NOTIFICATION\",\r\n                                            notification: {\r\n                                              title: `Success`,\r\n                                              type: \"success\",\r\n                                              message:\r\n                                                \"Comment successfully deleted\",\r\n                                            },\r\n                                          });\r\n\r\n                                          let rating = ratings[x.movie_id];\r\n                                          let userInd = rating[\r\n                                            x.rating\r\n                                          ].findIndex((r) => r === x.author);\r\n                                          if (userInd !== -1) {\r\n                                            rating[x.rating].splice(userInd, 1);\r\n                                          }\r\n                                          store.dispatch({\r\n                                            type: \"UPDATE_RATINGS\",\r\n                                            rating: { [x.movie_id]: rating },\r\n                                          });\r\n\r\n                                          let userRatings = { ...user.ratings };\r\n                                          delete userRatings[x.movie_id];\r\n                                          store.dispatch({\r\n                                            type: \"UPDATE_USER\",\r\n                                            userProperty: {\r\n                                              ratings: userRatings,\r\n                                            },\r\n                                          });\r\n                                          refreshReviews();\r\n                                        }\r\n                                      } catch (er) {}\r\n                                    }}\r\n                                  >\r\n                                    {deletingReview === x._id ? (\r\n                                      <div className=\"square-20\">\r\n                                        <Loader\r\n                                          color={\"white\"}\r\n                                          style={{\r\n                                            position: \"absolute\",\r\n                                            left: \"10px\",\r\n                                            top: 0,\r\n                                            bottom: 0,\r\n                                            margin: \"auto\",\r\n                                            display: \"flex\",\r\n                                            alignItems: \"center\",\r\n                                          }}\r\n                                          loading={true}\r\n                                          size={20}\r\n                                        ></Loader>\r\n                                      </div>\r\n                                    ) : (\r\n                                      <BsTrash fontSize=\"24px\"></BsTrash>\r\n                                    )}\r\n                                  </div>\r\n                                </Popover>\r\n                              </React.Fragment>\r\n                            ) : (\r\n                              \"\"\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"row no-gutters text-light mb-3 flex-grow-0 font-weigt-300 text-break\">\r\n                        {x.review}\r\n                      </div>\r\n                      <div className=\"row no-gutters align-items-center\">\r\n                        {x.rating ? (\r\n                          x.rating === \"ok_rate\" ? (\r\n                            <OkIcon size={24}></OkIcon>\r\n                          ) : (\r\n                            <Emoji\r\n                              emoji={\r\n                                x.rating === \"excellent_rate\"\r\n                                  ? \"fire\"\r\n                                  : x.rating === \"good_rate\"\r\n                                  ? \"heart\"\r\n                                  : x.rating === \"ok_rate\"\r\n                                  ? \"heavy_division_sign\"\r\n                                  : \"shit\"\r\n                              }\r\n                              set=\"facebook\"\r\n                              size={24}\r\n                            />\r\n                          )\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                      </div>\r\n                      <div className=\"row no-gutters flex-grow-1\">\r\n                        <div className=\"col-60 d-flex flex-column justify-content-end\">\r\n                          <div className=\"row no-gutters justify-content-end align-items-center text-white\">\r\n                            <div className=\"col-auto\">\r\n                              <div className=\"row no-gutters align-items-center\">\r\n                                <div className=\"col-auto mr-2\">\r\n                                  {x.likes.length}\r\n                                </div>\r\n                                <div className=\"col-auto mr-2 \">\r\n                                  <MdThumbUp\r\n                                    fontSize=\"24px\"\r\n                                    className=\"text-green\"\r\n                                  ></MdThumbUp>\r\n                                </div>\r\n                                <div className=\"col-auto mr-2\">\r\n                                  {x.comments.length}\r\n                                </div>\r\n                                <div className=\"col-auto mr-2\">\r\n                                  <MdChatBubble\r\n                                    onClick={() => {\r\n                                      setReviewIdOfVisibleComments(\r\n                                        reviewIdOfVisibleComments === x._id\r\n                                          ? -1\r\n                                          : x._id\r\n                                      );\r\n                                    }}\r\n                                    fontSize=\"24px\"\r\n                                    className=\"text-orange scale-transition cursor-pointer\"\r\n                                  ></MdChatBubble>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <Collapse\r\n                    in={reviewIdOfVisibleComments === x._id}\r\n                    className=\"mb-3\"\r\n                  >\r\n                    <div className=\"ml-4 py-2 text-light\">\r\n                      Comments ({comments[x._id] ? comments[x._id].length : 0})\r\n                    </div>\r\n                    {comments[x._id]\r\n                      ? comments[x._id]\r\n                          .slice(\r\n                            commentsPage * (commentsPage - 1),\r\n                            commentsPage * (commentsPage - 1) + commentsPerPage\r\n                          )\r\n                          .map((y, ind) => (\r\n                            <div\r\n                              key={`comment-${reviewIdOfVisibleComments}-${ind}`}\r\n                              className=\"row no-gutters p-4 bg-over-root-lighter rounded ml-4 mb-2\"\r\n                            >\r\n                              <div className=\"col-auto pr-4 d-none d-md-block\">\r\n                                <div\r\n                                  className=\"bg-image rounded-circle square-70\"\r\n                                  style={{\r\n                                    backgroundImage: `url(${\r\n                                      publicUsers[y.author]\r\n                                        ? publicUsers[y.author].photo\r\n                                        : \"\"\r\n                                    })`,\r\n                                  }}\r\n                                ></div>\r\n                              </div>\r\n                              <div className=\"col\">\r\n                                <div className=\"row no-gutters align-items-center mb-2\">\r\n                                  <div className=\"col-auto pr-2 d-block d-md-none\">\r\n                                    <div\r\n                                      className=\"bg-image rounded-circle square-40\"\r\n                                      style={{\r\n                                        backgroundImage: `url(${\r\n                                          publicUsers[y.author]\r\n                                            ? publicUsers[y.author].photo\r\n                                            : \"\"\r\n                                        })`,\r\n                                      }}\r\n                                    ></div>\r\n                                  </div>\r\n                                  <div className=\"col-auto\">\r\n                                    <div className=\"row no-gutters align-items-center\">\r\n                                      <div className=\"col-auto mr-3 h6 text-white mb-0\">\r\n                                        {publicUsers[y.author]\r\n                                          ? publicUsers[y.author].display_name\r\n                                          : \"\"}\r\n                                      </div>\r\n                                      <div className=\"col-auto mr-3 text-muted\">\r\n                                        {date.format(\r\n                                          new Date(y.date),\r\n                                          \"MMM DD, YYYY\"\r\n                                        )}\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div className=\"row no-gutters text-light mb-3 font-weight-300 text-break\">\r\n                                  {y.comment}\r\n                                </div>\r\n                                <div className=\"row no-gutters justify-content-between align-items-center\">\r\n                                  <div className=\"col-auto\">\r\n                                    <div className=\"row no-gutters align-items-center\">\r\n                                      <div className=\"col-auto mr-2\">\r\n                                        {y.likes.length}\r\n                                      </div>\r\n                                      <div className=\"col-auto mr-2 \">\r\n                                        <MdThumbUp\r\n                                          fontSize=\"24px\"\r\n                                          className=\"text-green cursor-pointer\"\r\n                                        ></MdThumbUp>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          ))\r\n                      : \"\"}\r\n                    <div className=\"row no-gutters justify-content-end\">\r\n                      <div className=\"col-auto\">\r\n                        <Paigination\r\n                          count={Math.ceil(\r\n                            comments[x._id]\r\n                              ? comments[x._id].length / commentsPerPage\r\n                              : 1\r\n                          )}\r\n                          current={commentsPage}\r\n                          setCurrent={setCommentsPage}\r\n                          classNames={{\r\n                            notSelected: \"input-dark\",\r\n                            selected: \"input-dark-selected\",\r\n                          }}\r\n                        ></Paigination>\r\n                      </div>\r\n                    </div>\r\n                  </Collapse>\r\n                </React.Fragment>\r\n              ) : (\r\n                \"\"\r\n              )\r\n            )\r\n        ) : (\r\n          <div\r\n            className=\"row no-gutters flex-center bg-over-root-lighter rounded p-5\"\r\n            style={{ height: \"150px\" }}\r\n          >\r\n            You have not reviewed any movies/series. Your review will help your\r\n            friends and family pick the right movie or series to watch.\r\n          </div>\r\n        )}\r\n        <div className=\"row no-gutters justify-content-sm-end justify-content-center mt-2\">\r\n          <div className=\"col-auto mb-4 mr-sm-2 mr-md-0\">\r\n            <Paigination\r\n              classNames={{\r\n                notSelected: \"input-dark\",\r\n                selected: \"input-dark-selected\",\r\n              }}\r\n              count={Math.ceil(reviews.length / reviewsPerPage)}\r\n              current={realPage}\r\n              setCurrent={setPage}\r\n            ></Paigination>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Reviews);\r\n","import React, { useState, useRef } from \"react\";\r\nimport date from \"date-and-time\";\r\nimport { MdThumbUp } from \"react-icons/md\";\r\nimport { connect } from \"react-redux\";\r\nimport Paigination from \"../../utility/Paigination\";\r\nimport history from \"../../../History\";\r\nimport EditComment from \"../EditComment\";\r\nimport { BsPencil, BsTrash } from \"react-icons/bs\";\r\nimport Popover from \"../../utility/Popover\";\r\nimport { DeleteComment } from \"../../../server/DatabaseApi\";\r\nimport store from \"../../../store/store\";\r\nimport Loader from \"../../utility/Loader\";\r\n\r\nconst Comments = ({\r\n  comments,\r\n  publicUsers,\r\n  ratings,\r\n  owner,\r\n  user,\r\n  refreshComments,\r\n}) => {\r\n  // partitioning comments into pages (8 comments per page)\r\n  const [page, setPage] = useState(-1);\r\n  // reference to top of the comments block to scroll into view after changing the page\r\n  const topOfReviewsBlock = useRef(null);\r\n\r\n  const [movie, setMovie] = useState(false);\r\n  const [replyOpen, setReplyOpen] = useState(false);\r\n  const [comment, setComment] = useState(false);\r\n  const [deletingComment, setDeletingComment] = useState(-1);\r\n  const reviewsPerPage = 8;\r\n\r\n  //to avoid scroll into view on first render\r\n  let realPage = page === -1 ? 1 : page;\r\n\r\n  return (\r\n    <div className=\"row no-gutters text-white\">\r\n      <EditComment\r\n        comment={comment}\r\n        refreshComments={refreshComments}\r\n        setComments={() => {}}\r\n        movie={movie}\r\n        open={replyOpen}\r\n        onClose={() => setReplyOpen(false)}\r\n        user={user}\r\n      ></EditComment>\r\n      <div className=\"col-60\">\r\n        <div className=\"row no-gutters mb-2\" ref={topOfReviewsBlock}></div>\r\n        {comments.length ? (\r\n          comments\r\n            .slice(\r\n              (realPage - 1) * reviewsPerPage,\r\n              (realPage - 1) * reviewsPerPage + reviewsPerPage\r\n            )\r\n            .map((x, i) => (\r\n              <div\r\n                key={`comment-${i}`}\r\n                className=\"row no-gutters p-4 bg-over-root-lighter rounded mb-2\"\r\n              >\r\n                <div\r\n                  className=\"col-sm-auto col-20 pr-4 d-none d-sm-block\"\r\n                  style={{ maxWidth: \"150px\" }}\r\n                >\r\n                  <div className=\"row no-gutters mb-1\">\r\n                    <img\r\n                      alt={ratings[x.movie_id].movie_poster}\r\n                      onClick={() => history.push(`/movie/${x.movie_id}`)}\r\n                      width=\"100%\"\r\n                      style={{ borderRadius: \"13px\" }}\r\n                      src={`https://image.tmdb.org/t/p/w154${\r\n                        ratings[x.movie_id].movie_poster\r\n                      }`}\r\n                    ></img>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col d-flex flex-column\">\r\n                  <div className=\"row no-gutters justify-content-between align-items-center mb-2 flex-grow-0\">\r\n                    <div className=\"col-60 d-block d-sm-none mb-3\">\r\n                      <div className=\"row no-gutters mb-1\">\r\n                        <div className=\"col-auto pr-3\">\r\n                          <div\r\n                            className=\"square-70 rounded bg-image\"\r\n                            style={{\r\n                              backgroundImage: `url(https://image.tmdb.org/t/p/w154${\r\n                                ratings[x.movie_id].movie_poster\r\n                              })`,\r\n                            }}\r\n                          ></div>\r\n                          {/* <img\r\n                            onClick={() => history.push(`/movie/${x.id}`)}\r\n                            width=\"100%\"\r\n                            style={{ borderRadius: \"13px\" }}\r\n                            src={`https://image.tmdb.org/t/p/w154${x.movie_poster}`}\r\n                          ></img> */}\r\n                        </div>\r\n                        <div className=\"col\">\r\n                          <div className=\"row no-gutters text-white mb-0\">\r\n                            {ratings[x.movie_id].movie_title} (\r\n                            {ratings[x.movie_id].movie_release_date.substring(\r\n                              0,\r\n                              4\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-auto\">\r\n                      <div className=\"row no-gutters align-items-center\">\r\n                        <div className=\"col-auto pr-2\">\r\n                          <div\r\n                            className=\"bg-image rounded-circle square-40\"\r\n                            style={{\r\n                              backgroundImage: `url(${\r\n                                publicUsers[x.author]\r\n                                  ? publicUsers[x.author].photo\r\n                                  : \"\"\r\n                              })`,\r\n                            }}\r\n                          ></div>\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                          <div className=\"row no-gutters align-items-center text-white\">\r\n                            <div className=\"col-auto mr-3 h6 mb-0\">\r\n                              {publicUsers[x.author]\r\n                                ? publicUsers[x.author].display_name\r\n                                : \"\"}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-auto\">\r\n                      <div className=\"row no-gutters text-white\">\r\n                        <span className=\"mr-2 col-auto\">Commented on</span>\r\n                        <span className=\"text-muted col-auto mr-2\">\r\n                          {date.format(new Date(x.date), \"MMM DD, YYYY\")}\r\n                        </span>\r\n                        {owner ? (\r\n                          <React.Fragment>\r\n                            <Popover\r\n                              arrow={false}\r\n                              position=\"top\"\r\n                              trigger=\"mouseenter\"\r\n                              theme=\"dark\"\r\n                              content={(w) => (\r\n                                <div className=\"py-2 px-3 rounded bg-root\">\r\n                                  Edit comment\r\n                                </div>\r\n                              )}\r\n                            >\r\n                              <div\r\n                                className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                                onClick={async () => {\r\n                                  setMovie({\r\n                                    release_date:\r\n                                      ratings[x.movie_id].movie_release_date,\r\n                                    title: ratings[x.movie_id].movie_title,\r\n                                    id: ratings[x.movie_id].tmdb_id,\r\n                                  });\r\n                                  setComment(x);\r\n                                  setReplyOpen(true);\r\n                                }}\r\n                              >\r\n                                <BsPencil fontSize=\"24px\"></BsPencil>\r\n                              </div>\r\n                            </Popover>\r\n                            <Popover\r\n                              arrow={false}\r\n                              position=\"top\"\r\n                              trigger=\"mouseenter\"\r\n                              theme=\"dark\"\r\n                              content={(w) => (\r\n                                <div className=\"py-2 px-3 rounded bg-root\">\r\n                                  Delete comment\r\n                                </div>\r\n                              )}\r\n                            >\r\n                              <div\r\n                                className=\"col-auto text-muted btn-tertiary-small d-flex flex-center\"\r\n                                onClick={async () => {\r\n                                  setDeletingComment(x._id);\r\n                                  let res = await DeleteComment(x._id);\r\n                                  setDeletingComment(-1);\r\n                                  if (res.error) {\r\n                                    store.dispatch({\r\n                                      type: \"SET_NOTIFICATION\",\r\n                                      notification: {\r\n                                        title: `Couldn't delete comment`,\r\n                                        type: \"failure\",\r\n                                        message: res.error,\r\n                                      },\r\n                                    });\r\n                                  } else {\r\n                                    store.dispatch({\r\n                                      type: \"SET_NOTIFICATION\",\r\n                                      notification: {\r\n                                        title: `Success`,\r\n                                        type: \"success\",\r\n                                        message: \"Comment successfully deleted\",\r\n                                      },\r\n                                    });\r\n                                    refreshComments();\r\n                                  }\r\n                                }}\r\n                              >\r\n                                {deletingComment === x._id ? (\r\n                                  <div className=\"square-20\">\r\n                                    <Loader\r\n                                      color={\"white\"}\r\n                                      style={{\r\n                                        position: \"absolute\",\r\n                                        left: \"10px\",\r\n                                        top: 0,\r\n                                        bottom: 0,\r\n                                        margin: \"auto\",\r\n                                        display: \"flex\",\r\n                                        alignItems: \"center\",\r\n                                      }}\r\n                                      loading={true}\r\n                                      size={20}\r\n                                    ></Loader>\r\n                                  </div>\r\n                                ) : (\r\n                                  <BsTrash fontSize=\"24px\"></BsTrash>\r\n                                )}\r\n                              </div>\r\n                            </Popover>\r\n                          </React.Fragment>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row no-gutters text-light mb-3 flex-grow-0 font-weight-300\">\r\n                    {x.comment}\r\n                  </div>\r\n                  <div className=\"row no-gutters flex-grow-1\">\r\n                    <div className=\"col-60 d-flex flex-column justify-content-end\">\r\n                      <div className=\"row no-gutters justify-content-end align-items-center text-white\">\r\n                        <div className=\"col-auto\">\r\n                          <div className=\"row no-gutters align-items-center\">\r\n                            <div className=\"col-auto mr-2\">\r\n                              {x.likes.length}\r\n                            </div>\r\n                            <div className=\"col-auto mr-2 \">\r\n                              <MdThumbUp\r\n                                fontSize=\"24px\"\r\n                                className=\"text-green\"\r\n                              ></MdThumbUp>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n        ) : (\r\n          <div\r\n            className=\"row no-gutters flex-center bg-over-root-lighter rounded p-5\"\r\n            style={{ height: \"150px\" }}\r\n          >\r\n            You have not commented on any comments. We encourage you to share\r\n            your opinion on your friends and family comments.\r\n          </div>\r\n        )}\r\n        <div className=\"row no-gutters justify-content-sm-end justify-content-center mt-2\">\r\n          <div className=\"col-auto mb-4 mr-sm-2 mr-md-0\">\r\n            <Paigination\r\n              classNames={{\r\n                notSelected: \"input-dark\",\r\n                selected: \"input-dark-selected\",\r\n              }}\r\n              count={Math.ceil(comments.length / reviewsPerPage)}\r\n              current={realPage}\r\n              setCurrent={setPage}\r\n            ></Paigination>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Comments);\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport Modal from \"../../utility/Modal\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport { EditUser } from \"../../../server/DatabaseApi\";\r\nimport store from \"../../../store/store\";\r\n\r\nconst EditProfile = ({\r\n  user,\r\n  refreshProfile,\r\n  editProfileOpen,\r\n  onClose,\r\n  userId,\r\n}) => {\r\n  const [update, setUpdate] = useState({\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    display_name: \"\",\r\n    photo: \"\",\r\n    password: \"\",\r\n    confirm_assword: \"\",\r\n    _id: \"\",\r\n    token: \"\",\r\n  });\r\n\r\n  const [problem, setProblem] = useState(\"\");\r\n\r\n  const photoUploader = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (user.photo) {\r\n      setUpdate((prev) =>\r\n        Object.assign({}, prev, {\r\n          first_name: user.first_name,\r\n          last_name: user.last_name,\r\n          display_name: user.display_name,\r\n          email: user.email,\r\n          photo: user.photo,\r\n          token: user.token,\r\n        })\r\n      );\r\n    }\r\n  }, [user.first_name]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const handleFileUpload = async (e) => {\r\n    var imageFile = e.target.files[0];\r\n    var options = {\r\n      maxSizeMB: 1,\r\n      maxWidthOrHeight: 100,\r\n      useWebWorker: true,\r\n    };\r\n    try {\r\n      const compressedFile = await imageCompression(imageFile, options);\r\n      const dataUrl = await imageCompression.getDataUrlFromFile(compressedFile);\r\n      setUpdate((prev) => Object.assign({}, prev, { photo: dataUrl }));\r\n    } catch (error) {}\r\n  };\r\n\r\n  const validations = [\r\n    {\r\n      valid: /[^\\w\\s]/.test(update.password) || /\\d/.test(update.password),\r\n      error: \"Password must contain number or symbol\",\r\n    },\r\n    {\r\n      valid: update.password === update.confirm_assword,\r\n      error: \"Passwords don't match\",\r\n    },\r\n    {\r\n      valid: update.password.length >= 6,\r\n      error: \"Password must contain at least 6 characters\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Modal open={editProfileOpen} onClose={onClose}>\r\n      <div className=\"col-xl-30 col-lg-40 col-md-50 col-58 bg-over-root-lighter rounded p-sm-5 p-4\">\r\n        <div className=\"row no-gutters mb-3 text-title-lg\">Update profile</div>\r\n        <div className=\"row no-gutters justify-content-center mb-5\">\r\n          <div className=\"col-auto text-center\">\r\n            <div className=\"row no-gutters justify-content-center\">\r\n              <div\r\n                className=\"square-100 bg-image rounded-circle d-flex align-items-end overflow-hidden mb-2\"\r\n                style={{ backgroundImage: `url(${update.photo})` }}\r\n              >\r\n                <input\r\n                  spellCheck={false}\r\n                  onChange={handleFileUpload}\r\n                  type=\"file\"\r\n                  className=\"d-none\"\r\n                  ref={photoUploader}\r\n                ></input>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              className=\"btn-custom btn-custom-primary px-4\"\r\n              onClick={() => photoUploader.current.click()}\r\n            >\r\n              Upload photo\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-3\">\r\n          <div className=\"col-30 pr-2\">\r\n            <div className=\"row no-gutters text-light\">First Name</div>\r\n            <div className=\"row no-gutters\">\r\n              <input\r\n                spellCheck={false}\r\n                type=\"text\"\r\n                className=\"input-light px-3 w-100\"\r\n                value={update.first_name}\r\n                onChange={(e) => {\r\n                  e.persist();\r\n                  setUpdate((prev) =>\r\n                    Object.assign({}, prev, { first_name: e.target.value })\r\n                  );\r\n                }}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-30\">\r\n            <div className=\"row no-gutters text-light\">Last Name</div>\r\n            <div className=\"row no-gutters\">\r\n              <input\r\n                spellCheck={false}\r\n                type=\"text\"\r\n                className=\"input-light px-3 w-100\"\r\n                value={update.last_name}\r\n                onChange={(e) => {\r\n                  e.persist();\r\n                  setUpdate((prev) =>\r\n                    Object.assign({}, prev, { last_name: e.target.value })\r\n                  );\r\n                }}\r\n              ></input>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-3\">\r\n          <div className=\"col-60 text-light\">Email</div>\r\n          <div className=\"col-60\">\r\n            <input\r\n              disabled\r\n              spellCheck={false}\r\n              type=\"text\"\r\n              className=\"input-light-disabled px-3 w-100 user-select-none\"\r\n              value={update.email}\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-3\">\r\n          <div className=\"col-60 text-light\">Display Name</div>\r\n          <div className=\"col-60\">\r\n            <input\r\n              spellCheck={false}\r\n              type=\"text\"\r\n              className=\"input-light px-3 w-100\"\r\n              value={update.display_name}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setUpdate((prev) =>\r\n                  Object.assign({}, prev, { display_name: e.target.value })\r\n                );\r\n              }}\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-3\">\r\n          <div className=\"col-60 text-light\">Password</div>\r\n          <div className=\"col-60\">\r\n            <input\r\n              type=\"password\"\r\n              spellCheck={false}\r\n              className=\"input-light px-3 w-100\"\r\n              value={update.password}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setUpdate((prev) =>\r\n                  Object.assign({}, prev, { password: e.target.value })\r\n                );\r\n              }}\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters mb-3\">\r\n          <div className=\"col-60 text-light\">Confirm Password</div>\r\n          <div className=\"col-60\">\r\n            <input\r\n              spellCheck={false}\r\n              type=\"password\"\r\n              className=\"input-light px-3 w-100\"\r\n              value={update.confirm_assword}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setUpdate((prev) =>\r\n                  Object.assign({}, prev, { confirm_assword: e.target.value })\r\n                );\r\n              }}\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"row no-gutters align-items-center text-danger justify-content-end\"\r\n          style={{ height: \"50px\", opacity: problem ? 1 : 0 }}\r\n        >\r\n          {problem}\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <div\r\n            className=\"col-sm-auto btn-custom btn-custom-secondary btn-small mr-sm-2 mb-2 col-60\"\r\n            onClick={onClose}\r\n          >\r\n            Cancel\r\n          </div>\r\n          <div\r\n            className=\"col-sm-auto col-60 btn-custom btn-custom-primary btn-small\"\r\n            onClick={async () => {\r\n              let notValid = validations.filter((x) => !x.valid);\r\n              if (notValid.length && update.password) {\r\n                setProblem(notValid[0].error);\r\n              } else {\r\n                let finalUpdate = {};\r\n                Object.keys(update).forEach((x) => {\r\n                  if (update[x]) {\r\n                    finalUpdate[x] = update[x];\r\n                  }\r\n                });\r\n                let res = await EditUser(finalUpdate);\r\n                if (!res.error) {\r\n                  store.dispatch({\r\n                    type: \"SET_NOTIFICATION\",\r\n                    notification: {\r\n                      title: \"Profile updates\",\r\n                      message: \"You successfully updated your profile\",\r\n                      type: \"success\",\r\n                    },\r\n                  });\r\n                  store.dispatch({\r\n                    type: \"UPDATE_PUBLICUSERS\",\r\n                    publicUser: { [userId]: res.updatedPublicUser },\r\n                  });\r\n\r\n                  store.dispatch({\r\n                    type: \"UPDATE_USER\",\r\n                    userProperty: res.updatedUser,\r\n                  });\r\n\r\n                  refreshProfile();\r\n                  onClose();\r\n                  localStorage[\"movies_user_token\"] = res.newToken;\r\n                } else {\r\n                  store.dispatch({\r\n                    type: \"SET_NOTIFICATION\",\r\n                    notification: {\r\n                      title: \"Error\",\r\n                      message: res.error,\r\n                      type: \"failure\",\r\n                    },\r\n                  });\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            Save\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  GetUser,\r\n  GetUserReviews,\r\n  GetUserComments,\r\n} from \"../../../server/DatabaseApi\";\r\nimport Wishlist from \"./Wishlist\";\r\nimport Watchedlist from \"./Watchedlist\";\r\nimport Reviews from \"./Reviews\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport \"simplebar/dist/simplebar.min.css\";\r\nimport Comments from \"./Comments\";\r\nimport EditProfile from \"./EditProfile\";\r\n\r\nconst Profile = (props) => {\r\n  const user = props.user;\r\n  const userId = props.match.params.userId;\r\n  const publicUsers = props.publicUsers;\r\n  const ratings = props.ratings;\r\n  const sectionInUrl = props.match.params.section;\r\n\r\n  const [profileData, setProfileData] = useState({\r\n    wishlist: [],\r\n    comments: [],\r\n    watchedlist: [],\r\n    reviews: [],\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n  });\r\n\r\n  const [refreshReviews, setRefreshReviews] = useState(false);\r\n  const [refreshComments, setRefreshComments] = useState(false);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [comments, setComments] = useState([]);\r\n\r\n  const reviewsFetched = useRef(false);\r\n  const commentsFetched = useRef(false);\r\n\r\n  const [section, setSection] = useState(0);\r\n  const [editProfileOpen, setEditProfileOpen] = useState(false);\r\n\r\n  const [refreshProfile, setRefreshProfile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (userId) {\r\n        let res = await GetUser(userId);\r\n        if (!res.error) {\r\n          setProfileData(res);\r\n        }\r\n      }\r\n    }\r\n    getData();\r\n  }, [userId, refreshProfile, user.wishlist.length]);\r\n\r\n  useEffect(() => {\r\n    if (sectionInUrl !== undefined) {\r\n      setSection(+sectionInUrl);\r\n    }\r\n  }, [sectionInUrl]);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (\r\n        section === 2 &&\r\n        !reviewsFetched.current &&\r\n        profileData.reviews.length\r\n      ) {\r\n        reviewsFetched.current = true;\r\n        let res = await GetUserReviews(profileData.reviews);\r\n        if (!res.error) {\r\n          setReviews(res.reverse());\r\n        }\r\n      } else if (section === 3 && !commentsFetched.current) {\r\n        commentsFetched.current = true;\r\n        let res = await GetUserComments(profileData.comments);\r\n        if (!res.error) {\r\n          setComments(res.reverse());\r\n        }\r\n      }\r\n    }\r\n    getData();\r\n  }, [section, profileData.reviews.length]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (reviewsFetched.current) {\r\n        setRefreshComments(!refreshComments);\r\n        let res = await GetUserReviews(profileData.reviews);\r\n        if (!res.error) {\r\n          setReviews(res.reverse());\r\n        }\r\n      }\r\n    }\r\n    getData();\r\n  }, [refreshReviews]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (commentsFetched.current) {\r\n        setRefreshProfile(!refreshProfile);\r\n        let res = await GetUserComments(profileData.comments);\r\n        if (!res.error) {\r\n          setComments(res.reverse());\r\n        }\r\n      }\r\n    }\r\n    getData();\r\n  }, [refreshComments]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  return (\r\n    <div className=\"row no-gutters\" style={{ minHeight: \"800px\" }}>\r\n      <EditProfile\r\n        userId={userId}\r\n        refreshProfile={() => setRefreshProfile(!refreshProfile)}\r\n        editProfileOpen={editProfileOpen}\r\n        user={user}\r\n        onClose={() => setEditProfileOpen(false)}\r\n      ></EditProfile>\r\n      <div className=\"col-60 content-container mx-auto p-sm-5 p-4\">\r\n        <div className=\"row no-gutters justify-content-xl-between justify-content-center text-white bg-over-root-lighter p-sm-5 p-4 rounded mb-2\">\r\n          <div className=\"col-auto mb-4 mr-lg-5\">\r\n            <div className=\"row no-gutters justify-content-xl-start justify-content-center\">\r\n              <div\r\n                className=\"col-auto bg-image square-100 rounded-circle mr-md-4\"\r\n                style={{\r\n                  backgroundImage: `url(${\r\n                    publicUsers[userId] ? publicUsers[userId].photo : \"\"\r\n                  })`,\r\n                }}\r\n              ></div>\r\n              <div className=\"col-60 col-md-auto\">\r\n                {profileData.first_name || profileData.last_name ? (\r\n                  <div className=\"row no-gutters text-title-lg justify-content-md-start justify-content-center\">\r\n                    <div className=\"col-auto mr-2\">\r\n                      {profileData.first_name ? profileData.first_name : \"\"}\r\n                    </div>\r\n                    <div className=\"col-auto\">\r\n                      {profileData.last_name ? profileData.last_name : \"\"}\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"row no-gutters h5 justify-content-md-start justify-content-center\">\r\n                    Full name is empty\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"row no-gutters justify-content-md-start justify-content-center text-title-md mb-2\">\r\n                  <div className=\"text-truncate\" style={{ maxWidth: \"150px\" }}>\r\n                    @\r\n                    {publicUsers[userId]\r\n                      ? publicUsers[userId].display_name\r\n                      : \"\"}\r\n                  </div>\r\n                </div>\r\n                {user._id === userId ? (\r\n                  <div className=\"row no-gutters justify-content-md-start justify-content-center\">\r\n                    <div\r\n                      className=\"col-auto btn-custom btn-custom-primary btn-small\"\r\n                      onClick={() => setEditProfileOpen(true)}\r\n                    >\r\n                      Edit Profile\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-sm-auto col-60\">\r\n            <div className=\"row no-gutters justify-content-center h-100 align-items-center\">\r\n              <div className=\"col-sm-auto col mr-sm-4\">\r\n                <div className=\"row no-gutters mb-3 profile-stats-title\">\r\n                  Wishlist\r\n                </div>\r\n                <div className=\"row no-gutters text-lift justify-content-end\">\r\n                  {profileData.wishlist.length}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-sm-auto col mr-sm-4 mr-0\">\r\n                <div className=\"row no-gutters mb-3 profile-stats-title\">\r\n                  Watched\r\n                </div>\r\n                <div className=\"row no-gutters text-lift justify-content-end\">\r\n                  {profileData.watchedlist.length}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-sm-auto col mr-sm-4 mr-0\">\r\n                <div className=\"row no-gutters mb-3 profile-stats-title\">\r\n                  Reviews\r\n                </div>\r\n                <div className=\"row no-gutters text-lift justify-content-end profile-stats-title\">\r\n                  {profileData.reviews.length}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-sm-auto col\">\r\n                <div className=\"row no-gutters mb-3 profile-stats-title\">\r\n                  Comments\r\n                </div>\r\n                <div className=\"row no-gutters text-lift justify-content-end\">\r\n                  {profileData.comments.length}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-over-root-lighter row no-gutters rounded w-100 justify-content-between text-white\">\r\n          <div className=\"col-60\">\r\n            <SimpleBar\r\n              style={{\r\n                maxWidth: \"100%\",\r\n                overflowX: \"auto\",\r\n                whiteSpace: \"nowrap\",\r\n              }}\r\n            >\r\n              <div\r\n                className=\"d-inline-block p-sm-4 p-3 cursor-pointer mr-4 text-title-md mb-0 user-select-none\"\r\n                style={{\r\n                  borderTop: \"3px solid transparent\",\r\n                  borderBottom:\r\n                    section === 0\r\n                      ? \"3px solid rgb(255, 0, 64)\"\r\n                      : \"3px solid transparent\",\r\n                }}\r\n                onClick={() => setSection(0)}\r\n              >\r\n                Wishlist\r\n              </div>\r\n              <div\r\n                style={{\r\n                  borderTop: \"3px solid transparent\",\r\n                  borderBottom:\r\n                    section === 1\r\n                      ? \"3px solid rgb(255, 0, 64)\"\r\n                      : \"3px solid transparent\",\r\n                }}\r\n                className=\"d-inline-block p-sm-4 p-3 cursor-pointer mr-4 text-title-md mb-0 user-select-none\"\r\n                onClick={() => setSection(1)}\r\n              >\r\n                Watched\r\n              </div>\r\n              <div\r\n                style={{\r\n                  borderTop: \"3px solid transparent\",\r\n                  borderBottom:\r\n                    section === 2\r\n                      ? \"3px solid rgb(255, 0, 64)\"\r\n                      : \"3px solid transparent\",\r\n                }}\r\n                className=\"d-inline-block p-sm-4 p-3 cursor-pointer mr-4 text-title-md mb-0 user-select-none\"\r\n                onClick={() => setSection(2)}\r\n              >\r\n                Reviews\r\n              </div>\r\n              <div\r\n                style={{\r\n                  borderTop: \"3px solid transparent\",\r\n                  borderBottom:\r\n                    section === 3\r\n                      ? \"3px solid rgb(255, 0, 64)\"\r\n                      : \"3px solid transparent\",\r\n                }}\r\n                className=\"d-inline-block p-sm-4 p-3 cursor-pointer mr-4 text-title-md mb-0 user-select-none\"\r\n                onClick={() => setSection(3)}\r\n              >\r\n                Comments\r\n              </div>\r\n            </SimpleBar>\r\n          </div>\r\n        </div>\r\n        {section === 0 ? (\r\n          <Wishlist\r\n            ratings={ratings}\r\n            refreshProfile={() => setRefreshProfile(!refreshProfile)}\r\n            movies={profileData.wishlist}\r\n            owner={user._id === profileData._id}\r\n            user={user}\r\n          ></Wishlist>\r\n        ) : section === 1 ? (\r\n          <Watchedlist\r\n            ratings={ratings}\r\n            movies={profileData.watchedlist}\r\n          ></Watchedlist>\r\n        ) : section === 2 ? (\r\n          <Reviews\r\n            refreshReviews={() => setRefreshReviews(!refreshReviews)}\r\n            user={user}\r\n            ratings={ratings}\r\n            reviews={reviews}\r\n            owner={user._id === profileData._id}\r\n          ></Reviews>\r\n        ) : section === 3 ? (\r\n          <Comments\r\n            refreshComments={() => setRefreshComments(!refreshComments)}\r\n            user={user}\r\n            ratings={ratings}\r\n            comments={comments}\r\n            owner={user._id === profileData._id}\r\n          ></Comments>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    user: state.user,\r\n    ratings: state.ratings,\r\n    publicUsers: state.publicUsers,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Profile);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport store from \"../store/store\";\r\nimport { LoginWithToken } from \"../server/DatabaseApi\";\r\nimport history from \"../History\";\r\n\r\nconst PrivateRoute = ({ Component, bearerPath, user, ...rest }) => {\r\n  const successPath = rest.computedMatch.url;\r\n  const [validity, setValidity] = useState({ ready: false, valid: false });\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      let token = localStorage.getItem(\"movies_user_token\");\r\n      if (token === null || !token.length) {\r\n        setValidity((prev) => Object.assign({}, prev, { ready: true }));\r\n      } else {\r\n        let data = await LoginWithToken({\r\n          token,\r\n        });\r\n        if (!data.error) {\r\n          if (data.role === \"Administrator\") {\r\n            setValidity((prev) =>\r\n              Object.assign({}, prev, { ready: true, valid: true })\r\n            );\r\n          } else {\r\n            store.dispatch({\r\n              type: \"SET_NOTIFICATION\",\r\n              notification: {\r\n                title: \"Your role is not admin\",\r\n                message: \"Contact website administrator to change your role\",\r\n                type: \"failure\",\r\n              },\r\n            });\r\n            history.push(\"/\");\r\n          }\r\n        } else {\r\n          history.push(\"/\");\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Your role is not admin\",\r\n              message: \"Only website admins can access this page\",\r\n              type: \"failure\",\r\n            },\r\n          });\r\n        }\r\n      }\r\n    }\r\n    getData();\r\n  }, []);\r\n\r\n  return validity.ready ? (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return validity.valid ? (\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect\r\n            to={{ pathname: bearerPath, state: { successPath: successPath } }}\r\n          ></Redirect>\r\n        );\r\n      }}\r\n    ></Route>\r\n  ) : (\r\n    <div></div>\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { GetActiveAnnouncements } from \"../../server/DatabaseApi\";\r\nimport { BsX } from \"react-icons/bs\";\r\n\r\nconst Announcement = () => {\r\n  const [announcements, setAnnouncements] = useState([]);\r\n\r\n  let notClosedAnnouncement = false;\r\n\r\n  let closedAnnouncements = localStorage.getItem(\"closed_movies_announcements\");\r\n\r\n  if (closedAnnouncements) {\r\n    closedAnnouncements = JSON.parse(closedAnnouncements);\r\n  } else {\r\n    closedAnnouncements = [];\r\n  }\r\n\r\n  for (let x of announcements) {\r\n    if (!closedAnnouncements.includes(x.description)) {\r\n      notClosedAnnouncement = x;\r\n      break;\r\n    }\r\n  }\r\n\r\n  const [closed, setClosed] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      let data = await GetActiveAnnouncements();\r\n      if (!data.error) {\r\n        if (data.length) {\r\n          setAnnouncements(data);\r\n        }\r\n      }\r\n    }\r\n\r\n    getData();\r\n  }, []);\r\n\r\n  return notClosedAnnouncement &&\r\n    notClosedAnnouncement.description &&\r\n    !closed ? (\r\n    <div\r\n      className={`row p-2 position-relative no-gutters justify-content-center ${\r\n        notClosedAnnouncement.type === \"Warning\"\r\n          ? \"bg-warning\"\r\n          : notClosedAnnouncement.type === \"Information\"\r\n          ? \"bg-primary\"\r\n          : notClosedAnnouncement.type === \"Error\"\r\n          ? \"bg-danger\"\r\n          : \"\"\r\n      }`}\r\n    >\r\n      <div\r\n        onClick={() => {\r\n          setClosed(true);\r\n          closedAnnouncements.push(notClosedAnnouncement.description);\r\n\r\n          localStorage.setItem(\r\n            \"closed_movies_announcements\",\r\n            JSON.stringify(closedAnnouncements)\r\n          );\r\n        }}\r\n        className=\"square-20 rounded-circle d-flex flex-center bg-white cursor-pointer scale-transition position-absolute\"\r\n        style={{ right: \"10px\", top: 0, bottom: 0, margin: \"auto\", zIndex: 5 }}\r\n      >\r\n        <BsX className=\"text-dark\"></BsX>\r\n      </div>\r\n      <div className=\"col-60 content-container text-white\">\r\n        <div className=\"row no-gutters justify-content-center\">\r\n          <div\r\n            className=\"col-auto mr-2 d-none d-md-block\"\r\n            style={{ width: \"30px\" }}\r\n          ></div>\r\n          <div className=\"col mr-2 pl-2 pl-md-0\">\r\n            <div className=\"row no-gutters justify-content-center\">\r\n              {notClosedAnnouncement.description}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-auto\" style={{ width: \"30px\" }}></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n\r\nexport default Announcement;\r\n","import * as React from \"react\";\r\n\r\nfunction Notifications(props) {\r\n  return (\r\n    <div className=\"square-35 position-relative cursor-pointer\">\r\n      <div\r\n        className=\"position-absolute text-white\"\r\n        style={{ top: \"0px\", right: \"5px\", fontSize: \"10px\" }}\r\n      >\r\n        {props.count ? props.count : 0}\r\n      </div>\r\n      <svg viewBox=\"-11 0 512 512\" width=\"100%\" {...props}>\r\n        <path\r\n          d=\"M298.668 426.668c0 47.129-38.207 85.332-85.336 85.332S128 473.797 128 426.668c0-47.129 38.203-85.336 85.332-85.336 47.129 0 85.336 38.207 85.336 85.336zm0 0\"\r\n          fill=\"#ffa000\"\r\n        />\r\n        <path\r\n          d=\"M362.836 254.316c-72.32-10.328-128.168-72.515-128.168-147.648 0-21.336 4.562-41.578 12.648-59.95-10.921-2.558-22.27-4.05-33.984-4.05C130.988 42.668 64 109.652 64 192v59.477c0 42.218-18.496 82.07-50.945 109.503A37.235 37.235 0 000 389.332c0 20.59 16.746 37.336 37.332 37.336h352c20.59 0 37.336-16.746 37.336-37.336 0-10.922-4.758-21.27-13.27-28.543-31.488-26.644-49.75-65.324-50.562-106.473zm0 0\"\r\n          fill=\"#ffc107\"\r\n        />\r\n        <path\r\n          d=\"M490.668 106.668c0 58.91-47.758 106.664-106.668 106.664s-106.668-47.754-106.668-106.664C277.332 47.758 325.09 0 384 0s106.668 47.758 106.668 106.668zm0 0\"\r\n          fill=\"#f44336\"\r\n        />\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Notifications;\r\n","import React from \"react\";\r\nimport { OfficialMoviesGenres, OfficialSeriesGenres } from \"../../Data\";\r\nimport history from \"../../History\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst MoviesListMinified = ({ movies, onClick }) => {\r\n  return (\r\n    <div className=\"row\">\r\n      {movies.map((x, i) => (\r\n        <div\r\n          key={`result-${i}`}\r\n          className=\"p-2 movie-card-minified\"\r\n          style={{ flexBasis: \"300px\", flexGrow: 1 }}\r\n          onClick={() => {\r\n            history.push(`/movie/${x.name ? `serie-${x.id}` : x.id}`);\r\n            onClick();\r\n          }}\r\n        >\r\n          <div className=\"row no-gutters\">\r\n            <div className=\"col-auto mr-3\">\r\n              <div className=\"row no-gutters mb-2 position-relative\">\r\n                <div\r\n                  className=\"square-70 bg-image rounded\"\r\n                  style={{\r\n                    backgroundImage: `url(${\r\n                      x.poster_path\r\n                        ? `https://image.tmdb.org/t/p/w342${x.poster_path}`\r\n                        : \"https://critics.io/img/movies/poster-placeholder.png\"\r\n                    })`,\r\n                  }}\r\n                ></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col\">\r\n              <div\r\n                className=\"row no-gutters mb-0 cursor-pointer\"\r\n                onClick={() => history.push(`/movie/${x.id}`)}\r\n              >\r\n                <div className=\"text-truncate\">\r\n                  {x.title ? x.title : x.name}\r\n                </div>\r\n              </div>\r\n              <div className=\"row no-gutters text-muted mb-2\">\r\n                <div className=\"text-truncate\" style={{ maxWidth: \"100%\" }}>\r\n                  {x.genre_ids.length\r\n                    ? x.genre_ids\r\n                        .map((gid) => {\r\n                          let movieGenre = OfficialMoviesGenres.find(\r\n                            (g) => g.id === gid\r\n                          );\r\n                          let seriesGenre = OfficialSeriesGenres.find(\r\n                            (g) => g.id === gid\r\n                          );\r\n                          return movieGenre // movies have title, series - name\r\n                            ? movieGenre.name\r\n                            : seriesGenre\r\n                            ? seriesGenre.name\r\n                            : \"unkonwn\";\r\n                        })\r\n                        .join(\"/\")\r\n                    : \"unknown\"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    user: state.user,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(MoviesListMinified);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Emoji } from \"emoji-mart\";\r\nimport history from \"../../History\";\r\nimport date from \"date-and-time\";\r\nimport { MdThumbUp, MdChatBubble } from \"react-icons/md\";\r\n\r\nconst ReviewsListMinified = ({ reviews, publicUsers, ratings }) => {\r\n  const [reviewIdOfVisibleComments, setReviewIdOfVisibleComments] = useState(\r\n    -1\r\n  );\r\n\r\n  const page = 1;\r\n\r\n  const reviewsPerPage = 8;\r\n\r\n  return reviews\r\n    .slice(\r\n      (page - 1) * reviewsPerPage,\r\n      (page - 1) * reviewsPerPage + reviewsPerPage\r\n    )\r\n    .map((x, i) => (\r\n      <div\r\n        onClick={() => history.push(`/movie/${x.movie_id}`)}\r\n        key={`review-${i}`}\r\n        className=\"row no-gutters p-2 border-bottom rounded mb-2 text-dark movie-card-minified\"\r\n      >\r\n        <div\r\n          className=\"col-sm-auto col-20 pr-4 d-none d-sm-block\"\r\n          style={{ maxWidth: \"100px\" }}\r\n        >\r\n          <div className=\"row no-gutters mb-1\">\r\n            <img\r\n              alt={ratings[x.movie_id].movie_poster}\r\n              width=\"100%\"\r\n              style={{ borderRadius: \"13px\", cursor: \"pointer\" }}\r\n              src={`https://image.tmdb.org/t/p/w154${\r\n                ratings[x.movie_id].movie_poster\r\n              }`}\r\n            ></img>\r\n          </div>\r\n        </div>\r\n        <div className=\"col d-flex flex-column\">\r\n          <div className=\"row no-gutters justify-content-between align-items-center mb-2 flex-grow-0\">\r\n            <div className=\"col-60 d-block d-sm-none mb-3\">\r\n              <div className=\"row no-gutters mb-1\">\r\n                <div className=\"col-auto pr-3\">\r\n                  <div\r\n                    className=\"square-70 rounded bg-image\"\r\n                    style={{\r\n                      backgroundImage: `url(https://image.tmdb.org/t/p/w154${\r\n                        ratings[x.movie_id].movie_poster\r\n                      })`,\r\n                    }}\r\n                  ></div>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <div className=\"row no-gutters h6 mb-0\">\r\n                    {ratings[x.movie_id].movie_title} (\r\n                    {ratings[x.movie_id].movie_release_date.substring(0, 4)}\r\n                  </div>\r\n                  <div className=\"row no-gutters text-muted\">\r\n                    <div className=\"text-truncate\">{x.movie_genres}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-60\">\r\n              <div className=\"row no-gutters justify-content-between\">\r\n                <div className=\"col-auto mb-2\">\r\n                  <div className=\"row no-gutters align-items-center\">\r\n                    <div className=\"col-auto pr-2\">\r\n                      <div\r\n                        className=\"bg-image rounded-circle square-40\"\r\n                        style={{\r\n                          backgroundImage: `url(${\r\n                            publicUsers[x.author]\r\n                              ? publicUsers[x.author].photo\r\n                              : \"\"\r\n                          })`,\r\n                        }}\r\n                      ></div>\r\n                    </div>\r\n                    <div className=\"col-auto\">\r\n                      <div className=\"row no-gutters align-items-center\">\r\n                        <div className=\"col-auto mr-3 mb-0\">\r\n                          {publicUsers[x.author]\r\n                            ? publicUsers[x.author].display_name\r\n                            : \"\"}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-auto\">\r\n                  <div className=\"row no-gutters\">\r\n                    <span className=\"mr-2\">Posted review on</span>\r\n                    <span className=\"text-muted\">\r\n                      {date.format(new Date(x.date), \"MMM DD, YYYY\")}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row no-gutters mb-3 font-size-14 flex-grow-0\">\r\n            {x.review}\r\n          </div>\r\n          <div className=\"row no-gutters flex-grow-1 align-items-bottom\">\r\n            <div className=\"col-60 d-flex flex-column justify-content-end\">\r\n              <div className=\"row no-gutters justify-content-between align-items-center\">\r\n                <div className=\"col-auto\">\r\n                  <div className=\"row no-gutters\">\r\n                    {x.rating ? (\r\n                      <div style={{ marginBottom: \"-6px\" }}>\r\n                        <Emoji\r\n                          emoji={\r\n                            x.rating === \"excellent_rate\"\r\n                              ? \"fire\"\r\n                              : x.rating === \"good_rate\"\r\n                              ? \"heart\"\r\n                              : x.rating === \"ok_rate\"\r\n                              ? \"heavy-division-sign\"\r\n                              : \"shit\"\r\n                          }\r\n                          set=\"facebook\"\r\n                          size={24}\r\n                        />\r\n                      </div>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-auto px-0\">\r\n                  <div className=\"row no-gutters align-items-center\">\r\n                    <div className=\"col-auto mr-2\">{x.likes.length}</div>\r\n                    <div className=\"col-auto mr-2 \">\r\n                      <MdThumbUp\r\n                        fontSize=\"24px\"\r\n                        className=\"text-green\"\r\n                      ></MdThumbUp>\r\n                    </div>\r\n                    <div className=\"col-auto mr-2\">{x.comments.length}</div>\r\n                    <div className=\"col-auto\">\r\n                      <MdChatBubble\r\n                        onClick={() => {\r\n                          setReviewIdOfVisibleComments(\r\n                            reviewIdOfVisibleComments === x._id ? -1 : x._id\r\n                          );\r\n                        }}\r\n                        fontSize=\"24px\"\r\n                        className=\"text-orange scale-transition cursor-pointer\"\r\n                      ></MdChatBubble>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ));\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    publicUsers: state.publicUsers,\r\n    ratings: state.ratings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(ReviewsListMinified);\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../store/store\";\r\nimport Select from \"../utility/Select\";\r\nimport history from \"../../History\";\r\nimport { BsSearch } from \"react-icons/bs\";\r\nimport { SearchReviews } from \"../../server/DatabaseApi\";\r\nimport { SearchMovies, SearchSeries } from \"../../server/MoviesApi\";\r\nimport MoviesListMinified from \"./MoviesListMinified\";\r\nimport ReviewsListMinified from \"./ReviewsListMinified\";\r\n\r\nconst SearchBox = (props) => {\r\n  const categories = [\"All\", \"Movies\", \"Series\", \"Reviews\"];\r\n  const category = props.search.category;\r\n  const settings = props.settings;\r\n  const [query, setQuery] = useState(\"\");\r\n  const [reviews, setReviews] = useState([]);\r\n  const [movies, setMovies] = useState([]);\r\n  const [series, setSeries] = useState([]);\r\n  const [populateBox, setPopulateBox] = useState(false);\r\n  const queryCleaned = useRef(false);\r\n\r\n  const onFail = () => {\r\n    store.dispatch({\r\n      type: \"SET_NOTIFICATION\",\r\n      notification: {\r\n        title: \"Error\",\r\n        message: \"You need to provide valid api key in admin dashboard\",\r\n        type: \"failure\",\r\n      },\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (query) {\r\n        setPopulateBox(true);\r\n        queryCleaned.current = false;\r\n        if (category === \"Reviews\" || category === \"All\") {\r\n          let reviews = await SearchReviews(query);\r\n          if (!reviews.error) {\r\n            if (!queryCleaned.current) {\r\n              setReviews(reviews.slice(0, 5));\r\n            }\r\n          }\r\n        } else {\r\n          setReviews([]);\r\n        }\r\n\r\n        if (category === \"Movies\" || category === \"All\") {\r\n          let movies = await SearchMovies(query, settings.movies_api_key);\r\n\r\n          if (movies.results) {\r\n            if (!queryCleaned.current) {\r\n              setMovies(movies.results.slice(0, 10));\r\n            }\r\n          } else {\r\n            onFail();\r\n          }\r\n        } else {\r\n          setMovies([]);\r\n        }\r\n        if (category === \"Series\" || category === \"All\") {\r\n          let series = await SearchSeries(query, settings.movies_api_key);\r\n          if (series.results) {\r\n            if (!queryCleaned.current) {\r\n              setSeries(series.results.slice(0, 10));\r\n            }\r\n          } else {\r\n            onFail();\r\n          }\r\n        } else {\r\n          setSeries([]);\r\n        }\r\n      } else {\r\n        queryCleaned.current = true;\r\n        setPopulateBox(false);\r\n        setMovies([]);\r\n        setSeries([]);\r\n        setReviews([]);\r\n      }\r\n    }\r\n    getData();\r\n  }, [query, category]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  return (\r\n    <div className=\"row no-gutters w-100\">\r\n      <div className=\"col-60 position-relative\">\r\n        <div className=\"row no-gutters\">\r\n          <Select\r\n            popoverClass=\"col-auto\"\r\n            items={categories}\r\n            onSelect={(index) =>\r\n              store.dispatch({\r\n                type: \"UPDATE_SEARCH\",\r\n                search: { category: categories[index] },\r\n              })\r\n            }\r\n            popoverWidth={\"150px\"}\r\n            className=\"col-auto input-prepend-select\"\r\n            btnName={category}\r\n          ></Select>\r\n          <div className=\"col position-relative\">\r\n            <input\r\n              onBlur={async () => {\r\n                await new Promise((resolve) => setTimeout(resolve, 500));\r\n                setPopulateBox(false);\r\n              }}\r\n              onFocus={async () => setPopulateBox(true)}\r\n              value={query}\r\n              onKeyUp={(e) => {\r\n                if (e.keyCode === 13) {\r\n                  setQuery(\"\");\r\n                  store.dispatch({\r\n                    type: \"UPDATE_SEARCH\",\r\n                    search: { query },\r\n                  });\r\n                  history.push(\"/search\");\r\n                }\r\n              }}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setQuery(e.target.value);\r\n              }}\r\n              type=\"text\"\r\n              spellCheck={false}\r\n              className={`w-100 input`}\r\n            ></input>\r\n            <BsSearch\r\n              onClick={() => history.push(\"/search\")}\r\n              fontSize=\"24px\"\r\n              className=\"position-absolute text-white cursor-pointer\"\r\n              style={{ top: 0, bottom: 0, right: \"20px\", margin: \"auto\" }}\r\n            ></BsSearch>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"row no-gutters position-absolute px-3 bg-white w-100 overflow-auto\"\r\n          style={{ top: `50px`, left: 0, maxHeight: \"500px\" }}\r\n        >\r\n          <div className=\"col-60\">\r\n            {populateBox ? (\r\n              <React.Fragment>\r\n                {movies.length ? (\r\n                  <React.Fragment>\r\n                    <div className=\"row no-gutters pt-3 pb-1 font-weight-bold\">\r\n                      Movies ({movies.length})\r\n                    </div>\r\n                    <MoviesListMinified\r\n                      onClick={() => setQuery(\"\")}\r\n                      movies={movies}\r\n                    ></MoviesListMinified>\r\n                  </React.Fragment>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {series.length ? (\r\n                  <React.Fragment>\r\n                    <div className=\"row no-gutters pt-3 pb-1 font-weight-bold\">\r\n                      Series ({series.length})\r\n                    </div>\r\n                    <MoviesListMinified\r\n                      movies={series}\r\n                      onClick={() => setQuery(\"\")}\r\n                    ></MoviesListMinified>\r\n                  </React.Fragment>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {reviews.length ? (\r\n                  <React.Fragment>\r\n                    <div className=\"row no-gutters pt-3 pb-1 font-weight-bold\">\r\n                      Reviews ({reviews.length})\r\n                    </div>\r\n                    <ReviewsListMinified\r\n                      reviews={reviews}\r\n                      onClick={() => setQuery(\"\")}\r\n                    ></ReviewsListMinified>\r\n                  </React.Fragment>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </React.Fragment>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n          <div className=\"col-60\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    user: state.user,\r\n    search: state.search,\r\n    settings: state.settings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(SearchBox);\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Popover from \"../utility/Popover\";\r\nimport { BsChevronDown, BsXCircle } from \"react-icons/bs\";\r\nimport history from \"../../History\";\r\nimport store from \"../../store/store\";\r\nimport Logo from \"../../images/Logo\";\r\nimport Announcement from \"./Announcement\";\r\nimport {\r\n  GetUserNotifications,\r\n  DeleteUserNotification,\r\n} from \"../../server/DatabaseApi\";\r\nimport Notifications from \"../../images/Notifications\";\r\nimport { withResizeDetector } from \"react-resize-detector\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport SearchBox from \"./SearchBox\";\r\nimport { MdMenu } from \"react-icons/md\";\r\nimport date from \"date-and-time\";\r\n\r\nconst Navbar = (props) => {\r\n  const user = props.user;\r\n  const dashboardMenuOpened = props.dashboardMenuOpened;\r\n  const height = props.height;\r\n\r\n  const [scrolledToTop, setScrolledTopTop] = useState(true);\r\n  const lastScroll = useRef(100);\r\n  const [direction, setDirection] = useState(\"up\");\r\n  const [notifications, setNotifications] = useState([]);\r\n  const profilePopover = useRef(null);\r\n\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    function handleScrolling() {\r\n      let scrollY = window.scrollY;\r\n      if (lastScroll.current < scrollY) {\r\n        setDirection(\"down\");\r\n      } else {\r\n        setDirection(\"up\");\r\n      }\r\n      lastScroll.current = scrollY;\r\n      if (scrollY === 0) {\r\n        setScrolledTopTop(true);\r\n      } else {\r\n        setScrolledTopTop(false);\r\n      }\r\n    }\r\n    window.addEventListener(\"scroll\", handleScrolling);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", handleScrolling);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (user.notifications) {\r\n        let data = await GetUserNotifications(user.notifications);\r\n        if (!data.error) {\r\n          setNotifications(\r\n            data.map((x) => Object.assign({}, x, { seen: false }))\r\n          );\r\n        }\r\n      }\r\n    }\r\n    getData();\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (height) {\r\n      store.dispatch({ type: \"SET_HEIGHT\", height });\r\n    }\r\n  }, [height]);\r\n\r\n  return location.pathname !== \"/login\" &&\r\n    location.pathname !== \"/signup\" &&\r\n    location.pathname !== \"/forgot-password\" &&\r\n    !location.pathname.includes(\"/reset-password\") ? (\r\n    <div\r\n      className=\"col-60 px-0\"\r\n      style={{\r\n        position: \"sticky\",\r\n        zIndex: 59,\r\n        transition: \"all 0.5s\",\r\n        top: direction === \"up\" ? \"0px\" : `-${height}px`,\r\n        left: 0,\r\n        right: 0,\r\n      }}\r\n    >\r\n      <Announcement></Announcement>\r\n      <div\r\n        className={`bg-transition row no-gutters justify-content-center${\r\n          !scrolledToTop ? \" bg-root\" : \"\"\r\n        }`}\r\n      >\r\n        <div\r\n          className={`col-60${\r\n            location.pathname !== \"/admin\" ? \" content-container\" : \"\"\r\n          }`}\r\n        >\r\n          <div className=\"row no-gutters justify-content-between px-3 py-2 align-items-center flex-nowrap\">\r\n            <div className=\"col-auto d-none d-sm-block pr-sm-5 pr-3 text-white pl-sm-3 pl-2\">\r\n              <div\r\n                className=\"row no-gutters align-items-end cursor-pointer\"\r\n                onClick={() => history.push(\"/\")}\r\n              >\r\n                <div className=\"square-50 mr-2\">\r\n                  <Logo></Logo>\r\n                </div>\r\n                <div className=\"col-auto\">\r\n                  <div className=\"row no-gutters h4 logo\">CozyPotato</div>\r\n                  <div\r\n                    className=\"row no-gutters justify-content-end text-light\"\r\n                    style={{ fontSize: \"13px\", marginTop: \"-14px\" }}\r\n                  >\r\n                    Community\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"d-block d-sm-none cursor-pointer\"\r\n              onClick={() => history.push(\"/\")}\r\n            >\r\n              <div className=\"square-40 mx-auto\">\r\n                <Logo></Logo>\r\n              </div>\r\n              <div className=\"col-auto text-white\">\r\n                <div className=\"row no-gutters logo h5\">CozyPotato</div>\r\n                <div\r\n                  className=\"row no-gutters justify-content-end text-light\"\r\n                  style={{ fontSize: \"10px\", marginTop: \"-10px\" }}\r\n                >\r\n                  Community\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col pr-3 d-none d-md-block\">\r\n              <SearchBox navbarHeight={height}></SearchBox>\r\n            </div>\r\n            <div className=\"col-auto\">\r\n              <div className=\"row no-gutters\">\r\n                {user.display_name ? (\r\n                  <div className=\"col-auto\">\r\n                    <div className=\"row no-gutters\">\r\n                      <Popover\r\n                        content={(w) => (\r\n                          <div\r\n                            className=\"container-fluid rounded px-0 overflow-auto\"\r\n                            style={{\r\n                              maxWidth: \"400px\",\r\n                              width: \"100%\",\r\n                              maxHeight: \"450px\",\r\n                            }}\r\n                          >\r\n                            {notifications.length ? (\r\n                              notifications.map((x, i) => (\r\n                                <div\r\n                                  key={`notificaiton-${i}`}\r\n                                  className={`row no-gutters p-3${\r\n                                    i !== notifications.length - 1\r\n                                      ? \" border-bottom\"\r\n                                      : \"\"\r\n                                  }`}\r\n                                >\r\n                                  <div className=\"col-60 text-left mb-1 font-weight-bold\">\r\n                                    <div className=\"row no-gutters\">\r\n                                      <div className=\"col mr-3\">\r\n                                        {x.subject}\r\n                                      </div>\r\n                                      <div className=\"col-auto text-left text-primary-custom\">\r\n                                        <small>\r\n                                          {date.format(\r\n                                            new Date(x.start_date),\r\n                                            \"MMM DD, YYYY\"\r\n                                          )}\r\n                                        </small>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"col-60 text-left font-size-13\">\r\n                                    <div className=\"row no-gutters align-items-center\">\r\n                                      <div className=\"col mr-3 text-break\">\r\n                                        {x.description}\r\n                                      </div>\r\n                                      <div className=\"col-auto\">\r\n                                        <BsXCircle\r\n                                          onClick={async () => {\r\n                                            let res = await DeleteUserNotification(\r\n                                              x._id,\r\n                                              user._id\r\n                                            );\r\n                                            if (!res.error) {\r\n                                              let prevNotifications = store.getState()\r\n                                                .user.notifications;\r\n                                              let delIndex = prevNotifications.findIndex(\r\n                                                (n) => n === x._id\r\n                                              );\r\n                                              if (delIndex !== -1) {\r\n                                                prevNotifications.splice(\r\n                                                  delIndex,\r\n                                                  1\r\n                                                );\r\n                                              }\r\n                                              store.dispatch({\r\n                                                type: \"UPDATE_USER\",\r\n                                                userProperty: {\r\n                                                  notifications: prevNotifications,\r\n                                                },\r\n                                              });\r\n                                            }\r\n                                          }}\r\n                                          fontSize=\"26px\"\r\n                                          className=\"cursor-pointer notification-close-icon\"\r\n                                        ></BsXCircle>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              ))\r\n                            ) : (\r\n                              <div className=\"row no-gutters flex-center p-4\">\r\n                                You don't have notifications right now\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      >\r\n                        <div className=\"col-auto\">\r\n                          <Notifications\r\n                            count={notifications.length}\r\n                          ></Notifications>\r\n                        </div>\r\n                      </Popover>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                <div className=\"col-auto text-white\">\r\n                  {user.display_name ? (\r\n                    <div className=\"row no-gutters align-items-center\">\r\n                      <Popover\r\n                        content={(w) => (\r\n                          <div\r\n                            style={{\r\n                              borderRadius: \"4px\",\r\n                              overflow: \"hidden\",\r\n                              minWidth: `${w}px`,\r\n                            }}\r\n                          >\r\n                            {user.role === \"Administrator\" ? (\r\n                              <div\r\n                                className=\"popover-item border-bottom\"\r\n                                onClick={() => {\r\n                                  profilePopover.current.click();\r\n                                  history.push(`/admin`);\r\n                                }}\r\n                              >\r\n                                Administration\r\n                              </div>\r\n                            ) : (\r\n                              \"\"\r\n                            )}\r\n                            <div\r\n                              className=\"popover-item border-bottom\"\r\n                              onClick={() => {\r\n                                profilePopover.current.click();\r\n                                history.push(`/profile/${user._id}`);\r\n                              }}\r\n                            >\r\n                              My Profile\r\n                            </div>\r\n                            <div\r\n                              className=\"popover-item border-bottom\"\r\n                              onClick={() => {\r\n                                profilePopover.current.click();\r\n                                history.push(`/profile/${user._id}/2`);\r\n                              }}\r\n                            >\r\n                              My Reviews\r\n                            </div>\r\n                            <div\r\n                              className=\"popover-item border-bottom\"\r\n                              onClick={() => {\r\n                                profilePopover.current.click();\r\n                                history.push(`/profile/${user._id}/0`);\r\n                              }}\r\n                            >\r\n                              My Wishlist\r\n                            </div>\r\n                            <div\r\n                              className=\"popover-item\"\r\n                              onClick={() => {\r\n                                profilePopover.current.click();\r\n                                localStorage.removeItem(\"movies_user_token\");\r\n                                store.dispatch({\r\n                                  type: \"SET_USER\",\r\n                                  user: {\r\n                                    first_name: \"\",\r\n                                    last_name: \"\",\r\n                                    display_name: \"\",\r\n                                    photo: \"\",\r\n                                    token: \"\",\r\n                                    email: \"\",\r\n                                    ratings: {},\r\n                                    reviews: [],\r\n                                    wishlist: [],\r\n                                    watchedlist: [],\r\n                                    notifications: [],\r\n                                  },\r\n                                });\r\n                                history.push(\"/\");\r\n                              }}\r\n                            >\r\n                              Logout\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      >\r\n                        <div className=\"col-60\" ref={profilePopover}>\r\n                          <div className=\"row no-gutters align-items-center cursor-pointer\">\r\n                            <div\r\n                              className=\"col-auto mr-2 rounded-circle square-40 bg-image\"\r\n                              style={{\r\n                                backgroundImage: `url(${user.photo})`,\r\n                                border: \"1px solid white\",\r\n                              }}\r\n                            ></div>\r\n                            <div className=\"col-auto mr-2 d-none d-sm-block\">\r\n                              <div\r\n                                className=\"text-truncate\"\r\n                                style={{ maxWidth: \"120px\" }}\r\n                              >\r\n                                {user.display_name}\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col-auto user-select-none\">\r\n                              <BsChevronDown fontSize=\"14px\"></BsChevronDown>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </Popover>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"row no-gutters pr-sm-3 pr-2 align-items-center\">\r\n                      <div\r\n                        className=\"col-auto cursor-pointer fb-btn\"\r\n                        onClick={() => {\r\n                          history.push(\"/login\");\r\n                        }}\r\n                      >\r\n                        Login\r\n                      </div>\r\n                      <div\r\n                        className=\"col-auto cursor-pointer fb-btn\"\r\n                        onClick={() => history.push(\"/signup\")}\r\n                      >\r\n                        Signup\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                {location.pathname === \"/admin\" ? (\r\n                  <MdMenu\r\n                    className=\"text-white col-auto d-block d-lg-none cursor-pointer\"\r\n                    fontSize=\"34px\"\r\n                    onClick={() =>\r\n                      store.dispatch({\r\n                        type: \"SET_DASHBOARD_MENU_OPENED\",\r\n                        isOpened: !dashboardMenuOpened,\r\n                      })\r\n                    }\r\n                  ></MdMenu>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div></div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    user: state.user,\r\n    search: state.search,\r\n    dashboardMenuOpened: state.dashboardMenuOpened,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default withResizeDetector(connect(mapp)(Navbar));\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport history from \"../../History\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport {\r\n  FaTwitter,\r\n  FaFacebookF,\r\n  FaInstagram,\r\n  FaLinkedinIn,\r\n} from \"react-icons/fa\";\r\n\r\nconst Footer = ({ user, settings }) => {\r\n  const menuItems = [\r\n    { name: \"Home\", path: \"/\", condition: true },\r\n    {\r\n      name: \"My Wishlist\",\r\n      condition: user.display_name,\r\n      path: user._id ? `/profile/${user._id}/0` : \"/login\",\r\n    },\r\n    {\r\n      condition: user.display_name,\r\n      name: \"My Reviews\",\r\n      path: user._id ? `/profile/${user._id}/2` : \"/login\",\r\n    },\r\n    { name: \"About Us\", path: \"/\", condition: true },\r\n    { name: \"Contact\", path: \"/\", condition: true },\r\n  ];\r\n\r\n  const socialIcons = [\r\n    { icon: FaFacebookF, path: settings.FacebookLink },\r\n    { icon: FaInstagram, path: settings.InstagramLink },\r\n    { icon: FaLinkedinIn, path: settings.LinkedinLink },\r\n    { icon: FaTwitter, path: settings.TwitterLink },\r\n  ];\r\n\r\n  const secodaryItems = [\r\n    { name: \"Privacy policy\", path: \"/privacy-policy\" },\r\n    { name: \"Cookies Policy\", path: \"/cookies-policy\" },\r\n    { name: \"Terms And Conditions\", path: \"/terms-and-conditions\" },\r\n  ];\r\n\r\n  const location = useLocation();\r\n\r\n  return location.pathname !== \"/login\" &&\r\n    location.pathname !== \"/signup\" &&\r\n    location.pathname !== \"/forgot-password\" &&\r\n    !location.pathname.includes(\"/reset-password\") ? (\r\n    <div className=\"row no-gutters justify-content-center bg-over-root text-muted\">\r\n      <div\r\n        className={`px-sm-5 px-4 py-4 col-60${\r\n          location.pathname !== \"/admin\" ? \" content-container\" : \"\"\r\n        }`}\r\n      >\r\n        <div className=\"row no-gutters justify-content-between align-items-center font-size-16\">\r\n          <div className=\"col-auto mb-2\">\r\n            <div className=\"row no-gutters\">\r\n              {menuItems\r\n                .filter((x) => x.condition)\r\n                .map((x, i) => (\r\n                  <div\r\n                    key={`footer-item-${i}`}\r\n                    className=\"col-auto btn-tertiary text-muted-light\"\r\n                    onClick={() => history.push(x.path)}\r\n                  >\r\n                    {x.name}\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-auto col-60 px-3 mb-2\">\r\n            <div className=\"row no-gutters justify-content-center justify-content-md-start\">\r\n              {socialIcons.map((x, i) => (\r\n                <div\r\n                  key={`social-icon-${i}`}\r\n                  className={`col-auto scale-transition cursor-pointer mr-${\r\n                    i === socialIcons.length - 1 ? \"0\" : \"2\"\r\n                  }`}\r\n                >\r\n                  <div\r\n                    className=\"square-40 rounded-circle bg-white d-flex flex-center\"\r\n                    onClick={() => {\r\n                      window.open(x.path);\r\n                    }}\r\n                  >\r\n                    <x.icon fontSize=\"24px\" className=\"text-dark\"></x.icon>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters justify-content-md-between justify-content-center\">\r\n          <div className=\"col-auto px-3\">2020 CozyPotato, Inc.</div>\r\n          <div className=\"col-auto px-3\">\r\n            <div className=\"row no-gutters\">\r\n              {secodaryItems.map((x, i) => (\r\n                <React.Fragment key={`footer-item-${i}`}>\r\n                  <div\r\n                    className=\"col-auto link-primary d-sm-block d-none\"\r\n                    onClick={() => history.push(x.path)}\r\n                  >\r\n                    {x.name}\r\n                  </div>\r\n                  <div\r\n                    className=\"col-auto link-primary d-block d-sm-none\"\r\n                    onClick={() => history.push(x.path)}\r\n                  >\r\n                    {x.name.split(\" \")[0]}\r\n                  </div>\r\n                  {i !== secodaryItems.length - 1 && (\r\n                    <div className=\"px-2\">|</div>\r\n                  )}\r\n                </React.Fragment>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    user: state.user,\r\n    settings: state.settings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Footer);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { GetTvShow, GetCredits } from \"../../server/MoviesApi\";\r\nimport ReactionButton from \"./ReactionButton\";\r\nimport date from \"date-and-time\";\r\nimport Modal from \"../utility/Modal\";\r\nimport TrailerPlayer from \"./TrailerPlayer\";\r\nimport MovieReviews from \"./MovieReviews\";\r\nimport { connect } from \"react-redux\";\r\nimport { FormatDuration } from \"../../utilities/Functions\";\r\nimport store from \"../../store/store\";\r\nimport { AddViewToMovie } from \"../../server/DatabaseApi\";\r\nimport WishlistButton from \"./WishlistButton\";\r\nimport Footer from \"./Footer\";\r\nimport { FaRegPaperPlane } from \"react-icons/fa\";\r\nimport history from \"../../History\";\r\nimport { BsPlayFill } from \"react-icons/bs\";\r\n\r\nconst Serie = (props) => {\r\n  const movieId = props.match.params.movieId;\r\n  const ratings = props.ratings;\r\n  const apiKey = props.settings.movies_api_key;\r\n  //user will be needed to write comments on reviews and to add reviews\r\n  const user = props.user;\r\n\r\n  const [addReviewTrigger, setAddReviewTrigger] = useState(-1);\r\n\r\n  const [movie, setMovie] = useState({\r\n    poster_path: \"\",\r\n    genres: [],\r\n    title: \"\",\r\n    overview: \"\",\r\n    director: \"\",\r\n    cast: [],\r\n    runtime: 0,\r\n    release_date: \"\",\r\n    id: \"\",\r\n  });\r\n\r\n  //boolean variable to display trailer modal or not.\r\n  const [openTrailer, setOpenTrailer] = useState(false);\r\n\r\n  useEffect(() => {\r\n    //check if movie fetched from api\r\n    if (movie.title) {\r\n      AddViewToMovie(movie);\r\n    }\r\n  }, [movie.title]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    async function getData() {\r\n      if (movieId && apiKey) {\r\n        let data = await GetTvShow(movieId, apiKey);\r\n        setMovie((prev) =>\r\n          Object.assign(\r\n            {},\r\n            prev,\r\n            Object.assign({}, data, {\r\n              title: data.name,\r\n              release_date: data.first_air_date,\r\n            })\r\n          )\r\n        );\r\n        let credits = await GetCredits(movieId, apiKey);\r\n        let directorObj = credits.crew\r\n          ? credits.crew.find((x) => x.job === \"Director\")\r\n          : null;\r\n        let director = directorObj ? directorObj.name : \"unknown\";\r\n        let cast = credits.cast ? credits.cast.map((x) => x.name) : [];\r\n        data.director = director;\r\n        data.cast = cast;\r\n        setMovie((prev) => Object.assign({}, prev, { director, cast }));\r\n      }\r\n    }\r\n\r\n    getData();\r\n  }, [movieId, apiKey]);\r\n\r\n  // const director = movie.credits.crew.find((x) => x.job === \"Director\");\r\n\r\n  return (\r\n    <div className=\"row no-gutters justify-content-center bg-movie-over-root position-relative\">\r\n      <div\r\n        className=\"position-absolute w-100 d-block d-lg-none\"\r\n        style={{\r\n          top: 0,\r\n          left: 0,\r\n        }}\r\n      >\r\n        <div\r\n          className=\"position-relative\"\r\n          style={{ height: window.innerHeight, overflow: \"hidden\" }}\r\n        >\r\n          <div className=\"position-relative\">\r\n            <img\r\n              alt={movie.poster_path}\r\n              width=\"100%\"\r\n              src={`https://image.tmdb.org/t/p/w342/${movie.poster_path}`}\r\n            ></img>\r\n            <div\r\n              className=\"position-absolute w-100 h-100\"\r\n              style={{\r\n                background: \"linear-gradient(rgba(0, 0, 0, 0.3) 90%, black)\",\r\n                top: 0,\r\n                left: 0,\r\n              }}\r\n            ></div>\r\n          </div>\r\n          <div\r\n            className=\"position-absolute w-100 h-100\"\r\n            style={{\r\n              background: \"linear-gradient(rgb(0 0 0 / 30%), black)\",\r\n              top: 0,\r\n              left: 0,\r\n            }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n      <Modal open={openTrailer} onClose={() => setOpenTrailer(false)}>\r\n        <TrailerPlayer\r\n          movieId={movieId}\r\n          onEnded={() => setOpenTrailer(false)}\r\n        ></TrailerPlayer>\r\n      </Modal>\r\n      <div className=\"col-60 text-white px-md-5 py-5 px-4 content-container\">\r\n        <div className=\"row no-gutters py-5 mb-5\">\r\n          <div className=\"col-auto mr-5 d-none d-lg-block\">\r\n            <div className=\"w-100 position-relative\">\r\n              <img\r\n                alt={movie.poster_path}\r\n                style={{ borderRadius: \"25px\" }}\r\n                width=\"300px\"\r\n                src={`https://image.tmdb.org/t/p/w342/${movie.poster_path}`}\r\n              ></img>\r\n              <div\r\n                onClick={() => history.push(`/movie/${movie.id}`)}\r\n                className=\"col-60 h-100 text-white d-flex flex-center img-cover cursor-pointer\"\r\n                style={{\r\n                  left: 0,\r\n                  top: 0,\r\n                  position: \"absolute\",\r\n                  zIndex: 4,\r\n                  borderRadius: \"13px\",\r\n                }}\r\n              >\r\n                <div\r\n                  className=\"square-60 rounded-circle d-flex flex-center play-btn\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setOpenTrailer(true);\r\n                  }}\r\n                >\r\n                  <BsPlayFill\r\n                    style={{\r\n                      fontSize: \"35px\",\r\n                      color: \"white\",\r\n                      marginRight: \"-5px\",\r\n                    }}\r\n                  ></BsPlayFill>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col position-relative\">\r\n            <div\r\n              className=\"row no-gutters position-relative\"\r\n              style={{ zIndex: 5 }}\r\n            >\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters h5\">\r\n                  {movie.title} ({movie.release_date.substring(0, 4)})\r\n                </div>\r\n                <div className=\"row no-gutters text-movie-muted mb-2\">\r\n                  <div className=\"text-truncate\">\r\n                    {movie.genres.map((x) => x.name).join(\"/\")}\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters mb-4\">\r\n                  <div className=\"col-auto font-weight-500 mr-2\">Duration:</div>\r\n                  <div className=\"col-auto text-movie-muted\">\r\n                    {FormatDuration(movie.runtime)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters mb-4 text-light\">\r\n                  {movie.overview}\r\n                </div>\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <div className=\"col-auto\">\r\n                    <div className=\"row no-gutters\">\r\n                      <div className=\"col-auto mr-2\">Director:</div>\r\n                      <div className=\"col-auto mr-5 text-movie-muted\">\r\n                        {movie.director ? movie.director : \"unknown\"}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-auto\">\r\n                    <div className=\"row no-gutters\">\r\n                      <div className=\"col-auto mr-2\">Cast:</div>\r\n                      <div className=\"col\">\r\n                        <div className=\"row no-gutters\">\r\n                          <div\r\n                            className=\"text-clamp-2 text-muted-light cursor-pointer\"\r\n                            onClick={(e) => {\r\n                              if (\r\n                                e.currentTarget.classList.contains(\r\n                                  \"text-clamp-2\"\r\n                                )\r\n                              ) {\r\n                                e.currentTarget.classList.remove(\r\n                                  \"text-clamp-2\"\r\n                                );\r\n                              } else {\r\n                                e.currentTarget.classList.add(\"text-clamp-2\");\r\n                              }\r\n                            }}\r\n                          >\r\n                            {movie.cast.join(\"    \")}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters mb-3\">\r\n                  <ReactionButton\r\n                    selected={\r\n                      user.ratings[movie.id]\r\n                        ? user.ratings[movie.id].rate_type === \"excellent_rate\"\r\n                        : false\r\n                    }\r\n                    movie={movie}\r\n                    emoji=\"fire\"\r\n                    className=\"mr-2 mb-2\"\r\n                    value={\r\n                      ratings[movie.id] ? ratings[movie.id].excellent_rate : 0\r\n                    }\r\n                  ></ReactionButton>\r\n                  <ReactionButton\r\n                    selected={\r\n                      user.ratings[movie.id]\r\n                        ? user.ratings[movie.id].rate_type === \"good_rate\"\r\n                        : false\r\n                    }\r\n                    movie={movie}\r\n                    emoji=\"heart\"\r\n                    className=\"mr-2 mb-2\"\r\n                    value={ratings[movie.id] ? ratings[movie.id].good_rate : 0}\r\n                  ></ReactionButton>\r\n                  <ReactionButton\r\n                    selected={\r\n                      user.ratings[movie.id]\r\n                        ? user.ratings[movie.id].rate_type === \"ok_rate\"\r\n                        : false\r\n                    }\r\n                    movie={movie}\r\n                    className=\"mr-2 mb-2\"\r\n                    emoji=\"heavy_division_sign\"\r\n                    value={ratings[movie.id] ? ratings[movie.id].ok_rate : 0}\r\n                  ></ReactionButton>\r\n                  <ReactionButton\r\n                    emoji=\"shit\"\r\n                    value={ratings[movie.id] ? ratings[movie.id].bad_rate : 0}\r\n                    selected={\r\n                      user.ratings[movie.id]\r\n                        ? user.ratings[movie.id].rate_type === \"bad_rate\"\r\n                        : false\r\n                    }\r\n                    movie={movie}\r\n                  ></ReactionButton>\r\n                </div>\r\n                <div className=\"row no-gutters mb-5\">\r\n                  <div className=\"col-auto mr-2\">Release date:</div>\r\n                  <div className=\"col-auto text-movie-muted\">\r\n                    {date.format(new Date(movie.release_date), \"MMMM DD, YYYY\")}\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters justify-content-center justify-content-md-start\">\r\n                  <div\r\n                    className=\"col-auto mr-3 btn-custom btn-custom-primary btn-small\"\r\n                    onClick={() => {\r\n                      if (!user.token) {\r\n                        store.dispatch({\r\n                          type: \"SET_NOTIFICATION\",\r\n                          notification: {\r\n                            title: \"Login required\",\r\n                            message: \"You need to login to write review.\",\r\n                            type: \"failure\",\r\n                          },\r\n                        });\r\n                      } else {\r\n                        setAddReviewTrigger(addReviewTrigger + 1);\r\n                      }\r\n                    }}\r\n                  >\r\n                    Add Review\r\n                    <FaRegPaperPlane\r\n                      fontSize=\"20px\"\r\n                      className=\"ml-2\"\r\n                    ></FaRegPaperPlane>\r\n                  </div>\r\n                  <WishlistButton movie={movie} user={user}></WishlistButton>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <MovieReviews\r\n          movie={movie}\r\n          user={user}\r\n          addReviewTrigger={addReviewTrigger}\r\n        ></MovieReviews>\r\n      </div>\r\n      <div className=\"col-60\">\r\n        <Footer></Footer>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapp(state, ownProps) {\r\n  return {\r\n    user: state.user,\r\n    ratings: state.ratings,\r\n    settings: state.settings,\r\n    ...ownProps,\r\n  };\r\n}\r\n\r\nexport default connect(mapp)(Serie);\r\n","import React, { useState } from \"react\";\r\nimport history from \"../../History\";\r\nimport { SendPasswordResetLink } from \"../../server/DatabaseApi\";\r\nimport store from \"../../store/store\";\r\nimport Logo from \"../../images/Logo\";\r\nimport { BsChevronLeft } from \"react-icons/bs\";\r\nimport { validateEmail } from \"../../utilities/Functions\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [problem, setProblem] = useState(\"\");\r\n  const handleSubmit = async (email) => {\r\n    if (!validateEmail(email)) {\r\n      setProblem(\"Email is not valid\");\r\n    } else {\r\n      let res = await SendPasswordResetLink(email);\r\n      if (res.error) {\r\n        store.dispatch({\r\n          type: \"SET_NOTIFICATION\",\r\n          notification: {\r\n            type: \"failure\",\r\n            title: \"Error\",\r\n            message: res.error,\r\n          },\r\n        });\r\n      } else {\r\n        store.dispatch({\r\n          type: \"SET_NOTIFICATION\",\r\n          notification: {\r\n            type: \"success\",\r\n            title: \"Password reset link sent\",\r\n            message:\r\n              \"We sent email with password reset link to your email box. If you didn't get email, check spam folder\",\r\n          },\r\n        });\r\n        history.push(\"/login\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"row no-gutters justify-content-center aligm-items-start align-items-sm-center\"\r\n      style={{ height: window.innerHeight }}\r\n    >\r\n      <div className=\"col-xl-50 col-60 col-lg-50 col-md-30 col-sm-40 login-rounded overflow-hidden\">\r\n        <div className=\"row no-gutters h-100\">\r\n          <div className=\"col bg-dark d-lg-block d-none\">\r\n            <div className=\"row no-gutters h-100 flex-center position-relative\">\r\n              <div\r\n                className=\"position-absolute d-flex align-items-center text-white cursor-pointer\"\r\n                onClick={() => history.push(\"/\")}\r\n                style={{ top: \"15px\", left: \"15px\" }}\r\n              >\r\n                <BsChevronLeft className=\"mr-2\"></BsChevronLeft>Back to home\r\n              </div>\r\n              <div className=\"col-auto\">\r\n                <div className=\"square-150 mx-auto\">\r\n                  <Logo></Logo>\r\n                </div>\r\n                <div className=\"logo text-title-xl text-white\">CozyPotato</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"col-60 col-lg-30 col-xl-25 col-md-auto p-sm-5 p-4 bg-light\"\r\n            style={{\r\n              minHeight: window.innerHeight - 100,\r\n            }}\r\n          >\r\n            <div className=\"row no-gutters h-100 py-3 align-items-center\">\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters mb-4\">\r\n                  <div className=\"col-60 h3 mb-2\">Forgot Password?</div>\r\n                  <div className=\"col-60\">\r\n                    Enter email where you want to receive password reset link.\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters justify-content-center mb-4\">\r\n                  <div className=\"col-60 mb-1\">Email</div>\r\n                  <div className=\"col-60\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"input-light w-100 px-3\"\r\n                      value={email}\r\n                      onKeyDown={(e) => {\r\n                        if (e.keyCode === 13) {\r\n                          handleSubmit(email);\r\n                        }\r\n                      }}\r\n                      onChange={(e) => {\r\n                        e.persist();\r\n                        setEmail(e.target.value);\r\n                      }}\r\n                    ></input>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters mb-1\">\r\n                  <div\r\n                    className=\"col-60 btn-custom btn-custom-primary\"\r\n                    onClick={() => handleSubmit(email)}\r\n                  >\r\n                    Send me reset link\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  style={{ height: \"40px\", opacity: problem ? 1 : 0 }}\r\n                  className=\"row no-gutters align-items-center text-danger\"\r\n                >\r\n                  {problem}\r\n                </div>\r\n                <div className=\"row no-gutters justify-content-end\">\r\n                  <div\r\n                    className=\"btn-link col-auto mr-3\"\r\n                    onClick={() => history.push(\"/login\")}\r\n                  >\r\n                    Login\r\n                  </div>\r\n                  <div\r\n                    className=\"btn-link col-auto\"\r\n                    onClick={() => history.push(\"/signup\")}\r\n                  >\r\n                    Sign up\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport history from \"../../History\";\r\nimport { ResetPassword } from \"../../server/DatabaseApi\";\r\nimport store from \"../../store/store\";\r\nimport Logo from \"../../images/Logo\";\r\nimport { BsChevronLeft } from \"react-icons/bs\";\r\n\r\nconst ResetPasswordPage = (props) => {\r\n  let token = props.match.params.token;\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [problem, setProblem] = useState(\"\");\r\n  const validations = [\r\n    {\r\n      valid: /[^\\w\\s]/.test(password) || /\\d/.test(password),\r\n      error: \"Password must contain number or symbol\",\r\n    },\r\n    {\r\n      valid: password === confirmPassword,\r\n      error: \"Passwords don't match\",\r\n    },\r\n    {\r\n      valid: password.length >= 6,\r\n      error: \"Password must contain at least 6 characters\",\r\n    },\r\n  ];\r\n  const handleSubmit = async (password, token) => {\r\n    let notValid = validations.filter((x) => !x.valid);\r\n    if (notValid.length === 0) {\r\n      let res = await ResetPassword(password, token);\r\n      if (res.error) {\r\n        store.dispatch({\r\n          type: \"SET_NOTIFICATION\",\r\n          notification: {\r\n            type: \"failure\",\r\n            title: \"Error\",\r\n            message: res.error,\r\n          },\r\n        });\r\n      } else {\r\n        store.dispatch({\r\n          type: \"SET_NOTIFICATION\",\r\n          notification: {\r\n            type: \"success\",\r\n            title: \"Password reseted\",\r\n            message: \"Password successfully changed. You can login\",\r\n          },\r\n        });\r\n        history.push(\"/login\");\r\n      }\r\n    } else {\r\n      setProblem(notValid[0].error);\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      className=\"row no-gutters justify-content-center aligm-items-start align-items-sm-center\"\r\n      style={{ height: window.innerHeight }}\r\n    >\r\n      <div className=\"col-xl-50 col-60 col-lg-50 col-md-30 col-sm-40 login-rounded overflow-hidden\">\r\n        <div className=\"row no-gutters h-100\">\r\n          <div className=\"col bg-dark d-lg-block d-none\">\r\n            <div className=\"row no-gutters h-100 flex-center position-relative\">\r\n              <div\r\n                className=\"position-absolute d-flex align-items-center text-white cursor-pointer\"\r\n                onClick={() => history.push(\"/\")}\r\n                style={{ top: \"15px\", left: \"15px\" }}\r\n              >\r\n                <BsChevronLeft className=\"mr-2\"></BsChevronLeft>Back to home\r\n              </div>\r\n              <div className=\"col-auto\">\r\n                <div className=\"square-150 mx-auto\">\r\n                  <Logo></Logo>\r\n                </div>\r\n                <div className=\"logo text-title-xl text-white\">CozyPotato</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"col-60 col-lg-30 col-xl-25 col-md-auto p-sm-5 p-4 bg-light\"\r\n            style={{\r\n              minHeight: window.innerHeight - 100,\r\n            }}\r\n          >\r\n            <div className=\"row no-gutters h-100 py-3 align-items-center\">\r\n              <div className=\"col-60\">\r\n                <div className=\"row no-gutters mb-4\">\r\n                  <div className=\"col-60 h3 mb-2\">Reset Password</div>\r\n                  <div className=\"col-60\">\r\n                    Enter new password in input fields\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters justify-content-center mb-4\">\r\n                  <div className=\"col-60 mb-1\">New Password</div>\r\n                  <div className=\"col-60\">\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"input-light w-100 px-3\"\r\n                      value={password}\r\n                      onChange={(e) => {\r\n                        e.persist();\r\n                        setPassword(e.target.value);\r\n                      }}\r\n                    ></input>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters justify-content-center mb-4\">\r\n                  <div className=\"col-60 mb-1\">Confirm New Password</div>\r\n                  <div className=\"col-60\">\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"input-light w-100 px-3\"\r\n                      value={confirmPassword}\r\n                      onKeyDown={(e) => {\r\n                        if (e.keyCode === 13) {\r\n                          handleSubmit(password, token);\r\n                        }\r\n                      }}\r\n                      onChange={(e) => {\r\n                        e.persist();\r\n                        setConfirmPassword(e.target.value);\r\n                      }}\r\n                    ></input>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row no-gutters mb-1\">\r\n                  <div\r\n                    className=\"col-60 btn-custom btn-custom-primary\"\r\n                    onClick={() => handleSubmit(password, token)}\r\n                  >\r\n                    Set new password\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  style={{ height: \"40px\", opacity: problem ? 1 : 0 }}\r\n                  className=\"row no-gutters align-items-center text-danger\"\r\n                >\r\n                  {problem}\r\n                </div>\r\n                <div className=\"row no-gutters justify-content-end\">\r\n                  <div\r\n                    className=\"btn-link col-auto mr-3\"\r\n                    onClick={() => history.push(\"/login\")}\r\n                  >\r\n                    Login\r\n                  </div>\r\n                  <div\r\n                    className=\"btn-link col-auto\"\r\n                    onClick={() => history.push(\"/signup\")}\r\n                  >\r\n                    Sign up\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetPasswordPage;\r\n","import React, { useEffect } from \"react\";\r\nimport store from \"./store/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport { Router, Switch, Route } from \"react-router-dom\";\r\nimport history from \"./History\";\r\nimport Home from \"./components/user/Home\";\r\nimport Movie from \"./components/user/Movie\";\r\nimport SearchResults from \"./components/user/SearchResults\";\r\nimport AdminDashboard from \"./components/admin/AdminDashboard\";\r\nimport Login from \"./components/login/Login\";\r\nimport Signup from \"./components/login/Signup\";\r\nimport Toast from \"./components/user/Toast\";\r\nimport {\r\n  GetAllRatings,\r\n  GetAllPublicUsers,\r\n  LoginWithToken,\r\n  GetSettings,\r\n} from \"./server/DatabaseApi\";\r\nimport Profile from \"./components/user/profile/Profile\";\r\nimport PrivateRoute from \"./utilities/PrivateRoute\";\r\nimport Navbar from \"./components/user/Navbar\";\r\nimport Serie from \"./components/user/Serie\";\r\nimport Footer from \"./components/user/Footer\";\r\nimport LegalDocument from \"./components/user/LegalDocument\";\r\nimport ForgotPassword from \"./components/login/ForgotPassword\";\r\nimport ResetPassword from \"./components/login/ResetPassword\";\r\n\r\nfunction App() {\r\n  useEffect(() => {\r\n    async function getData() {\r\n      GetSettings((settings) => {\r\n        if (!settings.error) {\r\n          if (!settings.length) {\r\n            store.dispatch({\r\n              type: \"SET_NOTIFICATION\",\r\n              notification: {\r\n                title: \"Action required\",\r\n                message:\r\n                  \"Settings are not set. Inform website administrator to set Api key and other settings for the website\",\r\n                type: \"failure\",\r\n              },\r\n            });\r\n          } else {\r\n            store.dispatch({ type: \"UPDATE_SETTINGS\", settings: settings[0] });\r\n          }\r\n        } else {\r\n          store.dispatch({\r\n            type: \"SET_NOTIFICATION\",\r\n            notification: {\r\n              title: \"Action required\",\r\n              message:\r\n                \"Settings are not set. Inform website administrator to set Api key and other settings for the website\",\r\n              type: \"failure\",\r\n            },\r\n          });\r\n        }\r\n      });\r\n\r\n      GetAllRatings((ratingsArr) => {\r\n        let ratings = {};\r\n        ratingsArr.forEach((x) => {\r\n          ratings[x.tmdb_id] = x;\r\n        });\r\n        store.dispatch({ type: \"SET_RATINGS\", ratings });\r\n      });\r\n\r\n      GetAllPublicUsers((publicUsersArr) => {\r\n        let publicUsers = {};\r\n        publicUsersArr.forEach((x) => {\r\n          publicUsers[x.user_id] = x;\r\n        });\r\n        store.dispatch({ type: \"SET_PUBLICUSERS\", publicUsers });\r\n      });\r\n\r\n      let userToken = localStorage.getItem(\"movies_user_token\");\r\n      if (userToken !== null && userToken.length) {\r\n        let res = await LoginWithToken({ token: userToken });\r\n        if (!res.error) {\r\n          store.dispatch({ type: \"SET_USER\", user: res });\r\n        }\r\n      }\r\n\r\n      // let errorRes = await CreateError();\r\n      // store.dispatch({\r\n      //   type: \"SET_NOTIFICATION\",\r\n      //   notification: {\r\n      //     title: \"Action required\",\r\n      //     message: errorRes,\r\n      //     type: \"failure\",\r\n      //   },\r\n      // });\r\n    }\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n    <Provider store={store}>\r\n      <Router history={history}>\r\n        <div className=\"container-fluid px-0\">\r\n          <Navbar></Navbar>\r\n          <Switch>\r\n            <Route\r\n              exact\r\n              path=\"/terms-and-conditions\"\r\n              render={() => (\r\n                <LegalDocument type=\"terms-and-conditions\"></LegalDocument>\r\n              )}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/cookies-policy\"\r\n              render={() => (\r\n                <LegalDocument type=\"cookies-policy\"></LegalDocument>\r\n              )}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/privacy-policy\"\r\n              render={() => (\r\n                <LegalDocument type=\"privacy-policy\"></LegalDocument>\r\n              )}\r\n            ></Route>\r\n            <Route exact path=\"/\" component={Home}></Route>\r\n            <Route\r\n              exact\r\n              path=\"/movie/:movieId/:reviewId/:commentId\"\r\n              component={Movie}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/movie/:movieId/:reviewId\"\r\n              component={Movie}\r\n            ></Route>\r\n            <Route exact path=\"/movie/:movieId\" component={Movie}></Route>\r\n            <Route exact path=\"/series/:movieId\" component={Serie}></Route>\r\n            <Route exact path=\"/search\" component={SearchResults}></Route>\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/admin\"\r\n              bearerPath=\"/login\"\r\n              Component={AdminDashboard}\r\n            ></PrivateRoute>\r\n            <Route exact path=\"/login\" component={Login}></Route>\r\n            <Route exact path=\"/signup\" component={Signup}></Route>\r\n            <Route\r\n              exact\r\n              path=\"/forgot-password\"\r\n              component={ForgotPassword}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/reset-password/:token\"\r\n              component={ResetPassword}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/profile/:userId/:section\"\r\n              component={Profile}\r\n            ></Route>\r\n            <Route exact path=\"/profile/:userId\" component={Profile}></Route>\r\n          </Switch>\r\n          <Footer></Footer>\r\n          <Toast></Toast>\r\n        </div>\r\n      </Router>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./styles/style.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}