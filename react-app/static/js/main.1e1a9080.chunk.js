(this.webpackJsonpreports=this.webpackJsonpreports||[]).push([[0],{203:function(e,t,a){e.exports=a(313)},208:function(e,t,a){},313:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),s=a.n(o),c=(a(208),a(4)),i=a.n(c),l=a(6),m=a(88);var u=Object(m.b)({publicUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PUBLICUSERS":return t.publicUsers;case"UPDATE_PUBLICUSERS":return Object.assign({},e,t.publicUser);default:return e}},ratings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RATINGS":return t.ratings;case"UPDATE_RATINGS":return Object.assign({},e,t.rating);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{first_name:"",last_name:"",display_name:"",photo:"",token:"",email:"",ratings:{},reviews:[],wishlist:[],watchedlist:[],notifications:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.user;case"UPDATE_USER":return Object.assign({},e,t.userProperty);default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{query:"",category:"All"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH":return t.search;case"UPDATE_SEARCH":return Object.assign({},e,t.search);default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",message:"",expired:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return t.notification;case"UPDATE_NOTIFICATION":return Object.assign({},e,t.notification);default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{movies_api_key:"",captcha_api_key:"6Lc_87cZAAAAAHRx49G1d-mM3gxWM_RKLAA41T3U",movie_data_api:"",latest_movies_api:"",no_popular_reviews:5,no_popular_movies:5,no_allowed_reviews:5,no_comment_characters:400,no_display_name_characters:40,no_review_words:80,bg_image_refresh_time_days:1,bg_image_refresh_time_hours:0,bg_image_refresh_time_minutes:0,FacebookLink:"",InstagramLink:"",TwitterLink:"",LinkedinLink:"",current_bg_movie:{date_set:Date.now(),id:"300671",poster_path:"/4qnEeVPM8Yn5dIVC4k4yyjrUXeR.jpg",backdrop_path:"/ayDMYGUNVvXS76wQgFwTiUIDNb5.jpg",release_date:"2016-01-13",overview:"An American Ambassador is killed during an attack at a U.S. compound in Libya as a security team struggles to make sense out of the chaos.",title:"13 Hours: The Secret Soldiers of Benghazi",genres:[{id:28,name:"Action"},{id:36,name:"History"},{id:53,name:"Thriller"}],runtime:144}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SETTINGS":return t.settings;case"UPDATE_SETTINGS":return Object.assign({},e,t.settings);default:return e}},navbarHeight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HEIGHT":return t.height;default:return e}},dashboardMenuOpened:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DASHBOARD_MENU_OPENED":return t.isOpened;default:return e}}}),d=Object(m.c)(u,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),p=a(9),v=a(358),g=a(53),f=Object(g.a)(),h=a(7),E=a(2),b=a(23);var y=function(e){var t=e.size?e.size:16;return n.createElement("svg",Object.assign({id:"prefix__svg8",viewBox:"0 0 4.233 4.233",height:t,width:t},e),n.createElement("defs",{id:"prefix__defs2"},n.createElement("style",{id:"style899"},".prefix__b{font-size:6px;font-family:OpenSans-Semibold,Open Sans;font-weight:600}")),n.createElement("g",{transform:"translate(-20.26 -2.608)",id:"prefix__layer1"},n.createElement("g",{transform:"matrix(.26458 0 0 .26458 20.26 2.608)",id:"prefix__g928"},n.createElement("rect",{y:0,x:0,width:16,height:16,rx:8,id:"prefix__rect903",fill:"#fff"}),n.createElement("text",{className:"prefix__b",transform:"translate(5 6)",id:"prefix__text907"},n.createElement("tspan",{x:0,y:0,id:"prefix__tspan905"},"50")),n.createElement("text",{className:"prefix__b",transform:"translate(5 14)",id:"prefix__text911"},n.createElement("tspan",{x:0,y:0,id:"prefix__tspan909"},"50")),n.createElement("path",{d:"M6374.557 553h9",transform:"translate(-6370.950 -545)",id:"prefix__path913",fill:"none",stroke:"#000"}))))},w=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],N=[{id:10759,name:"Action & Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:10762,name:"Kids"},{id:9648,name:"Mystery"},{id:10763,name:"News"},{id:10764,name:"Reality"},{id:10765,name:"Sci-Fi & Fantasy"},{id:10766,name:"Soap"},{id:10767,name:"Talk"},{id:10768,name:"War & Politics"},{id:37,name:"Western"}],x=[{name:"excellent_rate",element:r.a.createElement("div",{className:"text-center py-3",style:{lineHeight:"100%"}},r.a.createElement(b.a,{emoji:"fire",set:"facebook",size:24}))},{name:"good_rate",element:r.a.createElement("div",{className:"text-center py-3",style:{lineHeight:"100%"}},r.a.createElement(b.a,{emoji:"heart",set:"facebook",size:24}))},{name:"ok_rate",element:r.a.createElement("div",{className:"text-center py-3",style:{lineHeight:"100%"}},r.a.createElement(y,{size:34}))},{name:"bad_rate",element:r.a.createElement("div",{className:"text-center py-3",style:{lineHeight:"100%"}},r.a.createElement(b.a,{emoji:"shit",set:"facebook",size:24}))}],O=a(14),_="https://calm-coast-57354.herokuapp.com",j=function(e,t){return fetch("".concat(_).concat(e),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))},k=function(e){return fetch("".concat(_).concat(e)).then((function(e){return e.json()}))},C=function(e){return j("/user/login",e)},S=function(e){return j("/user/loginWithToken",e)},I=function(e){k("/ratings/get/all").then((function(t){return e(t)}))},T=function(e){return k("/publicUsers/get/all").then((function(t){return e(t)}))},A=function(e,t,a,n){return j("/reviews/add",{review:e,movieId:t,user:a,apiKey:n})},P=function(e,t,a){return j("/reviews/edit",{review:e,prevReview:t,userId:a})},D=function(e){return j("/reviews/delete",{review:e})},z=function(e){return j("/reviews/get/movie",{movieId:e})},R=function(e){return j("/reviews/getPromoted/movie",{movieId:e})},Y=function(e,t){return j("/comments/update",{user:t,comment:e})},U=function(e,t){return j("/comments/edit",{commentId:t,comment:e})},M=function(e){return j("/comments/delete",{commentsIds:[e]})},F=function(e){return j("/comments/get/review",{reviewId:e})},L=function(e,t,a){return j("/movie/addToWishlist",{user:e,movieId:t,apiKey:a})},W=function(e,t){return j("/movie/views/add",{movieId:e,apiKey:t})},q=function(e,t){return j("/reviews/like",{user:e,reviewId:t})},B=function(e,t){return j("/comments/like",{user:e,commentId:t})},H=function(e,t){return j("/reviews/report",{user:e,reviewId:t})},G=function(e,t){return j("/comments/report",{user:e,commentId:t})},K=function(e){return j("/users/get",{userId:e})},V=function(e){return j("/reviews/get/user",{reviewIds:e})},X=function(e,t){return j("/reviews/get/user/one",{userId:e,movieId:t})},J=function(e){return j("/comments/get/user",{commentIds:e})},Z=function(e){return j("/users/edit",{update:e})},$=function(e){return j("/reviews/get/popular",{limit:e})},Q=function(e){return j("/reviews/get/recent",{limit:e})},ee=function(e){return j("/movies/get/recommended",{limit:e})},te=function(e){return j("/reviews/search",{query:e})},ae=function(e){return j("/settings/updateOrCreate",e)},ne=function(e){k("/settings/get").then((function(t){return e(t)}))},re=function(){return k("/admin/users/get")},oe=function(){return k("/admin/reviews/get")},se=function(){return k("/admin/comments/get")},ce=function(e,t){return j("/admin/reviews/edit",{review:e,user:t})},ie=function(e,t){return j("/admin/comments/edit",{comment:e,user:t})},le=function(e){return j("/admin/reviews/delete",e)},me=function(e){return j("/admin/comments/delete",e)},ue=function(e,t,a){return j("/admin/users/editMultiple",{ids:e,pids:t,update:a})},de=function(){return k("/admin/announcements/get")},pe=function(e){return j("/admin/announcements/create",e)},ve=function(e){return j("/admin/announcements/delete",e)},ge=function(e){return j("/admin/announcements/edit",e)},fe=function(){return k("/announcements/getActive")},he=function(){return k("/admin/promotions/get")},Ee=function(e){return j("/admin/promotions/edit",e)},be=function(e){return j("/user/notifications/get/",{ids:e})},ye=function(){return k("/admin/notifications/get")},we=function(e){return j("/admin/notifications/create",e)},Ne=function(e){return j("/admin/notifications/edit",e)},xe=function(e,t){return j("/admin/notifications/delete",{ids:e,update:t})},Oe=function(e,t,a){return j("/movie/moveToWatchedList",{user:e,movieId:t,apiKey:a})},_e=function(){return k("/reviews/getPromoted")},je=function(e){return j("/user/password/sendResetLink",{email:e})},ke=function(e,t){return j("/user/password/reset",{token:t,password:e})},Ce=a(108),Se=(a(215),a(183)),Ie=function(e){var t=e.className,a=e.onOpen,o=void 0===a?function(){}:a,s=e.position,c=void 0===s?"bottom":s,i=e.arrow,l=void 0===i||i,m=e.theme,u=void 0===m?"light":m,d=e.content,p=void 0===d?function(){}:d,v=e.trigger,g=void 0===v?"click":v,f=e.delay,h=void 0===f?0:f,b=e.animation,y=void 0===b?"scale":b,w=e.open,N=void 0===w?void 0:w,x=e.onHide,O=void 0===x?function(){}:x,_=(e.popoverWidth,Object(Ce.a)(e,["className","onOpen","position","arrow","theme","content","trigger","delay","animation","open","onHide","popoverWidth"])),j=Object(n.useState)(0),k=Object(E.a)(j,2),C=k[0],S=k[1];Object(n.useEffect)((function(){return function(){for(var e=document.getElementsByClassName("tippy-popper"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}}),[]);var I=Object(n.useState)(!1),T=Object(E.a)(I,2),A=T[0],P=T[1];return r.a.createElement(Se.Tooltip,{onShow:function(){A||(P(!0),o())},onHide:O,delay:h,hideDelay:0,html:p(C),position:c,trigger:g,theme:u,arrow:l,interactive:!0,animation:y,open:N,unmountHTMLWhenHide:!0,className:t},r.a.cloneElement(_.children,Object.assign({},_.children.props,{ref:function(e){if(e&&(0===C&&S(e.getBoundingClientRect().width),_.children)){var t=_.children.ref;t&&"current"in t&&(t.current=e),"function"===typeof t&&t(e)}}})))},Te=function(e){var t=e.loading,a=e.size,n=void 0===a?50:a,o=e.theme,s=void 0===o?"light":o;return t&&r.a.createElement("div",{className:"w-100 h-100 d-flex flex-center"},r.a.createElement("div",{className:"loader-".concat(s),style:{width:"".concat(n,"px"),height:"".concat(n,"px")}}))};var Ae=function(e){var t=e.size?e.size:20;return n.createElement("svg",Object.assign({viewBox:"0 0 4.928 2.882",height:t,width:t},e),n.createElement("g",{transform:"translate(-19.41 -12.996)",fillOpacity:.988,paintOrder:"markers fill stroke"},n.createElement("rect",{rx:0,y:12.996,x:19.41,height:.6,width:3.449,ry:.084}),n.createElement("rect",{width:3.449,height:.6,x:19.415,y:14.098,rx:0,ry:.077}),n.createElement("rect",{width:2.238,height:.551,x:19.423,y:15.226,rx:0,ry:.071}),n.createElement("rect",{rx:0,y:15.226,x:22.1,height:.551,width:2.238,ry:.077})))};var Pe=Object(p.b)((function(e,t){return Object(h.a)({apiKey:e.settings.movies_api_key},t)}))((function(e){var t=e.user,a=e.movie,o=e.apiKey,s=Object(n.useState)(!1),c=Object(E.a)(s,2),m=c[0],u=c[1],p=function(){var e=Object(l.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("movie id wishlist",a.id),!t.display_name){e.next=12;break}if(!a.id){e.next=10;break}return u(!0),e.next=7,L(t,a.id,o);case 7:r=e.sent,u(!1),r.updatedUser?(d.dispatch({type:"UPDATE_USER",userProperty:r.updatedUser}),d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Movie ".concat(n," wishlist"),message:"Movie successfully ".concat(n," your wishlist"),type:"success"}}),I((function(e){var t={};e.forEach((function(e){t[e.tmdb_id]=e})),d.dispatch({type:"SET_RATINGS",ratings:t})}))):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:JSON.stringify(r.error).replace(/"/g,""),type:"failure"}});case 10:e.next=13;break;case 12:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action not allowed",message:"You need to login to add movie to wishlist",type:"failure"}});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action failed",message:"Couldn't add movie to wishlist",type:"failure"}});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),v=-1!==t.wishlist.findIndex((function(e){return e.movie_id===a.id.toString()}));return-1!==t.watchedlist.findIndex((function(e){return e.movie_id===a.id.toString()}))?"":r.a.createElement(Ie,{theme:"dark",position:"top",content:function(e){return r.a.createElement("div",{className:"px-3 py-2"},v?"Remove from wishlist":"Add to wishlist")},trigger:"mouseenter"},r.a.createElement("div",{style:{pointerEvents:"all"},className:"btn-custom ".concat(v?"btn-custom-danger":"btn-custom-iconic")},m?r.a.createElement(Te,{size:30,loading:m,color:"white"}):v?r.a.createElement(Ae,{color:"white",fill:"white",onClick:function(){return p("removed from")},size:28}):r.a.createElement(O.f,{onClick:function(){return p("added to")},className:"text-title-xl",style:{marginRight:"-5px"}})))})),De=function(e,t){var a,n=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}];for(a=n.length-1;a>0&&!(e>=n[a].value);a--);return(e/n[a].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[a].symbol},ze=function(e){var t=Math.floor(e/60),a=e-60*t;return"".concat(t,"h ").concat(a,"m")},Re=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())};var Ye=Object(p.b)((function(e,t){return Object(h.a)({user:e.user,ratings:e.ratings},t)}))((function(e){var t=e.emoji,a=e.onClick,n=e.size,o=void 0===n?"normal":n,s=e.allowRate,c=void 0!==s&&s,m=e.selected,u=e.className,d=e.value;return r.a.createElement("div",{onClick:Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&a&&a();case 1:case"end":return e.stop()}}),e)}))),className:"col-auto btn-reaction-".concat(o," ").concat(c?"btn-reaction":"").concat(m?" btn-reaction-selected":"").concat(u?" ".concat(u):"")},r.a.createElement("div",{className:"row no-gutters align-items-center h-100 justify-content-center"},void 0!==d&&null!==d?r.a.createElement("div",{className:"col mr-".concat("small"!==o?"2":"1")},De(d.length,1)):"",r.a.createElement("div",{className:"col-auto"},"heavy_division_sign"===t?r.a.createElement("div",{style:{marginTop:"normal"===o?"-2px":"-4px"}},r.a.createElement(y,{size:"small"===o?14:"normal"===o?16:28})):r.a.createElement("div",{style:{marginBottom:"normal"===o?"-6px":"-2px"}},r.a.createElement(b.a,{emoji:t,set:"facebook",size:"small"===o?14:"normal"===o?16:28})))))})),Ue=a(184),Me=a.n(Ue),Fe=(a(71),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;return"".concat("https://api.themoviedb.org/3").concat(e,"?api_key=").concat(a,"&").concat(["language=en-US"].concat(t).join("&"))}),Le=function(e,t){return fetch(Fe("/discover/movie",["sort_by=popularity.desc","with_genres=".concat(e.join(","))],t)).then((function(e){return e.json()}))},We=function(e,t){var a="serie-"===e.substring(0,6)?e.substring(6):e;return fetch(Fe("/".concat("serie-"===e.substring(0,6)?"tv":"movie","/").concat(a,"/videos"),[],t)).then((function(e){return e.json()}))},qe=function(e,t){return fetch(Fe("/tv/".concat(e),[],t)).then((function(e){return e.json()}))},Be=function(e,t){return fetch(Fe("/movie/".concat(e),[],t)).then((function(e){return e.json()}))},He=function(e,t){var a="serie-"===e.substring(0,6)?e.substring(6):e;return fetch(Fe("/".concat("serie-"===e.substring(0,6)?"tv":"movie","/").concat(a,"/credits"),[],t)).then((function(e){return e.json()}))},Ge=function(e,t){var a=Fe("/search/movie",["query=".concat(e)],t);return fetch(a).then((function(e){return e.json()}))},Ke=function(e,t){var a=Fe("/search/tv",["query=".concat(encodeURI(e))],t);return fetch(a).then((function(e){return e.json()}))};var Ve=Object(p.b)((function(e,t){return Object(h.a)({settings:e.settings},t)}))((function(e){var t=e.movieId,a=e.settings,o=e.onEnded,s=e.modalOpened,c=e.setIsEmpty,m=void 0===c?function(){}:c,u=Object(n.useState)([]),d=Object(E.a)(u,2),p=d[0],v=d[1],g=Object(n.useState)(""),f=Object(E.a)(g,2),h=f[0],b=f[1],y=Object(n.useState)(!1),w=Object(E.a)(y,2),N=w[0],x=w[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!a.movies_api_key){e.next=5;break}return e.next=3,We(t.toString(),a.movies_api_key);case 3:(n=e.sent).results&&n.results.length?v(n.results.map((function(e){return e.key}))):(b("We couldn't find trailer for this movie"),m());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a.movies_api_key]),r.a.createElement("div",{className:"col-xl-33 col-lg-36 col-md-39 col-sm-42 col-60"},r.a.createElement("div",{className:"row no-gutters"},p.length&&s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-60".concat(N?"":" d-none")},r.a.createElement("div",{className:"trailer-player-wrapper"},r.a.createElement(Me.a,{onReady:function(){return x(!0)},onEnded:o,config:{youtube:{playerVars:{showinfo:0,iv_load_policy:3}}},playing:!0,className:"trailer-player",controls:!0,width:"100%",height:"100%",url:"https://www.youtube.com/watch?v=".concat(p[0])}))),r.a.createElement("div",{className:"col-60".concat(N?" d-none":"")},r.a.createElement(Te,{size:80,loading:!0}))):h?r.a.createElement("div",{className:"text-white h4 m-auto"},h):""))})),Xe=a(8),Je=function(e){Object(n.useEffect)((function(){e.open?document.body.style.overflow="hidden":document.body.style.overflow="visible"}),[e.open]);var t=e.mobileCloserColor?e.mobileCloserColor:"white",a=e.desktopCloserColor?e.desktopCloserColor:"white";return r.a.createElement("div",{className:"container-fluid w-100 h-100 modal-container px-0 overflow-auto".concat(e.open?"":" d-none")},r.a.createElement("div",{className:"row no-gutters justify-content-end d-md-flex d-none",style:{position:"sticky",top:0,zIndex:55}},r.a.createElement("div",{onClick:e.onClose,className:"modal-closer",style:{color:a}},r.a.createElement(Xe.o,{fontSize:"24px",strokeWidth:"2px"}))),r.a.createElement("div",{className:"row no-gutters justify-content-end d-flex d-md-none",style:{position:"sticky",top:0,zIndex:55}},r.a.createElement("div",{onClick:e.onClose,className:"modal-closer d-md-none d-flex",style:{color:t}},r.a.createElement(Xe.o,{fontSize:"24px",strokeWidth:"2px"}))),r.a.createElement("div",{className:"row no-gutters h-100 align-items-center justify-content-center"},e.children))},Ze=a(19),$e=a(15);var Qe=Object(p.b)((function(e,t){return Object(h.a)({apiKey:e.settings.movies_api_key},t)}))((function(e){var t=e.user,a=e.movieId,o=e.refreshProfile,s=void 0===o?function(){}:o,c=e.apiKey,m=Object(n.useState)(!1),u=Object(E.a)(m,2),p=u[0],v=u[1],g=function(){var e=Object(l.a)(i.a.mark((function e(){var n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.display_name){e.next=10;break}if(!a){e.next=8;break}return v(!0),e.next=5,Oe(t,a,c);case 5:n=e.sent,v(!1),n.updatedUser?(r=Object($e.a)(t.wishlist),-1!==(o=r.findIndex((function(e){return e.movie_id===a})))&&r.splice(o),d.dispatch({type:"UPDATE_USER",userProperty:n.updatedUser}),d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Movie marked as watched",message:"Movie successfully added to your watched list",type:"success"}}),d.dispatch({type:"UPDATE_RATINGS",rating:Object(Ze.a)({},a,n.rating)}),s()):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:JSON.stringify(n.error).replace(/"/g,""),type:"failure"}});case 8:e.next=11;break;case 10:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action not allowed",message:"You need to login to add movie to wishlist",type:"failure"}});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ie,{theme:"dark",position:"top",content:function(e){return r.a.createElement("div",{className:"px-3 py-2"},"Mark as watched")},trigger:"mouseenter"},r.a.createElement("div",{className:"btn-custom btn-custom-iconic",style:{pointerEvents:"all"}},p?r.a.createElement(Te,{size:30,loading:p,color:"white"}):r.a.createElement(O.h,{onClick:g,className:"text-title-xl"})))}));var et=Object(p.b)((function(e,t){return Object(h.a)({settings:e.settings,ratings:e.ratings},t)}))((function(e){var t=e.open,a=e.onClose,o=e.movie,s=e.user,c=e.review,m=e.refreshReviews,u=void 0===m?function(){}:m,p=e.settings,v=e.ratings,g=e.userIsOwner,f=Object(n.useState)({review:"",rating:""}),b=Object(E.a)(f,2),y=b[0],w=b[1],N=Object(n.useState)(""),x=Object(E.a)(N,2),O=x[0],_=x[1],j=Object(n.useState)(!1),k=Object(E.a)(j,2),C=k[0],S=k[1];return Object(n.useEffect)((function(){c&&w((function(e){return Object.assign({},e,{review:c.review,rating:c.rating})}))}),[c]),o?r.a.createElement(Je,{open:t,onClose:a},r.a.createElement("div",{className:"col-xl-42 p-4 bg-over-root-lighter rounded mx-4"},r.a.createElement("div",{className:"row no-gutters h5 mb-4"},g?"Edit":"Add"," Review - ",o.title," (",o.release_date.substring(0,4),")"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto pr-3 d-none d-md-block"},r.a.createElement("div",{className:"square-70 rounded-circle bg-image",style:{backgroundImage:"url(".concat(s.photo,")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters d-flex d-md-none mb-3 justify-content-between"},r.a.createElement("div",{className:"col-auto pr-3"},r.a.createElement("div",{className:"square-70 rounded-circle bg-image",style:{backgroundImage:"url(".concat(s.photo,")")}})),r.a.createElement("div",{className:"d-flex align-items-end col-auto ".concat(y.review.split(" ").length<=p.no_review_words-1?"text-muted":"text-danger")},y.review?p.no_review_words-y.review.split(" ").length:p.no_review_words," ","words left")),r.a.createElement("div",{className:"row no-gutters mb-2",style:{height:"150px"}},r.a.createElement("textarea",{onChange:function(e){e.persist();var t=e.target.value;t.split(" ").length<=p.no_review_words&&w((function(e){return Object.assign({},e,{review:t})}))},value:y.review,spellCheck:!1,placeholder:"Add your review...",style:{resize:"none"},className:"w-100 h-100 textarea"})),r.a.createElement("div",{className:"row no-gutters justify-content-between mb-2"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Ye,{allowRate:!0,size:"big",onClick:function(){return w((function(e){return Object.assign({},e,{rating:"excellent_rate"})}))},selected:"excellent_rate"===y.rating,emoji:"fire",className:"mr-2 mb-2",value:v[o.id]?v[o.id].excellent_rate:0}),r.a.createElement(Ye,{allowRate:!0,size:"big",onClick:function(){return w((function(e){return Object.assign({},e,{rating:"good_rate"})}))},selected:"good_rate"===y.rating,emoji:"heart",className:"mr-2 mb-2",value:v[o.id]?v[o.id].good_rate:0}),r.a.createElement(Ye,{allowRate:!0,size:"big",onClick:function(){return w((function(e){return Object.assign({},e,{rating:"ok_rate"})}))},selected:"ok_rate"===y.rating,emoji:"heavy_division_sign",className:"mr-2 mb-2",value:v[o.id]?v[o.id].ok_rate:0}),r.a.createElement(Ye,{allowRate:!0,size:"big",onClick:function(){return w((function(e){return Object.assign({},e,{rating:"bad_rate"})}))},emoji:"shit",selected:"bad_rate"===y.rating,className:"mr-2",value:v[o.id]?v[o.id].bad_rate:0}))),r.a.createElement("div",{className:"d-none d-md-block col-auto ".concat(y.review.split(" ").length<=p.no_review_words-1?"text-muted":"text-danger")},y.review?p.no_review_words-y.review.split(" ").length:p.no_review_words," ","words left")),r.a.createElement("div",{className:"row no-gutters align-items-center text-danger justify-content-end",style:{height:"30px",opacity:O?1:0}},O),r.a.createElement("div",{className:"row no-gutters justify-content-md-end justify-content-center"},r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small position-relative",onClick:Object(l.a)(i.a.mark((function e(){var t,n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,y.rating){e.next=5;break}_("Select rating"),e.next=23;break;case 5:if(y.review){e.next=9;break}_("Review is empty"),e.next=23;break;case 9:if(S(!0),!g){e.next=16;break}return e.next=13,P(y,c,s._id);case 13:e.t0=e.sent,e.next=19;break;case 16:return e.next=18,A(y,o.id,s,p.movies_api_key);case 18:e.t0=e.sent;case 19:t=e.t0,S(!1),w({review:"",rating:""}),t.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Couldn't ".concat(g?"edit":"add"," review"),type:"failure",message:JSON.stringify(t.error).replace(/"/g,"")}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"You successfully ".concat(g?"edited":"wrote"," review"),type:"success",message:"Your review was successfully ".concat(g?"edited":"added")}}),d.dispatch({type:"UPDATE_RATINGS",rating:Object(Ze.a)({},o.id,t.rating)}),g||((n=Object($e.a)(s.watchedlist)).push({movie_id:o.id.toString()}),(r=Object($e.a)(s.reviews)).push(t.reviewId),d.dispatch({type:"UPDATE_USER",userProperty:{watchedlist:n,reviews:r}})),(l=Object(h.a)({},s.ratings))[o.id]={movie_id:o.id,rate_type:y.rating},d.dispatch({type:"UPDATE_USER",userProperty:{ratings:l}}),a(),u());case 23:e.next=27;break;case 25:e.prev=25,e.t1=e.catch(0);case 27:case"end":return e.stop()}}),e,null,[[0,25]])})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:C,size:20}),"Submit")))))):""}));var tt=Object(p.b)((function(e,t){return Object(h.a)({user:e.user,ratings:e.ratings},t)}))((function(e){var t=e.movies,a=e.user,o=e.ratings,s=(e.prefix,Object(n.useState)("")),c=Object(E.a)(s,2),i=c[0],l=c[1],m=Object(n.useState)(!1),u=Object(E.a)(m,2),d=u[0],p=u[1],v=Object(n.useState)(!1),g=Object(E.a)(v,2),h=g[0],b=g[1],y=Object(n.useState)(!1),x=Object(E.a)(y,2),O=x[0],_=x[1];return r.a.createElement("div",{className:"row justify-content-end"},r.a.createElement(Je,{open:d,onClose:function(){return p(!1)}},r.a.createElement(Ve,{modalOpened:d,movieId:i,onEnded:function(){return p(!1)}})),r.a.createElement(et,{open:h,onClose:function(){return b(!1)},movie:O,user:a}),t.map((function(e,t){return r.a.createElement("div",{key:"result-".concat(t),className:"col-lg-12 col-md-15 col-sm-20 col-60 p-3 text-white"},r.a.createElement("div",{className:"row no-gutters justify-content-end position-relative px-2 d-none d-sm-flex",style:{marginBottom:"-51px",zIndex:5,height:"44px",pointerEvents:"none"}},r.a.createElement(Pe,{movie:e,user:a}),r.a.createElement("div",{className:"pr-1"}),r.a.createElement(Qe,{refreshProfile:function(){_(e),b(!0)},user:a,movieId:e.id})),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-60 col-auto mr-3 mr-sm-0"},r.a.createElement("div",{className:"row no-gutters mb-2 position-relative movies-list-image"},r.a.createElement("img",{alt:e.poster_path,width:"100%",style:{borderRadius:"13px"},className:"img-clickable",src:e.poster_path?"https://image.tmdb.org/t/p/w342".concat(e.poster_path):"https://critics.io/img/movies/poster-placeholder.png"}),r.a.createElement("div",{onClick:function(){return f.push("/movie/".concat(e.name?"serie-".concat(e.id):e.id))},className:"col-60 h-100 text-white d-flex flex-center img-cover cursor-pointer",style:{left:0,top:0,position:"absolute",zIndex:4,borderRadius:"13px"}},r.a.createElement("div",{className:"square-50 rounded-circle d-flex flex-center play-btn",onClick:function(t){t.stopPropagation(),l(e.id),p(!0)}},r.a.createElement(Xe.l,{style:{fontSize:"30px",color:"white",marginRight:"-5px"}}))))),r.a.createElement("div",{className:"col-sm-60 col"},r.a.createElement("div",{className:"row no-gutters text-title-md mb-0 cursor-pointer",onClick:function(){return f.push("/movie/".concat(e.id))}},r.a.createElement("div",{className:"text-truncate"},e.title?e.title:e.name)),r.a.createElement("div",{className:"row no-gutters text-muted mb-2"},r.a.createElement("div",{className:"text-truncate"},e.genre_ids.length?e.genre_ids.map((function(t){var a=e.title?w.find((function(e){return e.id===t})):N.find((function(e){return e.id===t}));return a?a.name:"unknown"})).join("/"):"unknown")),r.a.createElement("div",{className:"row no-gutters justify-content-sm-end mb-2"},r.a.createElement(Ye,{selected:!!a.ratings[e.id]&&"excellent_rate"===a.ratings[e.id].rate_type,movie:e,emoji:"fire",className:"mr-1 mb-2",size:"small",value:o[e.id]?o[e.id].excellent_rate:[]}),r.a.createElement(Ye,{size:"small",selected:!!a.ratings[e.id]&&"good_rate"===a.ratings[e.id].rate_type,movie:e,emoji:"heart",className:"mr-1 mb-2",value:o[e.id]?o[e.id].good_rate:[]}),r.a.createElement(Ye,{size:"small",selected:!!a.ratings[e.id]&&"ok_rate"===a.ratings[e.id].rate_type,movie:e,className:"mr-1 mb-2",emoji:"heavy_division_sign",value:o[e.id]?o[e.id].ok_rate:[]}),r.a.createElement(Ye,{size:"small",emoji:"shit",value:o[e.id]?o[e.id].bad_rate:[],selected:!!a.ratings[e.id]&&"bad_rate"===a.ratings[e.id].rate_type,movie:e})),r.a.createElement("div",{className:"row no-gutters d-flex d-sm-none"},r.a.createElement(Pe,{movie:e,user:a})))))})))})),at=a(47),nt=[{name:"All",genresIds:[]},{name:"Suspense & Thriller",genresIds:[27,53]},{name:"Action & Adventure",genresIds:[28,12]},{name:"Romance",genresIds:[10749]},{name:"Crime & Drama",genresIds:[80,18]},{name:"Sci-Fi",genresIds:[878]},{name:"History & Documentary",genresIds:[36,99]}];var rt=Object(p.b)((function(e,t){return Object(h.a)({settings:e.settings,user:e.user},t)}))((function(e){var t=e.apiKey,a=e.settings,o=e.user,s=Object(n.useRef)(),c=Object(n.useState)([]),m=Object(E.a)(c,2),u=m[0],d=m[1],p=Object(n.useState)("All"),v=Object(E.a)(p,2),g=v[0],f=v[1],h=Object(n.useState)([]),b=Object(E.a)(h,2),y=b[0],w=b[1],N=Object(n.useState)([]),x=Object(E.a)(N,2),O=x[0],_=x[1],j=Object(n.useState)([]),k=Object(E.a)(j,2),C=k[0],S=k[1],I=Object(n.useState)([]),T=Object(E.a)(I,2),A=T[0],P=T[1];return Object(n.useEffect)((function(){o&&(_(o.wishlist.map((function(e){return e.movie_id}))),S(o.watchedlist.map((function(e){return e.movie_id}))))}),[o]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!a.no_popular_movies){e.next=5;break}return e.next=3,Le(u,t);case 3:n=e.sent,w(n.results);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[u,t,a]),Object(n.useEffect)((function(){s.current.recalculate()}),[y]),Object(n.useEffect)((function(){y&&P(y.filter((function(e){return!O.includes(e.id.toString())&&!C.includes(e.id.toString())})).slice(0,a.no_popular_movies))}),[C,O,y]),r.a.createElement("div",{className:"row no-gutters justify-content-center text-white"},r.a.createElement("div",{className:"col-60 py-3 px-md-5 px-4 content-container"},r.a.createElement("div",{className:"row no-gutters h5"},r.a.createElement("div",{className:"col-auto",style:{padding:"6px 30px 6px 0px",background:"linear-gradient(to left, #ff0037, transparent)",borderRadius:"0 4px 4px 0"}},"Popular Movies")),r.a.createElement("div",{className:"row no-gutters text-light"},"Most watched movies in last 30 days"),r.a.createElement("div",{className:"row no-gutters justify-content-end text-light align-items-center mb-4"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(at.a,{ref:s,style:{padding:"14px 0",maxWidth:"100%",overflowX:"auto",whiteSpace:"nowrap"}},nt.map((function(e,t){return r.a.createElement("div",{onClick:function(){f(e.name),d(e.genresIds)},style:{display:"inline-block"},key:"genre-for-popular-movie-".concat(t),className:"px-4 ".concat(g===e.name?"btn-tertiary-selected text-white":"btn-tertiary text-light-white")},e.name)}))))),r.a.createElement(tt,{movies:A})))})),ot=function(e){var t=e.movies;return r.a.createElement("div",{className:"row no-gutters"},t.map((function(e,t){return r.a.createElement("div",{className:"col-sm-15 col-md-12 col-lg-15 col-60 pr-2 pb-2 text-white position-relative",key:"recommended-today-movie-".concat(t)},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-60 col-auto mr-3 mr-sm-0"},r.a.createElement("img",{alt:e.movie_poster,className:"img-clickable movies-list-image",onClick:function(){return f.push("/movie/".concat(e.movie_id))},width:"100%",style:{borderRadius:"13px"},src:"https://image.tmdb.org/t/p/w154".concat(e.movie_poster)})),r.a.createElement("div",{className:"col-sm-60 col d-block d-sm-none"},r.a.createElement("div",{className:"row no-gutters cursor-pointer",onClick:function(){return f.push("/movie/".concat(e.movie_id))}},e.movie_title),r.a.createElement("div",{className:"row no-gutters text-muted"},r.a.createElement("small",{className:"text-truncate"},e.movie_genres.join("/"))))))})))},st=a(12),ct=a.n(st),it=a(349),lt=function(e){var t=e.count,a=e.current,o=e.setCurrent,s=e.classNames,c=void 0===s?{selected:"input-light-selected",notSelected:"input-light"}:s,i=a===t?a-2:a-1>=1?a-1:a,l=i+1,m=l+1;return Object(n.useEffect)((function(){1===t&&o(1)}),[t]),t>1?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row no-gutters d-flex d-lg-none user-select-none"},r.a.createElement("div",{className:"col-auto ".concat(c.notSelected," px-3 mr-1 cursor-pointer"),onClick:function(){return o(a-1>=1?a-1:a)}},r.a.createElement(Xe.f,{fontSize:"16px"})),r.a.createElement("div",{className:"".concat(c.selected," col-auto text-center mr-1"),style:{width:"50px"}},a),r.a.createElement("div",{className:"col-auto ".concat(c.notSelected," px-3 cursor-pointer"),onClick:function(){return o(a+1<=t?a+1:a)}},r.a.createElement(Xe.g,{fontSize:"16px"}))),r.a.createElement("div",{className:"row no-gutters user-select-none d-none d-lg-flex"},r.a.createElement("div",{className:"col-auto ".concat(c.notSelected," px-3 mr-1 cursor-pointer"),onClick:function(){return o(a-1>=1?a-1:a)}},"Previous"),i-1>=1&&r.a.createElement("div",{className:"col-auto ".concat(c.notSelected," text-center mr-1 cursor-pointer"),style:{width:"50px"},onClick:function(){return o(i-1>=1?i-1:i)}},"..."),i>=1&&r.a.createElement("div",{style:{width:"50px"},className:"px-0 col-auto ".concat(a===i?c.selected:c.notSelected," text-center mr-1 cursor-pointer"),onClick:function(){return o(i)}},i),l<=t&&l>=1&&r.a.createElement("div",{style:{width:"50px"},className:"px-0 col-auto ".concat(a===l?c.selected:c.notSelected," text-center mr-1 cursor-pointer"),onClick:function(){return o(l)}},l),m<=t&&m>=1&&r.a.createElement("div",{className:"px-0 col-auto ".concat(a===m?c.selected:c.notSelected," text-center mr-1 cursor-pointer"),style:{width:"50px"},onClick:function(){return o(m)}},m),m+1<=t&&r.a.createElement("div",{onClick:function(){return o(m+1<=t?m+1:a)},className:"col-auto ".concat(c.notSelected," text-center mr-1 cursor-pointer"),style:{width:"50px"}},"..."),r.a.createElement("div",{className:"col-auto ".concat(c.notSelected," px-3 cursor-pointer"),onClick:function(){return o(a+1<=t?a+1:a)}},"Next"))):""};var mt=Object(p.b)((function(e,t){return Object(h.a)({settings:e.settings},t)}))((function(e){var t=e.open,a=e.onClose,o=e.user,s=e.review,c=e.movie,m=e.reviewAuthor,u=(e.setComments,e.setReviewIdOfVisibleComments),p=e.refreshComments,v=e.refreshReviews,g=e.settings,f=Object(n.useState)({comment:""}),b=Object(E.a)(f,2),y=b[0],w=b[1],N=Object(n.useState)(""),x=Object(E.a)(N,2),O=x[0],_=x[1],j=Object(n.useState)(!1),k=Object(E.a)(j,2),C=k[0],S=k[1];return r.a.createElement(Je,{open:t,onClose:a},r.a.createElement("div",{className:"col-xl-42 p-4 bg-over-root-lighter rounded mx-4"},r.a.createElement("div",{className:"row no-gutters h5 mb-4"},"Reply to ",m.display_name),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto pr-3 d-none d-md-block"},r.a.createElement("div",{className:"square-70 rounded-circle bg-image",style:{backgroundImage:"url(".concat(o.photo,")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters d-flex d-md-none justify-content-between mb-3"},r.a.createElement("div",{className:"col-auto pr-3"},r.a.createElement("div",{className:"square-70 rounded-circle bg-image",style:{backgroundImage:"url(".concat(o.photo,")")}})),r.a.createElement("div",{className:"col-auto d-flex align-items-end ".concat(y.comment.length<=g.no_comment_characters-1?"text-muted":"text-danger")},y.comment?g.no_comment_characters-y.comment.length:g.no_comment_characters," ","characters left")),r.a.createElement("div",{className:"row no-gutters mb-2",style:{height:"150px"}},r.a.createElement("textarea",{onChange:function(e){e.persist();var t=e.target.value;t.length<=g.no_comment_characters&&w((function(e){return Object.assign({},e,{comment:t})}))},value:y.comment,spellCheck:!1,placeholder:"Add your comment...",style:{resize:"none"},className:"w-100 h-100 textarea"})),r.a.createElement("div",{className:"row no-gutters justify-content-md-end justify-content-center"},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters justify-content-end"},r.a.createElement("div",{className:"col-auto d-none d-md-block ".concat(y.comment.length<=g.no_comment_characters-1?"text-muted":"text-danger")},y.comment?g.no_comment_characters-y.comment.length:g.no_comment_characters," ","characters left"))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters align-items-center text-danger justify-content-end",style:{height:"30px",opacity:O?1:0}},O)),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small",onClick:Object(l.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.comment){e.next=4;break}_("Type comment"),e.next=18;break;case 4:if(!o.token){e.next=17;break}return S(!0),t=Object.assign({},y,{author_name:o.display_name,movie_id:c.id,comment_id:s.comment_id,review_id:s._id,review:s.review,review_author:s.author,notificationReceivers:s.notificationReceivers}),delete(n=Object(h.a)({},o)).photo,w({comment:""}),e.next=12,Y(t,n);case 12:r=e.sent,S(!1),r.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Couldn't add your comment",type:"failure",message:JSON.stringify(r.error).replace(/"/g,"")}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"You successfully writed comment",type:"success",message:"Your comment successfully added"}}),a(),u(s._id),p(),v()),e.next=18;break;case 17:_("You need to login to write comment");case 18:case"end":return e.stop()}}),e)})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:C,size:20}),"Send"))))))}));var ut=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,settings:e.settings,ratings:e.ratings,user:e.user},t)}))((function(e){var t=e.publicUsers,a=e.settings,o=e.user,s=e.ratings,c=Object(n.useState)({}),m=Object(E.a)(c,2),u=m[0],p=m[1],v=Object(n.useState)([]),g=Object(E.a)(v,2),h=g[0],w=g[1],N=Object(n.useState)([]),x=Object(E.a)(N,2),_=x[0],j=x[1],k=Object(n.useState)(-1),C=Object(E.a)(k,2),S=C[0],I=C[1],T=Object(n.useState)(-1),A=Object(E.a)(T,2),P=A[0],D=A[1],z=Object(n.useState)(-1),R=Object(E.a)(z,2),Y=R[0],U=R[1],M=Object(n.useState)(-1),L=Object(E.a)(M,2),W=L[0],K=L[1],V=Object(n.useState)(1),X=Object(E.a)(V,2),J=X[0],Z=X[1],Q=Object(n.useRef)(null),ee=Object(n.useState)({movie_title:"",movie_id:"",movie_genres:"",movie_release_date:"",movie_poster:""}),te=Object(E.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),oe=Object(E.a)(re,2),se=oe[0],ce=oe[1],ie=Object(n.useState)(!1),le=Object(E.a)(ie,2),me=le[0],ue=le[1],de=Object(n.useState)(!1),pe=Object(E.a)(de,2),ve=pe[0],ge=pe[1],fe=Object(n.useState)({}),he=Object(E.a)(fe,2),Ee=he[0],be=he[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===S){e.next=7;break}return e.next=3,F(S);case 3:t=e.sent,a={},t.forEach((function(e){a[e._id]=e})),p((function(e){return Object.assign({},e,Object(Ze.a)({},S,a))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[S,me]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,n,r,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.no_popular_reviews){e.next=12;break}return e.next=3,_e();case 3:return t=e.sent,n=[],r={},t.error||t.forEach((function(e){n.push(e.content_id),r[e.content_id]=e})),be(r),e.next=10,$(a.no_popular_reviews);case 10:(o=e.sent).error||(s=[],c=[],o.forEach((function(e){n.includes(e._id)?(e.promoted=!0,s.push(e)):c.push(e)})),j(s),w(c));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,ve]);return r.a.createElement("div",{className:"row no-gutters justify-content-center text-white"},r.a.createElement("div",{className:"col-60 content-container py-3 px-md-5 px-4"},r.a.createElement("div",{className:"row no-gutters h5"},r.a.createElement("div",{className:"col-auto",style:{padding:"6px 30px 6px 0px",background:"linear-gradient(to left, #ff0037, transparent)",borderRadius:"0 4px 4px 0"}},"Popular Reviews")),r.a.createElement("div",{className:"row no-gutters text-light mb-3"},"Most commented reviews in last 30 days"),r.a.createElement("div",{className:"row no-gutters mb-2",ref:Q}),_.concat(h).slice(0,8).map((function(e,a){var n=Ee[e._id]?Ee[e._id].content.rating:e.rating,c=Ee[e._id]?Ee[e._id].content.review:e.review;return r.a.createElement(r.a.Fragment,{key:"fragment-review-".concat(a)},r.a.createElement("div",{key:"review-".concat(a),className:"row no-gutters p-4 bg-over-root-lighter rounded mb-2"},r.a.createElement("div",{className:"col-sm-auto col-20 pr-4 d-none d-sm-block",style:{maxWidth:"150px"}},r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("img",{alt:"poster-of-".concat(e.movie_id),onClick:function(){return f.push("/movie/".concat(e.movie_id))},width:"100%",style:{borderRadius:"13px",cursor:"pointer"},src:"https://image.tmdb.org/t/p/w154".concat(s[e.movie_id]?s[e.movie_id].movie_poster:"https://critics.io/img/movies/poster-placeholder.png")}))),r.a.createElement("div",{className:"col d-flex flex-column"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center mb-2 flex-grow-0"},r.a.createElement("div",{className:"col-60 d-block d-sm-none mb-3"},r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("div",{className:"col-auto pr-3"},r.a.createElement("div",{className:"square-70 rounded bg-image",style:{backgroundImage:"url(https://image.tmdb.org/t/p/w154".concat(s[e.movie_id]?s[e.movie_id].movie_poster:"https://critics.io/img/movies/poster-placeholder.png",")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters text-white mb-0"},s[e.movie_id]?s[e.movie_id].movie_title:""," ","(",s[e.movie_id]?s[e.movie_id].movie_release_date.substring(0,4):"",")")))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters justify-content-between"},r.a.createElement("div",{className:"col-auto mb-2"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto pr-2"},r.a.createElement("div",{className:"bg-image rounded-circle square-40",style:{backgroundImage:"url(".concat(t[e.author]?t[e.author].photo:"",")")}})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center text-white"},r.a.createElement("div",{className:"col-auto mr-3 mb-0"},t[e.author]?t[e.author].display_name:""))))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters text-white align-items-center"},r.a.createElement("span",{className:"mr-2 col-auto"},"Posted on"),r.a.createElement("span",{className:"text-muted col-auto mr-2"},ct.a.format(new Date(e.date),"MMM DD, YYYY")),o._id!==e.author?r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-root"},"Report Abuse")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.token){t.next=9;break}return K(e._id),t.next=4,H(o,e._id);case 4:a=t.sent,K(-1),a.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:a.error,type:"failure"}}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Review reported",message:"Review was successfully reported. We will review it soon.",type:"success"}}),t.next=10;break;case 9:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to report review",type:"failure"}});case 10:case"end":return t.stop()}}),t)})))},W===e._id?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:!0,size:20})):r.a.createElement(O.c,{fontSize:"24px"}))):""))))),r.a.createElement("div",{className:"row no-gutters text-light mb-3 font-size-14 flex-grow-0 font-weight-300 text-break"},c),r.a.createElement("div",{className:"row no-gutters flex-grow-1 align-items-bottom"},r.a.createElement("div",{className:"col-60 d-flex flex-column justify-content-end"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center text-white"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{style:{marginBottom:"-6px"}},"ok_rate"===n?r.a.createElement(y,{size:24}):r.a.createElement(b.a,{emoji:"excellent_rate"===n?"fire":"good_rate"===n?"heart":"ok_rate"===n?"heavy-division-sign":"shit",set:"facebook",size:24})))),r.a.createElement("div",{className:"col-auto px-0"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},e.likes.length),r.a.createElement("div",{className:"col-auto mr-2 "},Y===a?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:Y===a,size:20})):r.a.createElement(O.j,{onClick:Object(l.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.token){t.next=13;break}if(o._id===e.author){t.next=10;break}return U(a),t.next=5,q(o,e._id);case 5:n=t.sent,U(-1),n.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:n.error,type:"failure"}}):ge(!ve),t.next=11;break;case 10:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action not allowed",message:"You can not like your own review",type:"failure"}});case 11:t.next=14;break;case 13:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to like review",type:"failure"}});case 14:case"end":return t.stop()}}),t)}))),fontSize:"24px",className:"text-green scale-transition cursor-pointer"})),r.a.createElement("div",{className:"col-auto mr-2"},e.comments.length),r.a.createElement("div",{className:"col-auto mr-2"},r.a.createElement(O.b,{onClick:function(){I(S===e._id?-1:e._id)},fontSize:"24px",className:"text-orange scale-transition cursor-pointer"})),r.a.createElement("div",{className:"col-auto text-orange btn-tertiary",onClick:function(){o.token?(ne(Object.assign({},e,{notificationReceivers:[t[e.author]]})),ce(!0)):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to write review.",type:"failure"}})}},"Reply")))))))),r.a.createElement(it.a,{in:S===e._id,className:"mb-3"},r.a.createElement("div",{className:"py-2 text-light",style:{marginLeft:"30px"}},"Comments (",u[e._id]?Object.values(u[e._id]).length:0,")"),u[e._id]?function e(a,n){return a.map((function(a,s){return u[n._id][a]?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginLeft:"".concat(60*u[n._id][a].notificationReceivers.length-30,"px")},key:"comment-".concat(S,"-").concat(s),className:"row no-gutters p-4 bg-over-root-lighter rounded mb-2 indented-comment"},r.a.createElement("div",{className:"col-auto pr-4 d-none d-md-block"},r.a.createElement("div",{className:"bg-image rounded-circle square-70",style:{backgroundImage:"url(".concat(t[u[n._id][a].author]?t[u[n._id][a].author].photo:"",")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center mb-2"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto pr-2 d-block d-md-none"},r.a.createElement("div",{className:"bg-image rounded-circle square-40",style:{backgroundImage:"url(".concat(t[u[n._id][a].author]?t[u[n._id][a].author].photo:"",")")}})),r.a.createElement("div",{className:"col-auto mr-3 text-title-md mb-0"},t[u[n._id][a].author]?t[u[n._id][a].author].display_name:""))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},"Commented on"),r.a.createElement("div",{className:"col-auto mr-3 text-muted"},ct.a.format(new Date(u[n._id][a].date),"MMM DD, YYYY")))),r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-over-root"},"Report Abuse")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.token){e.next=9;break}return K(a),e.next=4,G(o,a);case 4:t=e.sent,K(-1),t.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:t.error,type:"failure"}}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Comment reported",message:"Comment was successfully reported. We will review it soon.",type:"success"}}),e.next=10;break;case 9:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to report comment",type:"failure"}});case 10:case"end":return e.stop()}}),e)})))},W===a?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:!0,size:20})):r.a.createElement(O.c,{fontSize:"24px"})))))),r.a.createElement("div",{className:"row no-gutters text-light mb-3 font-weight-300 text-break"},u[n._id][a].comment),r.a.createElement("div",{className:"row no-gutters justify-content-end align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},u[n._id][a].likes.length),r.a.createElement("div",{className:"col-auto mr-2 "},P===s?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:P===s,size:20})):r.a.createElement(O.j,{onClick:Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.token){e.next=13;break}if(o._id===u[n._id][a].author){e.next=10;break}return D(s),e.next=5,B(o,a);case 5:t=e.sent,D(-1),t.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:t.error,type:"failure"}}):ue(!me),e.next=11;break;case 10:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action not allowed",message:"You can not like your own comment",type:"failure"}});case 11:e.next=14;break;case 13:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to like review",type:"failure"}});case 14:case"end":return e.stop()}}),e)}))),fontSize:"24px",className:"text-green scale-transition cursor-pointer"})),r.a.createElement("div",{className:"col-auto text-orange btn-tertiary",onClick:function(){o.token?(ne(Object.assign({},n,{comment_id:a,notificationReceivers:u[n._id][a].notificationReceivers.concat([t[u[n._id][a].author]])})),ce(!0)):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to write review.",type:"failure"}})}},"Reply")))))),e(u[n._id][a].comments,n)):""}))}(Object.values(u[e._id]).filter((function(e){return 1===e.notificationReceivers.length})).map((function(e){return e._id})),e):"",r.a.createElement("div",{className:"row no-gutters justify-content-end mt-2"},r.a.createElement("div",{className:"col-auto ml-4"},r.a.createElement(lt,{count:Math.ceil(u[e._id]?u[e._id].length/5:1),current:J,setCurrent:Z,classNames:{notSelected:"input-dark",selected:"input-dark-selected"}})))))})),r.a.createElement(mt,{refreshReviews:function(){return ge(!ve)},setReviewIdOfVisibleComments:I,refreshComments:function(){return ue(!me)},setComments:p,movie:{id:ae.movie_id},reviewAuthor:t[ae.author]?t[ae.author]:{display_name:""},review:ae,open:se,onClose:function(){return ce(!1)},user:o})))}));var dt=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,ratings:e.ratings,user:e.user},t)}))((function(e){var t=e.publicUsers,a=e.user,o=e.ratings,s=Object(n.useState)({}),c=Object(E.a)(s,2),m=c[0],u=c[1],p=Object(n.useState)([]),v=Object(E.a)(p,2),g=v[0],h=v[1],w=Object(n.useState)(-1),N=Object(E.a)(w,2),x=N[0],_=N[1],j=Object(n.useState)(-1),k=Object(E.a)(j,2),C=k[0],S=k[1],I=Object(n.useState)(-1),T=Object(E.a)(I,2),A=T[0],P=T[1],D=Object(n.useState)(-1),z=Object(E.a)(D,2),R=z[0],Y=z[1],U=Object(n.useState)(1),M=Object(E.a)(U,2),L=M[0],W=M[1],K=Object(n.useRef)(null),V=Object(n.useState)(!1),X=Object(E.a)(V,2),J=X[0],Z=X[1],$=Object(n.useState)({movie_title:"",movie_id:"",movie_genres:"",movie_release_date:"",movie_poster:""}),ee=Object(E.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(E.a)(ne,2),oe=re[0],se=re[1],ce=Object(n.useState)(!1),ie=Object(E.a)(ce,2),le=ie[0],me=ie[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===x){e.next=7;break}return e.next=3,F(x);case 3:t=e.sent,a={},t.forEach((function(e){a[e._id]=e})),u((function(e){return Object.assign({},e,Object(Ze.a)({},x,a))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[x,oe]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(10);case 2:(t=e.sent).error||h(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[le]);return r.a.createElement("div",{className:"row no-gutters justify-content-center text-white"},r.a.createElement("div",{className:"col-60 content-container py-3 px-md-5 px-4"},r.a.createElement("div",{className:"row no-gutters h5"},r.a.createElement("div",{className:"col-auto",style:{padding:"6px 30px 6px 0px",background:"linear-gradient(to left, #ff0037, transparent)",borderRadius:"0 4px 4px 0"}},"Recent Reviews")),r.a.createElement("div",{className:"row no-gutters text-light mb-3"},"Most recent reviews in days"),r.a.createElement("div",{className:"row no-gutters mb-2",ref:K}),g.slice(0,8).map((function(e,n){return r.a.createElement(r.a.Fragment,{key:"fragment-review-".concat(n)},r.a.createElement("div",{key:"review-".concat(n),className:"row no-gutters p-4 bg-over-root-lighter rounded mb-2"},r.a.createElement("div",{className:"col-sm-auto col-20 pr-4 d-none d-sm-block",style:{maxWidth:"150px"}},r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("img",{alt:"poster-of-".concat(e.movie_id),onClick:function(){return f.push("/movie/".concat(e.movie_id))},width:"100%",style:{borderRadius:"13px",cursor:"pointer"},src:"https://image.tmdb.org/t/p/w154".concat(o[e.movie_id]?o[e.movie_id].movie_poster:"https://critics.io/img/movies/poster-placeholder.png")}))),r.a.createElement("div",{className:"col d-flex flex-column"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center mb-2 flex-grow-0"},r.a.createElement("div",{className:"col-60 d-block d-sm-none mb-3"},r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("div",{className:"col-auto pr-3"},r.a.createElement("div",{className:"square-70 rounded bg-image",style:{backgroundImage:"url(https://image.tmdb.org/t/p/w154".concat(o[e.movie_id]?o[e.movie_id].movie_poster:"https://critics.io/img/movies/poster-placeholder.png",")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters text-white mb-0"},o[e.movie_id]?o[e.movie_id].movie_title:""," ","(",o[e.movie_id]?o[e.movie_id].movie_release_date.substring(0,4):"",")")))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters justify-content-between"},r.a.createElement("div",{className:"col-auto mb-2"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto pr-2"},r.a.createElement("div",{className:"bg-image rounded-circle square-40",style:{backgroundImage:"url(".concat(t[e.author]?t[e.author].photo:"",")")}})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center text-white"},r.a.createElement("div",{className:"col-auto mr-3 mb-0"},t[e.author]?t[e.author].display_name:""))))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters text-white align-items-center"},r.a.createElement("span",{className:"mr-2 col-auto"},"Posted on"),r.a.createElement("span",{className:"text-muted col-auto mr-2"},ct.a.format(new Date(e.date),"MMM DD, YYYY")),a._id!==e.author?r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-root"},"Report Abuse")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.token){t.next=9;break}return Y(e._id),t.next=4,H(a,e._id);case 4:n=t.sent,Y(-1),n.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:n.error,type:"failure"}}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Review reported",message:"Review was successfully reported. We will review it soon.",type:"success"}}),t.next=10;break;case 9:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to report review",type:"failure"}});case 10:case"end":return t.stop()}}),t)})))},R===e._id?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:!0,size:20})):r.a.createElement(O.c,{fontSize:"24px"}))):""))))),r.a.createElement("div",{className:"row no-gutters text-light mb-3 font-size-14 flex-grow-0 font-weight-300 text-break"},e.review),r.a.createElement("div",{className:"row no-gutters flex-grow-1 align-items-bottom"},r.a.createElement("div",{className:"col-60 d-flex flex-column justify-content-end"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center text-white"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},e.rating?"ok_rate"===e.rating?r.a.createElement(y,{size:24}):r.a.createElement("div",{style:{marginBottom:"-6px"}},r.a.createElement(b.a,{emoji:"excellent_rate"===e.rating?"fire":"good_rate"===e.rating?"heart":"ok_rate"===e.rating?"heavy-division-sign":"shit",set:"facebook",size:24})):"")),r.a.createElement("div",{className:"col-auto px-0"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},e.likes.length),r.a.createElement("div",{className:"col-auto mr-2 "},A===n?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:A===n,size:20})):r.a.createElement(O.j,{onClick:Object(l.a)(i.a.mark((function t(){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.token){t.next=13;break}if(a._id===e.author){t.next=10;break}return P(n),t.next=5,q(a,e._id);case 5:r=t.sent,P(-1),r.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:r.error,type:"failure"}}):me(!le),t.next=11;break;case 10:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action not allowed",message:"You can not like your own review",type:"failure"}});case 11:t.next=14;break;case 13:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to like review",type:"failure"}});case 14:case"end":return t.stop()}}),t)}))),fontSize:"24px",className:"text-green scale-transition cursor-pointer"})),r.a.createElement("div",{className:"col-auto mr-2"},e.comments.length),r.a.createElement("div",{className:"col-auto mr-2"},r.a.createElement(O.b,{onClick:function(){_(x===e._id?-1:e._id)},fontSize:"24px",className:"text-orange scale-transition cursor-pointer"})),r.a.createElement("div",{className:"col-auto text-orange btn-tertiary",onClick:function(){a.token?(ae(Object.assign({},e,{notificationReceivers:[t[e.author]]})),Z(!0)):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to write review.",type:"failure"}})}},"Reply")))))))),r.a.createElement(it.a,{in:x===e._id,className:"mb-3"},r.a.createElement("div",{className:"py-2 text-light",style:{marginLeft:"30px"}},"Comments (",m[e._id]?Object.values(m[e._id]).length:0,")"),m[e._id]?function e(n,o){return n.map((function(n,s){return m[o._id][n]?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginLeft:"".concat(60*m[o._id][n].notificationReceivers.length-30,"px")},key:"comment-".concat(x,"-").concat(s),className:"row no-gutters p-4 bg-over-root-lighter rounded mb-2 indented-comment"},r.a.createElement("div",{className:"col-auto pr-4 d-none d-md-block"},r.a.createElement("div",{className:"bg-image rounded-circle square-70",style:{backgroundImage:"url(".concat(t[m[o._id][n].author]?t[m[o._id][n].author].photo:"",")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center mb-2"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto pr-2 d-block d-md-none"},r.a.createElement("div",{className:"bg-image rounded-circle square-40",style:{backgroundImage:"url(".concat(t[m[o._id][n].author]?t[m[o._id][n].author].photo:"",")")}})),r.a.createElement("div",{className:"col-auto mr-3 text-title-md mb-0"},t[m[o._id][n].author]?t[m[o._id][n].author].display_name:""))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},"Commented on"),r.a.createElement("div",{className:"col-auto mr-3 text-muted"},ct.a.format(new Date(m[o._id][n].date),"MMM DD, YYYY")))),r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-over-root"},"Report Abuse")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.token){e.next=9;break}return Y(n),e.next=4,G(a,n);case 4:t=e.sent,Y(-1),t.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:t.error,type:"failure"}}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Comment reported",message:"Comment was successfully reported. We will review it soon.",type:"success"}}),e.next=10;break;case 9:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to report comment",type:"failure"}});case 10:case"end":return e.stop()}}),e)})))},R===n?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:!0,size:20})):r.a.createElement(O.c,{fontSize:"24px"})))))),r.a.createElement("div",{className:"row no-gutters text-light mb-3 font-weight-300 text-break"},m[o._id][n].comment),r.a.createElement("div",{className:"row no-gutters justify-content-end align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},m[o._id][n].likes.length),r.a.createElement("div",{className:"col-auto mr-2 "},C===s?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:C===s,size:20})):r.a.createElement(O.j,{onClick:Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.token){e.next=13;break}if(a._id===m[o._id][n].author){e.next=10;break}return S(s),e.next=5,B(a,n);case 5:t=e.sent,S(-1),t.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:t.error,type:"failure"}}):se(!oe),e.next=11;break;case 10:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action not allowed",message:"You can not like your own comment",type:"failure"}});case 11:e.next=14;break;case 13:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to like review",type:"failure"}});case 14:case"end":return e.stop()}}),e)}))),fontSize:"24px",className:"text-green scale-transition cursor-pointer"})),r.a.createElement("div",{className:"col-auto text-orange btn-tertiary",onClick:function(){a.token?(ae(Object.assign({},o,{comment_id:n,notificationReceivers:m[o._id][n].notificationReceivers.concat([t[m[o._id][n].author]])})),Z(!0)):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to write review.",type:"failure"}})}},"Reply")))))),e(m[o._id][n].comments,o)):""}))}(Object.values(m[e._id]).filter((function(e){return 1===e.notificationReceivers.length})).map((function(e){return e._id})),e):"",r.a.createElement("div",{className:"row no-gutters mt-2 justify-content-end"},r.a.createElement("div",{className:"col-auto ml-4"},r.a.createElement(lt,{count:Math.ceil(m[e._id]?m[e._id].length/5:1),current:L,setCurrent:W,classNames:{notSelected:"input-dark",selected:"input-dark-selected"}})))))})),r.a.createElement(mt,{refreshReviews:function(){return me(!le)},setReviewIdOfVisibleComments:_,refreshComments:function(){return se(!oe)},setComments:u,movie:{id:te.movie_id},reviewAuthor:t[te.author]?t[te.author]:{display_name:""},review:te,open:J,onClose:function(){return Z(!1)},user:a})))})),pt=function(){var e=1280,t=1280;return[300,780,1280].forEach((function(a){var n=Math.abs(window.innerWidth-a);n<t&&(t=n,e=a)})),e};var vt=Object(p.b)((function(e,t){return Object(h.a)({publicUser:e.publicUsers,ratings:e.ratings,settings:e.settings,user:e.user,navbarHeight:e.navbarHeight},t)}))((function(e){e.publicUsers;var t=e.ratings,a=e.user,o=e.settings,s=e.navbarHeight,c=function(){var e=Object(n.useState)(0),t=Object(E.a)(e,2),a=t[0],r=t[1];return Object(n.useLayoutEffect)((function(){function e(){r(window.innerHeight)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}(),m=Object(n.useState)([]),u=Object(E.a)(m,2),d=u[0],p=u[1],v=Object(n.useState)(!1),g=Object(E.a)(v,2),f=g[0],h=g[1],b=Object(n.useState)({backdrop_path:"",poster_path:"",runtime:0,title:"",overview:"",id:"",release_date:"",genres:[]}),y=Object(E.a)(b,2),w=y[0],N=y[1],x=Object(n.useState)(!1),O=Object(E.a)(x,2),_=O[0],j=O[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(o.current_bg_movie),!o.movies_api_key){e.next=6;break}return e.next=4,ee(8);case 4:(t=e.sent).error||p(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o]),r.a.createElement("div",{className:"row no-gutters",style:{marginTop:"-".concat(s,"px")}},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters align-items-end position-relative overflow-hidden",style:{height:c}},r.a.createElement("div",{className:"position-absolute w-100 h-100",style:{top:0,left:0,zIndex:2,background:"linear-gradient(180deg, rgba(0, 0, 0, 0.3) 72%, black)"}}),r.a.createElement(Je,{open:f,onClose:function(){return h(!1)}},r.a.createElement(Ve,{modalOpened:f,setIsEmpty:function(){return j(!0)},movieId:w.id,onEnded:function(){return h(!1)}})),r.a.createElement("div",{className:"col-60 position-absolute",style:{top:0,left:0,right:0,maxWidth:"1200px",margin:"auto"}},r.a.createElement("div",{className:"position-relative"},r.a.createElement("img",{alt:w.poster_path,className:"d-block d-lg-none",width:"100%",src:"https://image.tmdb.org/t/p/w500".concat(w.poster_path)}),r.a.createElement("img",{alt:w.poster_path,className:"d-none d-lg-block",width:"100%",src:"https://image.tmdb.org/t/p/w".concat(pt()).concat(w.backdrop_path)}),r.a.createElement("div",{className:"position-absolute w-100 h-100",style:{background:"linear-gradient(rgba(0, 0, 0, 0.3) 90%, black), linear-gradient(to right, black, transparent, black)",top:0,left:0}}))),r.a.createElement("div",{className:"col-60 px-md-5 px-4 py-4 position-relative mx-auto content-container",style:{zIndex:5}},r.a.createElement("div",{className:"row no-gutters justify-content-between position-relative"},r.a.createElement("div",{className:"col-60 col-sm-40 col-lg-30 d-flex flex-column justify-content-end text-white"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-3"},r.a.createElement("div",{className:"row no-gutters mb-2 text-title-lg align-items-center",style:{fontWeight:"700"}},w.title)),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement(Ye,{selected:!!a.ratings[w.id]&&"excellent_rate"===a.ratings[w.id].rate_type,movie:w,emoji:"fire",className:"mr-2 mb-2",value:t[w.id]?t[w.id].excellent_rate:[]}),r.a.createElement(Ye,{selected:!!a.ratings[w.id]&&"good_rate"===a.ratings[w.id].rate_type,movie:w,emoji:"heart",className:"mr-2 mb-2",value:t[w.id]?t[w.id].good_rate:[]}),r.a.createElement(Ye,{selected:!!a.ratings[w.id]&&"ok_rate"===a.ratings[w.id].rate_type,movie:w,className:"mr-2 mb-2",emoji:"heavy_division_sign",value:t[w.id]?t[w.id].ok_rate:[]}),r.a.createElement(Ye,{className:"mb-2",selected:!!a.ratings[w.id]&&"bad_rate"===a.ratings[w.id].rate_type,movie:w,emoji:"shit",value:t[w.id]?t[w.id].bad_rate:[]})))),r.a.createElement("div",{className:"row no-gutters text-light mb-4 font-weight-300 text-clamp-6"},w.overview),r.a.createElement("div",{className:"row no-gutters mb-md-5 mb-4"},r.a.createElement("div",{className:"col-auto mr-2 d-flex"},w.release_date.substring(0,4),r.a.createElement("strong",{className:"px-3"},"\u2022"),r.a.createElement("div",null,r.a.createElement("div",{className:"d-none d-md-block"},w.genres.slice(0,3).map((function(e){return e.name})).join("/")),r.a.createElement("div",{className:"d-block d-md-none"},w.genres.slice(0,2).map((function(e){return e.name})).join("/"))),r.a.createElement("strong",{className:"px-3"},"\u2022"),ze(w.runtime))),r.a.createElement("div",{className:"row no-gutters mb-md-4 mb-2"},_?"":r.a.createElement("div",{className:"col-auto mr-3 btn-custom btn-custom-primary btn-small",onClick:function(){return h(!0)}},"Play Trailer"),r.a.createElement(Pe,{movie:w,user:a}))),r.a.createElement("div",{className:"col-23 d-none d-lg-block"},r.a.createElement("div",{className:"row no-gutters h5 text-white",style:{padding:"6px 10px",background:"linear-gradient(to right, #ff0037, transparent)",borderRadius:"4px 0 0 4px",marginBottom:"11px"}},"Today's Recommendation"),r.a.createElement(ot,{movies:d,user:a,ratings:t}))))),r.a.createElement("div",{className:"row no-gutters d-flex d-lg-none"},r.a.createElement("div",{className:" col-60 py-4 px-md-5 px-4 content-container"},r.a.createElement("div",{className:"row no-gutters justify-content-end"},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters h5 text-white",style:{padding:"6px 10px",background:"linear-gradient(to right, #ff0037, transparent)",borderRadius:"4px 0 0 4px",marginBottom:"18px"}},"Todays's Recommendation"),r.a.createElement(ot,{movies:d,user:a,ratings:t}))))),r.a.createElement(rt,{apiKey:o.movies_api_key}),r.a.createElement(ut,null),r.a.createElement(dt,null)))}));var gt=Object(p.b)((function(e,t){return Object(h.a)({settings:e.settings},t)}))((function(e){var t=e.open,a=e.onClose,o=e.user,s=e.comment,c=e.refreshComments,m=e.settings,u=Object(n.useState)({comment:""}),p=Object(E.a)(u,2),v=p[0],g=p[1],f=Object(n.useState)(""),h=Object(E.a)(f,2),b=h[0],y=h[1],w=Object(n.useState)(!1),N=Object(E.a)(w,2),x=N[0],O=N[1];return Object(n.useEffect)((function(){s&&g((function(e){return Object.assign({},e,s)}))}),[s]),r.a.createElement(Je,{open:t,onClose:a},r.a.createElement("div",{className:"col-xl-42 p-4 bg-over-root-lighter rounded mx-4"},r.a.createElement("div",{className:"row no-gutters h5 mb-4"},"Edit comment"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto pr-3 d-none d-md-block"},r.a.createElement("div",{className:"square-70 rounded-circle bg-image",style:{backgroundImage:"url(".concat(o.photo,")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters d-flex d-md-none justify-content-between mb-3"},r.a.createElement("div",{className:"col-auto pr-3"},r.a.createElement("div",{className:"square-70 rounded-circle bg-image",style:{backgroundImage:"url(".concat(o.photo,")")}})),r.a.createElement("div",{className:"col-auto d-flex align-items-end ".concat(v.comment.length<=m.no_comment_characters-1?"text-muted":"text-danger")},v.comment?m.no_comment_characters-v.comment.length:m.no_comment_characters," ","characters left")),r.a.createElement("div",{className:"row no-gutters mb-2",style:{height:"150px"}},r.a.createElement("textarea",{onChange:function(e){e.persist();var t=e.target.value;t.length<=m.no_comment_characters&&g((function(e){return Object.assign({},e,{comment:t})}))},value:v.comment,spellCheck:!1,placeholder:"Add your comment...",style:{resize:"none"},className:"w-100 h-100 textarea"})),r.a.createElement("div",{className:"row no-gutters justify-content-md-end justify-content-center"},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters justify-content-end"},r.a.createElement("div",{className:"col-auto d-none d-md-block ".concat(v.comment.length<=m.no_comment_characters-1?"text-muted":"text-danger")},v.comment?m.no_comment_characters-v.comment.length:m.no_comment_characters," ","characters left"))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters align-items-center text-danger justify-content-end",style:{height:"30px",opacity:b?1:0}},b)),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small",onClick:Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.comment){e.next=4;break}y("Type comment"),e.next=14;break;case 4:if(!o.token){e.next=13;break}return O(!0),e.next=8,U(v,s._id);case 8:t=e.sent,O(!1),t.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Couldn't edit your comment",type:"failure",message:t.error}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"You successfully edited comment",type:"success",message:"Your comment successfully edited"}}),a(),c()),e.next=14;break;case 13:y("You need to login to write comment");case 14:case"end":return e.stop()}}),e)})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:x,size:20}),"Submit"))))))}));var ft=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,ratings:e.ratings},t)}))((function(e){var t=e.movie,a=e.user,o=e.publicUsers,s=e.refreshReviewsFromParent,c=e.seekReviewId,m=e.seekCommentId,u=e.ratings,p=Object(n.useState)([]),v=Object(E.a)(p,2),g=v[0],f=v[1],w=Object(n.useState)([]),N=Object(E.a)(w,2),x=N[0],_=N[1],j=Object(n.useState)(-1),k=Object(E.a)(j,2),C=k[0],S=k[1],I=Object(n.useState)(-1),T=Object(E.a)(I,2),A=T[0],P=T[1],Y=Object(n.useState)(-1),U=Object(E.a)(Y,2),L=U[0],W=U[1],K=Object(n.useState)(-1),V=Object(E.a)(K,2),X=V[0],J=V[1],Z=Object(n.useState)(-1),$=Object(E.a)(Z,2),Q=$[0],ee=$[1],te=Object(n.useState)(!1),ae=Object(E.a)(te,2),ne=ae[0],re=ae[1],oe=Object(n.useState)({}),se=Object(E.a)(oe,2),ce=se[0],ie=se[1],le=Object(n.useState)({}),me=Object(E.a)(le,2),ue=me[0],de=me[1],pe=Object(n.useState)(!1),ve=Object(E.a)(pe,2),ge=ve[0],fe=ve[1],he=Object(n.useState)(m?c:-1),Ee=Object(E.a)(he,2),be=Ee[0],ye=Ee[1],we=Object(n.useState)(-1),Ne=Object(E.a)(we,2),xe=Ne[0],Oe=Ne[1],_e=Object(n.useState)(1),je=Object(E.a)(_e,2),ke=je[0],Ce=je[1],Se=Object(n.useRef)(null),Ae=Object(n.useState)(!1),Pe=Object(E.a)(Ae,2),ze=Pe[0],Re=Pe[1],Ye=Object(n.useState)(!1),Ue=Object(E.a)(Ye,2),Me=Ue[0],Fe=Ue[1],Le=Object(n.useState)(!1),We=Object(E.a)(Le,2),qe=We[0],Be=We[1],He=Object(n.useState)(""),Ge=Object(E.a)(He,2),Ke=Ge[0],Ve=Ge[1],Je=Object(n.useState)(!1),$e=Object(E.a)(Je,2),Qe=$e[0],tt=$e[1],at=Object(n.useState)(!1),nt=Object(E.a)(at,2),rt=nt[0],ot=nt[1],st=Object(n.useState)(!1),ut=Object(E.a)(st,2),dt=ut[0],pt=ut[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===be){e.next=7;break}return e.next=3,F(be);case 3:t=e.sent,a={},t.forEach((function(e){a[e._id]=e})),de((function(e){return Object.assign({},e,Object(Ze.a)({},be,a))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[be,Qe]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var a,n,r,o,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=12;break}return e.next=3,R(t.id);case 3:return a=e.sent,n=[],r={},a.error||a.forEach((function(e){n.push(e.content_id),r[e.content_id]=e})),ie(r),e.next=10,z(t.id);case 10:(o=e.sent).error||(s=[],l=[],o.reverse().forEach((function(e){e._id===c?s.unshift(e):n.includes(e._id)?(e.promoted=!0,s.push(e)):l.push(e)})),_(s),f(l));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,rt,s]);var vt=-1===xe?1:xe;return r.a.createElement("div",{className:"row no-gutters"},g.length?r.a.createElement("div",{className:"col-60 h5 mb-3"},"Reviews (",De(g.length,1),")"):"",r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters mb-2",ref:Se}),x.concat(g).slice(8*(vt-1),8*(vt-1)+8).map((function(e,n){var s=ce[e._id]?ce[e._id].content.rating:e.rating,p=ce[e._id]?ce[e._id].content.review:e.review;return r.a.createElement(r.a.Fragment,{key:"review-fragment-".concat(n)},r.a.createElement("div",{ref:function(t){m||e._id===c&&t&&!dt&&(pt(!0),t.scrollIntoView({behavior:"smooth"}))},key:"review-".concat(n),className:"row no-gutters p-4 bg-over-root-lighter rounded mb-2".concat(e._id!==c||m?"":" fading-shadow")},r.a.createElement("div",{className:"col-auto pr-4 d-none d-md-block"},r.a.createElement("div",{className:"bg-image rounded-circle square-70",style:{backgroundImage:"url(".concat(o[e.author?e.author:e.content_author]?o[e.author?e.author:e.content_author].photo:"",")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center mb-1"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto pr-2 d-block d-md-none"},r.a.createElement("div",{className:"bg-image rounded-circle square-40",style:{backgroundImage:"url(".concat(o[e.author]?o[e.author].photo:"",")")}})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-3 text-title-md mb-0"},o[e.author]?o[e.author].display_name:""),r.a.createElement("div",{className:"col-auto mr-3 text-muted"},ct.a.format(new Date(e.date),"MMM DD, YYYY")))))),a._id===e.author?r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-root"},"Edit review")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ve(e),re(!0),Re(!0);case 3:case"end":return t.stop()}}),t)})))},r.a.createElement(Xe.k,{fontSize:"24px"}))),r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-root"},"Delete review")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function n(){var r,o,s,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return ee(e._id),n.next=3,D(e);case 3:r=n.sent,ee(-1),r.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Couldn't delete comment",type:"failure",message:r.error}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Success",type:"success",message:"Comment successfully deleted"}}),o=u[t.id],-1!==(s=o[e.rating].findIndex((function(t){return t===e.author})))&&o[e.rating].splice(s,1),d.dispatch({type:"UPDATE_RATINGS",rating:Object(Ze.a)({},t.id,o)}),delete(c=Object(h.a)({},a.ratings))[t.id],d.dispatch({type:"UPDATE_USER",userProperty:{ratings:c}}),ot(!rt));case 6:case"end":return n.stop()}}),n)})))},Q===e._id?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:!0,size:20})):r.a.createElement(Xe.n,{fontSize:"24px"}))))):r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-root"},"Report Abuse")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.token){t.next=9;break}return W(e._id),t.next=4,H(a,e._id);case 4:n=t.sent,W(-1),n.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:n.error,type:"failure"}}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Review reported",message:"Review was successfully reported. We will review it soon.",type:"success"}}),t.next=10;break;case 9:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to report review",type:"failure"}});case 10:case"end":return t.stop()}}),t)})))},L===e._id?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:!0,size:20})):r.a.createElement(O.c,{fontSize:"24px"})))),r.a.createElement("div",{className:"row no-gutters text-light mb-3 font-weight-300 text-break"},r.a.createElement("div",{className:"text-break"},p)),r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center"},r.a.createElement("div",{className:"col-auto"},"ok_rate"===s?r.a.createElement(y,{size:24}):r.a.createElement(b.a,{emoji:"excellent_rate"===s?"fire":"good_rate"===s?"heart":"ok_rate"===s?"heavy_division_sign":"shit",set:"facebook",size:24})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},e.likes.length),r.a.createElement("div",{className:"col-auto mr-2 "},A===n?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:A===n,size:20})):r.a.createElement(O.j,{onClick:Object(l.a)(i.a.mark((function t(){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.token){t.next=13;break}if(a._id===e.author){t.next=10;break}return P(n),t.next=5,q(a,e._id);case 5:r=t.sent,P(-1),r.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:r.error,type:"failure"}}):ot(!rt),t.next=11;break;case 10:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action not allowed",message:"You can not like you own review",type:"failure"}});case 11:t.next=14;break;case 13:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to like review",type:"failure"}});case 14:case"end":return t.stop()}}),t)}))),fontSize:"24px",className:"text-green scale-transition cursor-pointer"})),r.a.createElement("div",{className:"col-auto mr-2"},e.comments.length),r.a.createElement("div",{className:"col-auto mr-2"},r.a.createElement(O.b,{onClick:function(){ye(be===e._id?-1:e._id)},fontSize:"24px",className:"text-orange scale-transition cursor-pointer"})),r.a.createElement("div",{className:"col-auto text-orange btn-tertiary",onClick:function(){Ve(Object.assign({},e,{notificationReceivers:[o[e.author]]})),Fe(!0)}},"Reply")))))),r.a.createElement(it.a,{in:be===e._id,className:"mb-3"},r.a.createElement("div",{style:{marginLeft:"30px"},className:"py-2 text-light"},"Comments (",ue[e._id]?Object.values(ue[e._id]).length:0,")"),ue[e._id]?function e(t,n){return t.map((function(t,s){return ue[n._id][t]?r.a.createElement(r.a.Fragment,{key:"comment-fragment-".concat(be,"-").concat(s)},r.a.createElement("div",{ref:function(e){t===m&&e&&!dt&&(pt(!0),e.scrollIntoView({behavior:"smooth"}))},style:{marginLeft:"".concat(60*ue[n._id][t].notificationReceivers.length-30,"px")},key:"comment-".concat(be,"-").concat(s),className:"indented-comment row no-gutters p-4 bg-over-root-lighter rounded mb-2".concat(t===m?" fading-shadow":"")},r.a.createElement("div",{className:"col-auto pr-4 d-none d-md-block"},r.a.createElement("div",{className:"bg-image rounded-circle square-70",style:{backgroundImage:"url(".concat(o[ue[n._id][t].author]?o[ue[n._id][t].author].photo:"",")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center mb-2"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto pr-2 d-block d-md-none"},r.a.createElement("div",{className:"bg-image rounded-circle square-40",style:{backgroundImage:"url(".concat(o[ue[n._id][t].author]?o[ue[n._id][t].author].photo:"",")")}})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-3 text-title-md mb-0"},o[ue[n._id][t].author]?o[ue[n._id][t].author].display_name:""),r.a.createElement("div",{className:"col-auto mr-3 text-muted"},ct.a.format(new Date(ue[n._id][t].date),"MMM DD, YYYY")))))),a._id===ue[n._id][t].author?r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-root"},"Edit comment")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fe(ue[n._id][t]),Be(!0);case 2:case"end":return e.stop()}}),e)})))},r.a.createElement(Xe.k,{fontSize:"24px"}))),r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-root"},"Delete comment")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(ue[n._id][t]._id),e.next=3,M(ue[n._id][t]._id);case 3:a=e.sent,J(-1),a.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Couldn't delete comment",type:"failure",message:a.error}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Success",type:"success",message:"Comment successfully deleted"}}),tt(!Qe),ot(!rt));case 6:case"end":return e.stop()}}),e)})))},X===ue[n._id][t]._id?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:!0,size:20})):r.a.createElement(Xe.n,{fontSize:"24px"}))))):r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-root"},"Report Abuse")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.token){e.next=9;break}return W(t),e.next=4,G(a,t);case 4:n=e.sent,W(-1),n.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:n.error,type:"failure"}}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Comment reported",message:"Comment was successfully reported. We will review it soon.",type:"success"}}),e.next=10;break;case 9:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to report comment",type:"failure"}});case 10:case"end":return e.stop()}}),e)})))},L===t?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:!0,size:20})):r.a.createElement(O.c,{fontSize:"24px"})))),r.a.createElement("div",{className:"row no-gutters text-light mb-3 font-weight-300 text-break"},ue[n._id][t].comment),r.a.createElement("div",{className:"row no-gutters justify-content-end align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},ue[n._id][t].likes.length),r.a.createElement("div",{className:"col-auto mr-2 "},C===s?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:C===s,size:20})):r.a.createElement(O.j,{onClick:Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.token){e.next=13;break}if(a._id===ue[n._id][t].author){e.next=10;break}return S(s),e.next=5,B(a,t);case 5:r=e.sent,S(-1),r.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:r.error,type:"failure"}}):tt(!Qe),e.next=11;break;case 10:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action not allowed",message:"You can not like your own comment",type:"failure"}});case 11:e.next=14;break;case 13:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to like review",type:"failure"}});case 14:case"end":return e.stop()}}),e)}))),fontSize:"24px",className:"text-green scale-transition cursor-pointer"})),r.a.createElement("div",{className:"col-auto text-orange btn-tertiary",onClick:function(){a.token?(Ve(Object.assign({},n,{comment_id:t,notificationReceivers:ue[n._id][t].notificationReceivers.concat([o[ue[n._id][t].author]])})),Fe(!0)):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to write review.",type:"failure"}})}},"Reply")))))),e(ue[n._id][t].comments,n)):""}))}(Object.values(ue[e._id]).filter((function(e){return 1===e.notificationReceivers.length})).map((function(e){return e._id})),e):"",r.a.createElement("div",{className:"row no-gutters justify-content-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(lt,{count:Math.ceil(ue[e._id]?ue[e._id].length/5:1),current:ke,setCurrent:Ce,classNames:{notSelected:"input-dark",selected:"input-dark-selected"}})))))})),r.a.createElement("div",{className:"row no-gutters justify-content-end pt-2"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(lt,{classNames:{notSelected:"input-dark",selected:"input-dark-selected"},count:Math.ceil(g.length/8),current:vt,setCurrent:Oe})),r.a.createElement(et,{userIsOwner:ne,open:ze,onClose:function(){return Re(!1)},movie:t,review:Ke,user:a,refreshReviews:function(){return ot(!rt)}}),r.a.createElement(mt,{refreshReviews:function(){return ot(!rt)},setReviewIdOfVisibleComments:ye,refreshComments:function(){return tt(!Qe)},setComments:de,movie:t,reviewAuthor:o[Ke.author]?o[Ke.author]:{display_name:""},review:Ke,open:Me,onClose:function(){return Fe(!1)},user:a}),r.a.createElement(gt,{comment:ge,refreshComments:function(){return tt(!Qe)},setComments:function(){},movie:t,open:qe,onClose:function(){return Be(!1)},user:a}))))})),ht=a(33);var Et=Object(p.b)((function(e,t){return Object(h.a)({user:e.user,ratings:e.ratings,settings:e.settings},t)}))((function(e){var t=e.match.params.movieId,a=e.ratings,o=e.settings.movies_api_key,s=e.match.params.reviewId,c=e.match.params.commentId,m=e.user,u=Object(n.useState)(!1),p=Object(E.a)(u,2),v=p[0],g=p[1],h=Object(n.useState)(!1),b=Object(E.a)(h,2),y=b[0],w=b[1],N=Object(n.useState)(!1),x=Object(E.a)(N,2),O=x[0],_=x[1],j=Object(n.useState)(!1),k=Object(E.a)(j,2),C=k[0],S=k[1],I=Object(n.useState)({poster_path:"",genres:[],title:"",overview:"",director:[],cast:[],runtime:0,release_date:"",id:""}),T=Object(E.a)(I,2),A=T[0],P=T[1],D=Object(n.useState)(!1),z=Object(E.a)(D,2),R=z[0],Y=z[1];return Object(n.useEffect)((function(){A.title&&(W(A.id,o),A.id in a||d.dispatch({type:"UPDATE_RATINGS",rating:Object(Ze.a)({},A.id,{excellent_rate:[],ok_rate:[],bad_rate:[],good_rate:[],movie_poster:A.poster_path,movie_title:A.title,movie_genres:A.genres.map((function(e){return e.name})),movie_release_date:A.release_date})}))}),[A.title]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var a,n,r,s,c,l,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!o){e.next=22;break}if("serie-"!==t.substring(0,6)){e.next=9;break}return n=t.substring(6),e.next=5,qe(n,o);case 5:r=e.sent,a=Object.assign({},r,{title:r.name,release_date:r.first_air_date,id:t}),e.next=12;break;case 9:return e.next=11,Be(t,o);case 11:a=e.sent;case 12:return a.release_date=a.release_date?a.release_date:"0",void 0!==a.success&&a.success,P((function(e){return Object.assign({},e,a)})),e.next=17,He(t,o);case 17:s=e.sent,c=s.crew?s.crew.filter((function(e){return"Director"===e.job})).map((function(e){return e.name})):[],l=c.length?c:s.crew.map((function(e){return e.name})),m=s.cast?s.cast.map((function(e){return e.name})):[],P((function(e){return Object.assign({},e,{director:l,cast:m})}));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.scrollTo(0,0),function(){e.apply(this,arguments)}()}),[t,o]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(m._id,t);case 2:(a=e.sent)?a.error||g(a):g({review:"",rating:""});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}m._id&&t&&function(){e.apply(this,arguments)}()}),[y,m,t]),r.a.createElement("div",{className:"row no-gutters justify-content-center bg-movie-over-root position-relative"},r.a.createElement("div",{className:"position-absolute w-100 d-block d-lg-none",style:{top:0,left:0}},r.a.createElement("div",{className:"position-relative",style:{height:window.innerHeight,overflow:"hidden"}},r.a.createElement("div",{className:"position-relative"},r.a.createElement("img",{alt:A.poster_path,width:"100%",src:A.poster_path?"https://image.tmdb.org/t/p/w342/".concat(A.poster_path):"https://critics.io/img/movies/poster-placeholder.png"}),r.a.createElement("div",{className:"position-absolute w-100 h-100",style:{background:"linear-gradient(rgba(0, 0, 0, 0.3) 90%, black)",top:0,left:0}})),r.a.createElement("div",{className:"position-absolute w-100 h-100",style:{background:"linear-gradient(rgb(0 0 0 / 30%), black)",top:0,left:0}}))),r.a.createElement(Je,{open:R,onClose:function(){return Y(!1)}},r.a.createElement(Ve,{modalOpened:R,setIsEmpty:function(){return _(!0)},movieId:t,onEnded:function(){return Y(!1)}})),r.a.createElement("div",{className:"col-60 text-white px-md-5 py-5 px-4 content-container"},r.a.createElement("div",{className:"row no-gutters mb-5"},r.a.createElement("div",{className:"col-auto mr-5 d-none d-lg-block"},r.a.createElement("div",{className:"w-100 position-relative"},r.a.createElement("img",{alt:A.poster_path,style:{borderRadius:"25px"},width:"300px",src:A.poster_path?"https://image.tmdb.org/t/p/w342/".concat(A.poster_path):"https://critics.io/img/movies/poster-placeholder.png"}),r.a.createElement("div",{onClick:function(){return f.push("/movie/".concat(A.id))},className:"col-60 h-100 text-white d-flex flex-center img-cover cursor-pointer",style:{left:0,top:0,position:"absolute",zIndex:4,borderRadius:"13px"}},O?"":r.a.createElement("div",{className:"square-60 rounded-circle d-flex flex-center play-btn",onClick:function(e){e.stopPropagation(),Y(!0)}},r.a.createElement(Xe.l,{style:{fontSize:"35px",color:"white",marginRight:"-5px"}}))))),r.a.createElement("div",{className:"col position-relative"},r.a.createElement("div",{className:"row no-gutters position-relative",style:{zIndex:5}},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-3"},r.a.createElement("div",{className:"row no-gutters h5 mb-2 align-items-center"},A.title," (",A.release_date.substring(0,4),")")),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters mb-2 align-items-center mt-2"},r.a.createElement(Ye,{selected:!!m.ratings[A.id]&&"excellent_rate"===m.ratings[A.id].rate_type,movie:A,emoji:"fire",className:"mr-2 mb-2",value:a[A.id]?a[A.id].excellent_rate:[]}),r.a.createElement(Ye,{selected:!!m.ratings[A.id]&&"good_rate"===m.ratings[A.id].rate_type,movie:A,emoji:"heart",className:"mr-2 mb-2",value:a[A.id]?a[A.id].good_rate:[]}),r.a.createElement(Ye,{selected:!!m.ratings[A.id]&&"ok_rate"===m.ratings[A.id].rate_type,movie:A,className:"mr-2 mb-2",emoji:"heavy_division_sign",value:a[A.id]?a[A.id].ok_rate:[]}),r.a.createElement(Ye,{className:"mb-2",emoji:"shit",value:a[A.id]?a[A.id].bad_rate:[],selected:!!m.ratings[A.id]&&"bad_rate"===m.ratings[A.id].rate_type,movie:A})))),r.a.createElement("div",{className:"row no-gutters text-movie-muted mb-2"},r.a.createElement("div",{className:"text-truncate"},A.genres.map((function(e){return e.name})).join("/"))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-auto font-weight-500 mr-2"},"Duration:"),r.a.createElement("div",{className:"col-auto text-movie-muted"},ze(A.runtime))),r.a.createElement("div",{className:"row no-gutters mb-4 text-light"},A.overview),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2"},"Director:"),r.a.createElement("div",{className:"col-auto col-sm mr-5 text-movie-muted"},A.director.length?A.director.join(", "):"unknown"))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2"},"Cast:"),r.a.createElement("div",{className:"col-auto col-sm"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"text-clamp-2 text-muted-light cursor-pointer",onClick:function(e){e.currentTarget.classList.contains("text-clamp-2")?e.currentTarget.classList.remove("text-clamp-2"):e.currentTarget.classList.add("text-clamp-2")}},A.cast.length?A.cast.join(", "):"unknown")))))),r.a.createElement("div",{className:"row no-gutters mb-5"},r.a.createElement("div",{className:"col-auto mr-2"},"Release date:"),r.a.createElement("div",{className:"col-auto text-movie-muted"},"0"!==A.release_date?ct.a.format(new Date(A.release_date),"MMMM DD, YYYY"):"unknown")),r.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-md-start"},r.a.createElement("div",{className:"col-auto mr-3 btn-custom btn-custom-primary btn-small",onClick:function(){m.token?S(!C):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to write review.",type:"failure"}})}},m.ratings[A.id]?r.a.createElement(r.a.Fragment,null,"Edit Review",r.a.createElement(Xe.k,{fontSize:"20px",className:"ml-2"})):r.a.createElement(r.a.Fragment,null,"Add Review",r.a.createElement(ht.e,{fontSize:"20px",className:"ml-2"}))),r.a.createElement(Pe,{movie:A,user:m})))))),r.a.createElement(et,{userIsOwner:m.ratings[A.id],open:C,onClose:function(){return S(!1)},movie:A,review:v,user:m,refreshReviews:function(){return w(!y)}}),r.a.createElement(ft,{refreshReviewsFromParent:y,userHasWrittenReview:m.ratings[A.id],seekCommentId:c,seekReviewId:s,movie:A,user:m})))}));var bt=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,ratings:e.ratings},t)}))((function(e){var t=e.reviews,a=e.publicUsers,o=e.ratings,s=Object(n.useState)(-1),c=Object(E.a)(s,2),m=c[0],u=c[1],d=Object(n.useState)(1),p=Object(E.a)(d,2),v=p[0],g=p[1],h=Object(n.useState)({}),w=Object(E.a)(h,2),N=w[0],x=w[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===m){e.next=5;break}return e.next=3,F(m);case 3:t=e.sent,x((function(e){return Object.assign({},e,Object(Ze.a)({},m,t))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m]),t.slice(0,8).map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"fragment-review-".concat(t)},r.a.createElement("div",{key:"review-".concat(t),className:"row no-gutters p-4 bg-over-root-lighter rounded mb-2"},r.a.createElement("div",{className:"col-sm-auto col-20 pr-4 d-none d-sm-block",style:{maxWidth:"150px"}},r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("img",{alt:o[e.movie_id].movie_poster,onClick:function(){return f.push("/movie/".concat(e.movie_id))},width:"100%",style:{borderRadius:"13px",cursor:"pointer"},src:"https://image.tmdb.org/t/p/w154".concat(o[e.movie_id].movie_poster)}))),r.a.createElement("div",{className:"col d-flex flex-column"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center mb-2 flex-grow-0"},r.a.createElement("div",{className:"col-60 d-block d-sm-none mb-3"},r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("div",{className:"col-auto pr-3"},r.a.createElement("div",{className:"square-70 rounded bg-image",style:{backgroundImage:"url(https://image.tmdb.org/t/p/w154".concat(o[e.movie_id].movie_poster,")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters text-white h6 mb-0"},o[e.movie_id].movie_title," (",o[e.movie_id].movie_release_date.substring(0,4)),r.a.createElement("div",{className:"row no-gutters text-muted"},r.a.createElement("div",{className:"text-truncate"},e.movie_genres))))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters justify-content-between"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto pr-2"},r.a.createElement("div",{className:"bg-image rounded-circle square-40",style:{backgroundImage:"url(".concat(a[e.author]?a[e.author].photo:"",")")}})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center text-white"},r.a.createElement("div",{className:"col-auto mr-3 mb-0"},a[e.author]?a[e.author].display_name:""))))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters text-white"},r.a.createElement("span",{className:"mr-2"},"Posted review on"),r.a.createElement("span",{className:"text-muted"},ct.a.format(new Date(e.date),"MMM DD, YYYY"))))))),r.a.createElement("div",{className:"row no-gutters text-light mb-3 font-size-14 flex-grow-0 font-weight-300"},e.review),r.a.createElement("div",{className:"row no-gutters flex-grow-1 align-items-bottom"},r.a.createElement("div",{className:"col-60 d-flex flex-column justify-content-end"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center text-white"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},e.rating?"ok_rate"===e.rating?r.a.createElement("div",{style:{marginTop:"-4px"}},r.a.createElement(y,{size:24})):r.a.createElement("div",{style:{marginBottom:"-6px"}},r.a.createElement(b.a,{emoji:"excellent_rate"===e.rating?"fire":"good_rate"===e.rating?"heart":"ok_rate"===e.rating?"heavy-division-sign":"shit",set:"facebook",size:24})):"")),r.a.createElement("div",{className:"col-auto px-0"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},e.likes.length),r.a.createElement("div",{className:"col-auto mr-2 "},r.a.createElement(O.j,{fontSize:"24px",className:"text-green"})),r.a.createElement("div",{className:"col-auto mr-2"},e.comments.length),r.a.createElement("div",{className:"col-auto"},r.a.createElement(O.b,{onClick:function(){u(m===e._id?-1:e._id)},fontSize:"24px",className:"text-orange scale-transition cursor-pointer"}))))))))),r.a.createElement(it.a,{in:m===e._id,className:"mb-3"},r.a.createElement("div",{className:"ml-4 h5 py-2 text-white"},"Comments (",N[e._id]?N[e._id].length:0,")"),N[e._id]?N[e._id].slice(v*(v-1),v*(v-1)+5).map((function(e,t){return r.a.createElement("div",{key:"comment-".concat(m,"-").concat(t),className:"row no-gutters p-4 bg-over-root-lighter rounded ml-4 mb-2"},r.a.createElement("div",{className:"col-auto pr-4 d-none d-md-block"},r.a.createElement("div",{className:"bg-image rounded-circle square-70",style:{backgroundImage:"url(".concat(a[e.author]?a[e.author].photo:"",")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters align-items-center mb-2"},r.a.createElement("div",{className:"col-auto pr-2 d-block d-md-none"},r.a.createElement("div",{className:"bg-image rounded-circle square-40",style:{backgroundImage:"url(".concat(a[e.author]?a[e.author].photo:"",")")}})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-3 h6 text-white mb-0"},a[e.author]?a[e.author].display_name:""),r.a.createElement("div",{className:"col-auto mr-3 text-muted"},ct.a.format(new Date(e.date),"MMM DD, YYYY"))))),r.a.createElement("div",{className:"row no-gutters text-light mb-3"},e.comment),r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},e.likes.length),r.a.createElement("div",{className:"col-auto mr-2 "},r.a.createElement(O.j,{fontSize:"24px",className:"text-green cursor-pointer"})))))))})):"",r.a.createElement("div",{className:"row no-gutters mt-2 justify-content-end"},r.a.createElement("div",{className:"col-auto ml-4"},r.a.createElement(lt,{count:Math.ceil(N[e._id]?N[e._id].length/5:1),current:v,setCurrent:g,classNames:{notSelected:"input-dark",selected:"input-dark-selected"}})))))}))})),yt=function(e){var t={0:"All"};return e.forEach((function(e){e.genre_ids.forEach((function(a){var n=e.title?w.find((function(e){return e.id===a})):N.find((function(e){return e.id===a}));n&&n.name&&(a in t||(t[a]=n.name))}))})),t};var wt=Object(p.b)((function(e,t){return Object(h.a)({settings:e.settings,search:e.search},t)}))((function(e){var t=e.search,a=e.settings,o=Object(n.useState)([]),s=Object(E.a)(o,2),c=s[0],m=s[1],u=Object(n.useState)([]),p=Object(E.a)(u,2),v=p[0],g=p[1],f=Object(n.useState)([]),h=Object(E.a)(f,2),b=h[0],y=h[1],w=Object(n.useState)(0),N=Object(E.a)(w,2),x=N[0],O=N[1],_=Object(n.useState)(0),j=Object(E.a)(_,2),k=j[0],C=j[1],S=t.category,I=function(){d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:"You need to provide valid api key in admin dashboard",type:"failure"}})};Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.query){e.next=25;break}if("Reviews"!==S&&"All"!==S){e.next=8;break}return e.next=4,te(t.query);case 4:(n=e.sent).error||m(n),e.next=9;break;case 8:m([]);case 9:if("Movies"!==S&&"All"!==S){e.next=16;break}return e.next=12,Ge(t.query,a.movies_api_key);case 12:(r=e.sent).results?g(r.results):I(),e.next=17;break;case 16:g([]);case 17:if("Series"!==S&&"All"!==S){e.next=24;break}return e.next=20,Ke(t.query,a.movies_api_key);case 20:(o=e.sent).results?y(o.results):I(),e.next=25;break;case 24:y([]);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var T=yt(v),A=yt(b);return r.a.createElement("div",{className:"row no-gutters justify-content-center bg-over-root",style:{minHeight:window.innerHeight}},r.a.createElement("div",{className:"col-60 d-flex flex-column"},r.a.createElement("div",{className:"row no-gutters flex-grow-0"}),r.a.createElement("div",{className:"row no-gutters flex-grow-1"},r.a.createElement("div",{className:"col-60 d-flex flex-column"},r.a.createElement("div",{className:"row no-gutters flex-grow-1 justify-content-center"},r.a.createElement("div",{className:"col-60 p-5 text-white content-container d-flex flex-column"},r.a.createElement("div",{className:"row no-gutters flex-grow-1"},r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters h4"},"Search Results"),r.a.createElement("div",{className:"row no-gutters text-muted border-bottom pb-3"},"Showing all results")),r.a.createElement("div",{className:"col-60"},v.length?r.a.createElement("div",{className:"row no-gutters h5 mb-2"},"Movies (",v.length,")"):"",r.a.createElement("div",{className:"row no-gutters justify-content-end text-light align-items-center mb-4"},r.a.createElement("div",{className:"col-auto"},Object.keys(T).length>1?r.a.createElement(at.a,{style:{padding:"14px 0",width:"100%",overflowX:"auto",whiteSpace:"nowrap"}},Object.keys(T).map((function(e,t){return r.a.createElement("div",{onClick:function(){O(e)},style:{display:"inline-block"},key:"genre-for-popular-movie-".concat(t),className:"px-4 ".concat(+x===+e?"btn-tertiary-selected text-white":"btn-tertiary text-light-white")},T[e])}))):""))),r.a.createElement("div",{className:"col-60"},v.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,{movies:v.filter((function(e){return e.genre_ids.includes(+x)||0===+x}))})):"",r.a.createElement("div",{className:"py-2 row no-gutters"}),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60"},b.length?r.a.createElement("div",{className:"row no-gutters h5 mb-2"},"Series (",b.length,")"):"",r.a.createElement("div",{className:"row no-gutters justify-content-end text-light align-items-center mb-4"},r.a.createElement("div",{className:"col-auto"},Object.keys(A).length>1?r.a.createElement(at.a,{style:{padding:"14px 0",width:"100%",overflowX:"auto",whiteSpace:"nowrap"}},Object.keys(A).map((function(e,t){return r.a.createElement("div",{onClick:function(){C(e)},style:{display:"inline-block"},key:"genre-for-popular-movie-".concat(t),className:"px-4 ".concat(+k===+e?"btn-tertiary-selected text-white":"btn-tertiary text-light-white")},A[e])}))):"")))),b.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,{prefix:"serie-",movies:b.filter((function(e){return e.genre_ids.includes(+k)||0===+k})).map((function(e){return Object.assign({},e,{id:"serie-".concat(e.id)})}))})):"",r.a.createElement("div",{className:"py-2 row no-gutters"}),c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row no-gutters h5 mb-2"},"Reviews (",c.length,")"),r.a.createElement(bt,{reviews:c})):""))))))))}));var Nt=function(e){return n.createElement("svg",Object.assign({fill:"transparent",id:"logo__svg8",viewBox:"0 0 98.1 111.451",height:"100%"},e),n.createElement("defs",{id:"logo__defs2"},n.createElement("clipPath",{clipPathUnits:"userSpaceOnUse",id:"logo__clipPath923"},n.createElement("rect",{id:"logo__rect925",width:595.99,height:569.726,x:359.033,y:144.727,ry:10.993,fill:"#14bf4f",fillOpacity:.52,strokeWidth:2.513,strokeLinecap:"square",paintOrder:"markers fill stroke"})),n.createElement("clipPath",{id:"logo__clipPath857",clipPathUnits:"userSpaceOnUse"},n.createElement("rect",{ry:11.18,y:200.285,x:462.025,height:421.234,width:370.77,id:"logo__rect859",fill:"#14bf4f",fillOpacity:.52,strokeWidth:2.443,strokeLinecap:"square",paintOrder:"markers fill stroke"}))),n.createElement("g",{id:"logo__layer1",transform:"translate(-52.373 -23.252)"},n.createElement("g",{id:"logo__g917",transform:"matrix(.26458 0 0 .26458 -69.87 -29.74)",clipPath:"url(#logo__clipPath857)"},n.createElement("path",{id:"logo__rect870",d:"M2-3h1286v1026H2z"}),n.createElement("g",{id:"logo__g894"},n.createElement("path",{id:"logo__path872",d:"M582.17 504.56c-.49.61-1.24.71-1.88 1.03-7.21 3.59-11.41 9.32-12.53 17.34-.5 3.58-.2 7.07.57 10.55.95 4.29 3.05 7.95 6.19 11.01.33.32.68.6 1 .93.28.29.36.64.07.96-.49.54-1.03 1.03-1.51 1.57-4.22 4.78-6.45 10.36-6.11 16.73.58 10.7 7.16 18.96 16.77 21.94.86.27 1.8.3 2.58.87.28.71-.29 1.17-.55 1.69-3.92 7.96-3.6 15.77.77 23.46.31.54.78 1 .83 1.69-.24.55-.76.33-1.16.37-.45.04-.91.01-1.36.01-12.73 0-25.46 0-38.19.01-3.46 0-6.91-.03-10.37.02-8.48.12-16.11-2.48-23.04-7.22-11.1-7.6-17.68-18.06-19.61-31.41-.2-1.35-.37-2.7-.37-4.07.01-16.55-.06-33.1.02-49.65.05-10.03 3.1-19.14 9.2-27.14 5.2-6.82 11.88-11.71 19.87-14.79 5.55-2.14 10.19-5.53 14.06-10.02 2.51-2.91 4.62-6.08 6.44-9.44 3.45-6.37 5.63-13.18 7.11-20.24 1.61-7.69 2.25-15.46 2.19-23.3-.03-4.01 1-7.74 3.02-11.18 3.25-5.51 7.97-9.16 14.2-10.7 12.53-3.11 25.43 6.37 26.53 18.57.59 6.57.3 13.07-.42 19.58-.59 5.33-1.33 10.64-2.39 15.9-1.48 7.32-3.67 14.43-6.41 21.38-.46 1.16-1.19 1.99-2.05 2.82-3.72 3.57-6.06 7.88-6.98 12.98-.98 5.4-.04 10.47 2.39 15.34.38.77 1.08 1.43 1.12 2.41z",className:"logo__st0"}),n.createElement("path",{id:"logo__path874",d:"M652.59 618.75c.16-1.11.69-1.64 1.07-2.24 3.91-6.12 5.54-12.8 4.79-20.02-.17-1.62-.61-3.21-.92-4.81-.1-.51.07-.89.6-1.03 1.41-.36 2.82-.7 4.23-1.06 21.37-5.42 40.31-15.44 56.69-30.21 18.45-16.63 31.25-36.94 39.23-60.38.5-1.46 1.02-2.92 1.4-4.41.5-1.9-.94-3.2-2.86-2.63-.69.2-1.35.54-2.02.82-5.52 2.33-11.09 4.56-16.8 6.41-5.55 1.8-11.23 3-17.03 3.61-3.89.41-7.79.67-11.67 1.12-2.31.27-4-.53-5.5-2.26-2-2.29-3.68-4.71-4.49-7.69-.9-3.32-.49-6.47.98-9.54.87-1.83 2.13-3.38 3.47-4.87.83-.92 1.86-1.43 3.1-1.52.82-.06 1.63-.17 2.44-.21 18.74-1.03 35.75-7.12 51-17.94 19.67-13.95 32.95-32.57 39.65-55.79 1.56-5.42 2.53-10.96 3.14-16.58 1.44-13.31-.37-26.29-3.84-39.11-3.07-11.32-7.82-21.88-14.66-31.46-8.18-11.45-18.57-20.38-30.88-27.12-8.24-4.51-16.89-8.05-26.01-10.37-.53-.13-1.06-.26-1.57-.44-.83-.28-1.14-1.31-.58-1.99.34-.42.76-.78 1.16-1.15 4.27-3.96 8.54-7.9 12.81-11.86 2.07-1.92 4.16-3.81 6.17-5.78.77-.76 1.49-.81 2.43-.44 5.08 2 10.07 4.2 14.84 6.85 29.34 16.29 49.33 40.48 60.49 72.02 3.13 8.85 4.97 18.02 5.89 27.38.72 7.26.86 14.54.29 21.79-2.11 26.66-11.41 50.53-28.29 71.35-2.06 2.54-4.26 4.98-6.51 7.35-2.94 3.09-4.53 6.72-4.99 10.94-3.71 34.36-17.62 64.25-39.98 90.31-14.67 17.09-32.59 29.96-52.98 39.44-13.08 6.08-26.69 10.52-40.91 13.05-1.05.2-2.13.3-3.38.47z",className:"logo__st1"}),n.createElement("path",{id:"logo__path876",d:"M478.72 519.92c-.5-.47-.63-1.11-.86-1.69-4.42-11.29-7.62-22.91-9.37-34.92-.58-3.95-1.23-7.9-1.91-11.84-.56-3.25-.51-6.52-.46-9.79.05-3.73.12-7.45.13-11.18.01-2.91.14-5.79.65-8.68 1.37-7.69 2.45-15.43 4.34-23.02 6.18-24.86 17.44-47.13 34.09-66.6 20.87-24.41 46.77-41.16 77.51-50.44 5.83-1.76 11.74-3.22 17.76-4.17 1.82-.29 3.12-1.07 4.32-2.47 7.94-9.33 17.04-17.38 27.25-24.18.3-.2.6-.4.91-.6 1.15-.71 1.24-.74 2.09.13 1.53 1.55 3.02 3.15 4.55 4.71.69.71.94 1.53.78 2.49-.07.45-.12.9-.21 1.35-1.42 7.12-2.87 14.24-4.27 21.37-.24 1.22-.76 2.17-1.72 2.98a51.582 51.582 0 00-3.59 3.34c-9.65 9.94-21.33 16.11-34.77 19.32-19.29 4.6-36.74 13.15-52.2 25.58-21.51 17.28-36.31 39.19-44.61 65.49-2.91 9.21-4.75 18.64-5.63 28.27-.67 7.36-.68 14.71-.26 22.07.27 4.8.84 9.6 1.83 14.32.29 1.4 0 2.36-.95 3.42-7.06 7.89-11.63 17.07-13.84 27.42-.38 1.77-.58 3.58-.88 5.38-.11.69.01 1.46-.68 1.94z",className:"logo__st1"}),n.createElement("path",{id:"logo__path878",d:"M684.32 203.33c.82.51.98 1.37 1.31 2.09 4.75 10.31 9.53 20.6 14.15 30.97.95 2.14 2.04 3.58 4.52 3.47 11.54 2 23.09 4.01 34.63 6.01.27.05.55.1.77.24.24.14.39.42.15.66-.57.58-1.17 1.14-1.78 1.69-8.21 7.59-16.44 15.16-24.64 22.77-2.32 2.15-2.39 1.45-1.86 5.14.8 5.57 1.64 11.14 2.45 16.72.89 6.11 1.76 12.23 2.63 18.34.05.35.01.72.01 1.09-.93.13-1.52-.54-2.19-.92-9.75-5.46-19.47-10.96-29.2-16.45-.32-.18-.67-.31-.95-.54-1.57-1.25-3.05-.99-4.77-.13-10.07 5.05-20.18 10-30.28 14.97-.87.43-1.77.79-2.66 1.19-.37-.88-.09-1.58.05-2.28 2.25-11.22 4.52-22.43 6.77-33.65.6-2.98.59-2.98-1.59-5.22-7.78-8.03-15.57-16.06-23.35-24.09-.62-.64-1.22-1.3-1.98-2.11.99-.54 1.88-.57 2.73-.67 8.48-.99 16.97-1.96 25.46-2.94 3.07-.35 6.13-.77 9.21-1.04 1.45-.13 2.24-.8 2.9-2.06 4.1-7.9 8.27-15.76 12.42-23.63 1.7-3.2 3.39-6.4 5.09-9.62z",className:"logo__st0"}),n.createElement("path",{id:"logo__path880",d:"M623.34 542.48h-36.81c-1.18 0-2.35 0-3.52-.28-4.03-.99-6.84-4.24-6.95-8.36-.1-4.09-.01-8.18-.03-12.27-.02-3.59 2.82-7.96 7.69-8.57.9-.11 1.81-.16 2.71-.16 24.72-.01 49.44-.01 74.16 0 .99 0 2 .05 2.98.22 4.14.73 7.22 4.1 7.36 8.28.14 4.18.14 8.36.01 12.54-.15 4.68-3.82 8.25-8.62 8.59-.81.06-1.64.02-2.45.02-12.17-.01-24.35-.01-36.53-.01z",className:"logo__st0"}),n.createElement("path",{id:"logo__path882",d:"M623.37 578.52h-36.8c-1.27 0-2.53 0-3.79-.34-3.89-1.04-6.62-4.26-6.72-8.27-.1-4.18-.11-8.36.01-12.54.12-4.17 3.25-7.6 7.35-8.28.98-.16 1.99-.22 2.98-.22 24.72-.01 49.43-.01 74.15 0 .91 0 1.82.04 2.71.17 4.27.62 7.51 4 7.67 8.29.15 4.17.14 8.36.01 12.54-.15 4.7-3.82 8.28-8.59 8.62-.81.06-1.64.02-2.45.02-12.17.01-24.35.01-36.53.01z",className:"logo__st0"}),n.createElement("path",{id:"logo__path884",d:"M620.62 505.62c-6.18 0-12.37-.02-18.55.01-3.5.02-6.64-.99-9.33-3.22-4.56-3.78-6.17-8.75-5.07-14.42 1.09-5.62 4.67-9.32 10.13-11.1 1.57-.51 3.21-.62 4.85-.62 11.91 0 23.82 0 35.74.01 5.36.01 9.69 2.09 12.85 6.47 5.14 7.13 2.02 19.96-8.82 22.6-1.13.28-2.35.25-3.52.26-6.1.02-12.19.01-18.28.01z",className:"logo__st0"}),n.createElement("path",{id:"logo__path886",d:"M619.47 614.55c-5.82 0-11.63-.01-17.45 0-2.46 0-4.65-.7-6.49-2.38-1.84-1.67-2.9-3.78-2.96-6.23-.1-4.09-.17-8.19.01-12.27.16-3.75 2.06-6.5 5.57-8.05 1.11-.49 2.28-.6 3.46-.61 1.91-.02 3.82-.01 5.73-.01h28.36c.82 0 1.64.01 2.45.03 4.74.12 8.34 4.48 8.33 8.5-.01 4 .06 8-.01 12-.08 5.04-3.7 8.74-8.74 9-1.36.07-2.73.02-4.09.02h-14.17z",className:"logo__st0"}),n.createElement("path",{id:"logo__path888",d:"M733.06 336.76c7.64-.27 16.28 5.85 16.29 16.22.01 10.03-8.33 16.74-16.61 16.68a16.298 16.298 0 01-16.24-16.62c.17-10.3 8.58-16.54 16.56-16.28z",className:"logo__st1"}),n.createElement("path",{id:"logo__path890",d:"M706.71 419.78c-5.31.04-11.12-4.33-11.9-9.26-.56-3.55.49-6.65 2.66-9.37 1.19-1.5 2.79-2.58 4.58-3.33 2.17-.9 4.39-1.15 6.63-.36 4.18 1.46 7.2 4.09 8.35 8.54.42 1.63.38 3.24-.12 4.82-1.38 4.33-4.03 7.44-8.55 8.69-.7.19-1.43.23-1.65.27z",className:"logo__st1"}),n.createElement("path",{id:"logo__path892",d:"M662.89 381.33c.18 4.2-3.56 9.55-8.04 10.98-1.69.54-3.44.61-5.12.19-3.8-.95-6.71-3.14-8.53-6.66-.82-1.59-.95-3.31-.8-5.05.58-6.87 6.71-11.24 12.19-10.68 5.47.56 10.36 5.78 10.3 11.22z",className:"logo__st1"})))),n.createElement("style",{id:"style868",type:"text/css"},".logo__st0{fill:#fbfbfb}.logo__st1{fill:#fd0040}"))},xt=[{name:"Settings",icon:O.i},{name:"User Management",icon:O.d},{name:"Reviews & Comments",icon:O.g},{name:"Announcements",icon:ht.a},{name:"Promotions",icon:Xe.j},{name:"Notifications",icon:Xe.b}],Ot=function(e){var t=e.section,a=e.setSection,n=e.isMenuOpened,o=e.mobile,s=void 0!==o&&o;return r.a.createElement("div",{className:"row no-gutters bg-over-root-lighter text-white h-100 admin-menu"},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center d-flex d-lg-none px-5 mb-4"},r.a.createElement("div",{className:"col-auto h3"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"square-50 mr-2"},r.a.createElement(Nt,null)),r.a.createElement("div",{className:"col-auto logo text-title-lg"},"CozyPotato"))),r.a.createElement("div",{className:"col-auto"},r.a.createElement(O.e,{className:"cursor-pointer",fontSize:"34px",onClick:function(){d.dispatch({type:"SET_DASHBOARD_MENU_OPENED",isOpened:!n})}}))),xt.map((function(e,o){return r.a.createElement("div",{key:"left-menu-item-".concat(o),className:"row no-gutters px-4 mb-2",style:{borderLeft:t===o?"4px solid rgb(255, 0, 64)":"4px solid transparent"}},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{onClick:function(){a(o),s&&d.dispatch({type:"SET_DASHBOARD_MENU_OPENED",isOpened:!n})},key:"menu-item-".concat(o),className:"align-items-center px-3 btn-custom text-left row no-gutters".concat(t===o?" bg-custom-primary":"")},r.a.createElement(e.icon,{className:"col-auto mr-2",fontSize:"24px"}),r.a.createElement("div",{className:"col-auto"},e.name))))}))))},_t=[{icon:ht.b,name:"Facebook"},{icon:ht.c,name:"Instagram"},{icon:ht.d,name:"Linkedin"},{icon:ht.f,name:"Twitter"}];var jt=Object(p.b)((function(e,t){return Object(h.a)({settings:e.settings},t)}))((function(e){var t=e.settings,a=Object(n.useState)(""),o=Object(E.a)(a,2),s=o[0],c=o[1],m=Object(n.useState)(!1),u=Object(E.a)(m,2),p=u[0],v=u[1],g=[{valid:(/^http/.test(t.FacebookLink)||""===t.FacebookLink)&&(/^http/.test(t.TwitterLink)||""===t.TwitterLink)&&(/^http/.test(t.LinkedinLink)||""===t.LinkedinLink)&&(/^http/.test(t.InstagramLink)||""===t.InstagramLink),error:"Social link must start with http:// or https://"}];return r.a.createElement("div",{className:"row no-gutters admin-screen"},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters border-bottom pb-3 mb-5"},r.a.createElement("div",{className:"col-60 admin-screen-title"},"Settings"),r.a.createElement("div",{className:"col-60"},"Configuration settings for admin panel")),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-xl-40 col-sm-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Configure API for popular movies (main for now)"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{type:"text",placeholder:"Enter API key",value:t.movies_api_key,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{movies_api_key:e.target.value}})},className:"px-3 input-light w-100"}))),r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Configure API for movie data"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{value:t.movie_data_api,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{movie_data_api:e.target.value}})},type:"text",placeholder:"Enter API key",className:"px-3 input-light w-100"}))),r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Configure API for latest movies"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{type:"text",placeholder:"Enter API key",value:t.latest_movies_api,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{latest_movies_api:e.target.value}})},className:"px-3 input-light w-100"}))),r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Set Captcha API key"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{type:"text",placeholder:"Enter API key",value:t.captcha_api_key,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{captcha_api_key:e.target.value}})},className:"px-3 input-light w-100"}))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-lg-30 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Number of popular reviews to show"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{value:t.no_popular_reviews,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{no_popular_reviews:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-lg-30 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Number of popular movies to show"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{value:t.no_popular_movies,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{no_popular_movies:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-lg-30 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Number of Reviews allowed per day per user"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{value:t.no_allowed_reviews,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{no_allowed_reviews:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-lg-30 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Number of characters allowed in comments"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{value:t.no_comment_characters,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{no_comment_characters:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-lg-30 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Number of characters allowed in display name"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{value:t.no_display_name_characters,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{no_display_name_characters:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-lg-30 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Number of words allowed in review"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{value:t.no_review_words,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{no_review_words:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),r.a.createElement("div",{className:"col-xl-40 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Background image refresh time (days, hours, minutes)"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-20 pr-3"},r.a.createElement("div",{className:"row no-gutters text-muted"},"days"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{value:t.bg_image_refresh_time_days,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{bg_image_refresh_time_days:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))),r.a.createElement("div",{className:"col-20 pr-3"},r.a.createElement("div",{className:"row no-gutters text-muted"},"hours"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{value:t.bg_image_refresh_time_hours,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{bg_image_refresh_time_hours:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))),r.a.createElement("div",{className:"col-20 "},r.a.createElement("div",{className:"row no-gutters text-muted"},"minutes"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{value:t.bg_image_refresh_time_minutes,onChange:function(e){e.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:{bg_image_refresh_time_minutes:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Current background movie"),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("img",{alt:t.current_bg_movie.backdrop_path,style:{maxWidth:"500px"},width:"100%",src:"https://image.tmdb.org/t/p/w500".concat(t.current_bg_movie.backdrop_path)})),r.a.createElement("div",{className:"row no-gutters mb-1"},"Title"),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("input",{disabled:!0,className:"input-light-disabled w-100 px-3",value:t.current_bg_movie.title})),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-auto mr-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Set Date"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{disabled:!0,className:"input-light-disabled px-3",value:ct.a.format(new Date(t.current_bg_movie.date_set),"YYYY-MM-DD @ hh:mm A")}))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Refresh Date"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{disabled:!0,className:"input-light-disabled px-3",value:ct.a.format(new Date(t.current_bg_movie.date_set+6e4*t.bg_image_refresh_time_minutes+36e5*t.bg_image_refresh_time_hours+864e5*t.bg_image_refresh_time_days),"YYYY-MM-DD @ hh:mm A")})))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto btn-custom btn-custom-primary btn-small",onClick:Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.movies_api_key){e.next=9;break}return v(!0),e.next=4,n=t.movies_api_key,j("/changeBackgroundMovie",{apiKey:n});case 4:a=e.sent,v(!1),a.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action not allowed",message:a.error,type:"failure"}}):d.dispatch({type:"UPDATE_SETTINGS",settings:{current_bg_movie:a}}),e.next=10;break;case 9:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action not allowed",message:"You need to set movies api key to change background movie",type:"failure"}});case 10:case"end":return e.stop()}var n}),e)})))},p?r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:p,size:20}):"Refresh"))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Set social links"),_t.map((function(e,a){return r.a.createElement("div",{className:"row no-gutters mb-2",key:"social-icons-settings-".concat(a)},r.a.createElement("div",{className:"col-auto mr-2"},r.a.createElement("div",{className:"square-40 rounded-circle bg-white d-flex flex-center"},r.a.createElement(e.icon,{fontSize:"24px",className:"text-dark"}))),r.a.createElement("div",{className:"col"},r.a.createElement("input",{spellCheck:!1,type:"text",placeholder:"Paste ".concat(e.name," link"),value:t["".concat(e.name,"Link")],onChange:function(t){t.persist(),d.dispatch({type:"UPDATE_SETTINGS",settings:Object(Ze.a)({},"".concat(e.name,"Link"),t.target.value)})},className:"px-3 input-light w-100"})))}))),r.a.createElement("div",{className:"col-60 mt-3"},r.a.createElement("div",{style:{height:"30px",opacity:s?1:0},className:"row no-gutters align-items-center text-danger"},s),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto"},"Cancel"),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=g.filter((function(e){return!e.valid}))).length){e.next=5;break}c(a[0].error),e.next=10;break;case 5:return c(""),e.next=8,ae(t);case 8:e.sent.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:"Settings were not updated",type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Settings updated!",message:"Settings were successfully updated",type:"success"}}),ne((function(e){e.error||e.length&&d.dispatch({type:"UPDATE_SETTINGS",settings:e[0]})})));case 10:case"end":return e.stop()}}),e)})))},"Save"))))))))})),kt=function(e){var t=e.isMenuOpened,a=e.setSection,n=e.section;return r.a.createElement("div",{className:"d-block d-lg-none col-60 col-sm-40 col-md-30 col-lg-20 col-xl-15 vh-100 zindex-99 ".concat(t?"":"zindex-0-1"),style:{position:"fixed",right:0,top:0}},r.a.createElement("div",{className:"w-100 h-100 position-relative"},r.a.createElement("div",{className:"container-fluid px-0",style:{height:"100%",width:"100%",right:t?0:"-100%",transition:"right 0.3s",position:"absolute",zIndex:10,background:"white"}},r.a.createElement(Ot,{mobile:!0,className:"text-white bg-internly-90 col-12",section:n,isMenuOpened:t,setSection:a}))))},Ct=a(189),St=a.n(Ct),It=function(e){var t=e.items,a=e.btnName,o=e.className,s=void 0===o?"":o,c=e.multipleSelect,i=void 0!==c&&c,l=e.popoverClass,m=void 0===l?"":l,u=(e.popoverWidth,e.disabled),d=void 0!==u&&u,p=e.onSelect,v=void 0===p?function(){}:p,g=Object(n.useState)(!1),f=Object(E.a)(g,2),h=f[0],b=f[1],y=Object(n.useRef)(null);return d?r.a.createElement("div",{className:m},r.a.createElement("div",{ref:y,className:"user-select-none d-flex justify-content-between align-items-center "+s},r.a.createElement("div",{className:"mr-2"},a),r.a.createElement(O.a,{fontSize:"16px",strokeWidth:"1.5px",className:"text-internly",style:{transform:"rotate(".concat(h?"180deg":"0deg",")"),transition:"transform 0.3s"}}))):r.a.createElement(Ie,{className:m,arrow:!1,onOpen:function(){return b(!0)},onHide:function(){return b(!1)},content:function(e){return r.a.createElement("div",{className:"bg-white",style:{maxHeight:"400px",overflowY:"auto",width:e}},t.map((function(e,t){return r.a.createElement("div",{key:St()(),className:"popover-item w-100",onClick:function(){v(t),i||y.current.click()}},r.a.createElement("div",null,e.item?e.item:e))})))}},r.a.createElement("div",{ref:y,className:"cursor-pointer user-select-none d-flex justify-content-between align-items-center "+s},r.a.createElement("div",{className:"mr-2"},a),r.a.createElement(O.a,{fontSize:"16px",strokeWidth:"1.5px",className:"text-internly",style:{transform:"rotate(".concat(h?"180deg":"0deg",")"),transition:"transform 0.3s"}})))},Tt=a(193),At=a(353),Pt=a(362),Dt=Object(Tt.a)({palette:{primary:{main:"rgb(255, 0, 64)"},secondary:{main:"#202020"}}}),zt=function(e){return r.a.createElement(At.a,{theme:Dt},r.a.createElement(Pt.a,e))},Rt=a(38);var Yt=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,ratings:e.ratings},t)}))((function(e){var t=e.setEditReviewSection,a=e.setEditReview,o=e.publicUsers,s=e.ratings,c=Object(n.useState)(""),m=Object(E.a)(c,2),u=m[0],p=m[1],v=Object(n.useState)(""),g=Object(E.a)(v,2),h=g[0],w=g[1],N=Object(n.useState)("User"),x=Object(E.a)(N,2),O=x[0],_=x[1],j=Object(n.useState)(0),k=Object(E.a)(j,2),C=k[0],S=k[1],I=Object(n.useState)(1),T=Object(E.a)(I,2),A=T[0],P=T[1],D=Object(n.useState)(""),z=Object(E.a)(D,2),R=z[0],Y=z[1],U=Object(n.useState)(""),M=Object(E.a)(U,2),F=M[0],L=M[1],W=Object(n.useState)({key:"",value:""}),q=Object(E.a)(W,2),B=q[0],H=q[1],G=Object(n.useState)([]),K=Object(E.a)(G,2),V=K[0],X=K[1],J=Object(n.useState)([]),Z=Object(E.a)(J,2),$=Z[0],Q=Z[1],ee=Object(n.useState)(!1),te=Object(E.a)(ee,2),ae=te[0],ne=te[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:(t=e.sent).error||X(t.reverse().map((function(e){return Object.assign({},e,{selected:!1})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[ae]),Object(n.useEffect)((function(){var e=Object($e.a)(V);V.length&&(F&&("User"===O?e=e.filter((function(e){return o[e.author].display_name.toLowerCase().includes(F.toLowerCase())})):"Review"===O?e=e.filter((function(e){return e.review.toLowerCase().includes(F.toLowerCase())})):"Movie"===O&&(e=e.filter((function(e){return s[e.movie_id]&&s[e.movie_id].movie_title.toLowerCase().includes(F.toLowerCase())})))),R&&(e=e.filter((function(e){return o[e.author].role===R}))),"role"===B.key&&B.value&&(e=e.filter((function(e){return o[e.author][B.key]===B.value}))),e="deleted"===B.key&&B.value?e.filter((function(e){return e.deleted===B.value})):e.filter((function(e){return!e.deleted})),Q(e))}),[F,R,V,B]);var re=[5*(A-1),5*(A-1)+5];re[1]>=$.length&&(re[1]=re[1]-(re[1]-$.length));var se=function(){var e=Object(l.a)(i.a.mark((function e(){var n,r,o,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length>0&&void 0!==s[0]&&s[0]&&Y("All"===h?"":h),"Edit"!==u){e.next=7;break}(n=$.filter((function(e){return e.selected}))).length&&(a(n[0]),t()),e.next=15;break;case 7:if("Delete"!==u){e.next=15;break}if(!(r=$.filter((function(e){return e.selected}))).length){e.next=15;break}return e.next=12,le(r.map((function(e){return e._id})));case 12:(o=e.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:o.error,type:"failure"}}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Reviews were deleted",message:"Reviews were successfully deleted",type:"success"}}),ne(!ae);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=["Title","Review","Rating","Posted on","Reported"];return r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 py-5"},r.a.createElement("div",{className:"row no-gutters h6 mb-3"},r.a.createElement("div",{className:"col-auto cursor-pointer ".concat(B.key||R?"text-dark":"text-primary"),onClick:function(){H({key:"",value:""}),Y("")}},"All (",V.filter((function(e){return!e.deleted})).length,")"),r.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),r.a.createElement("div",{onClick:function(){return H((function(e){return Object.assign({},e,{key:"role",value:"Administrator"})}))},className:"cursor-pointer col-auto ".concat("role"===B.key&&"Administrator"===B.value?"text-primary":"text-dark")},"By Administrators (",Object.values(o).length?V.filter((function(e){return o[e.author]&&"Administrator"===o[e.author].role&&!e.deleted})).length:"",")"),r.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),r.a.createElement("div",{onClick:function(){return H((function(e){return Object.assign({},e,{key:"deleted",value:!0})}))},className:"cursor-pointer col-auto ".concat("deleted"===B.key&&!0===B.value?"text-primary":"text-dark")},"Deleted (",V.filter((function(e){return e.deleted})).length,")")),r.a.createElement("div",{className:"row no-gutters justify-content-between"},r.a.createElement("div",{className:"col-sm-auto col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return p(["Delete"][e])},items:["Delete"],btnName:u||"Select Action",className:"input-light px-3 col-auto "}))),r.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return w(["All","Administrator","User"][e])},items:["All","Administrator","User"],btnName:h||"Select Role",className:"input-light px-3 col-auto"}))),r.a.createElement("div",{onClick:function(){return se(!0)},className:"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall"},"Apply"))),r.a.createElement("div",{className:"col-60 d-block d-sm-none"},r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement(It,{popoverClass:"w-100",onSelect:function(e){return _(["User","Review","Movie"][e])},className:"input-light col-60",items:["User","Review","Movie"],btnName:"Search by ".concat(O)})),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 position-relative"},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{className:"input-light w-100 pr-5 pl-3",value:F,onChange:function(e){e.persist(),L(e.target.value)}})))),r.a.createElement("div",{className:"col-auto mb-3 d-none d-sm-block"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{onSelect:function(e){return _(["User","Review","Movie"][e])},className:"table-input-prepend-select col-auto",items:["User","Review","Movie"],btnName:"Search by ".concat(O)}),r.a.createElement("div",{className:"col position-relative"},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{value:F,onChange:function(e){e.persist(),L(e.target.value)},className:"table-input pr-5 pl-3",style:{minWidth:"300px"}}))))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Rt.a,{style:{minWidth:"100%"},onSwipedLeft:function(){S(C+1<4?C+1:C)},onSwipedRight:function(){S(C-1>=0?C-1:C)}},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table bg-white border"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:V.slice(re[0],re[1]).filter((function(e){return e.selected})).length===re[1]-re[0],onChange:function(e){Q((function(t){for(var a=Object($e.a)(t),n=re[0];n<re[1];n++)a[n].selected=e.target.checked;return a}))}})),r.a.createElement("th",{className:"table-header text-truncate text-left"},r.a.createElement("div",{className:"d-none d-lg-block"},"Posted By"),r.a.createElement("div",{className:"d-block d-lg-none"},"By")),r.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},ce[C]),ce.map((function(e,t){return r.a.createElement("th",{key:"header-col-".concat(t),className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,e))})))),r.a.createElement("tbody",null,$.length?$.slice(5*(A-1),5*(A-1)+5).map((function(e,n){return r.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(n)},r.a.createElement("td",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:e.selected,onChange:function(e){Q((function(t){var a=Object($e.a)(t);return a[5*(A-1)+n].selected=e.target.checked,a}))}})),r.a.createElement("td",null,o[e.author]?r.a.createElement("div",null,r.a.createElement("div",{style:{whiteSpace:"nowrap"}},r.a.createElement("div",{className:"d-inline-block mr-2"},r.a.createElement("div",{className:"square-50 rounded-circle bg-image",style:{backgroundImage:"url(".concat(o[e.author].photo,")")}})),r.a.createElement("div",{className:"d-none d-md-inline-block align-top"},r.a.createElement("div",{className:"h6 text-primary"},o[e.author].display_name),r.a.createElement("div",{className:"mb-2"},o[e.author].email),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"text-primary underline-link",onClick:function(){a(e),t()}},"Edit"),r.a.createElement("div",{className:"px-2"},"|"),r.a.createElement("div",{className:"text-danger underline-link",onClick:Object(l.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le([e._id]);case 2:(a=t.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:a.error,type:"failure"}}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Review was deleted",message:"Review was successfully deleted",type:"success"}}),ne(!ae);case 5:case"end":return t.stop()}}),t)})))},"Delete"))))):""),r.a.createElement("td",{className:"".concat(0===C?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",{style:{maxWidth:"150px"}},s[e.movie_id]?s[e.movie_id].movie_title:"")),r.a.createElement("td",{className:"".concat(1===C?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",null,r.a.createElement("div",{style:{minWidth:"200px"},className:"cursor-pointer user-select-none btn-link text-clamp-4",onClick:function(t){f.push("/movie/".concat(e.movie_id,"/").concat(e._id))}},e.review))),r.a.createElement("td",{className:"".concat(2===C?"d-table-cell":"d-none d-xl-table-cell")},"ok_rate"===e.rating?r.a.createElement("div",{style:{marginTop:"-4px"}},r.a.createElement(y,{size:24})):r.a.createElement("div",{style:{marginBottom:"-6px"}},r.a.createElement(b.a,{emoji:"excellent_rate"===e.rating?"fire":"good_rate"===e.rating?"heart":"ok_rate"===e.rating?"heavy_division_sign":"shit",set:"facebook",size:24}))),r.a.createElement("td",{className:"".concat(3===C?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",{style:{whiteSpace:"nowrap"}},ct.a.format(new Date(e.date),"DD/MM/YYYY @ hh:mm A"))),r.a.createElement("td",{className:"".concat(4===C?"d-table-cell":"d-none d-xl-table-cell")},e.reported?r.a.createElement("div",{className:"text-danger"},"Abused"):r.a.createElement("div",{className:"text-success"},"No")))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:7,className:" text-center py-5"},"0 results found"))))))),r.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-sm-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(lt,{count:Math.ceil($.length/5),current:A,setCurrent:P})))))}));var Ut=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,ratings:e.ratings},t)}))((function(e){var t=e.setEditCommentSection,a=e.setEditComment,o=e.publicUsers,s=e.ratings,c=Object(n.useState)(""),m=Object(E.a)(c,2),u=m[0],p=m[1],v=Object(n.useState)(""),g=Object(E.a)(v,2),h=g[0],b=g[1],y=Object(n.useState)("User"),w=Object(E.a)(y,2),N=w[0],x=w[1],O=Object(n.useState)(0),_=Object(E.a)(O,2),j=_[0],k=_[1],C=Object(n.useState)(1),S=Object(E.a)(C,2),I=S[0],T=S[1],A=Object(n.useState)(""),P=Object(E.a)(A,2),D=P[0],z=P[1],R=Object(n.useState)({key:"",value:""}),Y=Object(E.a)(R,2),U=Y[0],M=Y[1],F=Object(n.useState)(""),L=Object(E.a)(F,2),W=L[0],q=L[1],B=Object(n.useState)([]),H=Object(E.a)(B,2),G=H[0],K=H[1],V=Object(n.useState)({}),X=Object(E.a)(V,2),J=X[0],Z=X[1],$=Object(n.useState)([]),Q=Object(E.a)($,2),ee=Q[0],te=Q[1],ae=Object(n.useState)(!1),ne=Object(E.a)(ae,2),re=ne[0],oe=ne[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:(t=e.sent).error||(K(t.reverse().map((function(e){return Object.assign({},e,{selected:!1})}))),a={},t.forEach((function(e){a[e._id]=e})),Z(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[re]),Object(n.useEffect)((function(){var e=Object($e.a)(G);G.length&&(W&&("User"===N?e=e.filter((function(e){return o[e.author].display_name.toLowerCase().includes(W.toLowerCase())})):"Comment"===N&&(e=e.filter((function(e){return e.comment.toLowerCase().includes(W.toLowerCase())})))),D&&(e=e.filter((function(e){return o[e.author].role===D}))),"role"===U.key&&U.value&&(e=e.filter((function(e){return o[e.author][U.key]===U.value}))),e="deleted"===U.key&&U.value?e.filter((function(e){return e.deleted===U.value})):e.filter((function(e){return!e.deleted})),te(e))}),[W,D,G,U]);var ce=[5*(I-1),5*(I-1)+5];ce[1]>=ee.length&&(ce[1]=ce[1]-(ce[1]-ee.length));var ie=function(){var e=Object(l.a)(i.a.mark((function e(){var n,r,o,s,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.length>0&&void 0!==c[0]&&c[0]&&z("All"===h?"":h),!(n=ee.filter((function(e){return e.selected}))).length){e.next=17;break}if("Edit"!==u){e.next=9;break}a(n[0]),t(),e.next=17;break;case 9:return r=n.map((function(e){return e._id})),o=Object($e.a)(r),function e(t){o=o.concat(t),t.forEach((function(t){return e(J[t].comments)}))}(r),e.next=15,me(o);case 15:(s=e.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:s.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Comments were deleted",message:"Comments were successfully deleted",type:"success"}}),oe(!re));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 py-5"},r.a.createElement("div",{className:"row no-gutters h6 mb-3"},r.a.createElement("div",{className:"col-auto cursor-pointer ".concat(U.key||D?"text-dark":"text-primary"),onClick:function(){M({key:"",value:""}),z("")}},"All (",G.filter((function(e){return!e.deleted})).length,")"),r.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),r.a.createElement("div",{onClick:function(){return M((function(e){return Object.assign({},e,{key:"role",value:"Administrator"})}))},className:"cursor-pointer col-auto ".concat("role"===U.key&&"Administrator"===U.value?"text-primary":"text-dark")},"By Administrators (",Object.values(o).length?G.filter((function(e){return"Administrator"===o[e.author].role&&!e.deleted})).length:"",")"),r.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),r.a.createElement("div",{onClick:function(){return M((function(e){return Object.assign({},e,{key:"deleted",value:!0})}))},className:"cursor-pointer col-auto ".concat("deleted"===U.key&&!0===U.value?"text-primary":"text-dark")},"Deleted (",G.filter((function(e){return e.deleted})).length,")")),r.a.createElement("div",{className:"row no-gutters justify-content-between"},r.a.createElement("div",{className:"col-sm-auto col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return p(["Delete"][e])},items:["Delete"],btnName:u||"Select Action",className:"input-light px-3 col-auto"}))),r.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return b(["All","Administrator","User"][e])},items:["All","Administrator","User"],btnName:h||"Select Role",className:"input-light px-3 col-auto"}))),r.a.createElement("div",{onClick:function(){return ie(!0)},className:"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall"},"Apply"))),r.a.createElement("div",{className:"col-60 d-block d-sm-none"},r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement(It,{popoverClass:"w-100",onSelect:function(e){return x(["User","Comment"][e])},className:"input-light col-60",items:["User","Comment"],btnName:"Search by ".concat(N)})),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 position-relative"},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{className:"input-light w-100 pr-5 pl-3",value:W,onChange:function(e){e.persist(),q(e.target.value)}})))),r.a.createElement("div",{className:"col-auto mb-3 d-none d-sm-block"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{onSelect:function(e){return x(["User","Comment"][e])},className:"table-input-prepend-select col-auto",items:["User","Comment"],btnName:"Search by ".concat(N)}),r.a.createElement("div",{className:"col position-relative"},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{value:W,onChange:function(e){e.persist(),q(e.target.value)},className:"table-input pr-5 pl-3",style:{minWidth:"300px"}}))))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Rt.a,{style:{minWidth:"100%"},onSwipedLeft:function(){k(j+1<4?j+1:j)},onSwipedRight:function(){k(j-1>=0?j-1:j)}},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table bg-white border"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:ee.slice(ce[0],ce[1]).filter((function(e){return e.selected})).length===ce[1]-ce[0],onChange:function(e){te((function(t){for(var a=Object($e.a)(t),n=ce[0];n<ce[1];n++)a[n].selected=e.target.checked;return a}))}})),r.a.createElement("th",{className:"table-header text-truncate text-left"},r.a.createElement("div",{className:"d-none d-lg-block"},"Posted By"),r.a.createElement("div",{className:"d-block d-lg-none"},"By")),r.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},["Comment","In Repsonse To","Posted On","Reported"][j]),r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,"Comment")),r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,"In Response To")),r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,"Posted On")),r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,"Reported")))),r.a.createElement("tbody",null,ee.length?ee.slice(5*(I-1),5*(I-1)+5).map((function(e,n){return r.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(n)},r.a.createElement("td",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:e.selected,onChange:function(e){te((function(t){var a=Object($e.a)(t);return a[5*(I-1)+n].selected=e.target.checked,a}))}})),r.a.createElement("td",null,r.a.createElement("div",null,o[e.author]?r.a.createElement("div",{style:{whiteSpace:"nowrap"}},r.a.createElement("div",{className:"d-inline-block mr-2"},r.a.createElement("div",{className:"square-50 rounded-circle bg-image",style:{backgroundImage:"url(".concat(o[e.author].photo,")")}})),r.a.createElement("div",{className:"d-none d-md-inline-block align-top"},r.a.createElement("div",{className:"text-primary"},o[e.author].display_name),r.a.createElement("div",{className:"mb-2"},o[e.author].email),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"text-primary underline-link",onClick:function(){a(e),t()}},"Edit"),r.a.createElement("div",{className:"px-2"},"|"),r.a.createElement("div",{className:"text-danger underline-link",onClick:Object(l.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[e._id],function e(t){a=a.concat(t),t.forEach((function(t){return e(J[t].comments)}))}(a),t.next=5,me(a);case 5:(n=t.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:n.error,type:"failure"}}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Comment was deleted",message:"Comment was successfully deleted",type:"success"}}),oe(!re);case 8:case"end":return t.stop()}}),t)})))},"Delete")))):"")),r.a.createElement("td",{className:"".concat(0===j?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",null,r.a.createElement("div",{style:{minWidth:"200px"},className:"cursor-pointer user-select-none btn-link text-clamp-4",onClick:function(t){f.push("/movie/".concat(e.movie_id,"/").concat(e.review_id,"/").concat(e._id))}},e.comment))),r.a.createElement("td",{className:"".concat(1===j?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",null,"Movie:"," ",s[e.movie_id]?s[e.movie_id].movie_title:""),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{onClick:Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.push("/movie/".concat(e.movie_id,"/").concat(e.review_id));case 1:case"end":return t.stop()}}),t)}))),className:"text-primary cursor-pointer",style:{whiteSpace:"nowrap"}},"View Review"))),r.a.createElement("td",{className:"".concat(2===j?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",{style:{whiteSpace:"nowrap"}},ct.a.format(new Date(e.date),"DD/MM/YYYY @ hh:mm A"))),r.a.createElement("td",{className:"".concat(3===j?"d-table-cell":"d-none d-xl-table-cell")},e.reported?r.a.createElement("div",{className:"text-danger"},"Abused"):r.a.createElement("div",{className:"text-success"},"No")))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,className:"text-center py-5"},"0 results found"))))))),r.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-sm-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(lt,{count:Math.ceil(ee.length/5),current:I,setCurrent:T})))))})),Mt=function(e){var t=e.setEditReview,a=e.setEditReviewSection,o=e.setEditCommentSection,s=e.setEditComment,c=(e.containerSpacing,Object(n.useState)(0)),i=Object(E.a)(c,2),l=i[0],m=i[1];return r.a.createElement("div",{className:"row no-gutters admin-screen"},r.a.createElement("div",{className:"col-60 border-bottom"},r.a.createElement("div",{className:"row no-gutters justify-content-between"},r.a.createElement("div",{className:"col-auto pb-3"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Reviews & Comments"),r.a.createElement("div",{className:"row no-gutters"},"Add, edit or delete reviews and comments")),r.a.createElement("div",{className:"col-auto py-3"},r.a.createElement("div",{className:"row no-gutters cursor-pointer"},r.a.createElement("div",{style:{width:"150px"},onClick:function(){return m(0)},className:"rounded-left col table-btn".concat(0===l?" table-btn-selected":"")},"Reviews"),r.a.createElement("div",{style:{width:"150px"},onClick:function(){return m(1)},className:"rounded-right col table-btn".concat(1===l?" table-btn-selected":"")},"Comments"))))),r.a.createElement("div",{className:"col-60"},0===l?r.a.createElement(Yt,{setEditReviewSection:a,setEditReview:t}):r.a.createElement(Ut,{setEditComment:s,setEditCommentSection:o})))};var Ft=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,admin:e.user,ratings:e.ratings},t)}))((function(e){var t=e.currentReview,a=e.publicUsers,o=e.getBack,s=e.ratings,c=e.admin,m=Object(n.useState)({}),u=Object(E.a)(m,2),p=u[0],v=u[1],g=Object(n.useState)({display_name:"",email:""}),f=Object(E.a)(g,2),b=f[0],y=f[1],w=Object(n.useState)(!1),N=Object(E.a)(w,2),O=N[0],_=N[1];return Object(n.useEffect)((function(){t&&(v(t),y(a[t.author]))}),[t]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),r.a.createElement("div",{className:"row no-gutters p-md-5 p-4",style:{maxWidth:"800px"}},r.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Reviews & Comments"),r.a.createElement("div",{className:"row no-gutters"},"Add, edit and delete reviews and comments")),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Display name"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{type:"text",className:"input-light w-100 px-3",value:b.display_name,onChange:function(e){e.persist(),y((function(t){return Object.assign({},t,{display_name:e.target.value})}))}}))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Message"),r.a.createElement("div",{className:"col-60"},r.a.createElement("textarea",{value:p.review?p.review:"",onChange:function(e){e.persist(),v((function(t){return Object.assign({},t,{review:e.target.value})}))},className:"textarea-light w-100",style:{height:"150px"}})))),r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"60 mb-1"},"Rating")),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-md-30 col-60",className:"input-light px-3",btnName:p.rating?x.find((function(e){return e.name===p.rating})).element:"Select",onSelect:function(e){v((function(t){return Object.assign({},t,{rating:x[e].name})}))},items:x.map((function(e){return e.element}))}))),r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"60 mb-1"},"Report status")),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-md-30 col-60",className:"input-light px-3",btnName:p.reported?"Reported":"Not Reported",onSelect:function(e){v((function(t){return Object.assign({},t,{reported:0===e})}))},items:["Reported","Not Reported"]}))),r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"60 mb-1"},"Title")),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{value:s[t.movie_id].movie_title,disabled:!0,className:"input-light-disabled col-md-30 col-60 px-3"}))),r.a.createElement("div",{className:"col-60 mt-5"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:function(){return o()}},"Cancel"),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,ce(p,b);case 4:t=e.sent,_(!1),t.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:t.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Review updated",message:"Review was successfully updated",type:"success"}}),d.dispatch({type:"UPDATE_RATINGS",rating:Object(Ze.a)({},p.movie_id,t.rating)}),c._id===p.author&&((a=Object(h.a)({},c.ratings))[p.movie_id]={movie_id:p.movie_id,rate_type:p.rating},d.dispatch({type:"UPDATE_USER",userProperty:{ratings:a}})),o()),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:O,size:20}),"Save"))))}));var Lt=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers},t)}))((function(e){var t=e.currentComment,a=e.publicUsers,o=e.getBack,s=Object(n.useState)({}),c=Object(E.a)(s,2),m=c[0],u=c[1],p=Object(n.useState)({display_name:"",email:""}),v=Object(E.a)(p,2),g=v[0],f=v[1],h=Object(n.useState)(!1),b=Object(E.a)(h,2),y=b[0],w=b[1];return Object(n.useEffect)((function(){t&&(u(t),f(a[t.author]))}),[t]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),r.a.createElement("div",{className:"row no-gutters p-md-5 p-4",style:{maxWidth:"800px"}},r.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Reviews & Comments"),r.a.createElement("div",{className:"row no-gutters"},"Add, edit and delete reviews and comments")),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Display name"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{type:"text",className:"input-light w-100 px-3",value:g.display_name,onChange:function(e){e.persist(),f((function(t){return Object.assign({},t,{display_name:e.target.value})}))}}))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Comment"),r.a.createElement("div",{className:"col-60"},r.a.createElement("textarea",{value:m.comment,onChange:function(e){e.persist(),u((function(t){return Object.assign({},t,{comment:e.target.value})}))},className:"textarea-light w-100",style:{height:"150px"}})))),r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"60 mb-1"},"Report status")),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-md-30 col-60",className:"input-light px-3",btnName:m.reported?"Reported":"Not Reported",onSelect:function(e){u((function(t){return Object.assign({},t,{reported:0===e})}))},items:["Reported","Not Reported"]}))),r.a.createElement("div",{className:"col-60 mt-5"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:function(){return o()}},"Cancel"),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,ie(m,g);case 3:t=e.sent,w(!1),t.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:t.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Review updated",message:"Review was successfully updated",type:"success"}}),o());case 6:case"end":return e.stop()}}),e)})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:y,size:20}),"Save"))))}));var Wt=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers},t)}))((function(e){var t=e.setEditAnnouncement,a=e.setEditAnnouncementSection,o=e.setAddNewAnouncementSection,s=e.publicUsers,c=Object(n.useState)(""),m=Object(E.a)(c,2),u=m[0],p=m[1],v=Object(n.useState)(""),g=Object(E.a)(v,2),f=g[0],h=g[1],b=Object(n.useState)("User"),y=Object(E.a)(b,2),w=y[0],N=y[1],x=Object(n.useState)(0),O=Object(E.a)(x,2),_=O[0],j=O[1],k=Object(n.useState)(1),C=Object(E.a)(k,2),S=C[0],I=C[1],T=Object(n.useState)(""),A=Object(E.a)(T,2),P=A[0],D=A[1],z=Object(n.useState)(""),R=Object(E.a)(z,2),Y=R[0],U=R[1],M=Object(n.useState)({key:"",value:""}),F=Object(E.a)(M,2),L=F[0],W=F[1],q=Object(n.useState)(!1),B=Object(E.a)(q,2),H=B[0],G=B[1],K=Object(n.useState)([]),V=Object(E.a)(K,2),X=V[0],J=V[1],Z=Object(n.useState)([]),$=Object(E.a)(Z,2),Q=$[0],ee=$[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:(t=e.sent).error||J(t.map((function(e){return Object.assign({},e,{selected:!1})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[H]),Object(n.useEffect)((function(){var e=Object($e.a)(X);X.length&&(Y&&("User"===w?e=e.filter((function(e){return s[e.author].display_name.toLowerCase().includes(Y.toLowerCase())})):"Description"===w&&(e=e.filter((function(e){return e.description.toLowerCase().includes(Y.toLowerCase())})))),P&&(e=e.filter((function(e){return e.type===P}))),L.key&&(e=e.filter((function(e){return e[L.key]===L.value}))),ee(e))}),[Y,P,X,L]);var te=[5*(S-1),5*(S-1)+5];te[1]>=Q.length&&(te[1]=te[1]-(te[1]-Q.length));var ae=["Delete"],ne=function(){var e=Object(l.a)(i.a.mark((function e(){var n,r,o,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length>0&&void 0!==s[0]&&s[0]&&D(f),"Edit"!==u){e.next=7;break}(n=Q.filter((function(e){return e.selected}))).length&&(t(n[0]),a()),e.next=15;break;case 7:if("Delete"!==u){e.next=15;break}if(!(r=Q.filter((function(e){return e.selected}))).length){e.next=15;break}return e.next=12,ve(r.map((function(e){return e._id})));case 12:(o=e.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:o.error,type:"failure"}}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Announcements were deleted",message:"Announcements were successfully deleted",type:"success"}}),G(!H);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=["Information","Error","Warning"];return r.a.createElement("div",{className:"row no-gutters admin-screen"},r.a.createElement("div",{className:"col-60 border-bottom"},r.a.createElement("div",{className:"row no-gutters justify-content-between pb-3 align-items-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Announcements"),r.a.createElement("div",{className:"row no-gutters"},"Create and post announcements")),r.a.createElement("div",{className:"col-auto btn-custom btn-custom-primary btn-natural",onClick:function(){return o()}},"Add New"))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 py-5"},r.a.createElement("div",{className:"row no-gutters h6 mb-3"},r.a.createElement("div",{onClick:function(){W({key:"",value:""}),h(""),D("")},className:"cursor-pointer col-auto ".concat(P||L.key?"text-dark":"text-primary")},"All (",X.length,")"),["Published","Drafted","Expired"].map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"status-".concat(t)},r.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),r.a.createElement("div",{onClick:function(){return W((function(t){return Object.assign({},t,{key:"status",value:e})}))},className:"cursor-pointer col-auto ".concat("status"===L.key&&L.value===e?"text-primary":"text-dark")},e," (",X.filter((function(t){return t.status===e})).length,")"))}))),r.a.createElement("div",{className:"row no-gutters justify-content-between"},r.a.createElement("div",{className:"col-sm-auto col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return p(ae[e])},items:ae,btnName:u||"Select Action",className:"input-light px-3 col-auto "}))),r.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return h(re[e])},items:re,btnName:f||"Select Type",className:"input-light px-3 col-auto "}))),r.a.createElement("div",{onClick:function(){return ne(!0)},className:"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall"},"Apply"))),r.a.createElement("div",{className:"col-60 d-block d-sm-none"},r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement(It,{popoverClass:"w-100",onSelect:function(e){return N(["User","Description"][e])},className:"input-light col-60",items:["User","Description"],btnName:"Search by ".concat(w)})),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 position-relative"},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{className:"input-light w-100 pr-5 pl-3",value:Y,onChange:function(e){e.persist(),U(e.target.value)}})))),r.a.createElement("div",{className:"col-auto mb-3 d-none d-sm-block"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{onSelect:function(e){return N(["User","Description"][e])},className:"table-input-prepend-select col-auto",items:["User","Description"],btnName:"Search by ".concat(w)}),r.a.createElement("div",{className:"col position-relative"},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{value:Y,onChange:function(e){e.persist(),U(e.target.value)},className:"table-input pr-5 pl-3",style:{minWidth:"300px"}}))))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Rt.a,{style:{minWidth:"100%"},onSwipedLeft:function(){j(_+1<4?_+1:_)},onSwipedRight:function(){j(_-1>=0?_-1:_)}},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table bg-white border"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:Q.slice(te[0],te[1]).filter((function(e){return e.selected})).length===te[1]-te[0],onChange:function(e){ee((function(t){for(var a=Object($e.a)(t),n=te[0];n<te[1];n++)a[n].selected=e.target.checked;return a}))}})),r.a.createElement("th",{className:"table-header text-truncate text-left"},r.a.createElement("div",{className:"d-none d-lg-block"},"Posted By"),r.a.createElement("div",{className:"d-block d-lg-none"},"By")),r.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},["Type","Description","Duration","Status"][_]),r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,"Type")),r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,"Description")),r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,"Duration")),r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,"Status")))),r.a.createElement("tbody",null,Q.length?Q.slice(5*(S-1),5*(S-1)+5).map((function(e,n){return r.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(n)},r.a.createElement("td",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:e.selected,onChange:function(e){ee((function(t){var a=Object($e.a)(t);return a[5*(S-1)+n].selected=e.target.checked,a}))}})),r.a.createElement("td",null,Object.values(s).length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{style:{whiteSpace:"nowrap"}},r.a.createElement("div",{className:"d-inline-block mr-2"},r.a.createElement("div",{className:"square-50 rounded-circle bg-image",style:{backgroundImage:"url(".concat(s[e.author].photo,")")}})),r.a.createElement("div",{className:"d-none d-md-inline-block align-top"},r.a.createElement("div",{className:"text-primary"},s[e.author].display_name),r.a.createElement("div",{className:"mb-3"},s[e.author].email),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"text-primary underline-link",onClick:function(){t(e),a()}},"Edit"),r.a.createElement("div",{className:"px-2"},"|"),r.a.createElement("div",{className:"text-danger underline-link",onClick:Object(l.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve([e._id]);case 2:(a=t.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:a.error,type:"failure"}}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Announcement was deleted",message:"Announcement was successfully deleted",type:"success"}}),G(!H);case 5:case"end":return t.stop()}}),t)})))},"Delete")))))):""),r.a.createElement("td",{className:"".concat("Warning"===e.type?"text-warning":"Information"===e.type?"text-primary":"Error"===e.type?"text-danger":"").concat(0===_?" d-table-cell":" d-none d-xl-table-cell")},r.a.createElement("div",null,e.type)),r.a.createElement("td",{className:"".concat(1===_?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",{style:{minWidth:"150px"},className:"text-clamp-4 cursor-pointer user-select-none",onClick:function(e){var t=e.currentTarget;t.classList.contains("text-clamp-4")?t.classList.remove("text-clamp-4"):t.classList.add("text-clamp-4")}},e.description)),r.a.createElement("td",{className:"".concat(2===_?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",{style:{whiteSpace:"nowrap"}},r.a.createElement("div",{className:"d-inline-block mr-2"},r.a.createElement("div",null,"From: "),r.a.createElement("div",null,"To: ")),r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("div",{style:{whiteSpace:"nowrap"}},ct.a.format(new Date(e.start_date),"DD/MM/YYYY @ hh:mm A"),r.a.createElement("div",{style:{whiteSpace:"nowrap"}},ct.a.format(new Date(e.end_date),"DD/MM/YYYY @ hh:mm A")))))),r.a.createElement("td",{className:"".concat(3===_?"d-table-cell":"d-none d-xl-table-cell")},e.status))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,className:" text-center py-5"},"0 results found"))))))),r.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-sm-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(lt,{count:Math.ceil(Q.length/5),current:S,setCurrent:I})))))))})),qt=a(31),Bt=a.n(qt),Ht=(a(75),a(32)),Gt=a.n(Ht),Kt=function(e){var t=e.currentAnnouncement,a=e.getBack,o=Object(n.useState)({description:"",type:"",start_date:Date.now(),end_date:Date.now(),status:""}),s=Object(E.a)(o,2),c=s[0],m=s[1],u=Object(n.useState)(!1),p=Object(E.a)(u,2),v=p[0],g=p[1];Object(n.useEffect)((function(){t&&m(t)}),[t]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var f=["Information","Warning","Error"],h=["Published","Drafted","Expired"];return r.a.createElement("div",{className:"row no-gutters p-md-5 p-4"},r.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Announcements"),r.a.createElement("div",{className:"row no-gutters"},"Edit existing announcement")),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Type"),r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60 pr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-sm-30 col-60",onSelect:function(e){return m((function(t){return Object.assign({},t,{type:f[e]})}))},className:"w-100 input-light px-3",items:f,btnName:c.type?c.type:"Select"})))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Description"),r.a.createElement("div",{className:"col-60"},r.a.createElement("textarea",{value:c.description?c.description:"",onChange:function(e){e.persist(),m((function(t){return Object.assign({},t,{description:e.target.value})}))},className:"textarea-light w-100",style:{height:"150px"}})),r.a.createElement("div",{className:"col-60 ".concat(c.description.split(" ").length<=499?"text-muted":"text-danger")},c.description?500-c.description.split(" ").length:500," ","words left")),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 pr-sm-3 mb-4"},r.a.createElement("div",{className:"row no-gutters"},"Start Date"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},r.a.createElement(Bt.a,{value:ct.a.format(new Date(c.start_date),"DD/MM/YYYY"),component:function(e){return r.a.createElement("div",{className:"position-relative"},r.a.createElement(Xe.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(c.start_date),a=e.getFullYear(),n=e.getMonth(),r=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(r),m((function(e){return Object.assign({},e,{start_date:t.getTime()})}))}}})),r.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},r.a.createElement(Xe.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement(Gt.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(E.a)(t,2),n=a[0],r=a[1],o=new Date(c.start_date);o.setHours(n),o.setMinutes(r),m((function(e){return Object.assign({},e,{start_date:o.getTime()})}))}},value:new Date(c.start_date)}))))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters"},"End Date"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},r.a.createElement(Bt.a,{value:ct.a.format(new Date(c.end_date),"DD/MM/YYYY"),component:function(e){return r.a.createElement("div",{className:"position-relative"},r.a.createElement(Xe.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(c.end_date),a=e.getFullYear(),n=e.getMonth(),r=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(r),m((function(e){return Object.assign({},e,{end_date:t.getTime()})}))}}})),r.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},r.a.createElement(Xe.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement(Gt.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(E.a)(t,2),n=a[0],r=a[1],o=new Date(c.end_date);o.setHours(n),o.setMinutes(r),m((function(e){return Object.assign({},e,{end_date:o.getTime()})}))}},value:new Date(c.end_date)}))))))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Type"),r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60 pr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-sm-30 col-60",onSelect:function(e){return m((function(t){return Object.assign({},t,{status:h[e]})}))},className:"w-100 input-light px-3",items:h,btnName:c.status?c.status:"Select"}))))),r.a.createElement("div",{className:"col-60 mt-5"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:function(){return a()}},"Cancel"),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,ge(c);case 3:t=e.sent,g(!1),t.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:t.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Announcement updated",message:"Announcement was successfully updated",type:"success"}}),a());case 6:case"end":return e.stop()}}),e)})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:v,size:20}),"Save"))))};var Vt=Object(p.b)((function(e,t){return Object(h.a)({user:e.user},t)}))((function(e){var t=e.user,a=e.getBack,o=Object(n.useState)({description:"",type:"",start_date:Date.now(),end_date:Date.now(),status:"Published"}),s=Object(E.a)(o,2),c=s[0],m=s[1],u=Object(n.useState)(""),p=Object(E.a)(u,2),v=p[0],g=p[1],f=Object(n.useState)(!1),h=Object(E.a)(f,2),b=h[0],y=h[1],w=["Information","Warning","Error"],N=["Published","Drafted","Deleted"],x=[{valid:c.description,error:"Description is required"},{valid:c.type,error:"Type is required"},{valid:c.start_date<c.end_date,error:"Start date must be before end date"},{valid:c.start_date!==c.end_date,error:"Announcement duration is 0"}];return r.a.createElement("div",{className:"row no-gutters p-md-5 p-4"},r.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Announcements"),r.a.createElement("div",{className:"row no-gutters"},"Creat a brand new announcement and add to this site")),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Type"),r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-sm-30 col-60",onSelect:function(e){return m((function(t){return Object.assign({},t,{type:w[e]})}))},className:"w-100 input-light px-3",items:w,btnName:c.type?c.type:"Select"})))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Description"),r.a.createElement("div",{className:"col-60"},r.a.createElement("textarea",{value:c.description?c.description:"",onChange:function(e){e.persist(),m((function(t){return Object.assign({},t,{description:e.target.value})}))},className:"textarea-light w-100",style:{height:"150px"}})),r.a.createElement("div",{className:"col-60 ".concat(c.description.split(" ").length<=499?"text-muted":"text-danger")},c.description?500-c.description.split(" ").length:500," ","words left")),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 pr-sm-3 mb-4"},r.a.createElement("div",{className:"row no-gutters"},"Start Date"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},r.a.createElement(Bt.a,{value:ct.a.format(new Date(c.start_date),"DD/MM/YYYY"),component:function(e){return r.a.createElement("div",{className:"position-relative"},r.a.createElement(Xe.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(c.start_date),a=e.getFullYear(),n=e.getMonth(),r=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(r),m((function(e){return Object.assign({},e,{start_date:t.getTime()})}))}}})),r.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},r.a.createElement(Xe.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement(Gt.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(E.a)(t,2),n=a[0],r=a[1],o=new Date(c.start_date);o.setHours(n),o.setMinutes(r),m((function(e){return Object.assign({},e,{start_date:o.getTime()})}))}},value:new Date(c.start_date)}))))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters"},"End Date"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},r.a.createElement(Bt.a,{value:ct.a.format(new Date(c.end_date),"DD/MM/YYYY"),component:function(e){return r.a.createElement("div",{className:"position-relative"},r.a.createElement(Xe.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(c.end_date),a=e.getFullYear(),n=e.getMonth(),r=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(r),m((function(e){return Object.assign({},e,{end_date:t.getTime()})}))}}})),r.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},r.a.createElement(Xe.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement(Gt.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(E.a)(t,2),n=a[0],r=a[1],o=new Date(c.end_date);o.setHours(n),o.setMinutes(r),m((function(e){return Object.assign({},e,{end_date:o.getTime()})}))}},value:new Date(c.end_date)}))))))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Status"),r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-sm-30 col-60",onSelect:function(e){return m((function(t){return Object.assign({},t,{status:N[e]})}))},className:"w-100 input-light px-3",items:N,btnName:c.status?c.status:"Select"}))))),r.a.createElement("div",{className:"col-60 mt-3"},r.a.createElement("div",{style:{height:"50px",opacity:v?1:0},className:"row no-gutters align-items-center text-danger"},v),r.a.createElement("div",{className:"row no-gutters mt-2"},r.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:function(){return a()}},"Cancel"),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(l.a)(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=14;break}if(!(n=x.filter((function(e){return!e.valid}))).length){e.next=6;break}g(n[0].error),e.next=12;break;case 6:return y(!0),e.next=9,pe(Object.assign({},c,{author:t._id}));case 9:r=e.sent,y(!1),r.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:r.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Announcement created",message:"You successfully created announcement",type:"success"}}),a());case 12:e.next=15;break;case 14:d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to create announcements",type:"failure"}});case 15:case"end":return e.stop()}}),e)})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:b,size:20}),"Save"))))}));var Xt=Object(p.b)((function(e,t){return Object(h.a)({ratings:e.ratings},t)}))((function(e){var t=e.setEditPromotion,a=e.setAddNewPromotionSection,o=e.setEditPromotionSection,s=(e.ratings,Object(n.useState)("")),c=Object(E.a)(s,2),m=c[0],u=c[1],p=Object(n.useState)(""),v=Object(E.a)(p,2),g=v[0],h=v[1],w=Object(n.useState)("Description"),N=Object(E.a)(w,2),x=N[0],O=N[1],_=Object(n.useState)(0),k=Object(E.a)(_,2),C=k[0],S=k[1],I=Object(n.useState)(1),T=Object(E.a)(I,2),A=T[0],P=T[1],D=Object(n.useState)(""),z=Object(E.a)(D,2),R=z[0],Y=z[1],U=Object(n.useState)(""),M=Object(E.a)(U,2),F=M[0],L=M[1],W=Object(n.useState)({key:"",value:""}),q=Object(E.a)(W,2),B=q[0],H=q[1],G=Object(n.useState)([]),K=Object(E.a)(G,2),V=K[0],X=K[1],J=Object(n.useState)([]),Z=Object(E.a)(J,2),$=Z[0],Q=Z[1],ee=Object(n.useState)(!1),te=Object(E.a)(ee,2),ae=te[0],ne=te[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:(t=e.sent).error||X(t.map((function(e){return Object.assign({},e,{selected:!1})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[ae]),Object(n.useEffect)((function(){var e=Object($e.a)(V);V.length&&(F&&("Description"===x?e=e.filter((function(e){return e.description.toLowerCase().includes(F.toLowerCase())})):"Review"===x&&(e=e.filter((function(e){return"Review"===e.content_type&&e.content.review.toLowerCase().includes(F.toLowerCase())})))),R&&(e=e.filter((function(e){return e.content_type.match(new RegExp(R,"i"))}))),B.key&&(e=e.filter((function(e){return e[B.key]===B.value}))),Q(e))}),[F,R,V,B]);var re=[5*(A-1),5*(A-1)+5];re[1]>=$.length&&(re[1]=re[1]-(re[1]-$.length));var oe=["Review","Rating","Duration","Status"],se=["Description","Review"];return r.a.createElement("div",{className:"row no-gutters admin-screen"},r.a.createElement("div",{className:"col-60 border-bottom"},r.a.createElement("div",{className:"row no-gutters justify-content-between pb-3 align-items-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Promotions List"),r.a.createElement("div",{className:"row no-gutters"},"Edit, add and delete promtions")),r.a.createElement("div",{className:"col-auto btn-custom btn-custom-primary btn-natural",onClick:function(){return a()}},"Add New"))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 py-5"},r.a.createElement("div",{className:"row no-gutters h6 mb-3"},r.a.createElement("div",{className:"cursor-pointer col-auto ".concat(""!==B.key||R?"text-dark":"text-primary"),onClick:function(){Y(""),h(""),H({key:"",value:""})}},"All (",V.length,")"),["Published","Drafted","Deleted"].map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"status-".concat(t)},r.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),r.a.createElement("div",{onClick:function(){return H((function(t){return Object.assign({},t,{key:"publish_status",value:e})}))},className:"cursor-pointer col-auto ".concat("publish_status"===B.key&&B.value===e?"text-primary":"text-dark")},e," (",V.filter((function(t){return t.publish_status===e})).length,")"))}))),r.a.createElement("div",{className:"row no-gutters justify-content-between"},r.a.createElement("div",{className:"col-sm-auto col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return u(["Delete"][e])},items:["Delete"],btnName:m||"Select Action",className:"input-light px-3 col-auto"}))),r.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return h(["Review","Comment"][e])},items:["Review","Comment"],btnName:g||"Select Type",className:"input-light px-3 col-auto"}))),r.a.createElement("div",{onClick:function(){if("Edit"===m){var e=$.filter((function(e){return e.selected}));e.length&&(t(e[0]),o())}else"Delete"===m||Y(g)},className:"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall"},"Apply"))),r.a.createElement("div",{className:"col-60 d-block d-sm-none"},r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement(It,{popoverClass:"w-100",onSelect:function(e){return O(se[e])},className:"input-light col-60",items:se,btnName:"Search by ".concat(x)})),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 position-relative"},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{className:"input-light w-100 pr-5 pl-3",value:F,onChange:function(e){e.persist(),L(e.target.value)}})))),r.a.createElement("div",{className:"col-auto mb-3 d-none d-sm-block"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{onSelect:function(e){return O(se[e])},className:"table-input-prepend-select col-auto",items:se,btnName:"Search by ".concat(x)}),r.a.createElement("div",{className:"col position-relative"},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{value:F,onChange:function(e){e.persist(),L(e.target.value)},className:"table-input pr-5 pl-3",style:{minWidth:"300px"}}))))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Rt.a,{style:{minWidth:"100%"},onSwipedLeft:function(){S(C+1<4?C+1:C)},onSwipedRight:function(){S(C-1>=0?C-1:C)}},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table bg-white border"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:$.slice(re[0],re[1]).filter((function(e){return e.selected})).length===re[1]-re[0],onChange:function(e){Q((function(t){for(var a=Object($e.a)(t),n=re[0];n<re[1];n++)a[n].selected=e.target.checked;return a}))}})),r.a.createElement("th",{className:"table-header text-truncate text-left"},"Description"),r.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},oe[C]),oe.map((function(e,t){return r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate",key:"column-".concat(t)},r.a.createElement("div",null,e))})))),r.a.createElement("tbody",null,$.length?$.slice(5*(A-1),5*(A-1)+5).map((function(e,a){return r.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(a)},r.a.createElement("td",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:e.selected,onChange:function(e){Q((function(t){var n=Object($e.a)(t);return n[5*(A-1)+a].selected=e.target.checked,n}))}})),r.a.createElement("td",{style:{whiteSpace:"nowrap"}},r.a.createElement("div",{className:"mb-2",style:{minWidth:"150px"}},e.description),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"text-primary underline-link",onClick:function(){t(e),o()}},"Edit"),r.a.createElement("div",{className:"px-2"},"|"),r.a.createElement("div",{className:"text-danger underline-link",onClick:Object(l.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n=[e._id],j("/admin/promotions/delete",{ids:n,update:{status:"Deleted"}});case 2:(a=t.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:a.error,type:"failure"}}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Promotion was deleted",message:"Promotion was successfully deleted",type:"success"}}),ne(!ae);case 5:case"end":return t.stop()}var n}),t)})))},"Delete"))),r.a.createElement("td",{className:"".concat(0===C?"d-table-cell":"d-none d-xl-table-cell")},"Review"===e.content_type?r.a.createElement("div",{style:{minWidth:"150px"}},r.a.createElement("div",{className:"cursor-pointer user-select-none btn-link",onClick:function(t){f.push("/movie/".concat(e.movie_id,"/").concat(e.content_id))}},e.content.review)):r.a.createElement("div",{className:"text-clamp-4 cursor-pointer user-select-none",onClick:function(e){var t=e.currentTarget;t.classList.contains("text-clamp-4")?t.classList.remove("text-clamp-4"):t.classList.add("text-clamp-4")}},e.content.comment)),r.a.createElement("td",{className:"".concat(1===C?"d-table-cell":"d-none d-xl-table-cell")},e.content.rating?"ok_rate"===e.content.rating?r.a.createElement("div",{style:{marginTop:"-4px"}},r.a.createElement(y,{size:24})):r.a.createElement("div",{style:{marginBottom:"-6px"}},r.a.createElement(b.a,{emoji:"excellent_rate"===e.content.rating?"fire":"good_rate"===e.content.rating?"heart":"ok_rate"===e.content.rating?"heavy_division_sign":"shit",set:"facebook",size:24})):"-"),r.a.createElement("td",{className:"".concat(2===C?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",{style:{whiteSpace:"nowrap"}},r.a.createElement("div",{className:"d-inline-block mr-2"},r.a.createElement("div",null,"From: "),r.a.createElement("div",null,"To: ")),r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("div",{style:{whiteSpace:"nowrap"}},ct.a.format(new Date(e.start_date),"DD/MM/YYYY @ hh:mm A"),r.a.createElement("div",{style:{whiteSpace:"nowrap"}},ct.a.format(new Date(e.end_date),"DD/MM/YYYY @ hh:mm A")))))),r.a.createElement("td",{className:"".concat("Published"===e.status?"text-green":"Drafted"===e.status?"text-orange":"text-danger"," ").concat(3===C?"d-table-cell":"d-none d-xl-table-cell")},"Published"===e.status?"Active":"Drafted"===e.status?"Inactive":e.status))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,className:" text-center py-5"},"0 results found"))))))),r.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-sm-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(lt,{count:Math.ceil($.length/5),current:A,setCurrent:P})))))))})),Jt=function(e){var t=e.currentPromotion,a=e.getBack,o=Object(n.useState)({review:"",comment:"",review_id:1,comment_id:1,content_type:"",publish_status:"",active_status:"",start_date:Date.now(),end_date:Date.now(),movie_title:"",movie_id:"",content:{},title:""}),s=Object(E.a)(o,2),c=s[0],m=s[1],u=Object(n.useState)(!1),p=Object(E.a)(u,2),v=p[0],g=p[1];Object(n.useEffect)((function(){m((function(e){return Object.assign({},e,t)}))}),[t]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var f=["Published","Drafted","Deleted"];return r.a.createElement("div",{className:"row no-gutters p-md-5 p-4"},r.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Edit Promotions"),r.a.createElement("div",{className:"row no-gutters"},"Edit existing promotion")),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Description"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("textarea",{value:c.description?c.description:"",onChange:function(e){e.persist(),m((function(t){return Object.assign({},t,{description:e.target.value})}))},className:"textarea-light w-100",style:{height:"150px"}})))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60 mb-1"},c.content_type),r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("textarea",{value:c.content?"Review"===c.content_type?c.content.review:c.content.comment:"",onChange:function(e){e.persist();var t=e.target.value;if(t.split(" ").length<=500)if("Review"===c.content_type){var a=Object(h.a)({},c.content);a.review=t,m((function(e){return Object.assign({},e,{content:a})}))}else{var n=Object(h.a)({},c.content);n.comment=t,m((function(e){return Object.assign({},e,{content:n})}))}},className:"textarea-light w-100",style:{height:"150px"}})),r.a.createElement("div",{className:"col-60 ".concat(c.content_type?"Review"===c.content_type?c.content.review.split(" ").length<=499?"text-muted":"text-danger":c.content.comment.split(" ").length<=499?"text-muted":"text-danger":"")},c.content.review?c.content.review.length?500-c.content.review.split(" ").length:500:c.content.comment?c.content.comment.length?500-c.content.comment.split(" ").length:500:""," ","words left")),"Review"===c.content_type&&r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60 mb-4 px-0"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60"},"Rating")),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-30 col-60 pr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60",className:"input-light px-3",btnName:c.content.rating?x.find((function(e){return e.name===c.content.rating})).element:"Select",onSelect:function(e){var t=Object(h.a)({},c.content);t.rating=x[e].name,m((function(e){return Object.assign({},e,{content:t})}))},items:x.map((function(e){return e.element}))}))))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-30 col-60 pr-sm-3 mb-4"},r.a.createElement("div",{className:"row no-gutters"},"Start Date"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Bt.a,{value:ct.a.format(new Date(c.start_date),"DD/MM/YYYY"),component:function(e){return r.a.createElement("div",{className:"position-relative w-100"},r.a.createElement(Xe.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(c.start_date),a=e.getFullYear(),n=e.getMonth(),r=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(r),m((function(e){return Object.assign({},e,{start_date:t.getTime()})}))}}}))),r.a.createElement("div",{className:"col-sm-30 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters"},"End Date"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Bt.a,{value:ct.a.format(new Date(c.end_date),"DD/MM/YYYY"),component:function(e){return r.a.createElement("div",{className:"position-relative w-100"},r.a.createElement(Xe.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(c.end_date),a=e.getFullYear(),n=e.getMonth(),r=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(r),m((function(e){return Object.assign({},e,{end_date:t.getTime()})}))}}})))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-30 pr-sm-3 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters"},"Start Time"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 position-relative input-light"},r.a.createElement(Xe.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement(Gt.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(E.a)(t,2),n=a[0],r=a[1],o=new Date(c.start_date);o.setHours(n),o.setMinutes(r),m((function(e){return Object.assign({},e,{start_date:o.getTime()})}))}},value:new Date(c.start_date)})))),r.a.createElement("div",{className:"col-sm-30 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters"},"End Time"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 position-relative input-light"},r.a.createElement(Xe.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement(Gt.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(E.a)(t,2),n=a[0],r=a[1],o=new Date(c.end_date);o.setHours(n),o.setMinutes(r),m((function(e){return Object.assign({},e,{end_date:o.getTime()})}))}},value:new Date(c.end_date)}))))))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Status"),r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-30 col-60 pr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60",onSelect:function(e){return m((function(t){return Object.assign({},t,{status:f[e]})}))},className:"w-100 input-light px-3",items:f,btnName:c.status?c.status:"Select"}))))))),r.a.createElement("div",{className:"col-60 mt-2"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:a},"Cancel"),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Ee(c);case 3:t=e.sent,g(!1),t.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:t.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Promotion updated",message:"Promotion was successfully updated",type:"success"}}),a());case 6:case"end":return e.stop()}}),e)})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:v,size:20}),"Save"))))};var Zt=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,ratings:e.ratings},t)}))((function(e){var t=e.publicUsers,a=e.getBack,o=e.ratings,s=Object(n.useState)({description:"",start_date:Date.now(),end_date:Date.now(),content_type:"",status:"Published"}),c=Object(E.a)(s,2),m=c[0],u=c[1],p=Object(n.useState)(1),v=Object(E.a)(p,2),g=v[0],f=v[1],h=Object(n.useState)(""),w=Object(E.a)(h,2),N=w[0],x=w[1],O=Object(n.useState)(!1),_=Object(E.a)(O,2),k=_[0],C=_[1],S=Object(n.useState)("User"),I=Object(E.a)(S,2),T=I[0],A=I[1],P=Object(n.useState)(""),D=Object(E.a)(P,2),z=D[0],R=D[1],Y=Object(n.useState)([]),U=Object(E.a)(Y,2),M=U[0],F=U[1],L=["User","Movie","Review"],W=Object(n.useState)(0),q=Object(E.a)(W,2),B=q[0],H=q[1],G=Object(n.useState)([]),K=Object(E.a)(G,2),V=K[0],X=K[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:(t=e.sent).error||X(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){var e=[];z?"User"===T?Object.values(t).length&&V.forEach((function(a){t[a.author].display_name.toLowerCase().includes(z.toLowerCase())&&e.push(a)})):"Movie"===T?V.forEach((function(t){o[t.movie_id]&&o[t.movie_id].movie_title.toLowerCase().includes(z.toLowerCase())&&e.push(t)})):"Review"===T&&V.forEach((function(t){t.review.toLowerCase().includes(z.toLowerCase())&&e.push(t)})):e=e.concat(Object($e.a)(V)),F(e.map((function(e){return Object.assign({},e,{selected:!1})})))}),[z,V]);var J=[5*(g-1),5*(g-1)+5];J[1]>=M.length&&(J[1]=J[1]-(J[1]-M.length));var Z=["Movie Name","Review","Rating","Posted On","Reported"],$=[{valid:m.description,error:"Description is required"},{valid:m.start_date<m.end_date,error:"Start date must be before end date"},{valid:m.start_date!==m.end_date,error:"promotion duration is 0"},{valid:M.filter((function(e){return e.selected})).length,error:"No content selected"}];return r.a.createElement("div",{className:"row no-gutters p-sm-5 p-4"},r.a.createElement("div",{className:"col-60 border-bottom mb-4"},r.a.createElement("div",{className:"row no-gutters justify-content-between"},r.a.createElement("div",{className:"col-auto py-3"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Promote Content"),r.a.createElement("div",{className:"row no-gutters"},"Edit, add and delete promotions")))),r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Description"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("textarea",{value:m.description?m.description:"",onChange:function(e){e.persist(),u((function(t){return Object.assign({},t,{description:e.target.value})}))},className:"textarea-light w-100",style:{height:"150px"}})))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 pr-sm-3 mb-4"},r.a.createElement("div",{className:"row no-gutters"},"Start Date"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},r.a.createElement(Bt.a,{value:ct.a.format(new Date(m.start_date),"DD/MM/YYYY"),component:function(e){return r.a.createElement("div",{className:"position-relative"},r.a.createElement(Xe.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(m.start_date),a=e.getFullYear(),n=e.getMonth(),r=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(r),u((function(e){return Object.assign({},e,{start_date:t.getTime()})}))}}})),r.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},r.a.createElement(Xe.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement(Gt.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(E.a)(t,2),n=a[0],r=a[1],o=new Date(m.start_date);o.setHours(n),o.setMinutes(r),u((function(e){return Object.assign({},e,{start_date:o.getTime()})}))}},value:new Date(m.start_date)}))))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters"},"End Date"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},r.a.createElement(Bt.a,{value:ct.a.format(new Date(m.end_date),"DD/MM/YYYY"),component:function(e){return r.a.createElement("div",{className:"position-relative"},r.a.createElement(Xe.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(m.end_date),a=e.getFullYear(),n=e.getMonth(),r=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(r),u((function(e){return Object.assign({},e,{end_date:t.getTime()})}))}}})),r.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},r.a.createElement(Xe.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement(Gt.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(E.a)(t,2),n=a[0],r=a[1],o=new Date(m.end_date);o.setHours(n),o.setMinutes(r),u((function(e){return Object.assign({},e,{end_date:o.getTime()})}))}},value:new Date(m.end_date)}))))))),r.a.createElement("div",{className:"row no-gutters mb-3 h6 mt-4"},"Select Content To Promote"),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement(It,{onSelect:function(e){return A(L[e])},className:"table-input-prepend-select col-auto bg-custom-primary text-white",items:L,btnName:"Search by ".concat(T)}),r.a.createElement("div",{className:"col position-relative",style:{maxWidth:"400px"}},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{value:z,onChange:function(e){e.persist(),R(e.target.value)},className:"table-input pr-5 pl-3 w-100"})))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Rt.a,{style:{minWidth:"100%"},onSwipedLeft:function(){H(B+1<4?B+1:B)},onSwipedRight:function(){H(B-1>=0?B-1:B)}},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table bg-white border"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:M.slice(J[0],J[1]).filter((function(e){return e.selected})).length===J[1]-J[0],onChange:function(e){F((function(t){for(var a=Object($e.a)(t),n=J[0];n<J[1];n++)a[n].selected=e.target.checked;return a}))}})),r.a.createElement("th",{className:"table-header text-truncate text-left"},r.a.createElement("div",{className:"d-none d-lg-block"},"Posted By"),r.a.createElement("div",{className:"d-block d-lg-none"},"By")),r.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},Z[B]),Z.map((function(e,t){return r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate",key:"x-col-".concat(t)},r.a.createElement("div",null,e))})))),r.a.createElement("tbody",null,M.length?M.slice(5*(g-1),5*(g-1)+5).map((function(e,a){return r.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(a)},r.a.createElement("td",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:e.selected,onChange:function(e){F((function(t){var n=Object($e.a)(t);return n[5*(g-1)+a].selected=e.target.checked,n}))}})),r.a.createElement("td",{style:{whiteSpace:"nowrap"}},r.a.createElement("div",{className:"d-inline-block mr-2"},r.a.createElement("div",{className:"square-50 rounded-circle bg-image",style:{backgroundImage:"url(".concat(Object.values(t).length?t[e.author].photo:"",")")}})),Object.values(t).length?r.a.createElement("div",{className:"d-none d-md-inline-block align-top"},r.a.createElement("div",{className:"h6 text-primary"},t[e.author].display_name),r.a.createElement("div",null,t[e.author].email)):""),r.a.createElement("td",{className:"".concat(0===B?"d-table-cell":"d-none d-xl-table-cell")},o[e.movie_id]?o[e.movie_id].movie_title:""),r.a.createElement("td",{className:"".concat(1===B?"d-table-cell":"d-none d-xl-table-cell")},e.comment?r.a.createElement("div",{className:"text-clamp-4 cursor-pointer user-select-none",onClick:function(e){var t=e.currentTarget;t.classList.contains("text-clamp-4")?t.classList.remove("text-clamp-4"):t.classList.add("text-clamp-4")}},e.comment):r.a.createElement("div",{style:{minWidth:"200px"}},r.a.createElement("div",{className:"text-clamp-4 cursor-pointer user-select-none",onClick:function(e){var t=e.currentTarget;t.classList.contains("text-clamp-4")?t.classList.remove("text-clamp-4"):t.classList.add("text-clamp-4")}},e.review))),r.a.createElement("td",{className:"".concat(2===B?"d-table-cell":"d-none d-xl-table-cell")},e.rating?"ok_rate"===e.rating?r.a.createElement("div",{style:{marginTop:"-4px"}},r.a.createElement(y,{size:24})):r.a.createElement("div",{style:{marginBottom:"-6px"}},r.a.createElement(b.a,{emoji:"excellent_rate"===e.rating?"fire":"good_rate"===e.rating?"heart":"ok_rate"===e.rating?"heavy_division_sign":"shit",set:"facebook",size:24})):"-"),r.a.createElement("td",{style:{whiteSpace:"nowrap"},className:"".concat(3===B?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",null,ct.a.format(new Date(e.date),"DD/MM/YYYY @ hh:mm A"))),r.a.createElement("td",{className:"".concat(e.reported?"text-danger":"text-green"," ").concat(4===B?"d-table-cell":"d-none d-xl-table-cell")},e.reported?"Abused":"Not Reported"))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3,className:" text-center py-5"},"0 results found"))))))),r.a.createElement("div",{className:"row no-gutters justify-content-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(lt,{count:Math.ceil(M.length/5),current:g,setCurrent:f}))),r.a.createElement("div",{className:"col-60 mt-1 px-0"},r.a.createElement("div",{style:{height:"50px",opacity:N?1:0},className:"row no-gutters align-items-center text-danger mb-2"},N),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:function(){return a()}},"Cancel"),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(l.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=$.filter((function(e){return!e.valid}))).length){e.next=5;break}x(t[0].error),e.next=12;break;case 5:return n=M.filter((function(e){return e.selected})).map((function(e){return Object.assign({},m,{content_type:e.comment?"Comment":"Review",content:e.comment?{comment:e.comment}:{review:e.review,rating:e.rating},content_id:e._id,content_author:e.author,movie_title:e.movie_title,movie_genres:e.movie_genres,movie_poster:e.movie_poster,movie_release_date:e.movie_release_date,movie_id:e.movie_id})})),C(!0),e.next=9,j("/admin/promotions/create",n);case 9:r=e.sent,C(!1),r.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:r.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Promotions created",message:"Promotions were successfully created",type:"success"}}),a());case 12:case"end":return e.stop()}}),e)})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:k,size:20}),"Save")))))})),$t=function(e){var t=e.setEditNotification,a=e.setEditNotificationSection,o=e.setAddNewNotificationSection,s=Object(n.useState)(""),c=Object(E.a)(s,2),m=c[0],u=c[1],p=Object(n.useState)(""),v=Object(E.a)(p,2),g=v[0],f=v[1],h=Object(n.useState)("Subject"),b=Object(E.a)(h,2),y=b[0],w=b[1],N=Object(n.useState)(0),x=Object(E.a)(N,2),O=x[0],_=x[1],j=Object(n.useState)(1),k=Object(E.a)(j,2),C=k[0],S=k[1],I=Object(n.useState)(""),T=Object(E.a)(I,2),A=T[0],P=T[1],D=Object(n.useState)(""),z=Object(E.a)(D,2),R=z[0],Y=z[1],U=Object(n.useState)({key:"",value:""}),M=Object(E.a)(U,2),F=M[0],L=M[1],W=Object(n.useState)([]),q=Object(E.a)(W,2),B=q[0],H=q[1],G=Object(n.useState)([]),K=Object(E.a)(G,2),V=K[0],X=K[1],J=Object(n.useState)(!1),Z=Object(E.a)(J,2),$=Z[0],Q=Z[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye();case 2:(t=e.sent).error||H(t.reverse().map((function(e){return Object.assign({},e,{selected:!1})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[$]);var ee=["App","Email","System"];Object(n.useEffect)((function(){var e=Object($e.a)(B);B.length&&(R&&("Subject"===y?e=e.filter((function(e){return e.subject.toLowerCase().includes(R.toLowerCase())})):"Description"===y&&(e=e.filter((function(e){return e.description.toLowerCase().includes(R.toLowerCase())})))),A&&(e=e.filter((function(e){return e.type===A}))),F.key&&(e=e.filter((function(e){return e[F.key]===F.value}))),X(e))}),[R,A,B,F]);var te=[5*(C-1),5*(C-1)+5];te[1]>=V.length&&(te[1]=te[1]-(te[1]-V.length));var ae=function(){var e=Object(l.a)(i.a.mark((function e(){var n,r,o,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length>0&&void 0!==s[0]&&s[0]&&P(g),"Edit"!==m){e.next=7;break}(n=V.filter((function(e){return e.selected}))).length&&(t(n[0]),a()),e.next=15;break;case 7:if("Delete"!==m){e.next=15;break}if(!(r=V.filter((function(e){return e.selected}))).length){e.next=15;break}return e.next=12,xe(r.map((function(e){return e._id})),{status:"Deleted"});case 12:(o=e.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:o.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Selected notifications deleted",message:"Selected notifications were successfully deleted",type:"success"}}),d.dispatch({type:"UPDATE_USER",userProperty:{update:Date.now()}})),Q(!$);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"row no-gutters admin-screen"},r.a.createElement("div",{className:"col-60 border-bottom"},r.a.createElement("div",{className:"row no-gutters justify-content-between pb-3 align-items-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Notifications"),r.a.createElement("div",{className:"row no-gutters"},"Create, send and manage notifications")),r.a.createElement("div",{className:"col-auto btn-custom btn-custom-primary btn-natural",onClick:function(){return o()}},"Add New"))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 py-5"},r.a.createElement("div",{className:"row no-gutters h6 mb-3"},r.a.createElement("div",{onClick:function(){P(""),f(""),L({key:"",value:""})},className:"col-auto cursor-pointer ".concat(A||F.key?"text-dark":"text-primary")},"All (",B.length,")"),["Sent","Drafted","Deleted"].map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"status-".concat(t)},r.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),r.a.createElement("div",{onClick:function(){return L((function(t){return Object.assign({key:"status",value:e})}))},className:"col-auto cursor-pointer ".concat("status"===F.key&&F.value===e?"text-primary":"text-dark")},e," (",B.filter((function(t){return t.status===e})).length,")"))}))),r.a.createElement("div",{className:"row no-gutters justify-content-between"},r.a.createElement("div",{className:"col-sm-auto col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return u(["Delete"][e])},items:["Delete"],btnName:m||"Select Action",className:"input-light px-3 col-auto"}))),r.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return f(ee[e])},items:ee,btnName:g||"Select Type",className:"input-light px-3 col-auto"}))),r.a.createElement("div",{onClick:function(){return ae(!0)},className:"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall"},"Apply"))),r.a.createElement("div",{className:"col-60 d-block d-sm-none"},r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement(It,{popoverClass:"w-100",onSelect:function(e){return w(["Subject","Description"][e])},className:"input-light col-60",items:["Subject","Description"],btnName:"Search by ".concat(y)})),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 position-relative"},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{className:"input-light w-100 pr-5 pl-3",value:R,onChange:function(e){e.persist(),Y(e.target.value)}})))),r.a.createElement("div",{className:"col-auto mb-3 d-none d-sm-block"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{onSelect:function(e){return w(["Subject","Description"][e])},className:"table-input-prepend-select col-auto",items:["Subject","Description"],btnName:"Search by ".concat(y)}),r.a.createElement("div",{className:"col position-relative"},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{value:R,onChange:function(e){e.persist(),Y(e.target.value)},className:"table-input pr-5 pl-3",style:{minWidth:"300px"}}))))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Rt.a,{style:{minWidth:"100%"},onSwipedLeft:function(){_(O+1<4?O+1:O)},onSwipedRight:function(){_(O-1>=0?O-1:O)}},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table bg-white border"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:V.slice(te[0],te[1]).filter((function(e){return e.selected})).length===te[1]-te[0],onChange:function(e){X((function(t){for(var a=Object($e.a)(t),n=te[0];n<te[1];n++)a[n].selected=e.target.checked;return a}))}})),r.a.createElement("th",{className:"table-header text-truncate text-left"},"Subject"),r.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},["Type","Description","Duration","Status"][O]),r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,"Type")),r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,"Description")),r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,"Duration")),r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},r.a.createElement("div",null,"Status")))),r.a.createElement("tbody",null,V.length?V.slice(5*(C-1),5*(C-1)+5).map((function(e,n){return r.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(n)},r.a.createElement("td",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:e.selected,onChange:function(e){X((function(t){var a=Object($e.a)(t);return a[5*(C-1)+n].selected=e.target.checked,a}))}})),r.a.createElement("td",{style:{whiteSpace:"nowrap"}},r.a.createElement("div",{className:"mb-2"},e.subject),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"text-primary underline-link",onClick:function(){t(e),a()}},"Edit"),r.a.createElement("div",{className:"px-2"},"|"),r.a.createElement("div",{className:"text-danger underline-link",onClick:Object(l.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe([e._id],{status:"Deleted"});case 2:(a=t.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:a.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Notification was deleted",message:"Notification was successfully deleted",type:"success"}}),d.dispatch({type:"UPDATE_USER",userProperty:{update:Date.now()}})),Q(!$);case 5:case"end":return t.stop()}}),t)})))},"Delete"))),r.a.createElement("td",{className:"".concat(0===O?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",null,e.type)),r.a.createElement("td",{className:"".concat(1===O?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",{style:{minWidth:"200px"},className:"text-clamp-4 cursor-pointer user-select-none",onClick:function(e){var t=e.currentTarget;t.classList.contains("text-clamp-4")?t.classList.remove("text-clamp-4"):t.classList.add("text-clamp-4")}},e.description)),r.a.createElement("td",{className:"".concat(2===O?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",{className:"d-flex mb-2"},r.a.createElement("div",{style:{width:"55px"}},"From:"),r.a.createElement("div",null,r.a.createElement("div",{style:{whiteSpace:"nowrap"}},ct.a.format(new Date(e.start_date),"DD/MM/YYYY @ hh:mm A")))),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{style:{width:"55px"}},"To:"),r.a.createElement("div",null,r.a.createElement("div",{style:{whiteSpace:"nowrap"}},ct.a.format(new Date(e.end_date),"DD/MM/YYYY @ hh:mm A"))))),r.a.createElement("td",{className:"".concat(3===O?"d-table-cell":"d-none d-xl-table-cell")},e.status))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,className:" text-center py-5"},"0 results found"))))))),r.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-sm-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(lt,{count:Math.ceil(V.length/5),current:C,setCurrent:S})))))))},Qt=a(361),ea=a(359),ta=a(355),aa=Object(ta.a)((function(e){return{inputRoot:{"& .MuiOutlinedInput-notchedOutline":{border:"none"}}}})),na=Object(Tt.a)({palette:{primary:{main:"rgb(255, 0, 64)"},secondary:{main:"#202020"}}}),ra=function(e){var t=aa();return r.a.createElement(At.a,{theme:na},r.a.createElement(Qt.a,Object.assign({},e,{classes:t,multiple:!0,id:"tags-outlined",filterSelectedOptions:!0,renderInput:function(t){return r.a.createElement(ea.a,Object.assign({},t,{variant:"outlined",placeholder:e.placeholder}))}})))};var oa=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,user:e.user},t)}))((function(e){var t=e.currentNotification,a=e.getBack,o=e.publicUsers,s=e.user,c=["App","Email","System"],m=Date.now(),u=Object(n.useState)({type:"",subject:"",start_date:m,end_date:m,receivers:[],description:"",status:"Drafted"}),p=Object(E.a)(u,2),v=p[0],g=p[1],f=["Sent","Drafted","Deleted"],h=Object(n.useState)(""),b=Object(E.a)(h,2),y=b[0],w=b[1],N=Object(n.useState)(!1),x=Object(E.a)(N,2),O=x[0],_=x[1],j=[{valid:v.subject,error:"Subject is required"},{valid:v.type,error:"Select notification type"},{valid:v.receivers.length,error:"Select at least one receiver"},{valid:v.description,error:"Description is required"}];Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(n.useEffect)((function(){g(t)}),[t]);return r.a.createElement("div",{className:"row no-gutters p-sm-5 p-4"},r.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Edit notification"),r.a.createElement("div",{className:"row no-gutters"},"Edit existing notification")),r.a.createElement("div",{className:"col-60",style:{maxWidth:"800px"}},r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Subject"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{disabled:"System"===v.type,type:"text",className:"w-100 ".concat("System"===v.type?"input-light-disabled":"input-light"," px-3"),value:v.subject,onChange:function(e){e.persist(),g((function(t){return Object.assign({},t,{subject:e.target.value})}))}}))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Type"),r.a.createElement(It,{disabled:"System"===v.type,popoverClass:"col-sm-30 col-60",className:"input-light".concat("System"===v.type?"-disabled":""," col-60"),btnName:v.type?v.type:"Select",items:c,onSelect:function(e){return g((function(t){return Object.assign({},t,{type:c[e]})}))}})),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Notification to"),r.a.createElement(ra,{disabled:"System"===v.type,value:v.receivers,onChange:function(e,t){g((function(e){return Object.assign({},e,{receivers:t})}))},placeholder:"Search by username",color:"primary",className:"col-md-30 col-60 input-light-resize".concat("System"===v.type?"-disabled":""),options:Object.keys({All:"All","All users":"User","All admins":"Administrator","Inactive users":"Inactive","Active users":"Active"}).concat(Object.values(o).filter((function(e){return"Deleted"!==e.status}))),getOptionLabel:function(e){return e.display_name?e.display_name:e}})),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Description"),r.a.createElement("div",{className:"col-60"},r.a.createElement("textarea",{disabled:"System"===v.type,value:v.description,onChange:function(e){e.persist();var t=e.target.value;t.split(" ").length<=500&&g((function(e){return Object.assign({},e,{description:t})}))},className:"".concat("System"===v.type?"textarea-light-disabled":"textarea-light"," w-100"),style:{height:"150px"}})),r.a.createElement("div",{className:"col-60 ".concat(v.description.split(" ").length<=499?"text-muted":"text-danger")},v.description?500-v.description.split(" ").length:500,"words left")),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 pr-sm-3 mb-4"},r.a.createElement("div",{className:"row no-gutters"},"Date"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},r.a.createElement(Bt.a,{value:ct.a.format(new Date(v.start_date),"DD/MM/YYYY"),component:function(e){return r.a.createElement("div",{className:"position-relative"},r.a.createElement(Xe.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement("input",Object.assign({disabled:"System"===v.type},e,{className:"input-light".concat("System"===v.type?"-disabled":""," w-100 pl-5 pr-3"),placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(v.start_date),a=e.getFullYear(),n=e.getMonth(),r=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(r),g((function(e){return Object.assign({},e,{start_date:t.getTime()})}))}}})),r.a.createElement("div",{className:"col-auto position-relative input-light".concat("System"===v.type?"-disabled":""),style:{width:"150px"}},r.a.createElement(Xe.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),"System"===v.type?r.a.createElement("div",{className:"w-100 pl-5"},ct.a.format(new Date(v.start_date),"hh:mm A")):r.a.createElement(Gt.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(E.a)(t,2),n=a[0],r=a[1],o=new Date(v.start_date);o.setHours(n),o.setMinutes(r),g((function(e){return Object.assign({},e,{start_date:o.getTime()})}))}},value:new Date(v.start_date)}))))))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Status"),r.a.createElement(It,{disabled:"System"===v.type,popoverClass:"col-sm-30 col-60",className:"input-light".concat("System"===v.type?"-disabled":""," col-60"),btnName:v.status?v.status:"Select status",items:f,onSelect:function(e){return g((function(t){return Object.assign({},t,{status:f[e]})}))}})),r.a.createElement("div",{style:{height:"50px",opacity:y?1:0},className:"row no-gutters align-items-center text-danger my-2"},y),"System"!==v.type?r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:a},"Cancel"),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(l.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=j.filter((function(e){return!e.valid}))).length){e.next=5;break}w(t[0].error),e.next=20;break;case 5:return _(!0),e.next=8,Ne(v);case 8:if(n=e.sent,_(!1),!n.error){e.next=14;break}d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:n.error,type:"failure"}}),e.next=20;break;case 14:return d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Notification edited",message:"Notification was successfully edited",type:"success"}}),e.next=17,K(s._id);case 17:r=e.sent,d.dispatch({type:"SET_USER",user:r}),a();case 20:case"end":return e.stop()}}),e)})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:O,size:20}),"Save")):r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:a},"Go back"))))}));var sa=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,user:e.user},t)}))((function(e){var t=e.publicUsers,a=e.getBack,o=e.user,s=["App","Email","System"],c=Date.now(),m=Object(n.useState)({type:"",subject:"",receivers:[],start_date:c,end_date:c,description:"",status:"Sent"}),u=Object(E.a)(m,2),p=u[0],v=u[1],g=Object(n.useState)(""),f=Object(E.a)(g,2),h=f[0],b=f[1],y=Object(n.useState)(!1),w=Object(E.a)(y,2),N=w[0],x=w[1],O=["Sent","Drafted","Deleted"],_=[{valid:p.subject,error:"Subject is required"},{valid:p.type,error:"Select notification type"},{valid:p.receivers.length,error:"Select at least one receiver"},{valid:p.description,error:"Description is required"}];return r.a.createElement("div",{className:"row no-gutters p-sm-5 p-4"},r.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Add new notification"),r.a.createElement("div",{className:"row no-gutters"},"Create a brand new notification and add to this site")),r.a.createElement("div",{className:"col-60",style:{maxWidth:"800px"}},r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Subject"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{type:"text",className:"w-100 input-light px-3",value:p.subject,onChange:function(e){e.persist(),v((function(t){return Object.assign({},t,{subject:e.target.value})}))}}))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Type"),r.a.createElement(It,{popoverClass:"col-sm-30 col-60",className:"input-light col-60 w-100",btnName:p.type?p.type:"Select",items:s,onSelect:function(e){return v((function(t){return Object.assign({},t,{type:s[e]})}))}})),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Notification to"),r.a.createElement(ra,{value:p.receivers,onChange:function(e,t){v((function(e){return Object.assign({},e,{receivers:t})}))},placeholder:"Search by username",color:"primary",className:"col-md-30 col-60 input-light-resize",options:Object.keys({All:"All","All users":"User","All admins":"Administrator","Inactive users":"Inactive","Active users":"Active"}).concat(Object.values(t).filter((function(e){return"Deleted"!==e.status}))),getOptionLabel:function(e){return e.display_name?e.display_name:e}})),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Description"),r.a.createElement("div",{className:"col-60"},r.a.createElement("textarea",{value:p.description,onChange:function(e){e.persist();var t=e.target.value;t.split(" ").length<=500&&v((function(e){return Object.assign({},e,{description:t})}))},className:"textarea-light w-100",style:{height:"150px"}})),r.a.createElement("div",{className:"col-60 ".concat(p.description.split(" ").length<=499?"text-muted":"text-danger")},p.description?500-p.description.split(" ").length:500,"words left")),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 pr-sm-3 mb-4"},r.a.createElement("div",{className:"row no-gutters"},"Date"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},r.a.createElement(Bt.a,{value:ct.a.format(new Date(p.start_date),"DD/MM/YYYY"),component:function(e){return r.a.createElement("div",{className:"position-relative"},r.a.createElement(Xe.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(p.start_date),a=e.getFullYear(),n=e.getMonth(),r=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(r),v((function(e){return Object.assign({},e,{start_date:t.getTime()})}))}}})),r.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},r.a.createElement(Xe.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),r.a.createElement(Gt.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(E.a)(t,2),n=a[0],r=a[1],o=new Date(p.start_date);o.setHours(n),o.setMinutes(r),v((function(e){return Object.assign({},e,{start_date:o.getTime()})}))}},value:new Date(p.start_date)}))))))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Status"),r.a.createElement(It,{popoverClass:"col-sm-30 col-60",className:"input-light col-60",btnName:p.status?p.status:"Select status",items:O,onSelect:function(e){return v((function(t){return Object.assign({},t,{status:O[e]})}))}})),r.a.createElement("div",{style:{height:"50px",opacity:h?1:0},className:"row no-gutters align-items-center text-danger my-2"},h),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:a},"Cancel"),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(l.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=_.filter((function(e){return!e.valid}))).length){e.next=5;break}b(t[0].error),e.next=20;break;case 5:return x(!0),e.next=8,we(p);case 8:if(n=e.sent,x(!1),!n.error){e.next=14;break}d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:n.error,type:"failure"}}),e.next=20;break;case 14:return d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Notification created",message:"Notification was successfully created",type:"success"}}),e.next=17,K(o._id);case 17:r=e.sent,d.dispatch({type:"SET_USER",user:r}),a();case 20:case"end":return e.stop()}}),e)})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:N,size:20}),"Save"))))})),ca=a(136);var ia=Object(p.b)((function(e,t){return Object(h.a)({ratings:e.ratings,publicUsers:e.publicUsers},t)}))((function(e){var t=e.setEditUser,a=e.setEditUserSection,o=e.setAddNewUserSection,s=e.publicUsers,c=(e.ratings,Object(n.useState)("")),m=Object(E.a)(c,2),u=m[0],p=m[1],v=Object(n.useState)(""),g=Object(E.a)(v,2),f=g[0],b=g[1],y=Object(n.useState)("User"),w=Object(E.a)(y,2),N=w[0],x=w[1],O=Object(n.useState)(0),_=Object(E.a)(O,2),k=_[0],C=_[1],S=Object(n.useState)(1),I=Object(E.a)(S,2),T=I[0],A=I[1],P=Object(n.useState)(""),D=Object(E.a)(P,2),z=D[0],R=D[1],Y=Object(n.useState)(""),U=Object(E.a)(Y,2),M=U[0],F=U[1],L=Object(n.useState)(""),W=Object(E.a)(L,2),q=W[0],B=W[1],H=Object(n.useState)([]),G=Object(E.a)(H,2),K=G[0],V=G[1],X=Object(n.useState)([]),J=Object(E.a)(X,2),Z=J[0],$=J[1],Q=Object(n.useState)(!1),ee=Object(E.a)(Q,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:t=e.sent,V(t.map((function(e){return Object.assign({},e,{selected:!1})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[te]),Object(n.useEffect)((function(){var e=Object($e.a)(K);K.length&&(q&&("User"===N?e=e.filter((function(e){return e.display_name.toLowerCase().includes(q.toLowerCase())})):"Email"===N&&(e=e.filter((function(e){return e.email.toLowerCase().includes(q.toLowerCase())})))),z&&(e=e.filter((function(e){return e.role===z}))),M&&(e=e.filter((function(e){return e.status===M})))),$(e)}),[q,z,K,M]);var ne=[5*(T-1),5*(T-1)+5];ne[1]>=Z.length&&(ne[1]=ne[1]-(ne[1]-Z.length));var oe=function(){var e=Object(l.a)(i.a.mark((function e(){var n,r,o,c,l=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.length>0&&void 0!==l[0]&&l[0]&&R("All"===f?"":f),!(n=Z.filter((function(e){return e.selected}))).length){e.next=15;break}if("Edit"!==u){e.next=9;break}t(n[0]),a(),e.next=15;break;case 9:return r={},"Delete"===u?r.status="Deleted":"Inactivate"===u?r.status="Inactive":"Block"===u?r.status="Blocked":"Activate"===u&&(r.status="Active"),e.next=13,ue(n.map((function(e){return e._id})),n.map((function(e){return s[e._id]._id})),r);case 13:(o=e.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:o.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Users updated",message:"User were successfully updated",type:"success"}}),ae(!te),c=Object(h.a)({},s),n.forEach((function(e){c[e._id].status=r.status})),d.dispatch({type:"SET_PUBLICUSERS",publicUsers:c}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(l.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(a,n,t);case 2:(r=e.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:r.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Users updated",message:"User were successfully updated",type:"success"}}),ae(!te));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ce=["Block","Inactivate","Activate","Delete"],ie=["Email","Role","Last login","Activity","Status"];return r.a.createElement("div",{className:"row no-gutters admin-screen"},r.a.createElement("div",{className:"col-60 border-bottom"},r.a.createElement("div",{className:"row no-gutters justify-content-between pb-3 align-items-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Users"),r.a.createElement("div",{className:"row no-gutters"},"Add, edit and delete users")),r.a.createElement("div",{className:"col-auto btn-custom btn-custom-primary btn-natural",onClick:function(){return o()}},"Add New"))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 py-5"},r.a.createElement("div",{className:"row no-gutters h6 mb-3"},r.a.createElement("div",{className:"col-auto ".concat(M?"text-dark":"text-primary"),onClick:function(){return F("")}},"All (",K.length,")"),["Active","Inactive","Blocked"].map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"status-".concat(t)},r.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),r.a.createElement("div",{className:"col-auto cursor-pointer ".concat(M===e?"text-primary":"text-dark"),onClick:function(){return F(e)}},e," (",K.filter((function(t){return t.status===e})).length,")"))}))),r.a.createElement("div",{className:"row no-gutters justify-content-between"},r.a.createElement("div",{className:"col-sm-auto col-60"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return p(ce[e])},items:ce,btnName:u||"Select Action",className:"input-light px-3 col-auto"}))),r.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return b(["All","Administrator","User"][e])},items:["All","Administrator","User"],btnName:f||"Select Role",className:"input-light px-3 col-auto"}))),r.a.createElement("div",{onClick:function(){return oe(!0)},className:"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall"},"Apply"))),r.a.createElement("div",{className:"col-60 d-block d-sm-none"},r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement(It,{popoverClass:"w-100",onSelect:function(e){return x(["User","Email"][e])},className:"input-light col-60",items:["User","Email"],btnName:"Search by ".concat(N)})),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 position-relative"},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{className:"input-light w-100 pr-5 pl-3",value:q,onChange:function(e){e.persist(),B(e.target.value)}})))),r.a.createElement("div",{className:"col-auto mb-3 d-none d-sm-block"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{onSelect:function(e){return x(["User","Email"][e])},className:"table-input-prepend-select col-auto",items:["User","Email"],btnName:"Search by ".concat(N)}),r.a.createElement("div",{className:"col position-relative"},r.a.createElement(Xe.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),r.a.createElement("input",{value:q,onChange:function(e){e.persist(),B(e.target.value)},className:"table-input pr-5 pl-3",style:{minWidth:"300px"}}))))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Rt.a,{style:{minWidth:"100%"},onSwipedLeft:function(){C(k+1<4?k+1:k)},onSwipedRight:function(){C(k-1>=0?k-1:k)}},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table bg-white border"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:Z.slice(ne[0],ne[1]).filter((function(e){return e.selected})).length===ne[1]-ne[0],onChange:function(e){$((function(t){for(var a=Object($e.a)(t),n=ne[0];n<ne[1];n++)a[n].selected=e.target.checked;return a}))}})),r.a.createElement("th",{className:"table-header text-truncate text-left"},r.a.createElement("div",{className:"d-none d-lg-block"},"Display Name"),r.a.createElement("div",{className:"d-block d-lg-none"},"Name")),r.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},ie[k]),ie.map((function(e,t){return r.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate",key:"column-".concat(t)},r.a.createElement("div",null,e))})))),r.a.createElement("tbody",null,Z.length?Z.slice(5*(T-1),5*(T-1)+5).map((function(e,n){return r.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(n)},r.a.createElement("td",{className:"text-center"},r.a.createElement(zt,{color:"primary",checked:e.selected,onChange:function(e){$((function(t){var a=Object($e.a)(t);return a[5*(T-1)+n].selected=e.target.checked,a}))}})),r.a.createElement("td",{style:{whiteSpace:"nowrap"}},r.a.createElement("div",null,r.a.createElement("div",{style:{whiteSpace:"nowrap"}},r.a.createElement("div",{className:"d-inline-block mr-2"},r.a.createElement("div",{className:"square-50 rounded-circle bg-image",style:{backgroundImage:"url(".concat(e.photo,")")}})),r.a.createElement("div",{className:"d-none d-md-inline-block align-top"},r.a.createElement("div",{className:"text-primary mb-2 text-truncate",style:{maxWidth:"300px"}},e.display_name),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"text-primary underline-link",onClick:function(){t(e),a()}},"Edit"),r.a.createElement("div",{className:"px-2"},"|"),r.a.createElement("div",{className:"text-primary underline-link",onClick:function(){se({status:"Blocked"},[e._id],[s[e._id]._id])}},"Block"),r.a.createElement("div",{className:"px-2"},"|"),r.a.createElement("div",{className:"text-danger underline-link",onClick:Object(l.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r=[e._id],o=[s[e._id]._id],j("/admin/users/deleteMultiple",{ids:r,pids:o});case 2:(a=t.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:a.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Users deleted",message:"User were successfully deleted",type:"success"}}),ae(!te),(n=Object(h.a)({},s))[e._id].status="Deleted",d.dispatch({type:"SET_PUBLICUSERS",publicUsers:n}));case 4:case"end":return t.stop()}var r,o}),t)})))},"Delete")))))),r.a.createElement("td",{className:"".concat(0===k?"d-table-cell":"d-none d-xl-table-cell")},r.a.createElement("div",null,e.email)),r.a.createElement("td",{className:"".concat(1===k?"d-table-cell":"d-none d-xl-table-cell")},e.role),r.a.createElement("td",{className:"".concat(2===k?"d-table-cell":"d-none d-xl-table-cell")},e.last_login?Object(ca.format)(e.last_login):"No data"),r.a.createElement("td",{className:"".concat(3===k?"d-table-cell":"d-none d-xl-table-cell")},e.last_activity?Object(ca.format)(e.last_activity):"No data"),r.a.createElement("td",{className:"".concat("Active"===e.status?"text-green":"Inactive"===e.status?"text-orange":"text-danger"," ").concat(4===k?"d-table-cell":"d-none d-xl-table-cell")},e.status))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:7,className:" text-center py-5"},"0 results found"))))))),r.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-sm-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(lt,{count:Math.ceil(Z.length/5),current:T,setCurrent:A})))))))}));var la=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers},t)}))((function(e){var t=e.getBack,a=e.publicUsers,o=Object(n.useState)({first_name:"",last_name:"",display_name:"",email:"",username:"",password:"",re_password:"",status:"Active",role:"User"}),s=Object(E.a)(o,2),c=s[0],m=s[1],u=Object(n.useState)(""),p=Object(E.a)(u,2),v=p[0],g=p[1],f=Object(n.useState)(!1),h=Object(E.a)(f,2),b=h[0],y=h[1],w=[{valid:c.email,error:"Email is required"},{valid:Re(c.email),error:"Email is not valid"},{valid:c.password,error:"Password is required"},{valid:/[^\w\s]/.test(c.password)||/\d/.test(c.password),error:"Password must contain number or symbol"},{valid:c.password===c.re_password,error:"Passwords don't match"},{valid:c.password.length>=6,error:"Password must contain at least 6 characters"},{valid:!Object.values(a).map((function(e){return e.email})).includes(c.email),error:"This email address is taken"}],N=["Active","Inactive","Blocked"],x=["Administrator","User"];return r.a.createElement("div",{className:"row no-gutters p-md-5 p-4"},r.a.createElement("div",{className:"col-60",style:{maxWidth:"800px"}},r.a.createElement("div",{className:"row no-gutters border-bottom py-3 mb-5"},r.a.createElement("div",{className:"col-60 admin-screen-title"},"Add User"),r.a.createElement("div",{className:"col-60"},"Add brand new user")),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-30 col-60 pr-sm-3 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"First name"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{spellCheck:!1,value:c.first_name,onChange:function(e){e.persist(),m((function(t){return Object.assign({},t,{first_name:e.target.value})}))},type:"text",className:"px-3 input-light w-100"}))),r.a.createElement("div",{className:"col-sm-30 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Last name"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{spellCheck:!1,value:c.last_name,onChange:function(e){e.persist(),m((function(t){return Object.assign({},t,{last_name:e.target.value})}))},type:"text",className:"px-3 input-light w-100"})))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Display name"),r.a.createElement("div",{className:"col-60 mb-1"},r.a.createElement("input",{spellCheck:!1,value:c.display_name,onChange:function(e){e.persist(),m((function(t){return Object.assign({},t,{display_name:e.target.value})}))},type:"text",className:"px-3 input-light w-100"})),r.a.createElement("div",{className:"col-60 text-muted"},"This name will be visible for everyone")),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"*Email"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{spellCheck:!1,value:c.email,onChange:function(e){e.persist(),m((function(t){return Object.assign({},t,{email:e.target.value})}))},type:"text",className:"px-3 input-light w-100"}))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"*Password"),r.a.createElement("div",{className:"col-60 mb-1"},r.a.createElement("input",{spellCheck:!1,value:c.password,onChange:function(e){e.persist(),m((function(t){return Object.assign({},t,{password:e.target.value})}))},type:"password",className:"px-3 input-light w-100"})),r.a.createElement("div",{className:"col-60 text-muted"},"Must be at least 6 characters and must contain a number or symbol")),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"*Confirm Password"),r.a.createElement("div",{className:"col-60 mb-1"},r.a.createElement("input",{spellCheck:!1,value:c.re_password,onChange:function(e){e.persist(),m((function(t){return Object.assign({},t,{re_password:e.target.value})}))},type:"password",className:"px-3 input-light w-100"})),r.a.createElement("div",{className:"col-60 text-muted"},"Must be at least 6 characters and must contain a number or symbol")),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-sm-20 col-60 pr-sm-3 mb-4"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 mb-1"},"Status"),r.a.createElement(It,{popoverClass:"w-100",onSelect:function(e){return m((function(t){return Object.assign({},t,{status:N[e]})}))},items:N,btnName:c.status?c.status:"Select",className:"input-light px-3 col-60"}))),r.a.createElement("div",{className:"col-sm-20 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 mb-1"},"Role"),r.a.createElement(It,{popoverClass:"w-100",onSelect:function(e){return m((function(t){return Object.assign({},t,{role:x[e]})}))},items:x,btnName:c.role?c.role:"Select",className:"input-light px-3 col-60"})))),r.a.createElement("div",{style:{height:"50px",opacity:v?1:0},className:"row no-gutters align-items-center text-danger"},v),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 col-sm-auto col-60 mb-3",onClick:function(){return t()}},"Cancel"),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small col-sm-auto col-60 mb-3",onClick:Object(l.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=w.filter((function(e){return!e.valid}))).length){e.next=5;break}g(a[0].error),e.next=11;break;case 5:return y(!0),e.next=8,j("/admin/users/create",c);case 8:n=e.sent,y(!1),n.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:n.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"User created",message:"User was successfully created",type:"success"}}),d.dispatch({type:"UPDATE_PUBLICUSERS",publicUser:Object(Ze.a)({},n.id,Object.assign({},c,{user_id:n.id,_id:n.pid}))}),t());case 11:case"end":return e.stop()}}),e)})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:b,size:20}),"Save"))))}));var ma=Object(p.b)((function(e,t){return Object(h.a)({no_display_name_characters:e.settings.no_display_name_characters},t)}))((function(e){var t=e.currentUser,a=e.getBack,o=e.no_display_name_characters,s=Object(n.useState)({first_name:"",last_name:"",display_name:"",email:"",username:"",password:"",re_password:"",status:"Active",role:"Administrator"}),c=Object(E.a)(s,2),m=c[0],u=c[1],p=Object(n.useState)(""),v=Object(E.a)(p,2),g=v[0],f=v[1],b=Object(n.useState)(!1),y=Object(E.a)(b,2),w=y[0],N=y[1];Object(n.useEffect)((function(){t&&u(Object.assign({},t,{re_password:"",password:""}))}),[t]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var x=[{valid:m.display_name.length<=o,error:"Display name is too long"},{valid:/[^\w\s]/.test(m.password)||/\d/.test(m.password),error:"Password must contain number or symbol"},{valid:m.password===m.re_password,error:"Passwords don't match"},{valid:m.password.length>=6,error:"Password must contain at least 6 characters"}],O=["Active","Inactive","Blocked"],_=["Administrator","User"];return r.a.createElement("div",{className:"row no-gutters p-md-5 p-4"},r.a.createElement("div",{className:"col-60",style:{maxWidth:"800px"}},r.a.createElement("div",{className:"row no-gutters border-bottom py-3 mb-5"},r.a.createElement("div",{className:"col-60 admin-screen-title"},"Edit User"),r.a.createElement("div",{className:"col-60"},"Edit existing user")),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-30 col-60 pr-sm-3 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"First name"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{spellCheck:!1,value:m.first_name,onChange:function(e){e.persist(),u((function(t){return Object.assign({},t,{first_name:e.target.value})}))},type:"text",className:"px-3 input-light w-100"}))),r.a.createElement("div",{className:"col-sm-30 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters mb-1"},"Last name"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{spellCheck:!1,value:m.last_name,onChange:function(e){e.persist(),u((function(t){return Object.assign({},t,{last_name:e.target.value})}))},type:"text",className:"px-3 input-light w-100"})))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Display name"),r.a.createElement("div",{className:"col-60 mb-1"},r.a.createElement("input",{spellCheck:!1,value:m.display_name,onChange:function(e){e.persist(),u((function(t){return Object.assign({},t,{display_name:e.target.value})}))},type:"text",className:"px-3 input-light w-100"})),r.a.createElement("div",{className:"col-60 text-muted"},"This name will be visible for everyone")),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Email"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{spellCheck:!1,value:m.email,onChange:function(e){e.persist(),u((function(t){return Object.assign({},t,{email:e.target.value})}))},type:"text",className:"px-3 input-light w-100"}))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Password"),r.a.createElement("div",{className:"col-60 mb-1"},r.a.createElement("input",{spellCheck:!1,value:m.password,onChange:function(e){e.persist(),u((function(t){return Object.assign({},t,{password:e.target.value})}))},type:"password",className:"px-3 input-light w-100"})),r.a.createElement("div",{className:"col-60 text-muted"},"Must be at least 6 characters and must contain a number or symbol")),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Confirm Password"),r.a.createElement("div",{className:"col-60 mb-1"},r.a.createElement("input",{spellCheck:!1,value:m.re_password,onChange:function(e){e.persist(),u((function(t){return Object.assign({},t,{re_password:e.target.value})}))},type:"password",className:"px-3 input-light w-100"})),r.a.createElement("div",{className:"col-60 text-muted"},"Must be at least 6 characters and must contain a number or symbol")),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-sm-20 col-60 pr-sm-3 mb-4"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 mb-1"},"Status"),r.a.createElement(It,{popoverClass:"w-100",onSelect:function(e){return u((function(t){return Object.assign({},t,{status:O[e]})}))},items:O,btnName:m.status?m.status:"Select",className:"input-light px-3 col-60"}))),r.a.createElement("div",{className:"col-sm-20 col-60 mb-4"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 mb-1"},"Role"),r.a.createElement(It,{popoverClass:"w-100",onSelect:function(e){return u((function(t){return Object.assign({},t,{role:_[e]})}))},items:_,btnName:m.role?m.role:"Select",className:"input-light px-3 col-60"})))),r.a.createElement("div",{style:{height:"50px",opacity:g?1:0},className:"row no-gutters align-items-center text-danger"},g),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 col-sm-auto col-60 mb-3",onClick:function(){return a()}},"Cancel"),r.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small col-sm-auto col-60 mb-3",onClick:Object(l.a)(i.a.mark((function e(){var t,n,r,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,n=Object(h.a)({},m),m.password&&(r=x.filter((function(e){return!e.valid}))).length&&(t=!1,f(r[0].error)),""===n.password&&(delete n.password,delete n.re_password),!t){e.next=11;break}return N(!0),e.next=8,j("/admin/users/edit",n);case 8:o=e.sent,N(!1),o.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:o.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"User updated",message:"User was successfully updated",type:"success"}}),(s=d.getState().publicUsers[m._id]).status=m.status,s.role=m.role,d.dispatch({type:"UPDATE_PUBLICUSERS",publicUser:s}),a());case 11:case"end":return e.stop()}}),e)})))},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:w,size:20}),"Save"))))})),ua=6,da=7,pa=8,va=9,ga=10,fa=11,ha=12,Ea=13,ba=14,ya=15;var wa=Object(p.b)((function(e,t){return Object(h.a)({dashboardMenuOpened:e.dashboardMenuOpened},t)}))((function(e){var t=e.dashboardMenuOpened,a=Object(n.useState)(0),o=Object(E.a)(a,2),s=o[0],c=o[1],i=Object(n.useState)(null),l=Object(E.a)(i,2),m=l[0],u=l[1],d=Object(n.useState)(null),p=Object(E.a)(d,2),v=p[0],g=p[1],f=Object(n.useState)(null),h=Object(E.a)(f,2),b=h[0],y=h[1],w=Object(n.useState)(null),N=Object(E.a)(w,2),x=N[0],O=N[1],_=Object(n.useState)(null),j=Object(E.a)(_,2),k=j[0],C=j[1],S=Object(n.useState)(null),I=Object(E.a)(S,2),T=I[0],A=I[1];return r.a.createElement("div",{className:"row no-gutters justify-content-center",style:{minHeight:window.innerHeight}},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters h-100 position-relative bg-light"},r.a.createElement(kt,{isMenuOpened:t,setSection:c,section:s}),r.a.createElement("div",{className:"col-auto d-none d-lg-block",style:{width:"300px"}},r.a.createElement(Ot,{section:s,setSection:c})),r.a.createElement("div",{className:"col"},s>=6&&r.a.createElement("div",{className:"row no-gutters px-md-5 px-4 pt-4",style:{marginBottom:"-40px"}},r.a.createElement("div",{className:"col-auto cursor-pointer"},r.a.createElement(Xe.a,{fontSize:"24px",onClick:function(){return c(6===s||7===s?2:8===s||9===s?3:10===s||11===s?4:12===s||13===s?5:14===s||15===s?1:0)}}))),0===s?r.a.createElement(jt,null):1===s?r.a.createElement(ia,{setAddNewUserSection:function(){return c(ya)},setEditUser:function(e){return A(e)},setEditUserSection:function(){return c(ba)}}):2===s?r.a.createElement(Mt,{setEditReview:function(e){return u(e)},setEditReviewSection:function(){return c(ua)},setEditComment:function(e){return g(e)},setEditCommentSection:function(){return c(da)}}):3===s?r.a.createElement(Wt,{setAddNewAnouncementSection:function(){return c(va)},setEditAnnouncement:function(e){return y(e)},setEditAnnouncementSection:function(){c(pa)}}):4===s?r.a.createElement(Xt,{setAddNewPromotionSection:function(){return c(fa)},setEditPromotion:function(e){return O(e)},setEditPromotionSection:function(){return c(ga)}}):5===s?r.a.createElement($t,{setAddNewNotificationSection:function(){return c(Ea)},setEditNotification:function(e){return C(e)},setEditNotificationSection:function(){return c(ha)}}):6===s?r.a.createElement(Ft,{currentReview:m,getBack:function(){return c(2)}}):7===s?r.a.createElement(Lt,{currentComment:v,getBack:function(){return c(2)}}):8===s?r.a.createElement(Kt,{getBack:function(){return c(3)},currentAnnouncement:b}):9===s?r.a.createElement(Vt,{getBack:function(){return c(3)}}):10===s?r.a.createElement(Jt,{currentPromotion:x,getBack:function(){return c(4)}}):11===s?r.a.createElement(Zt,{getBack:function(){return c(4)}}):12===s?r.a.createElement(oa,{currentNotification:k,getBack:function(){return c(5)}}):13===s?r.a.createElement(sa,{getBack:function(){return c(5)}}):14===s?r.a.createElement(ma,{currentUser:T,getBack:function(){return c(1)}}):15===s?r.a.createElement(la,{getBack:function(){return c(1)}}):""))))})),Na=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:(a=e.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{type:"failure",title:"Error",message:a.error}}):(localStorage.setItem("movies_user_token",a.token),d.dispatch({type:"SET_USER",user:a}),f.push("/"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xa=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)(""),c=Object(E.a)(s,2),i=c[0],l=c[1];return r.a.createElement("div",{className:"row no-gutters justify-content-center aligm-items-start align-items-sm-center",style:{height:window.innerHeight}},r.a.createElement("div",{className:"col-xl-50 col-60 col-lg-50 col-md-30 col-sm-40 login-rounded overflow-hidden"},r.a.createElement("div",{className:"row no-gutters h-100"},r.a.createElement("div",{className:"col bg-dark d-lg-block d-none"},r.a.createElement("div",{className:"row no-gutters h-100 flex-center position-relative"},r.a.createElement("div",{className:"position-absolute d-flex align-items-center text-white cursor-pointer",onClick:function(){return f.push("/")},style:{top:"15px",left:"15px"}},r.a.createElement(Xe.f,{className:"mr-2"}),"Back to home"),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"square-150 mx-auto"},r.a.createElement(Nt,null)),r.a.createElement("div",{className:"logo text-title-xl text-white"},"CozyPotato")))),r.a.createElement("div",{className:"col-60 col-lg-30 col-xl-25 col-md-auto p-sm-5 p-4 bg-light",style:{minHeight:window.innerHeight-100}},r.a.createElement("div",{className:"row no-gutters h-100 py-3"},r.a.createElement("div",{className:"col-60 d-flex align-items-start flex-wrap mb-5"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 h3 mb-3"},"Hello, welcome back"),r.a.createElement("div",{className:"col-60"},"Login to your account to review movies and interact with movies community"))),r.a.createElement("div",{className:"col-60 d-flex align-items-end flex-wrap"},r.a.createElement("div",{className:"row no-gutters w-100"},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters justify-content-center mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Email"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{type:"text",className:"input-light w-100 px-3",value:a,onChange:function(e){e.persist(),o(e.target.value)}}))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Password"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{type:"password",className:"input-light w-100 px-3",value:i,onChange:function(e){e.persist(),l(e.target.value)},onKeyDown:function(e){13===e.keyCode&&Na({email:a,password:i})}}))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 btn-custom btn-custom-primary",onClick:function(){return Na({email:a,password:i})}},"Login")),r.a.createElement("div",{className:"row no-gutters justify-content-between",style:{fontSize:"14px"}},r.a.createElement("div",{className:"col-auto mr-4"},"Don't have an account?"," ",r.a.createElement("span",{className:"btn-link cursor-pointer",onClick:function(){return f.push("/signup")}},"Sign up")),r.a.createElement("div",{className:"col-auto btn-link cursor-pointer",onClick:function(){return f.push("/forgot-password")}},"Forgot password"))))))))))},Oa=a(194),_a=function(){return r.a.createElement("div",{className:"pg-viewer-wrapper"},r.a.createElement("div",{className:"pg-viewer",id:"pg-viewer"},r.a.createElement("div",{id:"docx"},r.a.createElement("div",{className:"document-container"},r.a.createElement("p",null,r.a.createElement("strong",null,"PRIVACY POLICY")),r.a.createElement("p",null,r.a.createElement("strong",null,"Welcome to CozyPotato!")),r.a.createElement("p",null,"CozyPotato Is owned and operated by SkonLabs LLC."),r.a.createElement("p",null,r.a.createElement("strong",null,"CozyPotato "),"values your privacy. This notice describes what information we collect, how we use it, and, if necessary, those with whom we share it",r.a.createElement("strong",null,".\xa0")),r.a.createElement("p",null,r.a.createElement("strong",null,"By downloading and using the CozyPotato application and website, you are accepting the practices described in this Privacy Policy."),"\xa0Your use of the application and website is also subject to our Terms and Conditions."),r.a.createElement("p",null,"This Privacy Policy may change from time to time. Your continued use of the application and website after we make changes is deemed to be acceptance of those changes, so please check the policy periodically for updates. This Privacy Policy has been developed and is maintained in accordance with all applicable federal and international laws and regulations, and specifically with the Personal Information Protection and Electronic Documents Act (PIPEDA), California Online Privacy Protection Act (CalOPPA \u2013 U.S regulation) and the GDPR (General Data Protection Regulation - European regulation)."),r.a.createElement("p",null,r.a.createElement("strong",null,"GENERAL INFORMATION")),r.a.createElement("p",null,"The personal data of the users that are collected and processed through:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"CozyPotato App "),r.a.createElement("strong",null,"(Android and iOS version \u2013 Available on Google Play and App store)")),r.a.createElement("li",null)),r.a.createElement("p",null,"Will be under responsibility and in charge of:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"SkonLabs LLC ")),r.a.createElement("li",null,r.a.createElement("strong",null,"(Insert contact information, email, phone)"))),r.a.createElement("p",null,"(Hereinafter referred to as \u201c",r.a.createElement("strong",null,"CozyPotato"),"\u201d)."," "),r.a.createElement("p",null,r.a.createElement("strong",null,"TYPES OF INFORMATION GATHERED")),r.a.createElement("p",null,"The information we learn from customers helps personalize and continually improve your experience at CozyPotato. Here are the types of information we gather:"),r.a.createElement("p",null,r.a.createElement("strong",null,"Information You Give Us. "),"You provide information when you download the app, search, read and watch the content, register on the app, use the app or communicate with us. As a result of those actions, you might supply us with the following information:"),r.a.createElement("ul",null,r.a.createElement("li",null,"First name and last name "),r.a.createElement("li",null,"Phone number"),r.a.createElement("li",null,"IP address"),r.a.createElement("li",null,"Any additional information relating to you that you provide to us directly through our websites or indirectly through our websites or online presence such as \u2018cookies\u2019.")),r.a.createElement("p",null,"CozyPotato will not collect any personally identifiable information about you, unless you provide it."),r.a.createElement("p",null,r.a.createElement("strong",null,"Payment information: "),"Your credit card information or payment information, will be processed by PayPal and Stripe (payment platforms), which will treat and safeguard your data with total security and with the exclusive purpose of processing the purchase of the services. CozyPotato reserves the right to contract any payment platform available in the market, which treats your data for the exclusive purpose of processing the purchase of the services."),r.a.createElement("p",null,"Please consult PayPal and Stripe Privacy Policy here: "),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.paypal.com/us/webapps/mpp/ua/privacy-full"},"https://www.paypal.com/us/webapps/mpp/ua/privacy-full")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://stripe.com/gb/privacy"},"https://stripe.com/gb/privacy"))),r.a.createElement("p",null,r.a.createElement("strong",null,"GOOGLE Analytics. "),"We use Google Firebase Analytics provided by Google, Inc., USA (\u201cGoogle\u201d). These tool and technologies collect and analyze certain types of information, including IP addresses, device and software identifiers, referring and exit URLs, feature use metrics and statistics, usage and purchase history, media access control address (MAC Address), mobile unique device identifiers, and other similar information via the use of cookies. The information generated by Google Analytics (including your IP address) may be transmitted to and stored by Google on servers in the United States. We use the GOOGLE Firebase Analytics collection of data to enhance the website and platform and improve our service."),r.a.createElement("p",null,"Please consult Google's privacy policy here:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://policies.google.com/privacy"},"https://policies.google.com/privacy"))),r.a.createElement("p",null,r.a.createElement("strong",null,"Automatic Information."),' Like many websites, we use "cookies." We obtain certain types of anonymous information which is not personally identifiable when your web browser accesses CozyPotato or third-party content served by or on behalf of CozyPotato on other websites. Some of the information we collect and analyze includes the Internet protocol (IP) address; computer and connection information such as browser type, version, and connection speed; purchase history; and the content you searched for, viewed, and possibly purchased.'),r.a.createElement("p",null,r.a.createElement("strong",null,"HOW LONG WE KEEP YOUR DATA")),r.a.createElement("p",null,"Personal data will be kept for the time necessary for the provision of the services or as long as the user does not close his account or withdraw his consent. The user's personal data will be deleted from our database immediately the user's account is closed or his consent withdrawn."),r.a.createElement("p",null,r.a.createElement("strong",null,"HOW WE USE YOUR INFORMATION. ")),r.a.createElement("p",null,"In general, we use the information we collect primarily to provide, maintain, protect and improve our current application, website (landing page) and services. We use personal information collected through our site as described below and described elsewhere in this Policy to:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Identify you as a user in our system."),r.a.createElement("li",null,"Provide the application."),r.a.createElement("li",null,"User registration."),r.a.createElement("li",null,"Provide the reviews and recommendations."),r.a.createElement("li",null,"Provide the application's functionalities."),r.a.createElement("li",null,"Improve our services, website, and how we operate our business."),r.a.createElement("li",null,"Understand and enhance your experience using our application."),r.a.createElement("li",null,"Send emails through bulk email delivery platforms such as MailChimp and Klaviyo."),r.a.createElement("li",null,"Respond to your comments or questions through our support team."),r.a.createElement("li",null,"Send you related information, including confirmations, invoices, technical notices, updates, security alerts and support and administrative messages."),r.a.createElement("li",null,"Communicate with you about upcoming events and news about services offered by CozyPotato and our selected partners."),r.a.createElement("li",null,"Marketing purposes of CozyPotato."),r.a.createElement("li",null,"Link or combine your information with other information we get from third parties to help understand your needs and provide you with better service."),r.a.createElement("li",null,"Protect, investigate and deter against fraudulent, unauthorized or illegal activity.")),r.a.createElement("p",null,r.a.createElement("strong",null,"HOW DO YOU GET MY CONSENT?")),r.a.createElement("p",null,"By downloading the application, registering, using the services and providing us with personal information to communicate with you, you agree that we collect and use your information. You can withdraw your consent, contact us through the contact information or the contact page."),r.a.createElement("p",null,r.a.createElement("strong",null,"HOW WE SHARE INFORMATION")),r.a.createElement("p",null,"Information about our customers is an important part of our business, and we are not in the business of selling it to others. We share customer information only as described below."),r.a.createElement("p",null,r.a.createElement("strong",null,"Third-Party Service Providers."),"\xa0We employ other companies and individuals to perform functions on our behalf. Examples include process payments (PayPal and Stripe), analyzing data, providing marketing assistance, providing search results and links. They have access to personal information needed to perform their functions, but may not use it for other purposes."),r.a.createElement("p",null,r.a.createElement("strong",null,"Business Transfers"),".\xa0In the event that CozyPotato creates, merges with, or is acquired by another entity, your information will most likely be transferred. CozyPotato will email you or place a prominent notice on our Website before your information becomes subject to another privacy policy."),r.a.createElement("p",null,r.a.createElement("strong",null,"Protection of CozyPotato and others"),".\xa0We release personal information when we believe release is appropriate to comply with the law, enforce or apply our Terms and conditions and other agreements, or protect the rights, property, or safety of CozyPotato, our users or others. This includes exchanging information with other companies and organizations for fraud protection and credit risk reduction."),r.a.createElement("p",null,r.a.createElement("strong",null,"With Your Consent"),".\xa0Other than as set out above, you will receive notice when personally identifiable information about you might go to third parties, and you will have an opportunity to choose not to share the information."),r.a.createElement("p",null,r.a.createElement("strong",null,"Anonymous Information.\xa0"),"CozyPotato uses the anonymous browsing information collected automatically by our servers primarily to help us administer and improve the platform and website. We may also use aggregated anonymous information to provide information about the website to potential business partners and other unaffiliated entities. This information is not personally identifiable."),r.a.createElement("p",null,r.a.createElement("strong",null,"Email Address"),".\xa0The email address that you supply to us for purposes of receiving our email communications will never be rented or sold to a third party."),r.a.createElement("p",null,r.a.createElement("strong",null,"PROTECTING YOUR INFORMATION")),r.a.createElement("p",null,"We work to protect the security of your information during transmission by using Secure Sockets Layer (SSL) software, which encrypts information you input. If transactions are processed on the Website, transaction information is transmitted to and from the Website in encrypted form using industry-standard SSL connections to help protect such information from interception. We restrict authorized access to your personal information to those persons who have a legitimate purpose to know that information to provide products or services to you and those persons you have authorized to have access to such information."),r.a.createElement("p",null,"CozyPotato follows generally accepted industry standards to protect the personal information submitted to us, both during transmission and once CozyPotato receives it. No method of transmission over the Internet, or method of electronic storage, is 100% secure. Therefore, while CozyPotato strives to use commercially acceptable means to protect your personal information, we cannot guarantee its absolute security."," "),r.a.createElement("p",null,"We will not sell, distribute, or lease your personal information to third parties unless we have your permission or are required by law to do so."),r.a.createElement("p",null,r.a.createElement("strong",null,"YOUR RIGHTS")),r.a.createElement("p",null,"You have the following rights in relation to your personal data provided to CozyPotato:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Access your personal data."),r.a.createElement("li",null,"Request the correction of inaccurate data."),r.a.createElement("li",null,"Request its deletion."),r.a.createElement("li",null,"Request limitation of the processing of your data."),r.a.createElement("li",null,"Oppose the treatment of your data."),r.a.createElement("li",null,"Request your portability."),r.a.createElement("li",null,"Not be subject to automated individual decisions.")),r.a.createElement("p",null,"The Users can exercise all these rights contacting us through the contact information or the contact page and indicating the reason for his request."),r.a.createElement("p",null,"Without preconception to any other administrative appeal or legal action, the User shall have the right to submit a claim to a Control Authority, in particular in the Member State in which he or she has their habitual residence, place of work or place of the alleged infringement. If you consider that the processing of your personal data is not appropriate to the regulations, as well as in the case of not seeing the exercise of your rights satisfied. The control authority in which the claim was filed will inform the claimant about the course and result of the claim."),r.a.createElement("p",null,r.a.createElement("strong",null,"EU MEMBERS\u2019 RIGHTS (GDPR COMPLIANT)")),r.a.createElement("p",null,"If you are habitually located in the European Union, you have the right to access, rectify, download or erase your information, as well as the right to restrict and object to certain processing of your information. While some of these rights apply generally, certain rights apply only in certain limited circumstances."),r.a.createElement("p",null,"We describe these rights below:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Access and Porting: You can access your information at any time."),r.a.createElement("li",null,"Rectify, Restrict, Limit, Delete: You can also rectify, restrict, limit or delete much of your information by contact us."," "),r.a.createElement("li",null,"Object: Where we process your information based on our legitimate interests explained above, or in the public interest, you can object to this processing in certain circumstances. In such cases, we will cease processing your information unless we have compelling legitimate grounds to continue processing or where it is needed for legal reasons."),r.a.createElement("li",null,"Revoke consent: Where you have previously provided your consent, such as to permit us to process health-related data about you, you have the right to withdraw your consent to the processing of your information at any time. For example, you can withdraw your consent by updating your settings. In certain cases, we may continue to process your information after you have withdrawn consent if we have a legal basis to do so or if your withdrawal of consent was limited to certain processing activities."),r.a.createElement("li",null,"Complain: Should you wish to raise a concern about our use of your information (and without prejudice to any other rights you may have), you have the right to do so with your local supervisory authority.")),r.a.createElement("p",null,"Additionally, if you are a European resident, we note that we are processing your information in order to fulfil contracts we might have with you or otherwise to pursue our legitimate business interests listed above. Additionally, please note that your information will be transferred outside of Europe."),r.a.createElement("p",null,"You can see more about these rights at:"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://ec.europa.eu/info/law/law-topic/data-protection/reform/rights-citizens_en"},"https://ec.europa.eu/info/law/law-topic/data-protection/reform/rights-citizens_en")),r.a.createElement("p",null,r.a.createElement("strong",null,"CALIFORNIA ONLINE PRIVACY PROTECTION ACT COMPLIANCE (CalOPPA)")),r.a.createElement("p",null,"CalOPPA is the first state law in the nation to require commercial websites and online services to post a privacy policy. The law\u2019s reach stretches well beyond California to require any person or company in the United States (and conceivably the world) that operates websites collecting Personally Identifiable Information from California consumers to post a conspicuous privacy policy on its website stating exactly the information being collected and those individuals or companies with whom it is being shared."),r.a.createElement("p",null,"Because we value your privacy, we have taken the necessary precautions to be in compliance with the California Online Privacy Protection Act (CalOPPA)."," "),r.a.createElement("p",null,"According to the California Online Privacy act, you have the following rights:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Know what personal data is being collected."),r.a.createElement("li",null,"Know whether your personal data is sold or disclosed and to whom."),r.a.createElement("li",null,"Access to your personal data."),r.a.createElement("li",null,"Request to delete any personal information about you."),r.a.createElement("li",null,"Not be discriminated against for exercising their privacy rights.")),r.a.createElement("p",null,r.a.createElement("strong",null,"CHILDREN\u2019S ONLINE PRIVACY PROTECTION ")),r.a.createElement("p",null,"We are in compliance with the requirements of the GDPR (General Data Protection Regulation), the\xa0Personal Information Protection and Electronic Documents Act\xa0(PIPEDA)\xa0and the California Online Privacy Protection Act (CalOPPA) regarding the protection of the personal data of minors. We do not collect any information from anyone under 13 years of age. Our website, platform and services are all directed to people who are at least 18 years old or older."),r.a.createElement("p",null,r.a.createElement("strong",null,"EDITING AND DELETING INFORMATION")),r.a.createElement("p",null,"If you believe that any information, we are holding on you is incorrect or incomplete, please write to or email us as soon as possible. We will promptly correct any information found to be incorrect. You can change, modify, rectify and delete your Information at any time, please contact us through the contact information."),r.a.createElement("p",null,"To opt-out of CozyPotato email, follow the instructions included in the email. Your request should be processed within 48 hours."),r.a.createElement("p",null,r.a.createElement("strong",null,"SUPPLIERS AND OTHER THIRD PARTIES")),r.a.createElement("p",null,"Except as otherwise expressly included in this Privacy Policy, this document addresses only the use and disclosure of information CozyPotato collects from you. If you disclose your information to others, whether other users or suppliers on CozyPotato, different rules may apply to their use or disclosure of the information you disclose to them. CozyPotato does not control the privacy policies of third parties, and you are subject to the privacy policies of those third parties where applicable. CozyPotato is not responsible for the privacy or security practices of other websites on the Internet, even those linked to or from the",r.a.createElement("strong",null," "),"CozyPotato site. CozyPotato encourages you to ask questions before you disclose your personal information to others."),r.a.createElement("p",null,r.a.createElement("strong",null,"CHANGES TO THIS PRIVACY POLICY")),r.a.createElement("p",null,"CozyPotato will post modifications by date to this Privacy Policy to inform you of any changes. CozyPotato reserves the right to modify this Privacy Policy at any time, please review it frequently."),r.a.createElement("p",null,r.a.createElement("strong",null,"ENFORCEMENT")),r.a.createElement("p",null,"CozyPotato regularly reviews its compliance with this Policy. Please feel free to direct any questions or concerns regarding this Policy or CozyPotato treatment of personal information by contacting us."),r.a.createElement("p",null,"When we receive formal written complaints, it is CozyPotato policy to contact the complaining user regarding his or her concerns. We will cooperate with the appropriate regulatory authorities, including local data protection authorities, to resolve any complaints regarding the transfer of personal data that cannot be resolved between CozyPotato and an individual."),r.a.createElement("p",null,r.a.createElement("strong",null,"CONTACT US")),r.a.createElement("p",null,"If you have questions or concerns about these Privacy Policy and the handling and security of your data on the app or website, please contact us throw our contact page or contact at:"),r.a.createElement("p",null,r.a.createElement("strong",null,"(Insert contact information, email, phone)"))))))},ja=function(){return r.a.createElement("div",{className:"pg-viewer-wrapper"},r.a.createElement("div",{className:"pg-viewer",id:"pg-viewer"},r.a.createElement("div",{id:"docx"},r.a.createElement("div",{className:"document-container"},r.a.createElement("p",null,r.a.createElement("strong",null,"TERMS AND CONDITIONS")),r.a.createElement("p",null,r.a.createElement("strong",null,"Welcome to CozyPotato!")),r.a.createElement("p",null,"CozyPotato Is owned and operated by SkonLabs LLC."),r.a.createElement("p",null,"These are the terms and conditions for: "),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"CozyPotato App (Android and iOS version \u2013 Available on Google Play and App store)")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://cozypotato.com"},r.a.createElement("strong",null,"https://cozypotato.com")))),r.a.createElement("p",null,'By registering, downloading and using the application, you agree to be bound by these terms and conditions and our Privacy Policy. If you do not accept all of these terms, then you may not use the application and services. In these terms, "we", "us", "our" and CozyPotato refers to CozyPotato and "you" and \u201cyour" refers to you, the user of CozyPotato.'),r.a.createElement("p",null,"The following terms and conditions apply to the website, application and services offered by CozyPotato. This includes the mobile and tablet versions as well as any other version of CozyPotato",r.a.createElement("strong",null," "),"accessible via desktop, mobile, tablet, social media or other devices."),r.a.createElement("p",null,"READ THESE TERMS AND CONDITIONS CAREFULLY BEFORE DOWNLOADING, USING OR OBTAINING ANY PRODUCT, INFORMATION OR SERVICE FROM THE \u201cCOZYPOTATO\u201d APPLICATION."),r.a.createElement("p",null,r.a.createElement("strong",null,"ACCEPTANCE OF TERMS")),r.a.createElement("p",null,"This agreement sets forth legally binding terms for your use of CozyPotato. By downloading and using the CozyPotato application, you agree to be bound by this agreement. If you do not accept the terms of this agreement, you should not download the application and discontinue use of the service immediately. We may modify this agreement from time to time, and such modification shall be effective upon its posting on CozyPotato. You agree to be bound by any modification to this terms and conditions when you use CozyPotato after any such modification is posted; it is therefore important that you review this agreement regularly."),r.a.createElement("p",null,"We may modify this agreement from time to time, and such modification shall be effective upon its posting on CozyPotato. You agree to be bound by any modification to this agreement when you use CozyPotato after any such modification is posted; it is therefore important that you review this agreement regularly."),r.a.createElement("p",null,"You represent and warrant that all registration information you submit is accurate and truthful; and that your use of the platform does not violate any applicable law or regulation. Company may, in its sole discretion, refuse to offer the platform to any entity and change its eligibility criteria at any time. This provision is void where prohibited by law and the right to access the service and the platform is revoked in such jurisdictions."),r.a.createElement("p",null,r.a.createElement("strong",null,"ELIGIBLITY")),r.a.createElement("p",null,"You may use the application and services only if you can form a binding contract with CozyPotato, and only in compliance with these terms and all applicable local, state, national, and international laws, rules, and regulations."),r.a.createElement("p",null,"The use of this website and application for children under 13 years is prohibited and older children should be supervised and given appropriate guidance in their use of our platform and services. It is the responsibility of parents and legal guardians to determine whether any of the content and/or services are appropriate for their child.",r.a.createElement("strong",null," "),"\xa0"),r.a.createElement("p",null,"By downloading and using the application and services, you represent and warrant that you have the full right, power and authority to enter into this agreement and to fully perform all of your obligations hereunder. You further represent and warrant that you are under no legal disability or contractual restriction that prevents you from entering into this agreement."),r.a.createElement("p",null),r.a.createElement("p",null,r.a.createElement("strong",null,"COZYPOTATO ")),r.a.createElement("p",null,"CozyPotato Is owned and operated by SkonLabs LLC."),r.a.createElement("p",null,"CozyPotato offers through the application personalized reviews and recommendation of Movies, Series, Documentaries, Books etc. CozyPotato also offers its users the possibility to create paid ads in our application."),r.a.createElement("p",null,"The CozyPotato application is available for iOS and Android and downloadable through Google Play and Apple Store."," "),r.a.createElement("p",null,"For more information about the app, please contact us, through our contact information, our support team will be attentive and available to answer your questions and concerns."),r.a.createElement("p",null,r.a.createElement("strong",null,"USERS")),r.a.createElement("p",null,"Only people on the user's contact list can be invited to download and use the application. If you wish to register in the CozyPotato application, you must read this agreement and indicate your acceptance during the registration process. By registering on the application, you also accept the provisions of the privacy policy. In consideration of your use of the service, you represent that you are of legal age to form a binding contract and are not a person barred from receiving services under the applicable laws and jurisdiction. You also agree to: (a) provide true, accurate, current and complete information about yourself as prompted by the registration form available on CozyPotato, (b) maintain and promptly update your registration data to keep it true, accurate, current and complete. If we have reasonable grounds to suspect that such information is untrue, inaccurate, not current or incomplete, CozyPotato reserves the right to suspend or terminate your account and refuse any and all current or future use of the service (or any portion thereof) at any time and without any notification."),r.a.createElement("p",null,r.a.createElement("strong",null,"ACCOUNT AND SECURITY")),r.a.createElement("p",null,"If you register on CozyPotato, you will be required to choose a password and you may be asked for additional information regarding your account, such as your phone and name. You are responsible for maintaining the confidentiality of your password and account information, and are fully responsible for all activities that occur under your password or account. You agree to (a) immediately notify CozyPotato of any unauthorized use of your password or account or any other breach of security, and (b) ensure that you log out from your account at the end of each session. You may never use another User\u2019s account without prior authorization from CozyPotato. CozyPotato will not be liable for any loss or damage arising from your failure to comply with this Agreement."),r.a.createElement("p",null,r.a.createElement("strong",null,"ACCOUNT DELETION AND TERMINATION")),r.a.createElement("p",null,"The users may terminate their accounts any time, for any reason, by following the instructions on CozyPotato. That termination will only result in the deletion of the account and the deletion of all the personal data granted to CozyPotato."),r.a.createElement("p",null,"CozyPotato reserves the right to terminate your account or your access immediately, with or without notice to you, and without liability to you, if CozyPotato believes that you have breached any of these terms, furnished CozyPotato with false or misleading information, or interfered with use of the website or the service by others."),r.a.createElement("p",null,r.a.createElement("strong",null,"SUBSCRIPTIONS")),r.a.createElement("p",null,"CozyPotato may offer access to certain parts of the service on a subscription basis. Subscriptions shall be for a specified term selected by you through the service."," "),r.a.createElement("p",null,"When you place an order for a subscription, you are offering to buy the subscription for the advertised price declared on the application. Please check the price and characteristics of the subscription, before placing an order."),r.a.createElement("p",null,"When a website user with the intent to purchase a subscription on the website, places an order, CozyPotato will send that user an email to confirm that the order has been received. This email confirmation will be produced automatically so that the user has confirmation of their subscription details."),r.a.createElement("p",null,"CozyPotato may cancel any sale and not supply services if it is reasonable to do so and may change or discontinue the availability of the monthly plans at any time at its sole discretion. This does not affect your Statutory Rights."),r.a.createElement("p",null,r.a.createElement("strong",null,"PAYMENTS")),r.a.createElement("p",null,"All payments to CozyPotato are handled securely. Subscriptions will be paid through \u201cStripe\u201d (credit card) and \u201cPayPal\u201d."),r.a.createElement("p",null,"Payment will be debited from your credit card or PayPal account, immediately on you placing the order. Upon processing a transaction, we will issue you with an electronic transaction receipt which will be sent to the email address you provide."," "),r.a.createElement("p",null,"Your payment information will be treated and safeguarded with total security and with the exclusive purpose of processing the purchase of the services. CozyPotato",r.a.createElement("strong",null," "),"reserves the right to contract any payment platform available in the market, which treats your data for the exclusive purpose of processing the purchase of the services."),r.a.createElement("p",null,r.a.createElement("strong",null,"DISCLAIMER")),r.a.createElement("p",null,"Even though we work very hard to provide you with up-to-date information, we make no representations or warranties of any kind (expressed or implied) about the completeness, accuracy, reliability, suitability or availability of any information, products, services or related movies, series, documentaries, books, photographs, graphics contained on CozyPotato application for any purpose. Our aim to provide you with accurate information at the time of publishing, but some information will understandably be less accurate as time passes. Should you find any inaccurate information, please do not hesitate to contact me, and we can update said info as soon as possible."),r.a.createElement("p",null,r.a.createElement("strong",null,"LICENSE TO USE THE PLATFORM")),r.a.createElement("p",null,"CozyPotato gives you a personal, worldwide, royalty-free, non-assignable and non-exclusive license to use the software provided to you by CozyPotato as part of the services. This license is for the sole purpose of enabling you to use and enjoy the benefit of the services as provided by CozyPotato, in the manner permitted by these terms. You may not copy, modify, distribute, sell, or lease any part of our services or included software, nor may you reverse engineer or attempt to extract the source code of that software, unless laws prohibit those restrictions or you have our written permission."),r.a.createElement("p",null,"The user agrees not to use the platform and the services negligently, for fraudulent purposes or in an unlawful manner. Likewise, the user agrees not to partake in any conduct or action that could damage the image, interests or rights of the CozyPotato application or third parties."),r.a.createElement("p",null,r.a.createElement("strong",null,"RESALE OF SERVICES")),r.a.createElement("p",null,"Users may not resell any portion of the content or the functionality of the platform, to any other party without prior written permission from CozyPotato, which may be granted or withheld in CozyPotato sole discretion."),r.a.createElement("p",null,r.a.createElement("strong",null,"SECURITY COMPONENTS")),r.a.createElement("p",null,"You understand that CozyPotato and software embodied within CozyPotato may include security components that permit digital materials to be protected, and that use of these materials is subject to usage rules set by CozyPotato and/or content providers who provide content to CozyPotato platform. You may not attempt to override, disable, circumvent or otherwise interfere with any such security components and usage rules embedded into CozyPotato."),r.a.createElement("p",null,r.a.createElement("strong",null,"COPYRIGHT")),r.a.createElement("p",null,"All materials on CozyPotato, including, without limitation, names, logos, trademarks, images, text, columns, graphics, videos, photographs, illustrations, artwork, software and other elements are protected by copyrights, trademarks and/or other intellectual property rights owned and controlled by CozyPotato or by third parties that have licensed or otherwise provided their material to the application and Website. You acknowledge and agree that all Materials on CozyPotato are made available for limited, non-commercial, personal use only. Except as specifically provided herein. No material may be copied, reproduced, republished, sold, downloaded, posted, transmitted, or distributed in any way, or otherwise used for any purpose, by any person or entity, without CozyPotato prior express written permission. You may not add, delete, distort, or otherwise modify the material. Any unauthorized attempt to modify any material, to defeat or circumvent any security features, or to utilize CozyPotato or any part of the material for any purpose other than its intended purposes is strictly prohibited."),r.a.createElement("p",null,r.a.createElement("strong",null,"COPYRIGHT COMPLAINTS ")),r.a.createElement("p",null,"CozyPotato respects the intellectual property of others, and expects users to do the same. If you believe, in good faith, that any materials provided on or in connection with the CozyPotato website and application infringe upon your copyright or other intellectual property right, please send the following information to:\xa0"),r.a.createElement("ol",null,r.a.createElement("li",null,"Identification of the intellectual property right that is allegedly infringed. All relevant registration numbers, or a statement concerning the ownership of the work, should be included."),r.a.createElement("li",null,"A statement specifically identifying the location of the infringing material, with enough detail that CozyPotato may find it on the CozyPotato website and application. \xa0Please note: it is not sufficient to merely provide a top-level URL."),r.a.createElement("li",null,"Your name, address, telephone number and e-mail address."),r.a.createElement("li",null,"A statement by you that you have a good faith belief that the use of the allegedly infringing material is not authorized by the owner of the rights, or its agents, or by law."),r.a.createElement("li",null,"A statement by you, made under penalty of perjury, that the information in your notice is accurate, and that you are the copyright owner or authorized to act on the copyright owner's behalf."),r.a.createElement("li",null,"An electronic or physical signature of the owner of the copyright or the person authorized to act on behalf of the owner of the copyright interest.")),r.a.createElement("p",null,r.a.createElement("strong",null,"USER CONTENT ")),r.a.createElement("p",null,"Certain features of the application may permit users to upload content, which may be comprised of messages, images, text, and others and to publish that user content on the application. You retain any Copyright that you may hold in the user content that you post to the application. Nevertheless, we need certain permission from you in order to publish the content. CozyPotato is not responsible for the accuracy, safety or legality of user content published in the application. Users are solely and exclusively responsible for their content and the consequences of publishing their content."),r.a.createElement("p",null,r.a.createElement("strong",null,"LICENSE GRANT TO COZYPOTATO")),r.a.createElement("p",null,"By providing user content through the application, you grant CozyPotato a worldwide, non-exclusive, royalty-free, fully paid (with the right to sublicense) right and license to host, store, transfer, display, perform, reproduce, modify, publish and share with other authorized users your user content on the application for the sole purpose of achieving optimal performance of the application."," "),r.a.createElement("p",null,r.a.createElement("strong",null,"USER CONTENT REPRESENTATIONS AND WARRANTIES")),r.a.createElement("p",null,"CozyPotato disclaims any and all liability in connection with User Content. You are solely responsible for your user content and the consequences of providing user content via the service. By providing user content via the Service, you affirm, represent, and warrant that:"),r.a.createElement("p",null,"a) You are the creator and owner of the User Content, or have the necessary licenses, rights, consents, and permissions to authorize CozyPotato and users of the service to use and distribute your user content as necessary to exercise the licenses granted by you in this section, in the manner contemplated by CozyPotato, the Service, and these Terms."),r.a.createElement("p",null,"b) Your User content, and the use of your user content as contemplated by these Terms, does not and will not: (i) infringe, violate, or misappropriate any third party right, including any copyright, trademark, patent, trade secret, moral right, privacy right, right of publicity, or any other intellectual property or proprietary right; (ii) slander, defame, libel, or invade the right of privacy, publicity or other property rights of any other person; or (iii) cause CozyPotato to violate any law or regulation."),r.a.createElement("p",null,"c) Your user content could not be deemed by a reasonable person to be objectionable, profane, indecent, pornographic, harassing, threatening, embarrassing, hateful, or otherwise inappropriate."),r.a.createElement("p",null,"d) Your user content does not and will not contain Hateful Content, a Threat of Physical Harm, or Harassment."),r.a.createElement("p",null,r.a.createElement("strong",null,"USER CONTENT DISCLAIMER")),r.a.createElement("p",null,"We are under no obligation to edit or control user content that you or other users post or publish, and will not be in any way responsible or liable for User Content. CozyPotato may, however, at any time and without prior notice, screen, remove, edit, or block any user content that in our sole judgment violates these Terms or is otherwise objectionable. You understand that when using the service, you will be exposed to user content from a variety of sources and acknowledge that user content may be inaccurate, offensive, indecent, or objectionable. You agree to waive, and do waive, any legal or equitable right or remedy you have or may have against CozyPotato with respect to user content. If notified by a user or content owner that user content allegedly does not conform to these Terms, we may investigate the allegation and determine in our sole discretion whether to remove the user content, which we reserve the right to do at any time and without notice. For clarity, CozyPotato does not permit copyright-infringing activities on the Service."),r.a.createElement("p",null,r.a.createElement("strong",null,"CONTENT REVIEW")),r.a.createElement("p",null,"CozyPotato does not control and does not have any obligation to monitor: (a) User Content; (ii) any content made available by third parties; or (iii) the use of the services by its users. You acknowledge and agree that CozyPotato reserves the right to, and may from time to time, monitor any and all information transmitted or received through the service for operational and other purposes. If at any time CozyPotato chooses to monitor the content, CozyPotato still assumes no responsibility or liability for content or any loss or damage incurred as a result of the use of content. During monitoring, information may be examined, recorded, copied, and used in accordance with our Privacy Policy."),r.a.createElement("p",null,r.a.createElement("strong",null,"PERSONAL DATA")),r.a.createElement("p",null,"Any personal information you post on or otherwise submit in connection with the services and the use of the application, will be used in accordance with our Privacy Policy. When you use the CozyPotato application, you agree for us to collect and store your personal information. The personal information collected is also used to check the correctness of identification and do necessary checks. In giving the information you also agree for us to message or communicate with you unless you tell us not to. Please refer to our Privacy Policy."),r.a.createElement("p",null,r.a.createElement("strong",null,"NON-COMMERCIAL USE")),r.a.createElement("p",null,"The service may not be used in connection with any commercial purposes, except as specifically approved by CozyPotato. Unauthorized framing of or linking to any of CozyPotato is prohibited. Commercial advertisements, affiliate links, and other forms of content without notice and may result in termination of the account."),r.a.createElement("p",null,r.a.createElement("strong",null,"THIRD PARTIES")),r.a.createElement("p",null,"CozyPotato contains content of third-party licensors to CozyPotato, which is protected by copyright, trademark, patent, trade secret and other laws. CozyPotato owns and retains all rights, title and interest in the content. CozyPotato hereby grants to you a limited, revocable, non-sublicensable license to stream and/or view the content and any third party content located on or available through CozyPotato or services (excluding any software code therein as set forth above) solely for your personal, non-commercial use in connection with viewing CozyPotato and using the services."," "),r.a.createElement("p",null,"Any dealings with third parties included within or on CozyPotato involving the delivery of and payment for goods and services, or any other terms, conditions, warranties, or representations associated with such third parties, are solely between you and that third party. CozyPotato is neither responsible nor liable for any part of such dealings or promotions. Any reference to any third party or the products or services of any third party on CozyPotato does not constitute an endorsement or recommendation of such third party or the product or services of such third party by CozyPotato or any of its employees, officers, independent contractors, agents or other representatives. Any reference to any third party on CozyPotato is provided to you for informational purposes only. CozyPotato encourages you to conduct your own research and due diligence regarding such third parties and their products and services. While CozyPotato works to ensure the information on CozyPotato is current and accurate."),r.a.createElement("p",null,r.a.createElement("strong",null,"PROHIBITED ACTIVITIES")),r.a.createElement("p",null,"The content and information available on the website and application (including, but not limited to, data, information, text, music, sound, photos, graphics, video, maps, icons or other material), as well as the infrastructure used to provide such Content and information, is proprietary to CozyPotato or licensed to the CozyPotato by third parties. For all content other than your content, you agree not to otherwise modify, copy, distribute, transmit, display, perform, reproduce, publish, license, create derivative works from, transfer, or sell or re-sell any information, software or services obtained from or through the website. Additionally, you agree not to:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Use the services or content for any commercial purpose, outside the scope of those commercial purposes explicitly permitted under this agreement and related guidelines as made available by CozyPotato."),r.a.createElement("li",null,"Access, monitor, reproduce, distribute, transmit, broadcast, display, sell, license, copy or otherwise exploit any Content of the services, including but not limited to, using any robot, spider, scraper or other automated means or any manual process for any purpose not in accordance with this agreement or without our express written permission."),r.a.createElement("li",null,"Violate the restrictions in any robot exclusion headers on the services or bypass or circumvent other measures employed to prevent or limit access to the services."),r.a.createElement("li",null,"Take any action that imposes, or may impose, in our discretion, an unreasonable or disproportionately large load on our infrastructure."),r.a.createElement("li",null,"Deep-link to any portion of the services for any purpose without our express written permission."),r.a.createElement("li",null,'"Frame", "mirror" or otherwise incorporate any part of the services into any other websites or service without our prior written authorization.'),r.a.createElement("li",null,"Attempt to modify, translate, adapt, edit, decompile, disassemble, or reverse engineer any software programs used by CozyPotato in connection with the services."),r.a.createElement("li",null,"Circumvent, disable or otherwise interfere with security-related features of the services or features that prevent or restrict use or copying of any Content."),r.a.createElement("li",null,"Download any Content unless it\u2019s expressly made available for download by CozyPotato.")),r.a.createElement("p",null,r.a.createElement("strong",null,"DISCLAIMER OF WARRANTIES ")),r.a.createElement("p",null,"CozyPotato will provide its services with reasonable skill and care but does not give any guarantees, warranties or representations in respect of any other person's services."),r.a.createElement("p",null,'Because of the nature of the Internet CozyPotato provides and maintains the Website and application on an "as is", "as available" basis and makes no promise that use of the website and application will be uninterrupted or entirely error free. We are not responsible to you if we are unable to provide our Internet services for any reason beyond our control.'),r.a.createElement("p",null,"Our Website and application may from time to time contain links to other web sites which are not under the control of and are not maintained by us. These links are provided for your convenience only and we are not responsible for the content of those sites."),r.a.createElement("p",null,"Except as provided above we can give no other warranties, conditions or other terms, express or implied, statutory or otherwise and all such terms are hereby excluded to the maximum extent permitted by law."),r.a.createElement("p",null,"You will be responsible for any breach of these terms by you and if you use\xa0the application",r.a.createElement("strong",null,r.a.createElement("em",null,"\xa0")),"in breach of these terms you will be liable to and will reimburse CozyPotato",r.a.createElement("strong",null," "),"for any loss or damage caused as a result."),r.a.createElement("p",null,"CozyPotato",r.a.createElement("strong",null," "),"will not be liable in any amount for failure to perform any obligation under this agreement if such failure is caused by the occurrence of any unforeseen event beyond its reasonable control including without limitation Internet outages, communications outages, fire, flood, war or act of God."),r.a.createElement("p",null,"These terms do not affect your statutory rights as a consumer which are available to you."),r.a.createElement("p",null,"Subject as aforesaid, to the maximum extent permitted by law, CozyPotato",r.a.createElement("strong",null," "),"excludes liability for any loss or damage of any kind howsoever arising, including without limitation any direct, indirect or consequential loss whether or not such arises out of any problem you notify to CozyPotato and CozyPotato",r.a.createElement("strong",null," "),"shall have no liability to pay any money by way of compensation, including without limitation all liability in relation to:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Any incorrect or inaccurate information on CozyPotato."),r.a.createElement("li",null,"Any interruptions to or delays in updating\xa0CozyPotato."),r.a.createElement("li",null,"The infringement by any person of any Intellectual Property Rights of any third party caused by their use of\xa0the application",r.a.createElement("strong",null,"\xa0"),"or any product or service purchased through\xa0the",r.a.createElement("strong",null,r.a.createElement("em",null,"\xa0")),"application."),r.a.createElement("li",null,"Any loss or damage resulting from your use or the inability to use the\xa0application or resulting from unauthorized access to, or alteration of your transmissions or data in circumstances which are beyond our control."),r.a.createElement("li",null,"Any loss of profit, wasted expenditure, corruption or destruction of data or any other loss which does not directly result from something we have done wrong."),r.a.createElement("li",null,"Any amount or kind of loss or damage due to viruses or other malicious software that may infect a user's computer equipment, software, data or other property caused by persons accessing or using content from\xa0The Website and application, or from transmissions via emails or attachments received from\xa0CozyPotato",r.a.createElement("strong",null,".")),r.a.createElement("li",null,"All representations, warranties, conditions and other terms which but for this notice would have effect.")),r.a.createElement("p",null,r.a.createElement("strong",null,"ELECTRONIC COMMUNICATIONS")),r.a.createElement("p",null,"No responsibility will be accepted by CozyPotato for failed, partial or garbled computer transmissions, for any computer, telephone, cable, network, electronic or internet hardware or software malfunctions, failures, connections, availability, for the acts or omissions of any Cleaner User, internet accessibility or availability or for traffic congestion or unauthorized human act, including any errors or mistakes."," "),r.a.createElement("p",null,r.a.createElement("strong",null,"INDEMNIFICATION")),r.a.createElement("p",null,"You agree to defend and indemnify CozyPotato from and against any claims, causes of action, demands, recoveries, losses, damages, fines, penalties or other costs or expenses of any kind or nature including but not limited to reasonable legal and accounting fees, brought by third parties as a result of:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Your breach of this agreement or the documents referenced herein."),r.a.createElement("li",null,"Your violation of any law or the rights of a third party."),r.a.createElement("li",null,"Download the CozyPotato application."),r.a.createElement("li",null,"Your use of the CozyPotato application.")),r.a.createElement("p",null,r.a.createElement("strong",null,"CHANGES AND TERMINATION")),r.a.createElement("p",null,"We may change the application, website and these terms at any time, in our sole discretion and without notice to you. You are responsible for remaining knowledgeable about these terms. Your continued use of the site constitutes your acceptance of any changes to these Terms and any changes will supersede all previous versions of the terms. Unless otherwise specified herein, all changes to these Terms apply to all users take effect. Furthermore, we may terminate this agreement with you under these Terms at any time by notifying you in writing (including by email) or without any warning."),r.a.createElement("p",null,r.a.createElement("strong",null,"ASSIGNMENT")),r.a.createElement("p",null,"This agreement and any rights and licenses granted hereunder, may not be transferred or assigned by you, but may be assigned by CozyPotato without restriction."),r.a.createElement("p",null,r.a.createElement("strong",null,"INTEGRATION CLAUSE")),r.a.createElement("p",null,"This agreement together with the\xa0 \xa0and any other legal notices published by CozyPotato, shall constitute the entire agreement between you and CozyPotato concerning and governs your use of the applicationlication, website and the service."),r.a.createElement("p",null,r.a.createElement("strong",null,"DISPUTES")),r.a.createElement("p",null,"You agree that any dispute, claim or controversy arising out of or relating to these Terms or the breach, termination, enforcement, interpretation or validity thereof or the use of the",r.a.createElement("strong",null," "),"CozyPotato website and application",r.a.createElement("strong",null,", "),"will be settled by binding arbitration between you and ",r.a.createElement("strong",null," "),"CozyPotato, except that each party retains the right to bring an individual action in small claims court and the right to seek injunctive or other equitable relief in a court of competent jurisdiction to prevent the actual or threatened infringement, misappropriation or violation of a party\u2019s copyrights, trademarks, trade secrets, patents or other intellectual property rights. You acknowledge and agree that you and CozyPotato are each waiving the right to a trial by jury or to participate as a plaintiff or class in any purported class action or representative proceeding. Further, unless both you and CozyPotato otherwise agree in writing, the arbitrator may not consolidate more than one person's claims, and may not otherwise preside over any form of any class or representative proceeding."," "),r.a.createElement("p",null,r.a.createElement("strong",null,"HEADINGS")),r.a.createElement("p",null,"Headings are for reference purposes only and in no way define, limit, construe or describe the scope or extent of such section. Our failure to act with respect to a breach by you or others does not waive our right to act with respect to subsequent or similar breaches. These terms set forth the entire understanding and agreement between us with respect to the subject matter therein."),r.a.createElement("p",null,r.a.createElement("strong",null,"FINAL PROVISIONS")),r.a.createElement("p",null,"These Terms are governed by the law of USA. Use of CozyPotato application and website is unauthorized in any jurisdiction that does not give effect to all provisions of these Terms, including, without limitation, this paragraph."),r.a.createElement("p",null,"Our performance of these Terms is subject to existing laws and legal process, and nothing contained in these Terms limits our right to comply with law enforcement or other governmental or legal requests or requirements relating to your use of our Platform or information provided to or gathered by us with respect to such use."),r.a.createElement("p",null,"If any part of these Terms is found to be invalid, illegal or unenforceable, the validity, legality and enforceability of the remaining provisions will not in any way be affected or impaired. Our failure or delay in enforcing any provision of these Terms at any time does not waive our right to enforce the same or any other provision(s) hereof in the future."),r.a.createElement("p",null,"Any rights not expressly granted herein are reserved.")))))},ka=function(){return r.a.createElement("div",{className:"pg-viewer-wrapper"},r.a.createElement("div",{className:"pg-viewer",id:"pg-viewer"},r.a.createElement("div",{id:"docx"},r.a.createElement("div",{className:"document-container"},r.a.createElement("p",null,r.a.createElement("strong",null,"COOKIE POLICY")),r.a.createElement("p",null,r.a.createElement("strong",null,"Welcome to "),r.a.createElement("strong",null,"CozyPotato!")),r.a.createElement("p",null,"CozyPotato Is owned and operated by SkonLabs LLC."),r.a.createElement("p",null,"This Cookie Policy explains how and why cookies and other similar technologies may be stored on and accessed from your device when you use or visit:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://cozypotato.com"},r.a.createElement("strong",null,"https://cozypotato.com")))),r.a.createElement("p",null," "),r.a.createElement("p",null,"The information collected through cookies will be under responsibility and in charge of:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"SkonLabs LLC ")),r.a.createElement("li",null,r.a.createElement("strong",null,"(Insert contact information, email, phone)"))),r.a.createElement("p",null,"This Cookie Policy should be read together with our Privacy Policy and our Terms and conditions."),r.a.createElement("p",null,r.a.createElement("strong",null,"By using CozyPotato website, you accept the use of cookies by this website, in the terms contained in this policy.")),r.a.createElement("p",null,r.a.createElement("strong",null,"WHAT ARE COOKIES?")),r.a.createElement("p",null,"\u201cCookies\u201d are small text files that are stored on your computer or mobile device when you visit a website. They allow the website to recognize your device and remember if you have been to the website before."),r.a.createElement("p",null,"Cookies are very common web technology, most website use Cookies and have done for years. Cookies are widely used in order to make website work more efficiently, as well as providing information to the owners of website."),r.a.createElement("p",null,"Cookies are used to measure which parts of the website people visit and to customize your experience. Cookies also provide information that helps us monitor and improve the website\u2019s performance."),r.a.createElement("p",null,r.a.createElement("strong",null,"REFUSING OR WITHDRAWING CONSENT TO THE USE OF COOKIES")),r.a.createElement("p",null,"If you do not want Cookies to be dropped on your device, you can adjust the setting of your Internet browser to reject the setting of all or some Cookies and to alert you when a Cookie is placed on your device. For further information about how to do so, please refer to your browser \u2018help\u2019, \u2018tool\u2019, or \u2018edit\u2019 section. Please note that if you use your browser settings to block all Cookies, including strictly necessary Cookies, you may not be able to access or use all or parts of the functionalities of the CozyPotato website."),r.a.createElement("p",null,"If you want to remove previously-stored Cookies, you can manually delete the Cookies at any time. However, this will not prevent the CozyPotato website from placing further Cookies on your device unless and until you adjust your Internet browser setting as described above."),r.a.createElement("p",null,"We provide the links for the management and blocking of cookies depending on the browser you use:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Internet Explorer:"," ",r.a.createElement("a",{href:"http://windows.microsoft.com/es-xl/internet-explorer/delete-manage-cookies%23ie=ie-10"},"http://windows.microsoft.com/es-xl/internet-explorer/delete-manage-cookies#ie=ie-10")),r.a.createElement("li",null,"Firefox:"," ",r.a.createElement("a",{href:"https://support.mozilla.org/en-US/kb/clear-cookies-and-site-data-firefox"},"https://support.mozilla.org/en-US/kb/clear-cookies-and-site-data-firefox")),r.a.createElement("li",null,"Chrome:"," ",r.a.createElement("a",{href:"https://support.google.com/chrome/answer/95647?hl=en"},"https://support.google.com/chrome/answer/95647?hl=en")),r.a.createElement("li",null,"Safari:"," ",r.a.createElement("a",{href:"https://support.apple.com/guide/safari/manage-cookies-and-website-data-sfri11471/mac"},"https://support.apple.com/guide/safari/manage-cookies-and-website-data-sfri11471/mac"))),r.a.createElement("p",null,r.a.createElement("strong",null,"FIRST-PARTY COOKIES")),r.a.createElement("p",null,"Cookies help us to collect information on how people use our website and which pages they visit. They enable us to monitor the number of visitors and to analyze website usage patterns and trends."),r.a.createElement("p",null,"We collect this information anonymously, so it does not identify anyone as an individual and no personal information is stored in our Cookies. We always use Cookie data in a responsible way."),r.a.createElement("p",null,"Our aim is to continually improve the CozyPotato online experience. Cookies help to make our website work better and more efficiently. However, you can stop Cookies from being downloaded to your device from CozyPotato at any time by selecting the appropriate settings in your browser. Most browsers will tell you how to change your browser settings to notify you when a Cookie is being set or updated, or to restrict or block certain types or all Cookies."," "),r.a.createElement("p",null,r.a.createElement("strong",null,"USES OF COOKIES")),r.a.createElement("p",null,"Our Cookies are used for the following purposes:"),r.a.createElement("p",null,r.a.createElement("strong",null,"Strictly Necessary: "),"These Cookies are essential for CozyPotato website to perform its basic functions."),r.a.createElement("p",null,r.a.createElement("strong",null,"Security: "),"We use these Cookies to help identify and prevent potential security risks."),r.a.createElement("p",null,r.a.createElement("strong",null,"GOOGLE Firebase Analytics. "),"We use Google Firebase Analytics provided by Google, Inc., USA (\u201cGoogle\u201d). These tool and technologies collect and analyze certain types of information, including IP addresses, device and software identifiers, referring and exit URLs, feature use metrics and statistics, usage and purchase history, media access control address (MAC Address), mobile unique device identifiers, and other similar information via the use of cookies. The information generated by Google Analytics (including your IP address) may be transmitted to and stored by Google on servers in the United States. We use the GOOGLE Analytics collection of data to enhance the website and platform and improve our service."),r.a.createElement("p",null,"Please consult Google's privacy policy here:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://policies.google.com/privacy"},"https://policies.google.com/privacy"))),r.a.createElement("p",null,r.a.createElement("strong",null,"CONTACT US")),r.a.createElement("p",null,"If you have questions about this Cookie Policy, please contact us at:"),r.a.createElement("p",null,"(Insert contact information, email, phone)")))))},Ca=function(e){var t=e.type;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[t]),t?r.a.createElement("div",{className:"col-60 py-md-5 text-dark"},r.a.createElement("div",{className:"row no-gutters justify-content-center"},r.a.createElement("div",{className:"p-sm-5 p-4 bg-white"},"privacy-policy"===t?r.a.createElement(_a,null):"terms-and-conditions"===t?r.a.createElement(ja,null):"cookies-policy"===t?r.a.createElement(ka,null):""))):""};var Sa=Object(p.b)((function(e,t){return Object(h.a)({captcha_api_key:e.settings.captcha_api_key,no_display_name_characters:e.settings.no_display_name_characters},t)}))((function(e){var t=e.no_display_name_characters,a=e.captcha_api_key,o=Object(n.useState)(""),s=Object(E.a)(o,2),c=s[0],m=s[1],u=Object(n.useState)(""),p=Object(E.a)(u,2),v=p[0],g=p[1],h=Object(n.useState)(""),b=Object(E.a)(h,2),y=b[0],w=b[1],N=Object(n.useState)(!1),x=Object(E.a)(N,2),O=x[0],_=x[1],k=Object(n.useState)(!1),C=Object(E.a)(k,2),S=C[0],I=C[1],T=Object(n.useState)(""),A=Object(E.a)(T,2),P=A[0],D=A[1],z=Object(n.useState)(""),R=Object(E.a)(z,2),Y=R[0],U=R[1],M=[{valid:Re(c),error:"Email is not valid"},{valid:c.split("@")[0].length<t,error:"Email is too long"},{valid:/[^\w\s]/.test(v)||/\d/.test(v),error:"Password must contain number or symbol"},{valid:v===y,error:"Passwords don't match"},{valid:v.length>=6,error:"Password must contain at least 6 characters"},{valid:O,error:"Pass captcha validation"},{valid:S,error:"Check if you agree with privacy policy and terms and conditions"}],F=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=M.filter((function(e){return!e.valid}))).length){e.next=8;break}return e.next=4,j("/user/signup",{email:c,password:v});case 4:(a=e.sent).success?(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Account created!",message:"Login to start writing reviews and comments about your favorite movies",type:"success"}}),d.dispatch({type:"UPDATE_PUBLICUSERS",publicUser:Object(Ze.a)({},a.publicUser.user_id,a.publicUser)}),f.push("/login")):d.dispatch({type:"SET_NOTIFICATION",notification:{message:a.error,type:"failure",title:"Failed create account"}}),e.next=9;break;case 8:D(t[0].error);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"row no-gutters justify-content-center aligm-items-start align-items-sm-center py-sm-3",style:{minHeight:window.innerHeight}},r.a.createElement(Je,{open:Y,mobileCloserColor:"black",onClose:function(){return U("")}},r.a.createElement(Ca,{type:Y})),r.a.createElement("div",{className:"col-xl-50 col-60 col-lg-50 col-md-35 col-sm-50 login-rounded overflow-hidden"},r.a.createElement("div",{className:"row no-gutters h-100"},r.a.createElement("div",{className:"col bg-dark d-lg-block d-none text-center"},r.a.createElement("div",{className:"row no-gutters h-100 flex-center position-relative"},r.a.createElement("div",{className:"position-absolute d-flex align-items-center text-white cursor-pointer",onClick:function(){return f.push("/")},style:{top:"15px",left:"15px"}},r.a.createElement(Xe.f,{className:"mr-2"}),"Back to home"),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"square-150 mx-auto"},r.a.createElement(Nt,null)),r.a.createElement("div",{className:"logo text-title-xl text-white"},"CozyPotato")))),r.a.createElement("div",{className:"col-60 col-lg-30 col-xl-25 col-md-auto p-4 p-sm-5 bg-light",style:{minHeight:window.innerHeight-100}},r.a.createElement("div",{className:"row no-gutters h-100"},r.a.createElement("div",{className:"col-60 d-flex align-items-start flex-wrap"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-60 h3 mb-3"},"Create Account"))),r.a.createElement("div",{className:"col-60 d-flex align-items-end flex-wrap"},r.a.createElement("div",{className:"row no-gutters w-100"},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters justify-content-center mb-3"},r.a.createElement("div",{className:"col-60 mb-1"},"Email"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{type:"email",className:"input-light w-100 px-3",value:c,onChange:function(e){e.persist(),m(e.target.value)}}))),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 mb-1"},"Password"),r.a.createElement("div",{className:"col-60 mb-1"},r.a.createElement("input",{type:"password",className:"input-light w-100 px-3",value:v,onChange:function(e){e.persist(),g(e.target.value)}})),r.a.createElement("div",{className:"col-60 text-muted font-size-14"},"Must be at least 6 characters and must contain number or symbol")),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 mb-1"},"Confirm Password"),r.a.createElement("div",{className:"col-60 mb-1"},r.a.createElement("input",{type:"password",className:"input-light w-100 px-3",value:y,onKeyDown:function(e){13===e.keyCode&&F()},onChange:function(e){e.persist(),w(e.target.value)}})),r.a.createElement("div",{className:"col-60 text-muted font-size-14"},"Must be at least 6 characters and must contain number or symbol")),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement(Oa.a,{sitekey:a,onChange:function(e){e&&_(!0)}})),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2"},r.a.createElement(zt,{color:"primary",checked:S,onChange:function(e){I(e.target.checked)}})),r.a.createElement("div",{className:"col"},"By registering you agree with"," ",r.a.createElement("span",{onClick:function(){return U("terms-and-conditions")},className:"btn-link"},"terms and conditions")," ","and"," ",r.a.createElement("span",{className:"btn-link",onClick:function(){return U("privacy-policy")}},"privacy policy"))),r.a.createElement("div",{style:{height:"40px",opacity:P?1:0},className:"row no-gutters align-items-center text-danger"},P),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 btn-custom btn-custom-primary",onClick:F},"Create Account")),r.a.createElement("div",{className:"row no-gutters justify-content-end",style:{fontSize:"14px"}},r.a.createElement("div",{className:"col-auto"},"Already have account?"," ",r.a.createElement("span",{className:"btn-link cursor-pointer",onClick:function(){return f.push("/login")}},"Login")))))))))))}));var Ia=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,notification:e.notification},t)}))((function(e){var t=e.notification,a=(e.publicUsers,Object(n.useState)(!1)),o=Object(E.a)(a,2),s=o[0],c=o[1],i=Object(n.useState)(!1),l=Object(E.a)(i,2),m=l[0],u=l[1];return Object(n.useEffect)((function(){var e;return t.expired||(e=setTimeout((function(){u(!0)}),5e3)),function(){!t.expired&&e&&clearTimeout(e)}}),[t]),Object(n.useEffect)((function(){m&&!s&&(d.dispatch({type:"UPDATE_NOTIFICATION",notification:{expired:!0}}),u(!1))}),[m,s]),Object(n.useEffect)((function(){if("success"!==t.type&&"object"===typeof t.message){var e={type:"System",subject:"System error occured",receivers:["All admins"],start_date:Date.now(),end_date:Date.now(),description:JSON.stringify(t.message).replace(/"/g,""),status:"Sent"};we(e)}}),[t.message]),r.a.createElement("div",{onMouseOver:function(){return c(!0)},onMouseLeave:function(){return c(!1)},className:"container-fluid toast-pro bg-over-root px-0",style:{maxWidth:"300px",bottom:t.expired?"-100%":"50px"}},r.a.createElement("div",{className:"row no-gutters p-3"},t.type&&r.a.createElement("div",{className:"col-auto pr-2"},"success"===t.type?r.a.createElement(Xe.d,{strokeWidth:"1px",fontSize:"24px",className:"text-success"}):r.a.createElement(Xe.i,{strokeWidth:"1px",fontSize:"24px",className:"text-primary"})),r.a.createElement("div",{className:"col pr-2 toast-title"},t.title),r.a.createElement("div",{className:"col-auto toast-close-icon",onClick:function(){return d.dispatch({type:"UPDATE_NOTIFICATION",notification:{expired:!0}})}},r.a.createElement(Xe.o,{fontSize:"24px",className:"text-white"}))),r.a.createElement("div",{className:"row no-gutters p-4 text-white"},"success"!==t.type&&"object"===typeof t.message?"Action failed":t.message))}));var Ta=Object(p.b)((function(e,t){return Object(h.a)({user:e.user,ratings:e.ratings},t)}))((function(e){var t=e.movies,a=e.user,o=e.ratings,s=e.listType,c=void 0===s?"not wishlist":s,i=e.setMovie,l=e.setAddReviewOpen,m=e.owner,u=void 0!==m&&m,d=e.refreshProfile,p=void 0===d?function(){}:d,v=Object(n.useState)(1),g=Object(E.a)(v,2),h=g[0],b=g[1],y=Object(n.useState)(""),w=Object(E.a)(y,2),N=w[0],x=w[1],O=Object(n.useState)(!1),_=Object(E.a)(O,2),j=_[0],k=_[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,{open:j,onClose:function(){return k(!1)}},r.a.createElement(Ve,{movieId:N,onEnded:function(){return k(!1)}})),r.a.createElement("div",{className:"row"},t.slice(12*(h-1),12*(h-1)+12).map((function(e,t){var n=o[e.movie_id]?{id:e.movie_id,title:o[e.movie_id].movie_title,poster_path:o[e.movie_id].movie_poster,release_date:o[e.movie_id].movie_release_date,genres:o[e.movie_id].movie_genres}:{id:e.movie_id,title:"",poster_path:"",genres:[],release_date:""};return r.a.createElement("div",{key:"result-".concat(t),className:"col-lg-12 col-md-15 col-sm-20 col-60 p-3 text-white"},"watchedlist"!==c&&u?r.a.createElement("div",{className:"row no-gutters justify-content-end position-relative px-2 d-none d-sm-flex",style:{marginBottom:"-51px",zIndex:5,height:"44px",pointerEvents:"none"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{movie:n,user:a}),"wishlist"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pl-1"}),r.a.createElement(Qe,{refreshProfile:function(){i(n),l(!0),p()},user:a,movieId:n.id})):"")):"",r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-60 col-auto mr-3 mr-sm-0"},r.a.createElement("div",{className:"row no-gutters mb-2 position-relative movies-list-image"},r.a.createElement("img",{alt:"poster of ".concat(n.id),width:"100%",style:{borderRadius:"13px"},src:n.poster_path?"https://image.tmdb.org/t/p/w342".concat(n.poster_path):"https://critics.io/img/movies/poster-placeholder.png"}),r.a.createElement("div",{onClick:function(){return f.push("/movie/".concat(n.id))},className:"col-60 h-100 text-white d-flex flex-center img-cover cursor-pointer",style:{left:0,top:0,position:"absolute",zIndex:4,borderRadius:"13px"}},r.a.createElement("div",{className:"square-50 rounded-circle d-flex flex-center play-btn",onClick:function(e){e.stopPropagation(),x(n.id),k(!0)}},r.a.createElement(Xe.l,{style:{fontSize:"30px",color:"white",marginRight:"-5px"}}))))),r.a.createElement("div",{className:"col-sm-60 col"},r.a.createElement("div",{className:"row no-gutters text-title-md mb-0 cursor-pointer",onClick:function(){return f.push("/movie/".concat(n.id))}},r.a.createElement("div",{className:"text-truncate"},n.title)),r.a.createElement("div",{className:"row no-gutters text-muted mb-2"},r.a.createElement("div",{className:"text-truncate"},n.genres.length?n.genres.join("/"):"unknown")),r.a.createElement("div",{className:"row no-gutters mb-2 justify-content-end"},r.a.createElement(Ye,{size:"small",selected:!!a.ratings[n.id]&&"excellent_rate"===a.ratings[n.id].rate_type,movie:n,emoji:"fire",className:"mr-1 mb-2",value:o[n.id]?o[n.id].excellent_rate:[]}),r.a.createElement(Ye,{size:"small",selected:!!a.ratings[n.id]&&"good_rate"===a.ratings[n.id].rate_type,movie:n,emoji:"heart",className:"mr-1 mb-2",value:o[n.id]?o[n.id].good_rate:[]}),r.a.createElement(Ye,{size:"small",selected:!!a.ratings[n.id]&&"ok_rate"===a.ratings[n.id].rate_type,movie:n,className:"mr-1 mb-2",emoji:"heavy_division_sign",value:o[n.id]?o[n.id].ok_rate:[]}),r.a.createElement(Ye,{size:"small",emoji:"shit",value:o[n.id]?o[n.id].bad_rate:[],selected:!!a.ratings[n.id]&&"bad_rate"===a.ratings[n.id].rate_type,movie:n})),r.a.createElement("div",{className:"row no-gutters d-flex d-sm-none"},"watchedlist"!==c?r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{movie:n,user:a}),"wishlist"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pl-1"}),r.a.createElement(Qe,{refreshProfile:p,user:a,movieId:n.id})):""):""))))}))),r.a.createElement("div",{className:"row no-gutters justify-content-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(lt,{classNames:{notSelected:"input-dark",selected:"input-dark-selected"},count:Math.ceil(t.length/12),current:h,setCurrent:b}))))})),Aa=function(e){var t=e.movies,a=e.owner,o=e.refreshProfile,s=e.ratings,c=e.user,i=Object(n.useState)(0),l=Object(E.a)(i,2),m=l[0],u=l[1],d=function(e,t){var a=["All"];return e.forEach((function(e){t[e.movie_id]&&t[e.movie_id].movie_genres.forEach((function(e){e.name?a.includes(e.name)||a.push(e.name):a.includes(e)||a.push(e)}))})),a}(t,s),p=Object(n.useState)(!1),v=Object(E.a)(p,2),g=v[0],f=v[1],h=Object(n.useState)(!1),b=Object(E.a)(h,2),y=b[0],w=b[1];return r.a.createElement("div",{className:"col-60 px-0"},r.a.createElement(et,{movie:g,user:c,open:y,onClose:function(){w(!1),o()}}),r.a.createElement("div",{className:"row no-gutters justify-content-end text-light align-items-center mb-2"},r.a.createElement("div",{className:"col-auto"},d.length>1?r.a.createElement(at.a,{style:{padding:"14px 0",width:"100%",overflowX:"auto",whiteSpace:"nowrap"}},d.map((function(e,t){return r.a.createElement("div",{onClick:function(){u(t)},style:{display:"inline-block"},key:"genre-for-popular-movie-".concat(t),className:"px-4 ".concat(m===t?"btn-tertiary-selected text-white":"btn-tertiary text-light-white")},e)}))):"")),t.length?r.a.createElement(Ta,{setAddReviewOpen:w,setMovie:f,refreshProfile:o,owner:a,listType:"wishlist",movies:t.filter((function(e){return s[e.movie_id]&&s[e.movie_id].movie_genres.includes(d[m])||"All"===d[m]}))}):r.a.createElement("div",{className:"row no-gutters flex-center bg-over-root-lighter rounded p-5 text-white",style:{height:"150px"}},"You have not added any movies/series to your wishlist."))},Pa=function(e){var t=e.movies,a=e.ratings,o=Object(n.useState)(0),s=Object(E.a)(o,2),c=s[0],i=s[1],l=function(e,t){var a=["All"];return e.forEach((function(e){t[e.movie_id]&&t[e.movie_id].movie_genres.forEach((function(e){e.name?a.includes(e.name)||a.push(e.name):a.includes(e)||a.push(e)}))})),a}(t,a);return r.a.createElement("div",{className:"col-60 px-0"},r.a.createElement("div",{className:"row no-gutters justify-content-end text-light align-items-center mb-2"},r.a.createElement("div",{className:"col-auto"},l.length>1?r.a.createElement(at.a,{style:{padding:"14px 0",maxWidth:"100%",overflowX:"auto",whiteSpace:"nowrap"}},l.map((function(e,t){return r.a.createElement("div",{onClick:function(){i(t)},style:{display:"inline-block"},key:"genre-for-popular-movie-".concat(t),className:"px-4 ".concat(c===t?"btn-tertiary-selected text-white":"btn-tertiary text-light-white")},e)}))):"")),t.length?r.a.createElement(Ta,{listType:"watchedlist",movies:t.filter((function(e){return a[e.movie_id]&&a[e.movie_id].movie_genres.includes(l[c])||"All"===l[c]}))}):r.a.createElement("div",{className:"row no-gutters flex-center bg-over-root-lighter rounded p-5 text-white",style:{height:"150px"}},"You have not watched any movies/series yet. Please go to your wishlist any mark titles as watched."))};var Da=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,ratings:e.ratings},t)}))((function(e){var t=e.reviews,a=e.publicUsers,o=e.ratings,s=e.owner,c=e.user,m=e.refreshReviews,u=Object(n.useState)({}),p=Object(E.a)(u,2),v=p[0],g=p[1],w=Object(n.useState)(!1),N=Object(E.a)(w,2),x=N[0],_=N[1],j=Object(n.useState)(!1),k=Object(E.a)(j,2),C=k[0],S=k[1],I=Object(n.useState)(!1),T=Object(E.a)(I,2),A=T[0],P=T[1],z=Object(n.useState)(-1),R=Object(E.a)(z,2),Y=R[0],U=R[1],M=Object(n.useState)(-1),L=Object(E.a)(M,2),W=L[0],q=L[1],B=Object(n.useState)(-1),H=Object(E.a)(B,2),G=H[0],K=H[1],V=Object(n.useState)(1),X=Object(E.a)(V,2),J=X[0],Z=X[1],$=Object(n.useRef)(null);Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===Y){e.next=5;break}return e.next=3,F(Y);case 3:t=e.sent,g((function(e){return Object.assign({},e,Object(Ze.a)({},Y,t))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[Y]);var Q=-1===G?1:G;return r.a.createElement("div",{className:"row no-gutters text-white"},r.a.createElement(et,{userIsOwner:!0,open:x,onClose:function(){return _(!1)},movie:C,review:A,user:c,refreshReviews:m}),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters mb-2",ref:$}),t.length?t.slice(8*(Q-1),8*(Q-1)+8).map((function(e,t){return o[e.movie_id]?r.a.createElement(r.a.Fragment,{key:"fragment-review-".concat(t)},r.a.createElement("div",{key:"review-".concat(t),className:"row no-gutters p-4 bg-over-root-lighter rounded mb-2"},r.a.createElement("div",{className:"col-sm-auto col-20 pr-4 d-none d-sm-block",style:{maxWidth:"150px"}},r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("img",{alt:o[e.movie_id].movie_poster,onClick:function(){return f.push("/movie/".concat(e.movie_id))},width:"100%",style:{borderRadius:"13px"},src:"https://image.tmdb.org/t/p/w154".concat(o[e.movie_id].movie_poster)}))),r.a.createElement("div",{className:"col d-flex flex-column"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center mb-2 flex-grow-0"},r.a.createElement("div",{className:"col-60 d-block d-sm-none mb-3"},r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("div",{className:"col-auto pr-3"},r.a.createElement("div",{className:"square-70 rounded bg-image",style:{backgroundImage:"url(https://image.tmdb.org/t/p/w154".concat(o[e.movie_id].movie_poster,")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters text-white mb-0"},o[e.movie_id].movie_title," (",o[e.movie_id].movie_release_date.substring(0,4),")")))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto pr-2"},r.a.createElement("div",{className:"bg-image rounded-circle square-40",style:{backgroundImage:"url(".concat(a[e.author]?a[e.author].photo:"",")")}})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center text-white"},r.a.createElement("div",{className:"col-auto mr-3 mb-0"},a[e.author]?a[e.author].display_name:""))))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters text-white"},r.a.createElement("span",{className:"mr-2 col-auto"},"Posted review on"),r.a.createElement("span",{className:"text-muted col-auto mr-2"},ct.a.format(new Date(e.date),"MMM DD, YYYY")),s?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-root"},"Edit review")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S({release_date:o[e.movie_id].movie_release_date,title:o[e.movie_id].movie_title,id:o[e.movie_id].tmdb_id}),P(e),_(!0);case 3:case"end":return t.stop()}}),t)})))},r.a.createElement(Xe.k,{fontSize:"24px"}))),r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-root"},"Delete review")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function t(){var a,n,r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,q(e._id),t.next=4,D(e);case 4:a=t.sent,q(-1),a.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Couldn't delete comment",type:"failure",message:a.error}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Success",type:"success",message:"Comment successfully deleted"}}),n=o[e.movie_id],-1!==(r=n[e.rating].findIndex((function(t){return t===e.author})))&&n[e.rating].splice(r,1),d.dispatch({type:"UPDATE_RATINGS",rating:Object(Ze.a)({},e.movie_id,n)}),delete(s=Object(h.a)({},c.ratings))[e.movie_id],d.dispatch({type:"UPDATE_USER",userProperty:{ratings:s}}),m()),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))},W===e._id?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:!0,size:20})):r.a.createElement(Xe.n,{fontSize:"24px"})))):""))),r.a.createElement("div",{className:"row no-gutters text-light mb-3 flex-grow-0 font-weigt-300 text-break"},e.review),r.a.createElement("div",{className:"row no-gutters align-items-center"},e.rating?"ok_rate"===e.rating?r.a.createElement(y,{size:24}):r.a.createElement(b.a,{emoji:"excellent_rate"===e.rating?"fire":"good_rate"===e.rating?"heart":"ok_rate"===e.rating?"heavy_division_sign":"shit",set:"facebook",size:24}):""),r.a.createElement("div",{className:"row no-gutters flex-grow-1"},r.a.createElement("div",{className:"col-60 d-flex flex-column justify-content-end"},r.a.createElement("div",{className:"row no-gutters justify-content-end align-items-center text-white"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},e.likes.length),r.a.createElement("div",{className:"col-auto mr-2 "},r.a.createElement(O.j,{fontSize:"24px",className:"text-green"})),r.a.createElement("div",{className:"col-auto mr-2"},e.comments.length),r.a.createElement("div",{className:"col-auto mr-2"},r.a.createElement(O.b,{onClick:function(){U(Y===e._id?-1:e._id)},fontSize:"24px",className:"text-orange scale-transition cursor-pointer"}))))))))),r.a.createElement(it.a,{in:Y===e._id,className:"mb-3"},r.a.createElement("div",{className:"ml-4 py-2 text-light"},"Comments (",v[e._id]?v[e._id].length:0,")"),v[e._id]?v[e._id].slice(J*(J-1),J*(J-1)+5).map((function(e,t){return r.a.createElement("div",{key:"comment-".concat(Y,"-").concat(t),className:"row no-gutters p-4 bg-over-root-lighter rounded ml-4 mb-2"},r.a.createElement("div",{className:"col-auto pr-4 d-none d-md-block"},r.a.createElement("div",{className:"bg-image rounded-circle square-70",style:{backgroundImage:"url(".concat(a[e.author]?a[e.author].photo:"",")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters align-items-center mb-2"},r.a.createElement("div",{className:"col-auto pr-2 d-block d-md-none"},r.a.createElement("div",{className:"bg-image rounded-circle square-40",style:{backgroundImage:"url(".concat(a[e.author]?a[e.author].photo:"",")")}})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-3 h6 text-white mb-0"},a[e.author]?a[e.author].display_name:""),r.a.createElement("div",{className:"col-auto mr-3 text-muted"},ct.a.format(new Date(e.date),"MMM DD, YYYY"))))),r.a.createElement("div",{className:"row no-gutters text-light mb-3 font-weight-300 text-break"},e.comment),r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},e.likes.length),r.a.createElement("div",{className:"col-auto mr-2 "},r.a.createElement(O.j,{fontSize:"24px",className:"text-green cursor-pointer"})))))))})):"",r.a.createElement("div",{className:"row no-gutters justify-content-end"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(lt,{count:Math.ceil(v[e._id]?v[e._id].length/5:1),current:J,setCurrent:Z,classNames:{notSelected:"input-dark",selected:"input-dark-selected"}}))))):""})):r.a.createElement("div",{className:"row no-gutters flex-center bg-over-root-lighter rounded p-5",style:{height:"150px"}},"You have not reviewed any movies/series. Your review will help your friends and family pick the right movie or series to watch."),r.a.createElement("div",{className:"row no-gutters justify-content-sm-end justify-content-center mt-2"},r.a.createElement("div",{className:"col-auto mb-4 mr-sm-2 mr-md-0"},r.a.createElement(lt,{classNames:{notSelected:"input-dark",selected:"input-dark-selected"},count:Math.ceil(t.length/8),current:Q,setCurrent:K})))))}));var za=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,ratings:e.ratings},t)}))((function(e){var t=e.comments,a=e.publicUsers,o=e.ratings,s=e.owner,c=e.user,m=e.refreshComments,u=Object(n.useState)(-1),p=Object(E.a)(u,2),v=p[0],g=p[1],h=Object(n.useRef)(null),b=Object(n.useState)(!1),y=Object(E.a)(b,2),w=y[0],N=y[1],x=Object(n.useState)(!1),_=Object(E.a)(x,2),j=_[0],k=_[1],C=Object(n.useState)(!1),S=Object(E.a)(C,2),I=S[0],T=S[1],A=Object(n.useState)(-1),P=Object(E.a)(A,2),D=P[0],z=P[1],R=-1===v?1:v;return r.a.createElement("div",{className:"row no-gutters text-white"},r.a.createElement(gt,{comment:I,refreshComments:m,setComments:function(){},movie:w,open:j,onClose:function(){return k(!1)},user:c}),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters mb-2",ref:h}),t.length?t.slice(8*(R-1),8*(R-1)+8).map((function(e,t){return r.a.createElement("div",{key:"comment-".concat(t),className:"row no-gutters p-4 bg-over-root-lighter rounded mb-2"},r.a.createElement("div",{className:"col-sm-auto col-20 pr-4 d-none d-sm-block",style:{maxWidth:"150px"}},r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("img",{alt:o[e.movie_id].movie_poster,onClick:function(){return f.push("/movie/".concat(e.movie_id))},width:"100%",style:{borderRadius:"13px"},src:"https://image.tmdb.org/t/p/w154".concat(o[e.movie_id].movie_poster)}))),r.a.createElement("div",{className:"col d-flex flex-column"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center mb-2 flex-grow-0"},r.a.createElement("div",{className:"col-60 d-block d-sm-none mb-3"},r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("div",{className:"col-auto pr-3"},r.a.createElement("div",{className:"square-70 rounded bg-image",style:{backgroundImage:"url(https://image.tmdb.org/t/p/w154".concat(o[e.movie_id].movie_poster,")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters text-white mb-0"},o[e.movie_id].movie_title," (",o[e.movie_id].movie_release_date.substring(0,4))))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto pr-2"},r.a.createElement("div",{className:"bg-image rounded-circle square-40",style:{backgroundImage:"url(".concat(a[e.author]?a[e.author].photo:"",")")}})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center text-white"},r.a.createElement("div",{className:"col-auto mr-3 h6 mb-0"},a[e.author]?a[e.author].display_name:""))))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters text-white"},r.a.createElement("span",{className:"mr-2 col-auto"},"Commented on"),r.a.createElement("span",{className:"text-muted col-auto mr-2"},ct.a.format(new Date(e.date),"MMM DD, YYYY")),s?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-root"},"Edit comment")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:N({release_date:o[e.movie_id].movie_release_date,title:o[e.movie_id].movie_title,id:o[e.movie_id].tmdb_id}),T(e),k(!0);case 3:case"end":return t.stop()}}),t)})))},r.a.createElement(Xe.k,{fontSize:"24px"}))),r.a.createElement(Ie,{arrow:!1,position:"top",trigger:"mouseenter",theme:"dark",content:function(e){return r.a.createElement("div",{className:"py-2 px-3 rounded bg-root"},"Delete comment")}},r.a.createElement("div",{className:"col-auto text-muted btn-tertiary-small d-flex flex-center",onClick:Object(l.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return z(e._id),t.next=3,M(e._id);case 3:a=t.sent,z(-1),a.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Couldn't delete comment",type:"failure",message:a.error}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Success",type:"success",message:"Comment successfully deleted"}}),m());case 6:case"end":return t.stop()}}),t)})))},D===e._id?r.a.createElement("div",{className:"square-20"},r.a.createElement(Te,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:!0,size:20})):r.a.createElement(Xe.n,{fontSize:"24px"})))):""))),r.a.createElement("div",{className:"row no-gutters text-light mb-3 flex-grow-0 font-weight-300"},e.comment),r.a.createElement("div",{className:"row no-gutters flex-grow-1"},r.a.createElement("div",{className:"col-60 d-flex flex-column justify-content-end"},r.a.createElement("div",{className:"row no-gutters justify-content-end align-items-center text-white"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},e.likes.length),r.a.createElement("div",{className:"col-auto mr-2 "},r.a.createElement(O.j,{fontSize:"24px",className:"text-green"})))))))))})):r.a.createElement("div",{className:"row no-gutters flex-center bg-over-root-lighter rounded p-5",style:{height:"150px"}},"You have not commented on any comments. We encourage you to share your opinion on your friends and family comments."),r.a.createElement("div",{className:"row no-gutters justify-content-sm-end justify-content-center mt-2"},r.a.createElement("div",{className:"col-auto mb-4 mr-sm-2 mr-md-0"},r.a.createElement(lt,{classNames:{notSelected:"input-dark",selected:"input-dark-selected"},count:Math.ceil(t.length/8),current:R,setCurrent:g})))))})),Ra=a(137),Ya=function(e){var t=e.user,a=e.refreshProfile,o=e.editProfileOpen,s=e.onClose,c=e.userId,m=Object(n.useState)({first_name:"",last_name:"",display_name:"",photo:"",password:"",confirm_assword:"",_id:"",token:""}),u=Object(E.a)(m,2),p=u[0],v=u[1],g=Object(n.useState)(""),f=Object(E.a)(g,2),h=f[0],b=f[1],y=Object(n.useRef)(null);Object(n.useEffect)((function(){t.photo&&v((function(e){return Object.assign({},e,{first_name:t.first_name,last_name:t.last_name,display_name:t.display_name,email:t.email,photo:t.photo,token:t.token})}))}),[t.first_name]);var w=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],n={maxSizeMB:1,maxWidthOrHeight:100,useWebWorker:!0},e.prev=2,e.next=5,Object(Ra.a)(a,n);case 5:return r=e.sent,e.next=8,Ra.a.getDataUrlFromFile(r);case 8:o=e.sent,v((function(e){return Object.assign({},e,{photo:o})})),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),N=[{valid:/[^\w\s]/.test(p.password)||/\d/.test(p.password),error:"Password must contain number or symbol"},{valid:p.password===p.confirm_assword,error:"Passwords don't match"},{valid:p.password.length>=6,error:"Password must contain at least 6 characters"}];return r.a.createElement(Je,{open:o,onClose:s},r.a.createElement("div",{className:"col-xl-30 col-lg-40 col-md-50 col-58 bg-over-root-lighter rounded p-sm-5 p-4"},r.a.createElement("div",{className:"row no-gutters mb-3 text-title-lg"},"Update profile"),r.a.createElement("div",{className:"row no-gutters justify-content-center mb-5"},r.a.createElement("div",{className:"col-auto text-center"},r.a.createElement("div",{className:"row no-gutters justify-content-center"},r.a.createElement("div",{className:"square-100 bg-image rounded-circle d-flex align-items-end overflow-hidden mb-2",style:{backgroundImage:"url(".concat(p.photo,")")}},r.a.createElement("input",{spellCheck:!1,onChange:w,type:"file",className:"d-none",ref:y}))),r.a.createElement("div",{className:"btn-custom btn-custom-primary px-4",onClick:function(){return y.current.click()}},"Upload photo"))),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-30 pr-2"},r.a.createElement("div",{className:"row no-gutters text-light"},"First Name"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{spellCheck:!1,type:"text",className:"input-light px-3 w-100",value:p.first_name,onChange:function(e){e.persist(),v((function(t){return Object.assign({},t,{first_name:e.target.value})}))}}))),r.a.createElement("div",{className:"col-30"},r.a.createElement("div",{className:"row no-gutters text-light"},"Last Name"),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("input",{spellCheck:!1,type:"text",className:"input-light px-3 w-100",value:p.last_name,onChange:function(e){e.persist(),v((function(t){return Object.assign({},t,{last_name:e.target.value})}))}})))),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 text-light"},"Email"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{disabled:!0,spellCheck:!1,type:"text",className:"input-light-disabled px-3 w-100 user-select-none",value:p.email}))),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 text-light"},"Display Name"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{spellCheck:!1,type:"text",className:"input-light px-3 w-100",value:p.display_name,onChange:function(e){e.persist(),v((function(t){return Object.assign({},t,{display_name:e.target.value})}))}}))),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 text-light"},"Password"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{type:"password",spellCheck:!1,className:"input-light px-3 w-100",value:p.password,onChange:function(e){e.persist(),v((function(t){return Object.assign({},t,{password:e.target.value})}))}}))),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-60 text-light"},"Confirm Password"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{spellCheck:!1,type:"password",className:"input-light px-3 w-100",value:p.confirm_assword,onChange:function(e){e.persist(),v((function(t){return Object.assign({},t,{confirm_assword:e.target.value})}))}}))),r.a.createElement("div",{className:"row no-gutters align-items-center text-danger justify-content-end",style:{height:"50px",opacity:h?1:0}},h),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-auto btn-custom btn-custom-secondary btn-small mr-sm-2 mb-2 col-60",onClick:s},"Cancel"),r.a.createElement("div",{className:"col-sm-auto col-60 btn-custom btn-custom-primary btn-small",onClick:Object(l.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=N.filter((function(e){return!e.valid}))).length||!p.password){e.next=5;break}b(t[0].error),e.next=11;break;case 5:return n={},Object.keys(p).forEach((function(e){p[e]&&(n[e]=p[e])})),e.next=9,Z(n);case 9:(r=e.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:r.error,type:"failure"}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Profile updates",message:"You successfully updated your profile",type:"success"}}),d.dispatch({type:"UPDATE_PUBLICUSERS",publicUser:Object(Ze.a)({},c,r.updatedPublicUser)}),d.dispatch({type:"UPDATE_USER",userProperty:r.updatedUser}),a(),s(),localStorage.movies_user_token=r.newToken);case 11:case"end":return e.stop()}}),e)})))},"Save"))))};var Ua=Object(p.b)((function(e,t){return Object(h.a)({user:e.user,ratings:e.ratings,publicUsers:e.publicUsers},t)}))((function(e){var t=e.user,a=e.match.params.userId,o=e.publicUsers,s=e.ratings,c=e.match.params.section,m=Object(n.useState)({wishlist:[],comments:[],watchedlist:[],reviews:[],first_name:"",last_name:""}),u=Object(E.a)(m,2),d=u[0],p=u[1],v=Object(n.useState)(!1),g=Object(E.a)(v,2),f=g[0],h=g[1],b=Object(n.useState)(!1),y=Object(E.a)(b,2),w=y[0],N=y[1],x=Object(n.useState)([]),O=Object(E.a)(x,2),_=O[0],j=O[1],k=Object(n.useState)([]),C=Object(E.a)(k,2),S=C[0],I=C[1],T=Object(n.useRef)(!1),A=Object(n.useRef)(!1),P=Object(n.useState)(0),D=Object(E.a)(P,2),z=D[0],R=D[1],Y=Object(n.useState)(!1),U=Object(E.a)(Y,2),M=U[0],F=U[1],L=Object(n.useState)(!1),W=Object(E.a)(L,2),q=W[0],B=W[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,K(a);case 3:(t=e.sent).error||p(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,q,t.wishlist.length]),Object(n.useEffect)((function(){void 0!==c&&R(+c)}),[c]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2!==z||T.current||!d.reviews.length){e.next=8;break}return T.current=!0,e.next=4,V(d.reviews);case 4:(t=e.sent).error||j(t.reverse()),e.next=14;break;case 8:if(3!==z||A.current){e.next=14;break}return A.current=!0,e.next=12,J(d.comments);case 12:(a=e.sent).error||I(a.reverse());case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[z,d.reviews.length]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T.current){e.next=6;break}return N(!w),e.next=4,V(d.reviews);case 4:(t=e.sent).error||j(t.reverse());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A.current){e.next=6;break}return B(!q),e.next=4,J(d.comments);case 4:(t=e.sent).error||I(t.reverse());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[w]),r.a.createElement("div",{className:"row no-gutters",style:{minHeight:"800px"}},r.a.createElement(Ya,{userId:a,refreshProfile:function(){return B(!q)},editProfileOpen:M,user:t,onClose:function(){return F(!1)}}),r.a.createElement("div",{className:"col-60 content-container mx-auto p-sm-5 p-4"},r.a.createElement("div",{className:"row no-gutters justify-content-xl-between justify-content-center text-white bg-over-root-lighter p-sm-5 p-4 rounded mb-2"},r.a.createElement("div",{className:"col-auto mb-4 mr-lg-5"},r.a.createElement("div",{className:"row no-gutters justify-content-xl-start justify-content-center"},r.a.createElement("div",{className:"col-auto bg-image square-100 rounded-circle mr-md-4",style:{backgroundImage:"url(".concat(o[a]?o[a].photo:"",")")}}),r.a.createElement("div",{className:"col-60 col-md-auto"},d.first_name||d.last_name?r.a.createElement("div",{className:"row no-gutters text-title-lg justify-content-md-start justify-content-center"},r.a.createElement("div",{className:"col-auto mr-2"},d.first_name?d.first_name:""),r.a.createElement("div",{className:"col-auto"},d.last_name?d.last_name:"")):r.a.createElement("div",{className:"row no-gutters h5 justify-content-md-start justify-content-center"},"Full name is empty"),r.a.createElement("div",{className:"row no-gutters justify-content-md-start justify-content-center text-title-md mb-2"},r.a.createElement("div",{className:"text-truncate",style:{maxWidth:"150px"}},"@",o[a]?o[a].display_name:"")),t._id===a?r.a.createElement("div",{className:"row no-gutters justify-content-md-start justify-content-center"},r.a.createElement("div",{className:"col-auto btn-custom btn-custom-primary btn-small",onClick:function(){return F(!0)}},"Edit Profile")):""))),r.a.createElement("div",{className:"col-sm-auto col-60"},r.a.createElement("div",{className:"row no-gutters justify-content-center h-100 align-items-center"},r.a.createElement("div",{className:"col-sm-auto col mr-sm-4"},r.a.createElement("div",{className:"row no-gutters mb-3 profile-stats-title"},"Wishlist"),r.a.createElement("div",{className:"row no-gutters text-lift justify-content-end"},d.wishlist.length)),r.a.createElement("div",{className:"col-sm-auto col mr-sm-4 mr-0"},r.a.createElement("div",{className:"row no-gutters mb-3 profile-stats-title"},"Watched"),r.a.createElement("div",{className:"row no-gutters text-lift justify-content-end"},d.watchedlist.length)),r.a.createElement("div",{className:"col-sm-auto col mr-sm-4 mr-0"},r.a.createElement("div",{className:"row no-gutters mb-3 profile-stats-title"},"Reviews"),r.a.createElement("div",{className:"row no-gutters text-lift justify-content-end profile-stats-title"},d.reviews.length)),r.a.createElement("div",{className:"col-sm-auto col"},r.a.createElement("div",{className:"row no-gutters mb-3 profile-stats-title"},"Comments"),r.a.createElement("div",{className:"row no-gutters text-lift justify-content-end"},d.comments.length))))),r.a.createElement("div",{className:"bg-over-root-lighter row no-gutters rounded w-100 justify-content-between text-white"},r.a.createElement("div",{className:"col-60"},r.a.createElement(at.a,{style:{maxWidth:"100%",overflowX:"auto",whiteSpace:"nowrap"}},r.a.createElement("div",{className:"d-inline-block p-sm-4 p-3 cursor-pointer mr-4 text-title-md mb-0 user-select-none",style:{borderTop:"3px solid transparent",borderBottom:0===z?"3px solid rgb(255, 0, 64)":"3px solid transparent"},onClick:function(){return R(0)}},"Wishlist"),r.a.createElement("div",{style:{borderTop:"3px solid transparent",borderBottom:1===z?"3px solid rgb(255, 0, 64)":"3px solid transparent"},className:"d-inline-block p-sm-4 p-3 cursor-pointer mr-4 text-title-md mb-0 user-select-none",onClick:function(){return R(1)}},"Watched"),r.a.createElement("div",{style:{borderTop:"3px solid transparent",borderBottom:2===z?"3px solid rgb(255, 0, 64)":"3px solid transparent"},className:"d-inline-block p-sm-4 p-3 cursor-pointer mr-4 text-title-md mb-0 user-select-none",onClick:function(){return R(2)}},"Reviews"),r.a.createElement("div",{style:{borderTop:"3px solid transparent",borderBottom:3===z?"3px solid rgb(255, 0, 64)":"3px solid transparent"},className:"d-inline-block p-sm-4 p-3 cursor-pointer mr-4 text-title-md mb-0 user-select-none",onClick:function(){return R(3)}},"Comments")))),0===z?r.a.createElement(Aa,{ratings:s,refreshProfile:function(){return B(!q)},movies:d.wishlist,owner:t._id===d._id,user:t}):1===z?r.a.createElement(Pa,{ratings:s,movies:d.watchedlist}):2===z?r.a.createElement(Da,{refreshReviews:function(){return h(!f)},user:t,ratings:s,reviews:_,owner:t._id===d._id}):3===z?r.a.createElement(za,{refreshComments:function(){return N(!w)},user:t,ratings:s,comments:S,owner:t._id===d._id}):""))})),Ma=function(e){var t=e.Component,a=e.bearerPath,o=(e.user,Object(Ce.a)(e,["Component","bearerPath","user"])),s=o.computedMatch.url,c=Object(n.useState)({ready:!1,valid:!1}),m=Object(E.a)(c,2),u=m[0],p=m[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=localStorage.getItem("movies_user_token"))&&t.length){e.next=5;break}p((function(e){return Object.assign({},e,{ready:!0})})),e.next=9;break;case 5:return e.next=7,S({token:t});case 7:(a=e.sent).error?(f.push("/"),d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Your role is not admin",message:"Only website admins can access this page",type:"failure"}})):"Administrator"===a.role?p((function(e){return Object.assign({},e,{ready:!0,valid:!0})})):(d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Your role is not admin",message:"Contact website administrator to change your role",type:"failure"}}),f.push("/"));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),u.ready?r.a.createElement(v.b,Object.assign({},o,{render:function(e){return u.valid?r.a.createElement(t,e):r.a.createElement(v.a,{to:{pathname:a,state:{successPath:s}}})}})):r.a.createElement("div",null)},Fa=a(191),La=function(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],o=t[1],s=!1,c=localStorage.getItem("closed_movies_announcements");c=c?JSON.parse(c):[];var m,u=Object(Fa.a)(a);try{for(u.s();!(m=u.n()).done;){var d=m.value;if(!c.includes(d.description)){s=d;break}}}catch(h){u.e(h)}finally{u.f()}var p=Object(n.useState)(!1),v=Object(E.a)(p,2),g=v[0],f=v[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:(t=e.sent).error||t.length&&o(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),s&&s.description&&!g?r.a.createElement("div",{className:"row p-2 position-relative no-gutters justify-content-center ".concat("Warning"===s.type?"bg-warning":"Information"===s.type?"bg-primary":"Error"===s.type?"bg-danger":"")},r.a.createElement("div",{onClick:function(){f(!0),c.push(s.description),localStorage.setItem("closed_movies_announcements",JSON.stringify(c))},className:"square-20 rounded-circle d-flex flex-center bg-white cursor-pointer scale-transition position-absolute",style:{right:"10px",top:0,bottom:0,margin:"auto",zIndex:5}},r.a.createElement(Xe.o,{className:"text-dark"})),r.a.createElement("div",{className:"col-60 content-container text-white"},r.a.createElement("div",{className:"row no-gutters justify-content-center"},r.a.createElement("div",{className:"col-auto mr-2 d-none d-md-block",style:{width:"30px"}}),r.a.createElement("div",{className:"col mr-2 pl-2 pl-md-0"},r.a.createElement("div",{className:"row no-gutters justify-content-center"},s.description)),r.a.createElement("div",{className:"col-auto",style:{width:"30px"}})))):""};var Wa=function(e){return n.createElement("div",{className:"square-35 position-relative cursor-pointer"},n.createElement("div",{className:"position-absolute text-white",style:{top:"0px",right:"5px",fontSize:"10px"}},e.count?e.count:0),n.createElement("svg",Object.assign({viewBox:"-11 0 512 512",width:"100%"},e),n.createElement("path",{d:"M298.668 426.668c0 47.129-38.207 85.332-85.336 85.332S128 473.797 128 426.668c0-47.129 38.203-85.336 85.332-85.336 47.129 0 85.336 38.207 85.336 85.336zm0 0",fill:"#ffa000"}),n.createElement("path",{d:"M362.836 254.316c-72.32-10.328-128.168-72.515-128.168-147.648 0-21.336 4.562-41.578 12.648-59.95-10.921-2.558-22.27-4.05-33.984-4.05C130.988 42.668 64 109.652 64 192v59.477c0 42.218-18.496 82.07-50.945 109.503A37.235 37.235 0 000 389.332c0 20.59 16.746 37.336 37.332 37.336h352c20.59 0 37.336-16.746 37.336-37.336 0-10.922-4.758-21.27-13.27-28.543-31.488-26.644-49.75-65.324-50.562-106.473zm0 0",fill:"#ffc107"}),n.createElement("path",{d:"M490.668 106.668c0 58.91-47.758 106.664-106.668 106.664s-106.668-47.754-106.668-106.664C277.332 47.758 325.09 0 384 0s106.668 47.758 106.668 106.668zm0 0",fill:"#f44336"})))},qa=a(360);var Ba=Object(p.b)((function(e,t){return Object(h.a)({user:e.user,ratings:e.ratings},t)}))((function(e){var t=e.movies,a=e.onClick;return r.a.createElement("div",{className:"row"},t.map((function(e,t){return r.a.createElement("div",{key:"result-".concat(t),className:"p-2 movie-card-minified",style:{flexBasis:"300px",flexGrow:1},onClick:function(){f.push("/movie/".concat(e.name?"serie-".concat(e.id):e.id)),a()}},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-3"},r.a.createElement("div",{className:"row no-gutters mb-2 position-relative"},r.a.createElement("div",{className:"square-70 bg-image rounded",style:{backgroundImage:"url(".concat(e.poster_path?"https://image.tmdb.org/t/p/w342".concat(e.poster_path):"https://critics.io/img/movies/poster-placeholder.png",")")}}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters mb-0 cursor-pointer",onClick:function(){return f.push("/movie/".concat(e.id))}},r.a.createElement("div",{className:"text-truncate"},e.title?e.title:e.name)),r.a.createElement("div",{className:"row no-gutters text-muted mb-2"},r.a.createElement("div",{className:"text-truncate",style:{maxWidth:"100%"}},e.genre_ids.length?e.genre_ids.map((function(e){var t=w.find((function(t){return t.id===e})),a=N.find((function(t){return t.id===e}));return t?t.name:a?a.name:"unkonwn"})).join("/"):"unknown")))))})))}));var Ha=Object(p.b)((function(e,t){return Object(h.a)({publicUsers:e.publicUsers,ratings:e.ratings},t)}))((function(e){var t=e.reviews,a=e.publicUsers,o=e.ratings,s=Object(n.useState)(-1),c=Object(E.a)(s,2),i=c[0],l=c[1];return t.slice(0,8).map((function(e,t){return r.a.createElement("div",{onClick:function(){return f.push("/movie/".concat(e.movie_id))},key:"review-".concat(t),className:"row no-gutters p-2 border-bottom rounded mb-2 text-dark movie-card-minified"},r.a.createElement("div",{className:"col-sm-auto col-20 pr-4 d-none d-sm-block",style:{maxWidth:"100px"}},r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("img",{alt:o[e.movie_id].movie_poster,width:"100%",style:{borderRadius:"13px",cursor:"pointer"},src:"https://image.tmdb.org/t/p/w154".concat(o[e.movie_id].movie_poster)}))),r.a.createElement("div",{className:"col d-flex flex-column"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center mb-2 flex-grow-0"},r.a.createElement("div",{className:"col-60 d-block d-sm-none mb-3"},r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("div",{className:"col-auto pr-3"},r.a.createElement("div",{className:"square-70 rounded bg-image",style:{backgroundImage:"url(https://image.tmdb.org/t/p/w154".concat(o[e.movie_id].movie_poster,")")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters h6 mb-0"},o[e.movie_id].movie_title," (",o[e.movie_id].movie_release_date.substring(0,4)),r.a.createElement("div",{className:"row no-gutters text-muted"},r.a.createElement("div",{className:"text-truncate"},e.movie_genres))))),r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters justify-content-between"},r.a.createElement("div",{className:"col-auto mb-2"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto pr-2"},r.a.createElement("div",{className:"bg-image rounded-circle square-40",style:{backgroundImage:"url(".concat(a[e.author]?a[e.author].photo:"",")")}})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-3 mb-0"},a[e.author]?a[e.author].display_name:""))))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("span",{className:"mr-2"},"Posted review on"),r.a.createElement("span",{className:"text-muted"},ct.a.format(new Date(e.date),"MMM DD, YYYY"))))))),r.a.createElement("div",{className:"row no-gutters mb-3 font-size-14 flex-grow-0"},e.review),r.a.createElement("div",{className:"row no-gutters flex-grow-1 align-items-bottom"},r.a.createElement("div",{className:"col-60 d-flex flex-column justify-content-end"},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},e.rating?r.a.createElement("div",{style:{marginBottom:"-6px"}},r.a.createElement(b.a,{emoji:"excellent_rate"===e.rating?"fire":"good_rate"===e.rating?"heart":"ok_rate"===e.rating?"heavy-division-sign":"shit",set:"facebook",size:24})):"")),r.a.createElement("div",{className:"col-auto px-0"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto mr-2"},e.likes.length),r.a.createElement("div",{className:"col-auto mr-2 "},r.a.createElement(O.j,{fontSize:"24px",className:"text-green"})),r.a.createElement("div",{className:"col-auto mr-2"},e.comments.length),r.a.createElement("div",{className:"col-auto"},r.a.createElement(O.b,{onClick:function(){l(i===e._id?-1:e._id)},fontSize:"24px",className:"text-orange scale-transition cursor-pointer"})))))))))}))}));var Ga=Object(p.b)((function(e,t){return Object(h.a)({user:e.user,search:e.search,settings:e.settings},t)}))((function(e){var t=["All","Movies","Series","Reviews"],a=e.search.category,o=e.settings,s=Object(n.useState)(""),c=Object(E.a)(s,2),m=c[0],u=c[1],p=Object(n.useState)([]),v=Object(E.a)(p,2),g=v[0],h=v[1],b=Object(n.useState)([]),y=Object(E.a)(b,2),w=y[0],N=y[1],x=Object(n.useState)([]),O=Object(E.a)(x,2),_=O[0],j=O[1],k=Object(n.useState)(!1),C=Object(E.a)(k,2),S=C[0],I=C[1],T=Object(n.useRef)(!1),A=function(){d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:"You need to provide valid api key in admin dashboard",type:"failure"}})};return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=29;break}if(I(!0),T.current=!1,"Reviews"!==a&&"All"!==a){e.next=10;break}return e.next=6,te(m);case 6:(t=e.sent).error||T.current||h(t.slice(0,5)),e.next=11;break;case 10:h([]);case 11:if("Movies"!==a&&"All"!==a){e.next=18;break}return e.next=14,Ge(m,o.movies_api_key);case 14:(n=e.sent).results?T.current||N(n.results.slice(0,10)):A(),e.next=19;break;case 18:N([]);case 19:if("Series"!==a&&"All"!==a){e.next=26;break}return e.next=22,Ke(m,o.movies_api_key);case 22:(r=e.sent).results?T.current||j(r.results.slice(0,10)):A(),e.next=27;break;case 26:j([]);case 27:e.next=34;break;case 29:T.current=!0,I(!1),N([]),j([]),h([]);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m,a]),r.a.createElement("div",{className:"row no-gutters w-100"},r.a.createElement("div",{className:"col-60 position-relative"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(It,{popoverClass:"col-auto",items:t,onSelect:function(e){return d.dispatch({type:"UPDATE_SEARCH",search:{category:t[e]}})},popoverWidth:"150px",className:"col-auto input-prepend-select",btnName:a}),r.a.createElement("div",{className:"col position-relative"},r.a.createElement("input",{onBlur:Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:I(!1);case 3:case"end":return e.stop()}}),e)}))),onFocus:Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I(!0));case 1:case"end":return e.stop()}}),e)}))),value:m,onKeyUp:function(e){13===e.keyCode&&(u(""),d.dispatch({type:"UPDATE_SEARCH",search:{query:m}}),f.push("/search"))},onChange:function(e){e.persist(),u(e.target.value)},type:"text",spellCheck:!1,className:"w-100 input"}),r.a.createElement(Xe.m,{onClick:function(){return f.push("/search")},fontSize:"24px",className:"position-absolute text-white cursor-pointer",style:{top:0,bottom:0,right:"20px",margin:"auto"}}))),r.a.createElement("div",{className:"row no-gutters position-absolute px-3 bg-white w-100 overflow-auto",style:{top:"50px",left:0,maxHeight:"500px"}},r.a.createElement("div",{className:"col-60"},S?r.a.createElement(r.a.Fragment,null,w.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row no-gutters pt-3 pb-1 font-weight-bold"},"Movies (",w.length,")"),r.a.createElement(Ba,{onClick:function(){return u("")},movies:w})):"",_.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row no-gutters pt-3 pb-1 font-weight-bold"},"Series (",_.length,")"),r.a.createElement(Ba,{movies:_,onClick:function(){return u("")}})):"",g.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row no-gutters pt-3 pb-1 font-weight-bold"},"Reviews (",g.length,")"),r.a.createElement(Ha,{reviews:g,onClick:function(){return u("")}})):""):""),r.a.createElement("div",{className:"col-60"}))))}));var Ka=Object(qa.a)(Object(p.b)((function(e,t){return Object(h.a)({user:e.user,search:e.search,dashboardMenuOpened:e.dashboardMenuOpened},t)}))((function(e){var t=e.user,a=e.dashboardMenuOpened,o=e.height,s=Object(n.useState)(!0),c=Object(E.a)(s,2),m=c[0],u=c[1],p=Object(n.useRef)(100),g=Object(n.useState)("up"),h=Object(E.a)(g,2),b=h[0],y=h[1],w=Object(n.useState)([]),N=Object(E.a)(w,2),x=N[0],_=N[1],k=Object(n.useRef)(null),C=Object(v.e)();return Object(n.useEffect)((function(){function e(){var e=window.scrollY;p.current<e?y("down"):y("up"),p.current=e,u(0===e)}return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.notifications){e.next=5;break}return e.next=3,be(t.notifications);case 3:(a=e.sent).error||_(a.map((function(e){return Object.assign({},e,{seen:!1})})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(n.useEffect)((function(){o&&d.dispatch({type:"SET_HEIGHT",height:o})}),[o]),"/login"===C.pathname||"/signup"===C.pathname||"/forgot-password"===C.pathname||C.pathname.includes("/reset-password")?r.a.createElement("div",null):r.a.createElement("div",{className:"col-60 px-0",style:{position:"sticky",zIndex:59,transition:"all 0.5s",top:"up"===b?"0px":"-".concat(o,"px"),left:0,right:0}},r.a.createElement(La,null),r.a.createElement("div",{className:"bg-transition row no-gutters justify-content-center".concat(m?"":" bg-root")},r.a.createElement("div",{className:"col-60".concat("/admin"!==C.pathname?" content-container":"")},r.a.createElement("div",{className:"row no-gutters justify-content-between px-3 py-2 align-items-center flex-nowrap"},r.a.createElement("div",{className:"col-auto d-none d-sm-block pr-sm-5 pr-3 text-white pl-sm-3 pl-2"},r.a.createElement("div",{className:"row no-gutters align-items-end cursor-pointer",onClick:function(){return f.push("/")}},r.a.createElement("div",{className:"square-50 mr-2"},r.a.createElement(Nt,null)),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters h4 logo"},"CozyPotato"),r.a.createElement("div",{className:"row no-gutters justify-content-end text-light",style:{fontSize:"13px",marginTop:"-14px"}},"Community")))),r.a.createElement("div",{className:"d-block d-sm-none cursor-pointer",onClick:function(){return f.push("/")}},r.a.createElement("div",{className:"square-40 mx-auto"},r.a.createElement(Nt,null)),r.a.createElement("div",{className:"col-auto text-white"},r.a.createElement("div",{className:"row no-gutters logo h5"},"CozyPotato"),r.a.createElement("div",{className:"row no-gutters justify-content-end text-light",style:{fontSize:"10px",marginTop:"-10px"}},"Community"))),r.a.createElement("div",{className:"col pr-3 d-none d-md-block"},r.a.createElement(Ga,{navbarHeight:o})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},t.display_name?r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Ie,{content:function(e){return r.a.createElement("div",{className:"container-fluid rounded px-0 overflow-auto",style:{maxWidth:"400px",width:"100%",maxHeight:"450px"}},x.length?x.map((function(e,a){return r.a.createElement("div",{key:"notificaiton-".concat(a),className:"row no-gutters p-3".concat(a!==x.length-1?" border-bottom":"")},r.a.createElement("div",{className:"col-60 text-left mb-1 font-weight-bold"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col mr-3"},e.subject),r.a.createElement("div",{className:"col-auto text-left text-primary-custom"},r.a.createElement("small",null,ct.a.format(new Date(e.start_date),"MMM DD, YYYY"))))),r.a.createElement("div",{className:"col-60 text-left font-size-13"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col mr-3 text-break"},e.description),r.a.createElement("div",{className:"col-auto"},r.a.createElement(Xe.p,{onClick:Object(l.a)(i.a.mark((function a(){var n,r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o=e._id,s=t._id,j("/user/notifications/delete",{id:o,userId:s});case 2:a.sent.error||(n=d.getState().user.notifications,-1!==(r=n.findIndex((function(t){return t===e._id})))&&n.splice(r,1),d.dispatch({type:"UPDATE_USER",userProperty:{notifications:n}}));case 4:case"end":return a.stop()}var o,s}),a)}))),fontSize:"26px",className:"cursor-pointer notification-close-icon"})))))})):r.a.createElement("div",{className:"row no-gutters flex-center p-4"},"You don't have notifications right now"))}},r.a.createElement("div",{className:"col-auto"},r.a.createElement(Wa,{count:x.length}))))):"",r.a.createElement("div",{className:"col-auto text-white"},t.display_name?r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement(Ie,{content:function(e){return r.a.createElement("div",{style:{borderRadius:"4px",overflow:"hidden",minWidth:"".concat(e,"px")}},"Administrator"===t.role?r.a.createElement("div",{className:"popover-item border-bottom",onClick:function(){k.current.click(),f.push("/admin")}},"Administration"):"",r.a.createElement("div",{className:"popover-item border-bottom",onClick:function(){k.current.click(),f.push("/profile/".concat(t._id))}},"My Profile"),r.a.createElement("div",{className:"popover-item border-bottom",onClick:function(){k.current.click(),f.push("/profile/".concat(t._id,"/2"))}},"My Reviews"),r.a.createElement("div",{className:"popover-item border-bottom",onClick:function(){k.current.click(),f.push("/profile/".concat(t._id,"/0"))}},"My Wishlist"),r.a.createElement("div",{className:"popover-item",onClick:function(){k.current.click(),localStorage.removeItem("movies_user_token"),d.dispatch({type:"SET_USER",user:{first_name:"",last_name:"",display_name:"",photo:"",token:"",email:"",ratings:{},reviews:[],wishlist:[],watchedlist:[],notifications:[]}}),f.push("/")}},"Logout"))}},r.a.createElement("div",{className:"col-60",ref:k},r.a.createElement("div",{className:"row no-gutters align-items-center cursor-pointer"},r.a.createElement("div",{className:"col-auto mr-2 rounded-circle square-40 bg-image",style:{backgroundImage:"url(".concat(t.photo,")"),border:"1px solid white"}}),r.a.createElement("div",{className:"col-auto mr-2 d-none d-sm-block"},r.a.createElement("div",{className:"text-truncate",style:{maxWidth:"120px"}},t.display_name)),r.a.createElement("div",{className:"col-auto user-select-none"},r.a.createElement(Xe.e,{fontSize:"14px"})))))):r.a.createElement("div",{className:"row no-gutters pr-sm-3 pr-2 align-items-center"},r.a.createElement("div",{className:"col-auto cursor-pointer fb-btn",onClick:function(){f.push("/login")}},"Login"),r.a.createElement("div",{className:"col-auto cursor-pointer fb-btn",onClick:function(){return f.push("/signup")}},"Signup"))),"/admin"===C.pathname?r.a.createElement(O.e,{className:"text-white col-auto d-block d-lg-none cursor-pointer",fontSize:"34px",onClick:function(){return d.dispatch({type:"SET_DASHBOARD_MENU_OPENED",isOpened:!a})}}):""))))))})));var Va=Object(p.b)((function(e,t){return Object(h.a)({user:e.user,settings:e.settings},t)}))((function(e){var t=e.user,a=e.settings,n=[{name:"Home",path:"/",condition:!0},{name:"My Wishlist",condition:t.display_name,path:t._id?"/profile/".concat(t._id,"/0"):"/login"},{condition:t.display_name,name:"My Reviews",path:t._id?"/profile/".concat(t._id,"/2"):"/login"},{name:"About Us",path:"/",condition:!0},{name:"Contact",path:"/",condition:!0}],o=[{icon:ht.b,path:a.FacebookLink},{icon:ht.c,path:a.InstagramLink},{icon:ht.d,path:a.LinkedinLink},{icon:ht.f,path:a.TwitterLink}],s=[{name:"Privacy policy",path:"/privacy-policy"},{name:"Cookies Policy",path:"/cookies-policy"},{name:"Terms And Conditions",path:"/terms-and-conditions"}],c=Object(v.e)();return"/login"===c.pathname||"/signup"===c.pathname||"/forgot-password"===c.pathname||c.pathname.includes("/reset-password")?"":r.a.createElement("div",{className:"row no-gutters justify-content-center bg-over-root text-muted"},r.a.createElement("div",{className:"px-sm-5 px-4 py-4 col-60".concat("/admin"!==c.pathname?" content-container":"")},r.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center font-size-16"},r.a.createElement("div",{className:"col-auto mb-2"},r.a.createElement("div",{className:"row no-gutters"},n.filter((function(e){return e.condition})).map((function(e,t){return r.a.createElement("div",{key:"footer-item-".concat(t),className:"col-auto btn-tertiary text-muted-light",onClick:function(){return f.push(e.path)}},e.name)})))),r.a.createElement("div",{className:"col-md-auto col-60 px-3 mb-2"},r.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-md-start"},o.map((function(e,t){return r.a.createElement("div",{key:"social-icon-".concat(t),className:"col-auto scale-transition cursor-pointer mr-".concat(t===o.length-1?"0":"2")},r.a.createElement("div",{className:"square-40 rounded-circle bg-white d-flex flex-center",onClick:function(){window.open(e.path)}},r.a.createElement(e.icon,{fontSize:"24px",className:"text-dark"})))}))))),r.a.createElement("div",{className:"row no-gutters justify-content-md-between justify-content-center"},r.a.createElement("div",{className:"col-auto px-3"},"\xa92020 CozyPotato, Inc."),r.a.createElement("div",{className:"col-auto px-3"},r.a.createElement("div",{className:"row no-gutters"},s.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"footer-item-".concat(t)},r.a.createElement("div",{className:"col-auto link-primary d-sm-block d-none",onClick:function(){return f.push(e.path)}},e.name),r.a.createElement("div",{className:"col-auto link-primary d-block d-sm-none",onClick:function(){return f.push(e.path)}},e.name.split(" ")[0]),t!==s.length-1&&r.a.createElement("div",{className:"px-2"},"|"))})))))))}));var Xa=Object(p.b)((function(e,t){return Object(h.a)({user:e.user,ratings:e.ratings,settings:e.settings},t)}))((function(e){var t=e.match.params.movieId,a=e.ratings,o=e.settings.movies_api_key,s=e.user,c=Object(n.useState)(-1),m=Object(E.a)(c,2),u=m[0],p=m[1],v=Object(n.useState)({poster_path:"",genres:[],title:"",overview:"",director:"",cast:[],runtime:0,release_date:"",id:""}),g=Object(E.a)(v,2),h=g[0],b=g[1],y=Object(n.useState)(!1),w=Object(E.a)(y,2),N=w[0],x=w[1];return Object(n.useEffect)((function(){h.title&&W(h)}),[h.title]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var a,n,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!o){e.next=14;break}return e.next=3,qe(t,o);case 3:return a=e.sent,b((function(e){return Object.assign({},e,Object.assign({},a,{title:a.name,release_date:a.first_air_date}))})),e.next=7,He(t,o);case 7:n=e.sent,r=n.crew?n.crew.find((function(e){return"Director"===e.job})):null,s=r?r.name:"unknown",c=n.cast?n.cast.map((function(e){return e.name})):[],a.director=s,a.cast=c,b((function(e){return Object.assign({},e,{director:s,cast:c})}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.scrollTo(0,0),function(){e.apply(this,arguments)}()}),[t,o]),r.a.createElement("div",{className:"row no-gutters justify-content-center bg-movie-over-root position-relative"},r.a.createElement("div",{className:"position-absolute w-100 d-block d-lg-none",style:{top:0,left:0}},r.a.createElement("div",{className:"position-relative",style:{height:window.innerHeight,overflow:"hidden"}},r.a.createElement("div",{className:"position-relative"},r.a.createElement("img",{alt:h.poster_path,width:"100%",src:"https://image.tmdb.org/t/p/w342/".concat(h.poster_path)}),r.a.createElement("div",{className:"position-absolute w-100 h-100",style:{background:"linear-gradient(rgba(0, 0, 0, 0.3) 90%, black)",top:0,left:0}})),r.a.createElement("div",{className:"position-absolute w-100 h-100",style:{background:"linear-gradient(rgb(0 0 0 / 30%), black)",top:0,left:0}}))),r.a.createElement(Je,{open:N,onClose:function(){return x(!1)}},r.a.createElement(Ve,{movieId:t,onEnded:function(){return x(!1)}})),r.a.createElement("div",{className:"col-60 text-white px-md-5 py-5 px-4 content-container"},r.a.createElement("div",{className:"row no-gutters py-5 mb-5"},r.a.createElement("div",{className:"col-auto mr-5 d-none d-lg-block"},r.a.createElement("div",{className:"w-100 position-relative"},r.a.createElement("img",{alt:h.poster_path,style:{borderRadius:"25px"},width:"300px",src:"https://image.tmdb.org/t/p/w342/".concat(h.poster_path)}),r.a.createElement("div",{onClick:function(){return f.push("/movie/".concat(h.id))},className:"col-60 h-100 text-white d-flex flex-center img-cover cursor-pointer",style:{left:0,top:0,position:"absolute",zIndex:4,borderRadius:"13px"}},r.a.createElement("div",{className:"square-60 rounded-circle d-flex flex-center play-btn",onClick:function(e){e.stopPropagation(),x(!0)}},r.a.createElement(Xe.l,{style:{fontSize:"35px",color:"white",marginRight:"-5px"}}))))),r.a.createElement("div",{className:"col position-relative"},r.a.createElement("div",{className:"row no-gutters position-relative",style:{zIndex:5}},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters h5"},h.title," (",h.release_date.substring(0,4),")"),r.a.createElement("div",{className:"row no-gutters text-movie-muted mb-2"},r.a.createElement("div",{className:"text-truncate"},h.genres.map((function(e){return e.name})).join("/"))),r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-auto font-weight-500 mr-2"},"Duration:"),r.a.createElement("div",{className:"col-auto text-movie-muted"},ze(h.runtime))),r.a.createElement("div",{className:"row no-gutters mb-4 text-light"},h.overview),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2"},"Director:"),r.a.createElement("div",{className:"col-auto mr-5 text-movie-muted"},h.director?h.director:"unknown"))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-auto mr-2"},"Cast:"),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"text-clamp-2 text-muted-light cursor-pointer",onClick:function(e){e.currentTarget.classList.contains("text-clamp-2")?e.currentTarget.classList.remove("text-clamp-2"):e.currentTarget.classList.add("text-clamp-2")}},h.cast.join("    "))))))),r.a.createElement("div",{className:"row no-gutters mb-3"},r.a.createElement(Ye,{selected:!!s.ratings[h.id]&&"excellent_rate"===s.ratings[h.id].rate_type,movie:h,emoji:"fire",className:"mr-2 mb-2",value:a[h.id]?a[h.id].excellent_rate:0}),r.a.createElement(Ye,{selected:!!s.ratings[h.id]&&"good_rate"===s.ratings[h.id].rate_type,movie:h,emoji:"heart",className:"mr-2 mb-2",value:a[h.id]?a[h.id].good_rate:0}),r.a.createElement(Ye,{selected:!!s.ratings[h.id]&&"ok_rate"===s.ratings[h.id].rate_type,movie:h,className:"mr-2 mb-2",emoji:"heavy_division_sign",value:a[h.id]?a[h.id].ok_rate:0}),r.a.createElement(Ye,{emoji:"shit",value:a[h.id]?a[h.id].bad_rate:0,selected:!!s.ratings[h.id]&&"bad_rate"===s.ratings[h.id].rate_type,movie:h})),r.a.createElement("div",{className:"row no-gutters mb-5"},r.a.createElement("div",{className:"col-auto mr-2"},"Release date:"),r.a.createElement("div",{className:"col-auto text-movie-muted"},ct.a.format(new Date(h.release_date),"MMMM DD, YYYY"))),r.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-md-start"},r.a.createElement("div",{className:"col-auto mr-3 btn-custom btn-custom-primary btn-small",onClick:function(){s.token?p(u+1):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to write review.",type:"failure"}})}},"Add Review",r.a.createElement(ht.e,{fontSize:"20px",className:"ml-2"})),r.a.createElement(Pe,{movie:h,user:s})))))),r.a.createElement(ft,{movie:h,user:s,addReviewTrigger:u})),r.a.createElement("div",{className:"col-60"},r.a.createElement(Va,null)))})),Ja=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)(""),c=Object(E.a)(s,2),m=c[0],u=c[1],p=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(t)){e.next=4;break}u("Email is not valid"),e.next=8;break;case 4:return e.next=6,je(t);case 6:(a=e.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{type:"failure",title:"Error",message:a.error}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{type:"success",title:"Password reset link sent",message:"We sent email with password reset link to your email box. If you didn't get email, check spam folder"}}),f.push("/login"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"row no-gutters justify-content-center aligm-items-start align-items-sm-center",style:{height:window.innerHeight}},r.a.createElement("div",{className:"col-xl-50 col-60 col-lg-50 col-md-30 col-sm-40 login-rounded overflow-hidden"},r.a.createElement("div",{className:"row no-gutters h-100"},r.a.createElement("div",{className:"col bg-dark d-lg-block d-none"},r.a.createElement("div",{className:"row no-gutters h-100 flex-center position-relative"},r.a.createElement("div",{className:"position-absolute d-flex align-items-center text-white cursor-pointer",onClick:function(){return f.push("/")},style:{top:"15px",left:"15px"}},r.a.createElement(Xe.f,{className:"mr-2"}),"Back to home"),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"square-150 mx-auto"},r.a.createElement(Nt,null)),r.a.createElement("div",{className:"logo text-title-xl text-white"},"CozyPotato")))),r.a.createElement("div",{className:"col-60 col-lg-30 col-xl-25 col-md-auto p-sm-5 p-4 bg-light",style:{minHeight:window.innerHeight-100}},r.a.createElement("div",{className:"row no-gutters h-100 py-3 align-items-center"},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 h3 mb-2"},"Forgot Password?"),r.a.createElement("div",{className:"col-60"},"Enter email where you want to receive password reset link.")),r.a.createElement("div",{className:"row no-gutters justify-content-center mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Email"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{type:"text",className:"input-light w-100 px-3",value:a,onKeyDown:function(e){13===e.keyCode&&p(a)},onChange:function(e){e.persist(),o(e.target.value)}}))),r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("div",{className:"col-60 btn-custom btn-custom-primary",onClick:function(){return p(a)}},"Send me reset link")),r.a.createElement("div",{style:{height:"40px",opacity:m?1:0},className:"row no-gutters align-items-center text-danger"},m),r.a.createElement("div",{className:"row no-gutters justify-content-end"},r.a.createElement("div",{className:"btn-link col-auto mr-3",onClick:function(){return f.push("/login")}},"Login"),r.a.createElement("div",{className:"btn-link col-auto",onClick:function(){return f.push("/signup")}},"Sign up"))))))))},Za=function(e){var t=e.match.params.token,a=Object(n.useState)(""),o=Object(E.a)(a,2),s=o[0],c=o[1],m=Object(n.useState)(""),u=Object(E.a)(m,2),p=u[0],v=u[1],g=Object(n.useState)(""),h=Object(E.a)(g,2),b=h[0],y=h[1],w=[{valid:/[^\w\s]/.test(s)||/\d/.test(s),error:"Password must contain number or symbol"},{valid:s===p,error:"Passwords don't match"},{valid:s.length>=6,error:"Password must contain at least 6 characters"}],N=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=w.filter((function(e){return!e.valid}))).length){e.next=8;break}return e.next=4,ke(t,a);case 4:(r=e.sent).error?d.dispatch({type:"SET_NOTIFICATION",notification:{type:"failure",title:"Error",message:r.error}}):(d.dispatch({type:"SET_NOTIFICATION",notification:{type:"success",title:"Password reseted",message:"Password successfully changed. You can login"}}),f.push("/login")),e.next=9;break;case 8:y(n[0].error);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"row no-gutters justify-content-center aligm-items-start align-items-sm-center",style:{height:window.innerHeight}},r.a.createElement("div",{className:"col-xl-50 col-60 col-lg-50 col-md-30 col-sm-40 login-rounded overflow-hidden"},r.a.createElement("div",{className:"row no-gutters h-100"},r.a.createElement("div",{className:"col bg-dark d-lg-block d-none"},r.a.createElement("div",{className:"row no-gutters h-100 flex-center position-relative"},r.a.createElement("div",{className:"position-absolute d-flex align-items-center text-white cursor-pointer",onClick:function(){return f.push("/")},style:{top:"15px",left:"15px"}},r.a.createElement(Xe.f,{className:"mr-2"}),"Back to home"),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"square-150 mx-auto"},r.a.createElement(Nt,null)),r.a.createElement("div",{className:"logo text-title-xl text-white"},"CozyPotato")))),r.a.createElement("div",{className:"col-60 col-lg-30 col-xl-25 col-md-auto p-sm-5 p-4 bg-light",style:{minHeight:window.innerHeight-100}},r.a.createElement("div",{className:"row no-gutters h-100 py-3 align-items-center"},r.a.createElement("div",{className:"col-60"},r.a.createElement("div",{className:"row no-gutters mb-4"},r.a.createElement("div",{className:"col-60 h3 mb-2"},"Reset Password"),r.a.createElement("div",{className:"col-60"},"Enter new password in input fields")),r.a.createElement("div",{className:"row no-gutters justify-content-center mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"New Password"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{type:"password",className:"input-light w-100 px-3",value:s,onChange:function(e){e.persist(),c(e.target.value)}}))),r.a.createElement("div",{className:"row no-gutters justify-content-center mb-4"},r.a.createElement("div",{className:"col-60 mb-1"},"Confirm New Password"),r.a.createElement("div",{className:"col-60"},r.a.createElement("input",{type:"password",className:"input-light w-100 px-3",value:p,onKeyDown:function(e){13===e.keyCode&&N(s,t)},onChange:function(e){e.persist(),v(e.target.value)}}))),r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("div",{className:"col-60 btn-custom btn-custom-primary",onClick:function(){return N(s,t)}},"Set new password")),r.a.createElement("div",{style:{height:"40px",opacity:b?1:0},className:"row no-gutters align-items-center text-danger"},b),r.a.createElement("div",{className:"row no-gutters justify-content-end"},r.a.createElement("div",{className:"btn-link col-auto mr-3",onClick:function(){return f.push("/login")}},"Login"),r.a.createElement("div",{className:"btn-link col-auto",onClick:function(){return f.push("/signup")}},"Sign up"))))))))};var $a=function(){return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne((function(e){e.error?d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action required",message:"Settings are not set. Inform website administrator to set Api key and other settings for the website",type:"failure"}}):e.length?d.dispatch({type:"UPDATE_SETTINGS",settings:e[0]}):d.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action required",message:"Settings are not set. Inform website administrator to set Api key and other settings for the website",type:"failure"}})})),I((function(e){var t={};e.forEach((function(e){t[e.tmdb_id]=e})),d.dispatch({type:"SET_RATINGS",ratings:t})})),T((function(e){var t={};e.forEach((function(e){t[e.user_id]=e})),d.dispatch({type:"SET_PUBLICUSERS",publicUsers:t})})),null===(t=localStorage.getItem("movies_user_token"))||!t.length){e.next=9;break}return e.next=7,S({token:t});case 7:(a=e.sent).error||d.dispatch({type:"SET_USER",user:a});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(p.a,{store:d},r.a.createElement(v.c,{history:f},r.a.createElement("div",{className:"container-fluid px-0"},r.a.createElement(Ka,null),r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/terms-and-conditions",render:function(){return r.a.createElement(Ca,{type:"terms-and-conditions"})}}),r.a.createElement(v.b,{exact:!0,path:"/cookies-policy",render:function(){return r.a.createElement(Ca,{type:"cookies-policy"})}}),r.a.createElement(v.b,{exact:!0,path:"/privacy-policy",render:function(){return r.a.createElement(Ca,{type:"privacy-policy"})}}),r.a.createElement(v.b,{exact:!0,path:"/",component:vt}),r.a.createElement(v.b,{exact:!0,path:"/movie/:movieId/:reviewId/:commentId",component:Et}),r.a.createElement(v.b,{exact:!0,path:"/movie/:movieId/:reviewId",component:Et}),r.a.createElement(v.b,{exact:!0,path:"/movie/:movieId",component:Et}),r.a.createElement(v.b,{exact:!0,path:"/series/:movieId",component:Xa}),r.a.createElement(v.b,{exact:!0,path:"/search",component:wt}),r.a.createElement(Ma,{exact:!0,path:"/admin",bearerPath:"/login",Component:wa}),r.a.createElement(v.b,{exact:!0,path:"/login",component:xa}),r.a.createElement(v.b,{exact:!0,path:"/signup",component:Sa}),r.a.createElement(v.b,{exact:!0,path:"/forgot-password",component:Ja}),r.a.createElement(v.b,{exact:!0,path:"/reset-password/:token",component:Za}),r.a.createElement(v.b,{exact:!0,path:"/profile/:userId/:section",component:Ua}),r.a.createElement(v.b,{exact:!0,path:"/profile/:userId",component:Ua})),r.a.createElement(Va,null),r.a.createElement(Ia,null))))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($a,null)),document.getElementById("root"))}},[[203,1,2]]]);
//# sourceMappingURL=main.1e1a9080.chunk.js.map