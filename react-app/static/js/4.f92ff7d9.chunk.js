(this.webpackJsonpreports=this.webpackJsonpreports||[]).push([[4],{355:function(e,t,a){"use strict";a.r(t);var n=a(10),c=a(2),r=a(1),s=a.n(r),l=a(13),o=a(41),i=a(12),m=a(4),u=a(34),d=[{name:"Settings",icon:l.i},{name:"User Management",icon:l.d},{name:"Reviews & Comments",icon:l.g},{name:"Announcements",icon:o.a},{name:"Promotions",icon:i.j},{name:"Notifications",icon:i.b}],p=function(e){var t=e.section,a=e.setSection,n=e.isMenuOpened,c=e.mobile,r=void 0!==c&&c;return s.a.createElement("div",{className:"row no-gutters bg-over-root-lighter text-white h-100 admin-menu"},s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters justify-content-between align-items-center d-flex d-lg-none px-5 mb-4"},s.a.createElement("div",{className:"col-auto h3"},s.a.createElement("div",{className:"row no-gutters align-items-center"},s.a.createElement("div",{className:"square-50 mr-2"},s.a.createElement(u.a,null)),s.a.createElement("div",{className:"col-auto logo text-title-lg"},"CozyPotato"))),s.a.createElement("div",{className:"col-auto"},s.a.createElement(l.e,{className:"cursor-pointer",fontSize:"34px",onClick:function(){m.a.dispatch({type:"SET_DASHBOARD_MENU_OPENED",isOpened:!n})}}))),d.map((function(e,c){return s.a.createElement("div",{key:"left-menu-item-".concat(c),className:"row no-gutters px-4 mb-2",style:{borderLeft:t===c?"4px solid rgb(255, 0, 64)":"4px solid transparent"}},s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{onClick:function(){a(c),r&&m.a.dispatch({type:"SET_DASHBOARD_MENU_OPENED",isOpened:!n})},key:"menu-item-".concat(c),className:"align-items-center px-3 btn-custom text-left row no-gutters".concat(t===c?" bg-custom-primary":"")},s.a.createElement(e.icon,{className:"col-auto mr-2",fontSize:"24px"}),s.a.createElement("div",{className:"col-auto"},e.name))))}))))},b=a(18),v=a(3),E=a.n(v),g=a(6),N=a(7),f=a(11),h=a(17),w=a.n(h),y=a(14),x=[{icon:o.b,name:"Facebook"},{icon:o.c,name:"Instagram"},{icon:o.d,name:"Linkedin"},{icon:o.f,name:"Twitter"}];var O=Object(f.b)((function(e,t){return Object(n.a)({settings:e.settings},t)}))((function(e){var t=e.settings,a=Object(r.useState)(""),n=Object(c.a)(a,2),l=n[0],o=n[1],i=Object(r.useState)(!1),u=Object(c.a)(i,2),d=u[0],p=u[1],v=[{valid:(/^http/.test(t.FacebookLink)||""===t.FacebookLink)&&(/^http/.test(t.TwitterLink)||""===t.TwitterLink)&&(/^http/.test(t.LinkedinLink)||""===t.LinkedinLink)&&(/^http/.test(t.InstagramLink)||""===t.InstagramLink),error:"Social link must start with http:// or https://"}];return s.a.createElement("div",{className:"row no-gutters admin-screen"},s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters border-bottom pb-3 mb-5"},s.a.createElement("div",{className:"col-60 admin-screen-title"},"Settings"),s.a.createElement("div",{className:"col-60"},"Configuration settings for admin panel")),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-xl-40 col-sm-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Configure API for popular movies (main for now)"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{type:"text",placeholder:"Enter API key",value:t.movies_api_key,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{movies_api_key:e.target.value}})},className:"px-3 input-light w-100"}))),s.a.createElement("div",{className:"col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Configure API for movie data"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{value:t.movie_data_api,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{movie_data_api:e.target.value}})},type:"text",placeholder:"Enter API key",className:"px-3 input-light w-100"}))),s.a.createElement("div",{className:"col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Configure API for latest movies"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{type:"text",placeholder:"Enter API key",value:t.latest_movies_api,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{latest_movies_api:e.target.value}})},className:"px-3 input-light w-100"}))),s.a.createElement("div",{className:"col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Set Captcha API key"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{type:"text",placeholder:"Enter API key",value:t.captcha_api_key,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{captcha_api_key:e.target.value}})},className:"px-3 input-light w-100"}))),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-lg-30 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Number of popular reviews to show"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{value:t.no_popular_reviews,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{no_popular_reviews:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-lg-30 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Number of popular movies to show"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{value:t.no_popular_movies,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{no_popular_movies:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-lg-30 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Number of Reviews allowed per day per user"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{value:t.no_allowed_reviews,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{no_allowed_reviews:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-lg-30 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Number of characters allowed in comments"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{value:t.no_comment_characters,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{no_comment_characters:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-lg-30 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Number of characters allowed in display name"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{value:t.no_display_name_characters,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{no_display_name_characters:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-lg-30 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Number of words allowed in review"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{value:t.no_review_words,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{no_review_words:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),s.a.createElement("div",{className:"col-xl-40 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Background image refresh time (days, hours, minutes)"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-20 pr-3"},s.a.createElement("div",{className:"row no-gutters text-muted"},"days"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{value:t.bg_image_refresh_time_days,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{bg_image_refresh_time_days:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))),s.a.createElement("div",{className:"col-20 pr-3"},s.a.createElement("div",{className:"row no-gutters text-muted"},"hours"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{value:t.bg_image_refresh_time_hours,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{bg_image_refresh_time_hours:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))),s.a.createElement("div",{className:"col-20 "},s.a.createElement("div",{className:"row no-gutters text-muted"},"minutes"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{value:t.bg_image_refresh_time_minutes,onChange:function(e){e.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:{bg_image_refresh_time_minutes:e.target.value}})},min:0,type:"number",className:"px-3 input-light w-100"}))))),s.a.createElement("div",{className:"col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Current background movie"),s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement("img",{alt:t.current_bg_movie.backdrop_path,style:{maxWidth:"500px"},width:"100%",src:"https://image.tmdb.org/t/p/w500".concat(t.current_bg_movie.backdrop_path)})),s.a.createElement("div",{className:"row no-gutters mb-1"},"Title"),s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement("input",{disabled:!0,className:"input-light-disabled w-100 px-3",value:t.current_bg_movie.title})),s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement("div",{className:"col-auto mr-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Set Date"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{disabled:!0,className:"input-light-disabled px-3",value:w.a.format(new Date(t.current_bg_movie.date_set),"YYYY-MM-DD @ hh:mm A")}))),s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Refresh Date"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{disabled:!0,className:"input-light-disabled px-3",value:w.a.format(new Date(t.current_bg_movie.date_set+6e4*t.bg_image_refresh_time_minutes+36e5*t.bg_image_refresh_time_hours+864e5*t.bg_image_refresh_time_days),"YYYY-MM-DD @ hh:mm A")})))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-auto btn-custom btn-custom-primary btn-small",onClick:Object(g.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.movies_api_key){e.next=9;break}return p(!0),e.next=4,Object(N.c)(t.movies_api_key);case 4:a=e.sent,p(!1),a.error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action not allowed",message:a.error,type:"failure"}}):m.a.dispatch({type:"UPDATE_SETTINGS",settings:{current_bg_movie:a}}),e.next=10;break;case 9:m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Action not allowed",message:"You need to set movies api key to change background movie",type:"failure"}});case 10:case"end":return e.stop()}}),e)})))},d?s.a.createElement(y.a,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:d,size:20}):"Refresh"))),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Set social links"),x.map((function(e,a){return s.a.createElement("div",{className:"row no-gutters mb-2",key:"social-icons-settings-".concat(a)},s.a.createElement("div",{className:"col-auto mr-2"},s.a.createElement("div",{className:"square-40 rounded-circle bg-white d-flex flex-center"},s.a.createElement(e.icon,{fontSize:"24px",className:"text-dark"}))),s.a.createElement("div",{className:"col"},s.a.createElement("input",{spellCheck:!1,type:"text",placeholder:"Paste ".concat(e.name," link"),value:t["".concat(e.name,"Link")],onChange:function(t){t.persist(),m.a.dispatch({type:"UPDATE_SETTINGS",settings:Object(b.a)({},"".concat(e.name,"Link"),t.target.value)})},className:"px-3 input-light w-100"})))}))),s.a.createElement("div",{className:"col-60 mt-3"},s.a.createElement("div",{style:{height:"30px",opacity:l?1:0},className:"row no-gutters align-items-center text-danger"},l),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto"},"Cancel"),s.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(g.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=v.filter((function(e){return!e.valid}))).length){e.next=5;break}o(a[0].error),e.next=10;break;case 5:return o(""),e.next=8,Object(N.hb)(t);case 8:e.sent.error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:"Settings were not updated",type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Settings updated!",message:"Settings were successfully updated",type:"success"}}),Object(N.P)((function(e){e.error||e.length&&m.a.dispatch({type:"UPDATE_SETTINGS",settings:e[0]})})));case 10:case"end":return e.stop()}}),e)})))},"Save"))))))))})),j=function(e){var t=e.isMenuOpened,a=e.setSection,n=e.section;return s.a.createElement("div",{className:"d-block d-lg-none col-60 col-sm-40 col-md-30 col-lg-20 col-xl-15 vh-100 zindex-99 ".concat(t?"":"zindex-0-1"),style:{position:"fixed",right:0,top:0}},s.a.createElement("div",{className:"w-100 h-100 position-relative"},s.a.createElement("div",{className:"container-fluid px-0",style:{height:"100%",width:"100%",right:t?0:"-100%",transition:"right 0.3s",position:"absolute",zIndex:10,background:"white"}},s.a.createElement(p,{mobile:!0,className:"text-white bg-internly-90 col-12",section:n,isMenuOpened:t,setSection:a}))))},S=a(59),_=a(112),k=a(113),C=a(20),D=a(25),T=a(269),I=a(8);var A=Object(f.b)((function(e,t){return Object(n.a)({publicUsers:e.publicUsers,ratings:e.ratings},t)}))((function(e){var t=e.setEditReviewSection,a=e.setEditReview,n=e.publicUsers,l=e.ratings,o=Object(r.useState)(""),u=Object(c.a)(o,2),d=u[0],p=u[1],b=Object(r.useState)(""),v=Object(c.a)(b,2),f=v[0],h=v[1],y=Object(r.useState)("User"),x=Object(c.a)(y,2),O=x[0],j=x[1],A=Object(r.useState)(0),Y=Object(c.a)(A,2),U=Y[0],M=Y[1],R=Object(r.useState)(1),P=Object(c.a)(R,2),F=P[0],L=P[1],B=Object(r.useState)(""),z=Object(c.a)(B,2),W=z[0],q=z[1],G=Object(r.useState)(""),H=Object(c.a)(G,2),J=H[0],Q=H[1],V=Object(r.useState)({key:"",value:""}),K=Object(c.a)(V,2),X=K[0],Z=K[1],$=Object(r.useState)([]),ee=Object(c.a)($,2),te=ee[0],ae=ee[1],ne=Object(r.useState)([]),ce=Object(c.a)(ne,2),re=ce[0],se=ce[1],le=Object(r.useState)(!1),oe=Object(c.a)(le,2),ie=oe[0],me=oe[1];Object(r.useEffect)((function(){function e(){return(e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.O)();case 2:(t=e.sent).error||ae(t.reverse().map((function(e){return Object.assign({},e,{selected:!1})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[ie]),Object(r.useEffect)((function(){var e=Object(S.a)(te);te.length&&(J&&("User"===O?e=e.filter((function(e){return n[e.author].display_name.toLowerCase().includes(J.toLowerCase())})):"Review"===O?e=e.filter((function(e){return e.review.toLowerCase().includes(J.toLowerCase())})):"Movie"===O&&(e=e.filter((function(e){return l[e.movie_id]&&l[e.movie_id].movie_title.toLowerCase().includes(J.toLowerCase())})))),W&&(e=e.filter((function(e){return n[e.author].role===W}))),"role"===X.key&&X.value&&(e=e.filter((function(e){return n[e.author][X.key]===X.value}))),e="deleted"===X.key&&X.value?e.filter((function(e){return e.deleted===X.value})):e.filter((function(e){return!e.deleted})),se(e))}),[J,W,te,X]);var ue=[5*(F-1),5*(F-1)+5];ue[1]>=re.length&&(ue[1]=ue[1]-(ue[1]-re.length));var de=function(){var e=Object(g.a)(E.a.mark((function e(){var n,c,r,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length>0&&void 0!==s[0]&&s[0]&&q("All"===f?"":f),"Edit"!==d){e.next=7;break}(n=re.filter((function(e){return e.selected}))).length&&(a(n[0]),t()),e.next=15;break;case 7:if("Delete"!==d){e.next=15;break}if(!(c=re.filter((function(e){return e.selected}))).length){e.next=15;break}return e.next=12,Object(N.m)(c.map((function(e){return e._id})));case 12:(r=e.sent).error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:r.error,type:"failure"}}):m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Reviews were deleted",message:"Reviews were successfully deleted",type:"success"}}),me(!ie);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=["Title","Review","Rating","Posted on","Reported"];return s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 py-5"},s.a.createElement("div",{className:"row no-gutters h6 mb-3"},s.a.createElement("div",{className:"col-auto cursor-pointer ".concat(X.key||W?"text-dark":"text-primary"),onClick:function(){Z({key:"",value:""}),q("")}},"All (",te.filter((function(e){return!e.deleted})).length,")"),s.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),s.a.createElement("div",{onClick:function(){return Z((function(e){return Object.assign({},e,{key:"role",value:"Administrator"})}))},className:"cursor-pointer col-auto ".concat("role"===X.key&&"Administrator"===X.value?"text-primary":"text-dark")},"By Administrators (",Object.values(n).length?te.filter((function(e){return n[e.author]&&"Administrator"===n[e.author].role&&!e.deleted})).length:"",")"),s.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),s.a.createElement("div",{onClick:function(){return Z((function(e){return Object.assign({},e,{key:"deleted",value:!0})}))},className:"cursor-pointer col-auto ".concat("deleted"===X.key&&!0===X.value?"text-primary":"text-dark")},"Deleted (",te.filter((function(e){return e.deleted})).length,")")),s.a.createElement("div",{className:"row no-gutters justify-content-between"},s.a.createElement("div",{className:"col-sm-auto col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return p(["Delete"][e])},items:["Delete"],btnName:d||"Select Action",className:"input-light px-3 col-auto "}))),s.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return h(["All","Administrator","User"][e])},items:["All","Administrator","User"],btnName:f||"Select Role",className:"input-light px-3 col-auto"}))),s.a.createElement("div",{onClick:function(){return de(!0)},className:"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall"},"Apply"))),s.a.createElement("div",{className:"col-60 d-block d-sm-none"},s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement(_.a,{popoverClass:"w-100",onSelect:function(e){return j(["User","Review","Movie"][e])},className:"input-light col-60",items:["User","Review","Movie"],btnName:"Search by ".concat(O)})),s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement("div",{className:"col-60 position-relative"},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{className:"input-light w-100 pr-5 pl-3",value:J,onChange:function(e){e.persist(),Q(e.target.value)}})))),s.a.createElement("div",{className:"col-auto mb-3 d-none d-sm-block"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{onSelect:function(e){return j(["User","Review","Movie"][e])},className:"table-input-prepend-select col-auto",items:["User","Review","Movie"],btnName:"Search by ".concat(O)}),s.a.createElement("div",{className:"col position-relative"},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{value:J,onChange:function(e){e.persist(),Q(e.target.value)},className:"table-input pr-5 pl-3",style:{minWidth:"300px"}}))))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(T.a,{style:{minWidth:"100%"},onSwipedLeft:function(){M(U+1<4?U+1:U)},onSwipedRight:function(){M(U-1>=0?U-1:U)}},s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table bg-white border"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:te.slice(ue[0],ue[1]).filter((function(e){return e.selected})).length===ue[1]-ue[0],onChange:function(e){se((function(t){for(var a=Object(S.a)(t),n=ue[0];n<ue[1];n++)a[n].selected=e.target.checked;return a}))}})),s.a.createElement("th",{className:"table-header text-truncate text-left"},s.a.createElement("div",{className:"d-none d-lg-block"},"Posted By"),s.a.createElement("div",{className:"d-block d-lg-none"},"By")),s.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},pe[U]),pe.map((function(e,t){return s.a.createElement("th",{key:"header-col-".concat(t),className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,e))})))),s.a.createElement("tbody",null,re.length?re.slice(5*(F-1),5*(F-1)+5).map((function(e,c){return s.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(c)},s.a.createElement("td",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:e.selected,onChange:function(e){se((function(t){var a=Object(S.a)(t);return a[5*(F-1)+c].selected=e.target.checked,a}))}})),s.a.createElement("td",null,n[e.author]?s.a.createElement("div",null,s.a.createElement("div",{style:{whiteSpace:"nowrap"}},s.a.createElement("div",{className:"d-inline-block mr-2"},s.a.createElement("div",{className:"square-50 rounded-circle bg-image",style:{backgroundImage:"url(".concat(n[e.author].photo,")")}})),s.a.createElement("div",{className:"d-none d-md-inline-block align-top"},s.a.createElement("div",{className:"h6 text-primary"},n[e.author].display_name),s.a.createElement("div",{className:"mb-2"},n[e.author].email),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"text-primary underline-link",onClick:function(){a(e),t()}},"Edit"),s.a.createElement("div",{className:"px-2"},"|"),s.a.createElement("div",{className:"text-danger underline-link",onClick:Object(g.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.m)([e._id]);case 2:(a=t.sent).error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:a.error,type:"failure"}}):m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Review was deleted",message:"Review was successfully deleted",type:"success"}}),me(!ie);case 5:case"end":return t.stop()}}),t)})))},"Delete"))))):""),s.a.createElement("td",{className:"".concat(0===U?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",{style:{maxWidth:"150px"}},l[e.movie_id]?l[e.movie_id].movie_title:"")),s.a.createElement("td",{className:"".concat(1===U?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",null,s.a.createElement("div",{style:{minWidth:"200px"},className:"cursor-pointer user-select-none btn-link text-clamp-4",onClick:function(t){I.a.push("/movie/".concat(e.movie_id,"/").concat(e._id))}},e.review))),s.a.createElement("td",{className:"".concat(2===U?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement(C.a,{emoji:"excellent_rate"===e.rating?"fire":"good_rate"===e.rating?"heart":"ok_rate"===e.rating?"heavy_division_sign":"shit"})),s.a.createElement("td",{className:"".concat(3===U?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",{style:{whiteSpace:"nowrap"}},w.a.format(new Date(e.date),"DD/MM/YYYY @ hh:mm A"))),s.a.createElement("td",{className:"".concat(4===U?"d-table-cell":"d-none d-xl-table-cell")},e.reported?s.a.createElement("div",{className:"text-danger"},"Abused"):s.a.createElement("div",{className:"text-success"},"No")))})):s.a.createElement("tr",null,s.a.createElement("td",{colSpan:7,className:" text-center py-5"},"0 results found"))))))),s.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-sm-end"},s.a.createElement("div",{className:"col-auto"},s.a.createElement(D.a,{count:Math.ceil(re.length/5),current:F,setCurrent:L})))))}));var Y=Object(f.b)((function(e,t){return Object(n.a)({publicUsers:e.publicUsers,ratings:e.ratings},t)}))((function(e){var t=e.setEditCommentSection,a=e.setEditComment,n=e.publicUsers,l=e.ratings,o=Object(r.useState)(""),u=Object(c.a)(o,2),d=u[0],p=u[1],b=Object(r.useState)(""),v=Object(c.a)(b,2),f=v[0],h=v[1],y=Object(r.useState)("User"),x=Object(c.a)(y,2),O=x[0],j=x[1],C=Object(r.useState)(0),A=Object(c.a)(C,2),Y=A[0],U=A[1],M=Object(r.useState)(1),R=Object(c.a)(M,2),P=R[0],F=R[1],L=Object(r.useState)(""),B=Object(c.a)(L,2),z=B[0],W=B[1],q=Object(r.useState)({key:"",value:""}),G=Object(c.a)(q,2),H=G[0],J=G[1],Q=Object(r.useState)(""),V=Object(c.a)(Q,2),K=V[0],X=V[1],Z=Object(r.useState)([]),$=Object(c.a)(Z,2),ee=$[0],te=$[1],ae=Object(r.useState)({}),ne=Object(c.a)(ae,2),ce=ne[0],re=ne[1],se=Object(r.useState)([]),le=Object(c.a)(se,2),oe=le[0],ie=le[1],me=Object(r.useState)(!1),ue=Object(c.a)(me,2),de=ue[0],pe=ue[1];Object(r.useEffect)((function(){function e(){return(e=Object(g.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.E)();case 2:(t=e.sent).error||(te(t.reverse().map((function(e){return Object.assign({},e,{selected:!1})}))),a={},t.forEach((function(e){a[e._id]=e})),re(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[de]),Object(r.useEffect)((function(){var e=Object(S.a)(ee);ee.length&&(K&&("User"===O?e=e.filter((function(e){return n[e.author].display_name.toLowerCase().includes(K.toLowerCase())})):"Comment"===O&&(e=e.filter((function(e){return e.comment.toLowerCase().includes(K.toLowerCase())})))),z&&(e=e.filter((function(e){return n[e.author].role===z}))),"role"===H.key&&H.value&&(e=e.filter((function(e){return n[e.author][H.key]===H.value}))),e="deleted"===H.key&&H.value?e.filter((function(e){return e.deleted===H.value})):e.filter((function(e){return!e.deleted})),ie(e))}),[K,z,ee,H]);var be=[5*(P-1),5*(P-1)+5];be[1]>=oe.length&&(be[1]=be[1]-(be[1]-oe.length));var ve=function(){var e=Object(g.a)(E.a.mark((function e(){var n,c,r,s,l=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.length>0&&void 0!==l[0]&&l[0]&&W("All"===f?"":f),!(n=oe.filter((function(e){return e.selected}))).length){e.next=17;break}if("Edit"!==d){e.next=9;break}a(n[0]),t(),e.next=17;break;case 9:return c=n.map((function(e){return e._id})),r=Object(S.a)(c),function e(t){r=r.concat(t),t.forEach((function(t){return e(ce[t].comments)}))}(c),e.next=15,Object(N.j)(r);case 15:(s=e.sent).error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:s.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Comments were deleted",message:"Comments were successfully deleted",type:"success"}}),pe(!de));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 py-5"},s.a.createElement("div",{className:"row no-gutters h6 mb-3"},s.a.createElement("div",{className:"col-auto cursor-pointer ".concat(H.key||z?"text-dark":"text-primary"),onClick:function(){J({key:"",value:""}),W("")}},"All (",ee.filter((function(e){return!e.deleted})).length,")"),s.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),s.a.createElement("div",{onClick:function(){return J((function(e){return Object.assign({},e,{key:"role",value:"Administrator"})}))},className:"cursor-pointer col-auto ".concat("role"===H.key&&"Administrator"===H.value?"text-primary":"text-dark")},"By Administrators (",Object.values(n).length?ee.filter((function(e){return"Administrator"===n[e.author].role&&!e.deleted})).length:"",")"),s.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),s.a.createElement("div",{onClick:function(){return J((function(e){return Object.assign({},e,{key:"deleted",value:!0})}))},className:"cursor-pointer col-auto ".concat("deleted"===H.key&&!0===H.value?"text-primary":"text-dark")},"Deleted (",ee.filter((function(e){return e.deleted})).length,")")),s.a.createElement("div",{className:"row no-gutters justify-content-between"},s.a.createElement("div",{className:"col-sm-auto col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return p(["Delete"][e])},items:["Delete"],btnName:d||"Select Action",className:"input-light px-3 col-auto"}))),s.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return h(["All","Administrator","User"][e])},items:["All","Administrator","User"],btnName:f||"Select Role",className:"input-light px-3 col-auto"}))),s.a.createElement("div",{onClick:function(){return ve(!0)},className:"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall"},"Apply"))),s.a.createElement("div",{className:"col-60 d-block d-sm-none"},s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement(_.a,{popoverClass:"w-100",onSelect:function(e){return j(["User","Comment"][e])},className:"input-light col-60",items:["User","Comment"],btnName:"Search by ".concat(O)})),s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement("div",{className:"col-60 position-relative"},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{className:"input-light w-100 pr-5 pl-3",value:K,onChange:function(e){e.persist(),X(e.target.value)}})))),s.a.createElement("div",{className:"col-auto mb-3 d-none d-sm-block"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{onSelect:function(e){return j(["User","Comment"][e])},className:"table-input-prepend-select col-auto",items:["User","Comment"],btnName:"Search by ".concat(O)}),s.a.createElement("div",{className:"col position-relative"},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{value:K,onChange:function(e){e.persist(),X(e.target.value)},className:"table-input pr-5 pl-3",style:{minWidth:"300px"}}))))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(T.a,{style:{minWidth:"100%"},onSwipedLeft:function(){U(Y+1<4?Y+1:Y)},onSwipedRight:function(){U(Y-1>=0?Y-1:Y)}},s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table bg-white border"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:oe.slice(be[0],be[1]).filter((function(e){return e.selected})).length===be[1]-be[0],onChange:function(e){ie((function(t){for(var a=Object(S.a)(t),n=be[0];n<be[1];n++)a[n].selected=e.target.checked;return a}))}})),s.a.createElement("th",{className:"table-header text-truncate text-left"},s.a.createElement("div",{className:"d-none d-lg-block"},"Posted By"),s.a.createElement("div",{className:"d-block d-lg-none"},"By")),s.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},["Comment","In Repsonse To","Posted On","Reported"][Y]),s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,"Comment")),s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,"In Response To")),s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,"Posted On")),s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,"Reported")))),s.a.createElement("tbody",null,oe.length?oe.slice(5*(P-1),5*(P-1)+5).map((function(e,c){return s.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(c)},s.a.createElement("td",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:e.selected,onChange:function(e){ie((function(t){var a=Object(S.a)(t);return a[5*(P-1)+c].selected=e.target.checked,a}))}})),s.a.createElement("td",null,s.a.createElement("div",null,n[e.author]?s.a.createElement("div",{style:{whiteSpace:"nowrap"}},s.a.createElement("div",{className:"d-inline-block mr-2"},s.a.createElement("div",{className:"square-50 rounded-circle bg-image",style:{backgroundImage:"url(".concat(n[e.author].photo,")")}})),s.a.createElement("div",{className:"d-none d-md-inline-block align-top"},s.a.createElement("div",{className:"text-primary"},n[e.author].display_name),s.a.createElement("div",{className:"mb-2"},n[e.author].email),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"text-primary underline-link",onClick:function(){a(e),t()}},"Edit"),s.a.createElement("div",{className:"px-2"},"|"),s.a.createElement("div",{className:"text-danger underline-link",onClick:Object(g.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[e._id],function e(t){a=a.concat(t),t.forEach((function(t){return e(ce[t].comments)}))}(a),t.next=5,Object(N.j)(a);case 5:(n=t.sent).error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:n.error,type:"failure"}}):m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Comment was deleted",message:"Comment was successfully deleted",type:"success"}}),pe(!de);case 8:case"end":return t.stop()}}),t)})))},"Delete")))):"")),s.a.createElement("td",{className:"".concat(0===Y?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",null,s.a.createElement("div",{style:{minWidth:"200px"},className:"cursor-pointer user-select-none btn-link text-clamp-4",onClick:function(t){I.a.push("/movie/".concat(e.movie_id,"/").concat(e.review_id,"/").concat(e._id))}},e.comment))),s.a.createElement("td",{className:"".concat(1===Y?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",null,"Movie:"," ",l[e.movie_id]?l[e.movie_id].movie_title:""),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{onClick:Object(g.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I.a.push("/movie/".concat(e.movie_id,"/").concat(e.review_id));case 1:case"end":return t.stop()}}),t)}))),className:"text-primary cursor-pointer",style:{whiteSpace:"nowrap"}},"View Review"))),s.a.createElement("td",{className:"".concat(2===Y?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",{style:{whiteSpace:"nowrap"}},w.a.format(new Date(e.date),"DD/MM/YYYY @ hh:mm A"))),s.a.createElement("td",{className:"".concat(3===Y?"d-table-cell":"d-none d-xl-table-cell")},e.reported?s.a.createElement("div",{className:"text-danger"},"Abused"):s.a.createElement("div",{className:"text-success"},"No")))})):s.a.createElement("tr",null,s.a.createElement("td",{colSpan:6,className:"text-center py-5"},"0 results found"))))))),s.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-sm-end"},s.a.createElement("div",{className:"col-auto"},s.a.createElement(D.a,{count:Math.ceil(oe.length/5),current:P,setCurrent:F})))))})),U=function(e){var t=e.setEditReview,a=e.setEditReviewSection,n=e.setEditCommentSection,l=e.setEditComment,o=(e.containerSpacing,Object(r.useState)(0)),i=Object(c.a)(o,2),m=i[0],u=i[1];return s.a.createElement("div",{className:"row no-gutters admin-screen"},s.a.createElement("div",{className:"col-60 border-bottom"},s.a.createElement("div",{className:"row no-gutters justify-content-between"},s.a.createElement("div",{className:"col-auto pb-3"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Reviews & Comments"),s.a.createElement("div",{className:"row no-gutters"},"Add, edit or delete reviews and comments")),s.a.createElement("div",{className:"col-auto py-3"},s.a.createElement("div",{className:"row no-gutters cursor-pointer"},s.a.createElement("div",{style:{width:"150px"},onClick:function(){return u(0)},className:"rounded-left col table-btn".concat(0===m?" table-btn-selected":"")},"Reviews"),s.a.createElement("div",{style:{width:"150px"},onClick:function(){return u(1)},className:"rounded-right col table-btn".concat(1===m?" table-btn-selected":"")},"Comments"))))),s.a.createElement("div",{className:"col-60"},0===m?s.a.createElement(A,{setEditReviewSection:a,setEditReview:t}):s.a.createElement(Y,{setEditComment:l,setEditCommentSection:n})))},M=a(40);var R=Object(f.b)((function(e,t){return Object(n.a)({publicUsers:e.publicUsers,admin:e.user,ratings:e.ratings},t)}))((function(e){var t=e.currentReview,a=e.publicUsers,l=e.getBack,o=e.ratings,i=e.admin,u=Object(r.useState)({}),d=Object(c.a)(u,2),p=d[0],v=d[1],f=Object(r.useState)({display_name:"",email:""}),h=Object(c.a)(f,2),w=h[0],x=h[1],O=Object(r.useState)(!1),j=Object(c.a)(O,2),S=j[0],k=j[1];return Object(r.useEffect)((function(){t&&(v(t),x(a[t.author]))}),[t]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),s.a.createElement("div",{className:"row no-gutters p-md-5 p-4",style:{maxWidth:"800px"}},s.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Reviews & Comments"),s.a.createElement("div",{className:"row no-gutters"},"Add, edit and delete reviews and comments")),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Display name"),s.a.createElement("div",{className:"col-60"},s.a.createElement("input",{type:"text",className:"input-light w-100 px-3",value:w.display_name,onChange:function(e){e.persist(),x((function(t){return Object.assign({},t,{display_name:e.target.value})}))}}))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Message"),s.a.createElement("div",{className:"col-60"},s.a.createElement("textarea",{value:p.review?p.review:"",onChange:function(e){e.persist(),v((function(t){return Object.assign({},t,{review:e.target.value})}))},className:"textarea-light w-100",style:{height:"150px"}})))),s.a.createElement("div",{className:"col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"60 mb-1"},"Rating")),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-md-30 col-60",className:"input-light px-3",btnName:p.rating?M.c.find((function(e){return e.name===p.rating})).element:"Select",onSelect:function(e){v((function(t){return Object.assign({},t,{rating:M.c[e].name})}))},items:M.c.map((function(e){return e.element}))}))),s.a.createElement("div",{className:"col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"60 mb-1"},"Report status")),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-md-30 col-60",className:"input-light px-3",btnName:p.reported?"Reported":"Not Reported",onSelect:function(e){v((function(t){return Object.assign({},t,{reported:0===e})}))},items:["Reported","Not Reported"]}))),s.a.createElement("div",{className:"col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"60 mb-1"},"Title")),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{value:o[t.movie_id].movie_title,disabled:!0,className:"input-light-disabled col-md-30 col-60 px-3"}))),s.a.createElement("div",{className:"col-60 mt-5"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:function(){return l()}},"Cancel"),s.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(g.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,Object(N.x)(p,w);case 4:t=e.sent,k(!1),t.error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:t.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Review updated",message:"Review was successfully updated",type:"success"}}),m.a.dispatch({type:"UPDATE_RATINGS",rating:Object(b.a)({},p.movie_id,t.rating)}),i._id===p.author&&((a=Object(n.a)({},i.ratings))[p.movie_id]={movie_id:p.movie_id,rate_type:p.rating},m.a.dispatch({type:"UPDATE_USER",userProperty:{ratings:a}})),l()),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))},s.a.createElement(y.a,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:S,size:20}),"Save"))))}));var P=Object(f.b)((function(e,t){return Object(n.a)({publicUsers:e.publicUsers},t)}))((function(e){var t=e.currentComment,a=e.publicUsers,n=e.getBack,l=Object(r.useState)({}),o=Object(c.a)(l,2),i=o[0],u=o[1],d=Object(r.useState)({display_name:"",email:""}),p=Object(c.a)(d,2),b=p[0],v=p[1],f=Object(r.useState)(!1),h=Object(c.a)(f,2),w=h[0],x=h[1];return Object(r.useEffect)((function(){t&&(u(t),v(a[t.author]))}),[t]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),s.a.createElement("div",{className:"row no-gutters p-md-5 p-4",style:{maxWidth:"800px"}},s.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Reviews & Comments"),s.a.createElement("div",{className:"row no-gutters"},"Add, edit and delete reviews and comments")),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Display name"),s.a.createElement("div",{className:"col-60"},s.a.createElement("input",{type:"text",className:"input-light w-100 px-3",value:b.display_name,onChange:function(e){e.persist(),v((function(t){return Object.assign({},t,{display_name:e.target.value})}))}}))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Comment"),s.a.createElement("div",{className:"col-60"},s.a.createElement("textarea",{value:i.comment,onChange:function(e){e.persist(),u((function(t){return Object.assign({},t,{comment:e.target.value})}))},className:"textarea-light w-100",style:{height:"150px"}})))),s.a.createElement("div",{className:"col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"60 mb-1"},"Report status")),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-md-30 col-60",className:"input-light px-3",btnName:i.reported?"Reported":"Not Reported",onSelect:function(e){u((function(t){return Object.assign({},t,{reported:0===e})}))},items:["Reported","Not Reported"]}))),s.a.createElement("div",{className:"col-60 mt-5"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:function(){return n()}},"Cancel"),s.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,Object(N.s)(i,b);case 3:t=e.sent,x(!1),t.error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:t.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Review updated",message:"Review was successfully updated",type:"success"}}),n());case 6:case"end":return e.stop()}}),e)})))},s.a.createElement(y.a,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:w,size:20}),"Save"))))}));var F=Object(f.b)((function(e,t){return Object(n.a)({publicUsers:e.publicUsers},t)}))((function(e){var t=e.setEditAnnouncement,a=e.setEditAnnouncementSection,n=e.setAddNewAnouncementSection,l=e.publicUsers,o=Object(r.useState)(""),u=Object(c.a)(o,2),d=u[0],p=u[1],b=Object(r.useState)(""),v=Object(c.a)(b,2),f=v[0],h=v[1],y=Object(r.useState)("User"),x=Object(c.a)(y,2),O=x[0],j=x[1],C=Object(r.useState)(0),I=Object(c.a)(C,2),A=I[0],Y=I[1],U=Object(r.useState)(1),M=Object(c.a)(U,2),R=M[0],P=M[1],F=Object(r.useState)(""),L=Object(c.a)(F,2),B=L[0],z=L[1],W=Object(r.useState)(""),q=Object(c.a)(W,2),G=q[0],H=q[1],J=Object(r.useState)({key:"",value:""}),Q=Object(c.a)(J,2),V=Q[0],K=Q[1],X=Object(r.useState)(!1),Z=Object(c.a)(X,2),$=Z[0],ee=Z[1],te=Object(r.useState)([]),ae=Object(c.a)(te,2),ne=ae[0],ce=ae[1],re=Object(r.useState)([]),se=Object(c.a)(re,2),le=se[0],oe=se[1];Object(r.useEffect)((function(){function e(){return(e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.D)();case 2:(t=e.sent).error||ce(t.map((function(e){return Object.assign({},e,{selected:!1})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[$]),Object(r.useEffect)((function(){var e=Object(S.a)(ne);ne.length&&(G&&("User"===O?e=e.filter((function(e){return l[e.author].display_name.toLowerCase().includes(G.toLowerCase())})):"Description"===O&&(e=e.filter((function(e){return e.description.toLowerCase().includes(G.toLowerCase())})))),B&&(e=e.filter((function(e){return e.type===B}))),V.key&&(e=e.filter((function(e){return e[V.key]===V.value}))),oe(e))}),[G,B,ne,V]);var ie=[5*(R-1),5*(R-1)+5];ie[1]>=le.length&&(ie[1]=ie[1]-(ie[1]-le.length));var me=["Delete"],ue=function(){var e=Object(g.a)(E.a.mark((function e(){var n,c,r,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length>0&&void 0!==s[0]&&s[0]&&z(f),"Edit"!==d){e.next=7;break}(n=le.filter((function(e){return e.selected}))).length&&(t(n[0]),a()),e.next=15;break;case 7:if("Delete"!==d){e.next=15;break}if(!(c=le.filter((function(e){return e.selected}))).length){e.next=15;break}return e.next=12,Object(N.i)(c.map((function(e){return e._id})));case 12:(r=e.sent).error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:r.error,type:"failure"}}):m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Announcements were deleted",message:"Announcements were successfully deleted",type:"success"}}),ee(!$);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=["Information","Error","Warning"];return s.a.createElement("div",{className:"row no-gutters admin-screen"},s.a.createElement("div",{className:"col-60 border-bottom"},s.a.createElement("div",{className:"row no-gutters justify-content-between pb-3 align-items-end"},s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Announcements"),s.a.createElement("div",{className:"row no-gutters"},"Create and post announcements")),s.a.createElement("div",{className:"col-auto btn-custom btn-custom-primary btn-natural",onClick:function(){return n()}},"Add New"))),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 py-5"},s.a.createElement("div",{className:"row no-gutters h6 mb-3"},s.a.createElement("div",{onClick:function(){K({key:"",value:""}),h(""),z("")},className:"cursor-pointer col-auto ".concat(B||V.key?"text-dark":"text-primary")},"All (",ne.length,")"),["Published","Drafted","Expired"].map((function(e,t){return s.a.createElement(s.a.Fragment,{key:"status-".concat(t)},s.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),s.a.createElement("div",{onClick:function(){return K((function(t){return Object.assign({},t,{key:"status",value:e})}))},className:"cursor-pointer col-auto ".concat("status"===V.key&&V.value===e?"text-primary":"text-dark")},e," (",ne.filter((function(t){return t.status===e})).length,")"))}))),s.a.createElement("div",{className:"row no-gutters justify-content-between"},s.a.createElement("div",{className:"col-sm-auto col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return p(me[e])},items:me,btnName:d||"Select Action",className:"input-light px-3 col-auto "}))),s.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return h(de[e])},items:de,btnName:f||"Select Type",className:"input-light px-3 col-auto "}))),s.a.createElement("div",{onClick:function(){return ue(!0)},className:"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall"},"Apply"))),s.a.createElement("div",{className:"col-60 d-block d-sm-none"},s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement(_.a,{popoverClass:"w-100",onSelect:function(e){return j(["User","Description"][e])},className:"input-light col-60",items:["User","Description"],btnName:"Search by ".concat(O)})),s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement("div",{className:"col-60 position-relative"},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{className:"input-light w-100 pr-5 pl-3",value:G,onChange:function(e){e.persist(),H(e.target.value)}})))),s.a.createElement("div",{className:"col-auto mb-3 d-none d-sm-block"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{onSelect:function(e){return j(["User","Description"][e])},className:"table-input-prepend-select col-auto",items:["User","Description"],btnName:"Search by ".concat(O)}),s.a.createElement("div",{className:"col position-relative"},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{value:G,onChange:function(e){e.persist(),H(e.target.value)},className:"table-input pr-5 pl-3",style:{minWidth:"300px"}}))))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(T.a,{style:{minWidth:"100%"},onSwipedLeft:function(){Y(A+1<4?A+1:A)},onSwipedRight:function(){Y(A-1>=0?A-1:A)}},s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table bg-white border"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:le.slice(ie[0],ie[1]).filter((function(e){return e.selected})).length===ie[1]-ie[0],onChange:function(e){oe((function(t){for(var a=Object(S.a)(t),n=ie[0];n<ie[1];n++)a[n].selected=e.target.checked;return a}))}})),s.a.createElement("th",{className:"table-header text-truncate text-left"},s.a.createElement("div",{className:"d-none d-lg-block"},"Posted By"),s.a.createElement("div",{className:"d-block d-lg-none"},"By")),s.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},["Type","Description","Duration","Status"][A]),s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,"Type")),s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,"Description")),s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,"Duration")),s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,"Status")))),s.a.createElement("tbody",null,le.length?le.slice(5*(R-1),5*(R-1)+5).map((function(e,n){return s.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(n)},s.a.createElement("td",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:e.selected,onChange:function(e){oe((function(t){var a=Object(S.a)(t);return a[5*(R-1)+n].selected=e.target.checked,a}))}})),s.a.createElement("td",null,Object.values(l).length?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("div",{style:{whiteSpace:"nowrap"}},s.a.createElement("div",{className:"d-inline-block mr-2"},s.a.createElement("div",{className:"square-50 rounded-circle bg-image",style:{backgroundImage:"url(".concat(l[e.author].photo,")")}})),s.a.createElement("div",{className:"d-none d-md-inline-block align-top"},s.a.createElement("div",{className:"text-primary"},l[e.author].display_name),s.a.createElement("div",{className:"mb-3"},l[e.author].email),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"text-primary underline-link",onClick:function(){t(e),a()}},"Edit"),s.a.createElement("div",{className:"px-2"},"|"),s.a.createElement("div",{className:"text-danger underline-link",onClick:Object(g.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.i)([e._id]);case 2:(a=t.sent).error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:a.error,type:"failure"}}):m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Announcement was deleted",message:"Announcement was successfully deleted",type:"success"}}),ee(!$);case 5:case"end":return t.stop()}}),t)})))},"Delete")))))):""),s.a.createElement("td",{className:"".concat("Warning"===e.type?"text-warning":"Information"===e.type?"text-primary":"Error"===e.type?"text-danger":"").concat(0===A?" d-table-cell":" d-none d-xl-table-cell")},s.a.createElement("div",null,e.type)),s.a.createElement("td",{className:"".concat(1===A?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",{style:{minWidth:"150px"},className:"text-clamp-4 cursor-pointer user-select-none",onClick:function(e){var t=e.currentTarget;t.classList.contains("text-clamp-4")?t.classList.remove("text-clamp-4"):t.classList.add("text-clamp-4")}},e.description)),s.a.createElement("td",{className:"".concat(2===A?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",{style:{whiteSpace:"nowrap"}},s.a.createElement("div",{className:"d-inline-block mr-2"},s.a.createElement("div",null,"From: "),s.a.createElement("div",null,"To: ")),s.a.createElement("div",{className:"d-inline-block"},s.a.createElement("div",{style:{whiteSpace:"nowrap"}},w.a.format(new Date(e.start_date),"DD/MM/YYYY @ hh:mm A"),s.a.createElement("div",{style:{whiteSpace:"nowrap"}},w.a.format(new Date(e.end_date),"DD/MM/YYYY @ hh:mm A")))))),s.a.createElement("td",{className:"".concat(3===A?"d-table-cell":"d-none d-xl-table-cell")},e.status))})):s.a.createElement("tr",null,s.a.createElement("td",{colSpan:6,className:" text-center py-5"},"0 results found"))))))),s.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-sm-end"},s.a.createElement("div",{className:"col-auto"},s.a.createElement(D.a,{count:Math.ceil(le.length/5),current:R,setCurrent:P})))))))})),L=a(272),B=a.n(L),z=(a(274),a(275)),W=a.n(z),q=function(e){var t=e.currentAnnouncement,a=e.getBack,n=Object(r.useState)({description:"",type:"",start_date:Date.now(),end_date:Date.now(),status:""}),l=Object(c.a)(n,2),o=l[0],u=l[1],d=Object(r.useState)(!1),p=Object(c.a)(d,2),b=p[0],v=p[1];Object(r.useEffect)((function(){t&&u(t)}),[t]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]);var f=["Information","Warning","Error"],h=["Published","Drafted","Expired"];return s.a.createElement("div",{className:"row no-gutters p-md-5 p-4"},s.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Announcements"),s.a.createElement("div",{className:"row no-gutters"},"Edit existing announcement")),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Type"),s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60 pr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-sm-30 col-60",onSelect:function(e){return u((function(t){return Object.assign({},t,{type:f[e]})}))},className:"w-100 input-light px-3",items:f,btnName:o.type?o.type:"Select"})))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Description"),s.a.createElement("div",{className:"col-60"},s.a.createElement("textarea",{value:o.description?o.description:"",onChange:function(e){e.persist(),u((function(t){return Object.assign({},t,{description:e.target.value})}))},className:"textarea-light w-100",style:{height:"150px"}})),s.a.createElement("div",{className:"col-60 ".concat(o.description.split(" ").length<=499?"text-muted":"text-danger")},o.description?500-o.description.split(" ").length:500," ","words left")),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 pr-sm-3 mb-4"},s.a.createElement("div",{className:"row no-gutters"},"Start Date"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},s.a.createElement(B.a,{value:w.a.format(new Date(o.start_date),"DD/MM/YYYY"),component:function(e){return s.a.createElement("div",{className:"position-relative"},s.a.createElement(i.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(o.start_date),a=e.getFullYear(),n=e.getMonth(),c=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(c),u((function(e){return Object.assign({},e,{start_date:t.getTime()})}))}}})),s.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},s.a.createElement(i.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement(W.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(c.a)(t,2),n=a[0],r=a[1],s=new Date(o.start_date);s.setHours(n),s.setMinutes(r),u((function(e){return Object.assign({},e,{start_date:s.getTime()})}))}},value:new Date(o.start_date)}))))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters"},"End Date"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},s.a.createElement(B.a,{value:w.a.format(new Date(o.end_date),"DD/MM/YYYY"),component:function(e){return s.a.createElement("div",{className:"position-relative"},s.a.createElement(i.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(o.end_date),a=e.getFullYear(),n=e.getMonth(),c=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(c),u((function(e){return Object.assign({},e,{end_date:t.getTime()})}))}}})),s.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},s.a.createElement(i.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement(W.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(c.a)(t,2),n=a[0],r=a[1],s=new Date(o.end_date);s.setHours(n),s.setMinutes(r),u((function(e){return Object.assign({},e,{end_date:s.getTime()})}))}},value:new Date(o.end_date)}))))))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Type"),s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60 pr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-sm-30 col-60",onSelect:function(e){return u((function(t){return Object.assign({},t,{status:h[e]})}))},className:"w-100 input-light px-3",items:h,btnName:o.status?o.status:"Select"}))))),s.a.createElement("div",{className:"col-60 mt-5"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:function(){return a()}},"Cancel"),s.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,Object(N.q)(o);case 3:t=e.sent,v(!1),t.error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:t.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Announcement updated",message:"Announcement was successfully updated",type:"success"}}),a());case 6:case"end":return e.stop()}}),e)})))},s.a.createElement(y.a,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:b,size:20}),"Save"))))};var G=Object(f.b)((function(e,t){return Object(n.a)({user:e.user},t)}))((function(e){var t=e.user,a=e.getBack,n=Object(r.useState)({description:"",type:"",start_date:Date.now(),end_date:Date.now(),status:"Published"}),l=Object(c.a)(n,2),o=l[0],u=l[1],d=Object(r.useState)(""),p=Object(c.a)(d,2),b=p[0],v=p[1],f=Object(r.useState)(!1),h=Object(c.a)(f,2),x=h[0],O=h[1],j=["Information","Warning","Error"],S=["Published","Drafted","Deleted"],k=[{valid:o.description,error:"Description is required"},{valid:o.type,error:"Type is required"},{valid:o.start_date<o.end_date,error:"Start date must be before end date"},{valid:o.start_date!==o.end_date,error:"Announcement duration is 0"}];return s.a.createElement("div",{className:"row no-gutters p-md-5 p-4"},s.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Announcements"),s.a.createElement("div",{className:"row no-gutters"},"Creat a brand new announcement and add to this site")),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Type"),s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-sm-30 col-60",onSelect:function(e){return u((function(t){return Object.assign({},t,{type:j[e]})}))},className:"w-100 input-light px-3",items:j,btnName:o.type?o.type:"Select"})))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Description"),s.a.createElement("div",{className:"col-60"},s.a.createElement("textarea",{value:o.description?o.description:"",onChange:function(e){e.persist(),u((function(t){return Object.assign({},t,{description:e.target.value})}))},className:"textarea-light w-100",style:{height:"150px"}})),s.a.createElement("div",{className:"col-60 ".concat(o.description.split(" ").length<=499?"text-muted":"text-danger")},o.description?500-o.description.split(" ").length:500," ","words left")),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 pr-sm-3 mb-4"},s.a.createElement("div",{className:"row no-gutters"},"Start Date"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},s.a.createElement(B.a,{value:w.a.format(new Date(o.start_date),"DD/MM/YYYY"),component:function(e){return s.a.createElement("div",{className:"position-relative"},s.a.createElement(i.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(o.start_date),a=e.getFullYear(),n=e.getMonth(),c=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(c),u((function(e){return Object.assign({},e,{start_date:t.getTime()})}))}}})),s.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},s.a.createElement(i.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement(W.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(c.a)(t,2),n=a[0],r=a[1],s=new Date(o.start_date);s.setHours(n),s.setMinutes(r),u((function(e){return Object.assign({},e,{start_date:s.getTime()})}))}},value:new Date(o.start_date)}))))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters"},"End Date"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},s.a.createElement(B.a,{value:w.a.format(new Date(o.end_date),"DD/MM/YYYY"),component:function(e){return s.a.createElement("div",{className:"position-relative"},s.a.createElement(i.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(o.end_date),a=e.getFullYear(),n=e.getMonth(),c=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(c),u((function(e){return Object.assign({},e,{end_date:t.getTime()})}))}}})),s.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},s.a.createElement(i.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement(W.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(c.a)(t,2),n=a[0],r=a[1],s=new Date(o.end_date);s.setHours(n),s.setMinutes(r),u((function(e){return Object.assign({},e,{end_date:s.getTime()})}))}},value:new Date(o.end_date)}))))))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Status"),s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-sm-30 col-60",onSelect:function(e){return u((function(t){return Object.assign({},t,{status:S[e]})}))},className:"w-100 input-light px-3",items:S,btnName:o.status?o.status:"Select"}))))),s.a.createElement("div",{className:"col-60 mt-3"},s.a.createElement("div",{style:{height:"50px",opacity:b?1:0},className:"row no-gutters align-items-center text-danger"},b),s.a.createElement("div",{className:"row no-gutters mt-2"},s.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:function(){return a()}},"Cancel"),s.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(g.a)(E.a.mark((function e(){var n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=14;break}if(!(n=k.filter((function(e){return!e.valid}))).length){e.next=6;break}v(n[0].error),e.next=12;break;case 6:return O(!0),e.next=9,Object(N.d)(Object.assign({},o,{author:t._id}));case 9:c=e.sent,O(!1),c.error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:c.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Announcement created",message:"You successfully created announcement",type:"success"}}),a());case 12:e.next=15;break;case 14:m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Login required",message:"You need to login to create announcements",type:"failure"}});case 15:case"end":return e.stop()}}),e)})))},s.a.createElement(y.a,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:x,size:20}),"Save"))))}));var H=Object(f.b)((function(e,t){return Object(n.a)({ratings:e.ratings},t)}))((function(e){var t=e.setEditPromotion,a=e.setAddNewPromotionSection,n=e.setEditPromotionSection,l=(e.ratings,Object(r.useState)("")),o=Object(c.a)(l,2),u=o[0],d=o[1],p=Object(r.useState)(""),b=Object(c.a)(p,2),v=b[0],f=b[1],h=Object(r.useState)("Description"),y=Object(c.a)(h,2),x=y[0],O=y[1],j=Object(r.useState)(0),A=Object(c.a)(j,2),Y=A[0],U=A[1],M=Object(r.useState)(1),R=Object(c.a)(M,2),P=R[0],F=R[1],L=Object(r.useState)(""),B=Object(c.a)(L,2),z=B[0],W=B[1],q=Object(r.useState)(""),G=Object(c.a)(q,2),H=G[0],J=G[1],Q=Object(r.useState)({key:"",value:""}),V=Object(c.a)(Q,2),K=V[0],X=V[1],Z=Object(r.useState)([]),$=Object(c.a)(Z,2),ee=$[0],te=$[1],ae=Object(r.useState)([]),ne=Object(c.a)(ae,2),ce=ne[0],re=ne[1],se=Object(r.useState)(!1),le=Object(c.a)(se,2),oe=le[0],ie=le[1];Object(r.useEffect)((function(){function e(){return(e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.K)();case 2:(t=e.sent).error||te(t.map((function(e){return Object.assign({},e,{selected:!1})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[oe]),Object(r.useEffect)((function(){var e=Object(S.a)(ee);ee.length&&(H&&("Description"===x?e=e.filter((function(e){return e.description.toLowerCase().includes(H.toLowerCase())})):"Review"===x&&(e=e.filter((function(e){return"Review"===e.content_type&&e.content.review.toLowerCase().includes(H.toLowerCase())})))),z&&(e=e.filter((function(e){return e.content_type.match(new RegExp(z,"i"))}))),K.key&&(e=e.filter((function(e){return e[K.key]===K.value}))),re(e))}),[H,z,ee,K]);var me=[5*(P-1),5*(P-1)+5];me[1]>=ce.length&&(me[1]=me[1]-(me[1]-ce.length));var ue=["Review","Rating","Duration","Status"],de=["Description","Review"];return s.a.createElement("div",{className:"row no-gutters admin-screen"},s.a.createElement("div",{className:"col-60 border-bottom"},s.a.createElement("div",{className:"row no-gutters justify-content-between pb-3 align-items-end"},s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Promotions List"),s.a.createElement("div",{className:"row no-gutters"},"Edit, add and delete promtions")),s.a.createElement("div",{className:"col-auto btn-custom btn-custom-primary btn-natural",onClick:function(){return a()}},"Add New"))),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 py-5"},s.a.createElement("div",{className:"row no-gutters h6 mb-3"},s.a.createElement("div",{className:"cursor-pointer col-auto ".concat(""!==K.key||z?"text-dark":"text-primary"),onClick:function(){W(""),f(""),X({key:"",value:""})}},"All (",ee.length,")"),["Published","Drafted","Deleted"].map((function(e,t){return s.a.createElement(s.a.Fragment,{key:"status-".concat(t)},s.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),s.a.createElement("div",{onClick:function(){return X((function(t){return Object.assign({},t,{key:"publish_status",value:e})}))},className:"cursor-pointer col-auto ".concat("publish_status"===K.key&&K.value===e?"text-primary":"text-dark")},e," (",ee.filter((function(t){return t.publish_status===e})).length,")"))}))),s.a.createElement("div",{className:"row no-gutters justify-content-between"},s.a.createElement("div",{className:"col-sm-auto col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return d(["Delete"][e])},items:["Delete"],btnName:u||"Select Action",className:"input-light px-3 col-auto"}))),s.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return f(["Review","Comment"][e])},items:["Review","Comment"],btnName:v||"Select Type",className:"input-light px-3 col-auto"}))),s.a.createElement("div",{onClick:function(){if("Edit"===u){var e=ce.filter((function(e){return e.selected}));e.length&&(t(e[0]),n())}else"Delete"===u||W(v)},className:"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall"},"Apply"))),s.a.createElement("div",{className:"col-60 d-block d-sm-none"},s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement(_.a,{popoverClass:"w-100",onSelect:function(e){return O(de[e])},className:"input-light col-60",items:de,btnName:"Search by ".concat(x)})),s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement("div",{className:"col-60 position-relative"},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{className:"input-light w-100 pr-5 pl-3",value:H,onChange:function(e){e.persist(),J(e.target.value)}})))),s.a.createElement("div",{className:"col-auto mb-3 d-none d-sm-block"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{onSelect:function(e){return O(de[e])},className:"table-input-prepend-select col-auto",items:de,btnName:"Search by ".concat(x)}),s.a.createElement("div",{className:"col position-relative"},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{value:H,onChange:function(e){e.persist(),J(e.target.value)},className:"table-input pr-5 pl-3",style:{minWidth:"300px"}}))))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(T.a,{style:{minWidth:"100%"},onSwipedLeft:function(){U(Y+1<4?Y+1:Y)},onSwipedRight:function(){U(Y-1>=0?Y-1:Y)}},s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table bg-white border"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:ce.slice(me[0],me[1]).filter((function(e){return e.selected})).length===me[1]-me[0],onChange:function(e){re((function(t){for(var a=Object(S.a)(t),n=me[0];n<me[1];n++)a[n].selected=e.target.checked;return a}))}})),s.a.createElement("th",{className:"table-header text-truncate text-left"},"Description"),s.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},ue[Y]),ue.map((function(e,t){return s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate",key:"column-".concat(t)},s.a.createElement("div",null,e))})))),s.a.createElement("tbody",null,ce.length?ce.slice(5*(P-1),5*(P-1)+5).map((function(e,a){return s.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(a)},s.a.createElement("td",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:e.selected,onChange:function(e){re((function(t){var n=Object(S.a)(t);return n[5*(P-1)+a].selected=e.target.checked,n}))}})),s.a.createElement("td",{style:{whiteSpace:"nowrap"}},s.a.createElement("div",{className:"mb-2",style:{minWidth:"150px"}},e.description),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"text-primary underline-link",onClick:function(){t(e),n()}},"Edit"),s.a.createElement("div",{className:"px-2"},"|"),s.a.createElement("div",{className:"text-danger underline-link",onClick:Object(g.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.l)([e._id],{status:"Deleted"});case 2:(a=t.sent).error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:a.error,type:"failure"}}):m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Promotion was deleted",message:"Promotion was successfully deleted",type:"success"}}),ie(!oe);case 5:case"end":return t.stop()}}),t)})))},"Delete"))),s.a.createElement("td",{className:"".concat(0===Y?"d-table-cell":"d-none d-xl-table-cell")},"Review"===e.content_type?s.a.createElement("div",{style:{minWidth:"150px"}},s.a.createElement("div",{className:"cursor-pointer user-select-none btn-link",onClick:function(t){I.a.push("/movie/".concat(e.movie_id,"/").concat(e.content_id))}},e.content.review)):s.a.createElement("div",{className:"text-clamp-4 cursor-pointer user-select-none",onClick:function(e){var t=e.currentTarget;t.classList.contains("text-clamp-4")?t.classList.remove("text-clamp-4"):t.classList.add("text-clamp-4")}},e.content.comment)),s.a.createElement("td",{className:"".concat(1===Y?"d-table-cell":"d-none d-xl-table-cell")},e.content.rating?s.a.createElement(C.a,{emoji:"excellent_rate"===e.content.rating?"fire":"good_rate"===e.content.rating?"heart":"ok_rate"===e.content.rating?"heavy_division_sign":"shit"}):"-"),s.a.createElement("td",{className:"".concat(2===Y?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",{style:{whiteSpace:"nowrap"}},s.a.createElement("div",{className:"d-inline-block mr-2"},s.a.createElement("div",null,"From: "),s.a.createElement("div",null,"To: ")),s.a.createElement("div",{className:"d-inline-block"},s.a.createElement("div",{style:{whiteSpace:"nowrap"}},w.a.format(new Date(e.start_date),"DD/MM/YYYY @ hh:mm A"),s.a.createElement("div",{style:{whiteSpace:"nowrap"}},w.a.format(new Date(e.end_date),"DD/MM/YYYY @ hh:mm A")))))),s.a.createElement("td",{className:"".concat("Published"===e.status?"text-green":"Drafted"===e.status?"text-orange":"text-danger"," ").concat(3===Y?"d-table-cell":"d-none d-xl-table-cell")},"Published"===e.status?"Active":"Drafted"===e.status?"Inactive":e.status))})):s.a.createElement("tr",null,s.a.createElement("td",{colSpan:6,className:" text-center py-5"},"0 results found"))))))),s.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-sm-end"},s.a.createElement("div",{className:"col-auto"},s.a.createElement(D.a,{count:Math.ceil(ce.length/5),current:P,setCurrent:F})))))))})),J=function(e){var t=e.currentPromotion,a=e.getBack,l=Object(r.useState)({review:"",comment:"",review_id:1,comment_id:1,content_type:"",publish_status:"",active_status:"",start_date:Date.now(),end_date:Date.now(),movie_title:"",movie_id:"",content:{},title:""}),o=Object(c.a)(l,2),u=o[0],d=o[1],p=Object(r.useState)(!1),b=Object(c.a)(p,2),v=b[0],f=b[1];Object(r.useEffect)((function(){d((function(e){return Object.assign({},e,t)}))}),[t]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]);var h=["Published","Drafted","Deleted"];return s.a.createElement("div",{className:"row no-gutters p-md-5 p-4"},s.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Edit Promotions"),s.a.createElement("div",{className:"row no-gutters"},"Edit existing promotion")),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Description"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("textarea",{value:u.description?u.description:"",onChange:function(e){e.persist(),d((function(t){return Object.assign({},t,{description:e.target.value})}))},className:"textarea-light w-100",style:{height:"150px"}})))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60 mb-1"},u.content_type),s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("textarea",{value:u.content?"Review"===u.content_type?u.content.review:u.content.comment:"",onChange:function(e){e.persist();var t=e.target.value;if(t.split(" ").length<=500)if("Review"===u.content_type){var a=Object(n.a)({},u.content);a.review=t,d((function(e){return Object.assign({},e,{content:a})}))}else{var c=Object(n.a)({},u.content);c.comment=t,d((function(e){return Object.assign({},e,{content:c})}))}},className:"textarea-light w-100",style:{height:"150px"}})),s.a.createElement("div",{className:"col-60 ".concat(u.content_type?"Review"===u.content_type?u.content.review.split(" ").length<=499?"text-muted":"text-danger":u.content.comment.split(" ").length<=499?"text-muted":"text-danger":"")},u.content.review?u.content.review.length?500-u.content.review.split(" ").length:500:u.content.comment?u.content.comment.length?500-u.content.comment.split(" ").length:500:""," ","words left")),"Review"===u.content_type&&s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60 mb-4 px-0"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60"},"Rating")),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-sm-30 col-60 pr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60",className:"input-light px-3",btnName:u.content.rating?M.c.find((function(e){return e.name===u.content.rating})).element:"Select",onSelect:function(e){var t=Object(n.a)({},u.content);t.rating=M.c[e].name,d((function(e){return Object.assign({},e,{content:t})}))},items:M.c.map((function(e){return e.element}))}))))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-sm-30 col-60 pr-sm-3 mb-4"},s.a.createElement("div",{className:"row no-gutters"},"Start Date"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(B.a,{value:w.a.format(new Date(u.start_date),"DD/MM/YYYY"),component:function(e){return s.a.createElement("div",{className:"position-relative w-100"},s.a.createElement(i.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(u.start_date),a=e.getFullYear(),n=e.getMonth(),c=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(c),d((function(e){return Object.assign({},e,{start_date:t.getTime()})}))}}}))),s.a.createElement("div",{className:"col-sm-30 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters"},"End Date"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(B.a,{value:w.a.format(new Date(u.end_date),"DD/MM/YYYY"),component:function(e){return s.a.createElement("div",{className:"position-relative w-100"},s.a.createElement(i.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(u.end_date),a=e.getFullYear(),n=e.getMonth(),c=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(c),d((function(e){return Object.assign({},e,{end_date:t.getTime()})}))}}})))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-sm-30 pr-sm-3 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters"},"Start Time"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 position-relative input-light"},s.a.createElement(i.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement(W.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(c.a)(t,2),n=a[0],r=a[1],s=new Date(u.start_date);s.setHours(n),s.setMinutes(r),d((function(e){return Object.assign({},e,{start_date:s.getTime()})}))}},value:new Date(u.start_date)})))),s.a.createElement("div",{className:"col-sm-30 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters"},"End Time"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 position-relative input-light"},s.a.createElement(i.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement(W.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(c.a)(t,2),n=a[0],r=a[1],s=new Date(u.end_date);s.setHours(n),s.setMinutes(r),d((function(e){return Object.assign({},e,{end_date:s.getTime()})}))}},value:new Date(u.end_date)}))))))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Status"),s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-sm-30 col-60 pr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60",onSelect:function(e){return d((function(t){return Object.assign({},t,{status:h[e]})}))},className:"w-100 input-light px-3",items:h,btnName:u.status?u.status:"Select"}))))))),s.a.createElement("div",{className:"col-60 mt-2"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:a},"Cancel"),s.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Object(N.v)(u);case 3:t=e.sent,f(!1),t.error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:t.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Promotion updated",message:"Promotion was successfully updated",type:"success"}}),a());case 6:case"end":return e.stop()}}),e)})))},s.a.createElement(y.a,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:v,size:20}),"Save"))))};var Q=Object(f.b)((function(e,t){return Object(n.a)({publicUsers:e.publicUsers,ratings:e.ratings},t)}))((function(e){var t=e.publicUsers,a=e.getBack,n=e.ratings,l=Object(r.useState)({description:"",start_date:Date.now(),end_date:Date.now(),content_type:"",status:"Published"}),o=Object(c.a)(l,2),u=o[0],d=o[1],p=Object(r.useState)(1),b=Object(c.a)(p,2),v=b[0],f=b[1],h=Object(r.useState)(""),x=Object(c.a)(h,2),O=x[0],j=x[1],I=Object(r.useState)(!1),A=Object(c.a)(I,2),Y=A[0],U=A[1],M=Object(r.useState)("User"),R=Object(c.a)(M,2),P=R[0],F=R[1],L=Object(r.useState)(""),z=Object(c.a)(L,2),q=z[0],G=z[1],H=Object(r.useState)([]),J=Object(c.a)(H,2),Q=J[0],V=J[1],K=["User","Movie","Review"],X=Object(r.useState)(0),Z=Object(c.a)(X,2),$=Z[0],ee=Z[1],te=Object(r.useState)([]),ae=Object(c.a)(te,2),ne=ae[0],ce=ae[1];Object(r.useEffect)((function(){function e(){return(e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.O)();case 2:(t=e.sent).error||ce(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){var e=[];q?"User"===P?Object.values(t).length&&ne.forEach((function(a){t[a.author].display_name.toLowerCase().includes(q.toLowerCase())&&e.push(a)})):"Movie"===P?ne.forEach((function(t){n[t.movie_id]&&n[t.movie_id].movie_title.toLowerCase().includes(q.toLowerCase())&&e.push(t)})):"Review"===P&&ne.forEach((function(t){t.review.toLowerCase().includes(q.toLowerCase())&&e.push(t)})):e=e.concat(Object(S.a)(ne)),V(e.map((function(e){return Object.assign({},e,{selected:!1})})))}),[q,ne]);var re=[5*(v-1),5*(v-1)+5];re[1]>=Q.length&&(re[1]=re[1]-(re[1]-Q.length));var se=["Movie Name","Review","Rating","Posted On","Reported"],le=[{valid:u.description,error:"Description is required"},{valid:u.start_date<u.end_date,error:"Start date must be before end date"},{valid:u.start_date!==u.end_date,error:"promotion duration is 0"},{valid:Q.filter((function(e){return e.selected})).length,error:"No content selected"}];return s.a.createElement("div",{className:"row no-gutters p-sm-5 p-4"},s.a.createElement("div",{className:"col-60 border-bottom mb-4"},s.a.createElement("div",{className:"row no-gutters justify-content-between"},s.a.createElement("div",{className:"col-auto py-3"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Promote Content"),s.a.createElement("div",{className:"row no-gutters"},"Edit, add and delete promotions")))),s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Description"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("textarea",{value:u.description?u.description:"",onChange:function(e){e.persist(),d((function(t){return Object.assign({},t,{description:e.target.value})}))},className:"textarea-light w-100",style:{height:"150px"}})))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 pr-sm-3 mb-4"},s.a.createElement("div",{className:"row no-gutters"},"Start Date"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},s.a.createElement(B.a,{value:w.a.format(new Date(u.start_date),"DD/MM/YYYY"),component:function(e){return s.a.createElement("div",{className:"position-relative"},s.a.createElement(i.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(u.start_date),a=e.getFullYear(),n=e.getMonth(),c=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(c),d((function(e){return Object.assign({},e,{start_date:t.getTime()})}))}}})),s.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},s.a.createElement(i.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement(W.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(c.a)(t,2),n=a[0],r=a[1],s=new Date(u.start_date);s.setHours(n),s.setMinutes(r),d((function(e){return Object.assign({},e,{start_date:s.getTime()})}))}},value:new Date(u.start_date)}))))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters"},"End Date"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},s.a.createElement(B.a,{value:w.a.format(new Date(u.end_date),"DD/MM/YYYY"),component:function(e){return s.a.createElement("div",{className:"position-relative"},s.a.createElement(i.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(u.end_date),a=e.getFullYear(),n=e.getMonth(),c=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(c),d((function(e){return Object.assign({},e,{end_date:t.getTime()})}))}}})),s.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},s.a.createElement(i.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement(W.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(c.a)(t,2),n=a[0],r=a[1],s=new Date(u.end_date);s.setHours(n),s.setMinutes(r),d((function(e){return Object.assign({},e,{end_date:s.getTime()})}))}},value:new Date(u.end_date)}))))))),s.a.createElement("div",{className:"row no-gutters mb-3 h6 mt-4"},"Select Content To Promote"),s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement(_.a,{onSelect:function(e){return F(K[e])},className:"table-input-prepend-select col-auto bg-custom-primary text-white",items:K,btnName:"Search by ".concat(P)}),s.a.createElement("div",{className:"col position-relative",style:{maxWidth:"400px"}},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{value:q,onChange:function(e){e.persist(),G(e.target.value)},className:"table-input pr-5 pl-3 w-100"})))),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(T.a,{style:{minWidth:"100%"},onSwipedLeft:function(){ee($+1<4?$+1:$)},onSwipedRight:function(){ee($-1>=0?$-1:$)}},s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table bg-white border"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:Q.slice(re[0],re[1]).filter((function(e){return e.selected})).length===re[1]-re[0],onChange:function(e){V((function(t){for(var a=Object(S.a)(t),n=re[0];n<re[1];n++)a[n].selected=e.target.checked;return a}))}})),s.a.createElement("th",{className:"table-header text-truncate text-left"},s.a.createElement("div",{className:"d-none d-lg-block"},"Posted By"),s.a.createElement("div",{className:"d-block d-lg-none"},"By")),s.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},se[$]),se.map((function(e,t){return s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate",key:"x-col-".concat(t)},s.a.createElement("div",null,e))})))),s.a.createElement("tbody",null,Q.length?Q.slice(5*(v-1),5*(v-1)+5).map((function(e,a){return s.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(a)},s.a.createElement("td",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:e.selected,onChange:function(e){V((function(t){var n=Object(S.a)(t);return n[5*(v-1)+a].selected=e.target.checked,n}))}})),s.a.createElement("td",{style:{whiteSpace:"nowrap"}},s.a.createElement("div",{className:"d-inline-block mr-2"},s.a.createElement("div",{className:"square-50 rounded-circle bg-image",style:{backgroundImage:"url(".concat(Object.values(t).length?t[e.author].photo:"",")")}})),Object.values(t).length?s.a.createElement("div",{className:"d-none d-md-inline-block align-top"},s.a.createElement("div",{className:"h6 text-primary"},t[e.author].display_name),s.a.createElement("div",null,t[e.author].email)):""),s.a.createElement("td",{className:"".concat(0===$?"d-table-cell":"d-none d-xl-table-cell")},n[e.movie_id]?n[e.movie_id].movie_title:""),s.a.createElement("td",{className:"".concat(1===$?"d-table-cell":"d-none d-xl-table-cell")},e.comment?s.a.createElement("div",{className:"text-clamp-4 cursor-pointer user-select-none",onClick:function(e){var t=e.currentTarget;t.classList.contains("text-clamp-4")?t.classList.remove("text-clamp-4"):t.classList.add("text-clamp-4")}},e.comment):s.a.createElement("div",{style:{minWidth:"200px"}},s.a.createElement("div",{className:"text-clamp-4 cursor-pointer user-select-none",onClick:function(e){var t=e.currentTarget;t.classList.contains("text-clamp-4")?t.classList.remove("text-clamp-4"):t.classList.add("text-clamp-4")}},e.review))),s.a.createElement("td",{className:"".concat(2===$?"d-table-cell":"d-none d-xl-table-cell")},e.rating?s.a.createElement(C.a,{emoji:"excellent_rate"===e.rating?"fire":"good_rate"===e.rating?"heart":"ok_rate"===e.rating?"heavy_division_sign":"shit"}):"-"),s.a.createElement("td",{style:{whiteSpace:"nowrap"},className:"".concat(3===$?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",null,w.a.format(new Date(e.date),"DD/MM/YYYY @ hh:mm A"))),s.a.createElement("td",{className:"".concat(e.reported?"text-danger":"text-green"," ").concat(4===$?"d-table-cell":"d-none d-xl-table-cell")},e.reported?"Abused":"Not Reported"))})):s.a.createElement("tr",null,s.a.createElement("td",{colSpan:3,className:" text-center py-5"},"0 results found"))))))),s.a.createElement("div",{className:"row no-gutters justify-content-end"},s.a.createElement("div",{className:"col-auto"},s.a.createElement(D.a,{count:Math.ceil(Q.length/5),current:v,setCurrent:f}))),s.a.createElement("div",{className:"col-60 mt-1 px-0"},s.a.createElement("div",{style:{height:"50px",opacity:O?1:0},className:"row no-gutters align-items-center text-danger mb-2"},O),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:function(){return a()}},"Cancel"),s.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(g.a)(E.a.mark((function e(){var t,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=le.filter((function(e){return!e.valid}))).length){e.next=5;break}j(t[0].error),e.next=12;break;case 5:return n=Q.filter((function(e){return e.selected})).map((function(e){return Object.assign({},u,{content_type:e.comment?"Comment":"Review",content:e.comment?{comment:e.comment}:{review:e.review,rating:e.rating},content_id:e._id,content_author:e.author,movie_title:e.movie_title,movie_genres:e.movie_genres,movie_poster:e.movie_poster,movie_release_date:e.movie_release_date,movie_id:e.movie_id})})),U(!0),e.next=9,Object(N.f)(n);case 9:c=e.sent,U(!1),c.error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:c.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Promotions created",message:"Promotions were successfully created",type:"success"}}),a());case 12:case"end":return e.stop()}}),e)})))},s.a.createElement(y.a,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:Y,size:20}),"Save")))))})),V=function(e){var t=e.setEditNotification,a=e.setEditNotificationSection,n=e.setAddNewNotificationSection,l=Object(r.useState)(""),o=Object(c.a)(l,2),u=o[0],d=o[1],p=Object(r.useState)(""),b=Object(c.a)(p,2),v=b[0],f=b[1],h=Object(r.useState)("Subject"),y=Object(c.a)(h,2),x=y[0],O=y[1],j=Object(r.useState)(0),C=Object(c.a)(j,2),I=C[0],A=C[1],Y=Object(r.useState)(1),U=Object(c.a)(Y,2),M=U[0],R=U[1],P=Object(r.useState)(""),F=Object(c.a)(P,2),L=F[0],B=F[1],z=Object(r.useState)(""),W=Object(c.a)(z,2),q=W[0],G=W[1],H=Object(r.useState)({key:"",value:""}),J=Object(c.a)(H,2),Q=J[0],V=J[1],K=Object(r.useState)([]),X=Object(c.a)(K,2),Z=X[0],$=X[1],ee=Object(r.useState)([]),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],ce=Object(r.useState)(!1),re=Object(c.a)(ce,2),se=re[0],le=re[1];Object(r.useEffect)((function(){function e(){return(e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.H)();case 2:(t=e.sent).error||$(t.reverse().map((function(e){return Object.assign({},e,{selected:!1})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[se]);var oe=["App","Email","System"];Object(r.useEffect)((function(){var e=Object(S.a)(Z);Z.length&&(q&&("Subject"===x?e=e.filter((function(e){return e.subject.toLowerCase().includes(q.toLowerCase())})):"Description"===x&&(e=e.filter((function(e){return e.description.toLowerCase().includes(q.toLowerCase())})))),L&&(e=e.filter((function(e){return e.type===L}))),Q.key&&(e=e.filter((function(e){return e[Q.key]===Q.value}))),ne(e))}),[q,L,Z,Q]);var ie=[5*(M-1),5*(M-1)+5];ie[1]>=ae.length&&(ie[1]=ie[1]-(ie[1]-ae.length));var me=function(){var e=Object(g.a)(E.a.mark((function e(){var n,c,r,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length>0&&void 0!==s[0]&&s[0]&&B(v),"Edit"!==u){e.next=7;break}(n=ae.filter((function(e){return e.selected}))).length&&(t(n[0]),a()),e.next=15;break;case 7:if("Delete"!==u){e.next=15;break}if(!(c=ae.filter((function(e){return e.selected}))).length){e.next=15;break}return e.next=12,Object(N.k)(c.map((function(e){return e._id})),{status:"Deleted"});case 12:(r=e.sent).error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:r.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Selected notifications deleted",message:"Selected notifications were successfully deleted",type:"success"}}),m.a.dispatch({type:"UPDATE_USER",userProperty:{update:Date.now()}})),le(!se);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"row no-gutters admin-screen"},s.a.createElement("div",{className:"col-60 border-bottom"},s.a.createElement("div",{className:"row no-gutters justify-content-between pb-3 align-items-end"},s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Notifications"),s.a.createElement("div",{className:"row no-gutters"},"Create, send and manage notifications")),s.a.createElement("div",{className:"col-auto btn-custom btn-custom-primary btn-natural",onClick:function(){return n()}},"Add New"))),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 py-5"},s.a.createElement("div",{className:"row no-gutters h6 mb-3"},s.a.createElement("div",{onClick:function(){B(""),f(""),V({key:"",value:""})},className:"col-auto cursor-pointer ".concat(L||Q.key?"text-dark":"text-primary")},"All (",Z.length,")"),["Sent","Drafted","Deleted"].map((function(e,t){return s.a.createElement(s.a.Fragment,{key:"status-".concat(t)},s.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),s.a.createElement("div",{onClick:function(){return V((function(t){return Object.assign({key:"status",value:e})}))},className:"col-auto cursor-pointer ".concat("status"===Q.key&&Q.value===e?"text-primary":"text-dark")},e," (",Z.filter((function(t){return t.status===e})).length,")"))}))),s.a.createElement("div",{className:"row no-gutters justify-content-between"},s.a.createElement("div",{className:"col-sm-auto col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return d(["Delete"][e])},items:["Delete"],btnName:u||"Select Action",className:"input-light px-3 col-auto"}))),s.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return f(oe[e])},items:oe,btnName:v||"Select Type",className:"input-light px-3 col-auto"}))),s.a.createElement("div",{onClick:function(){return me(!0)},className:"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall"},"Apply"))),s.a.createElement("div",{className:"col-60 d-block d-sm-none"},s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement(_.a,{popoverClass:"w-100",onSelect:function(e){return O(["Subject","Description"][e])},className:"input-light col-60",items:["Subject","Description"],btnName:"Search by ".concat(x)})),s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement("div",{className:"col-60 position-relative"},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{className:"input-light w-100 pr-5 pl-3",value:q,onChange:function(e){e.persist(),G(e.target.value)}})))),s.a.createElement("div",{className:"col-auto mb-3 d-none d-sm-block"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{onSelect:function(e){return O(["Subject","Description"][e])},className:"table-input-prepend-select col-auto",items:["Subject","Description"],btnName:"Search by ".concat(x)}),s.a.createElement("div",{className:"col position-relative"},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{value:q,onChange:function(e){e.persist(),G(e.target.value)},className:"table-input pr-5 pl-3",style:{minWidth:"300px"}}))))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(T.a,{style:{minWidth:"100%"},onSwipedLeft:function(){A(I+1<4?I+1:I)},onSwipedRight:function(){A(I-1>=0?I-1:I)}},s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table bg-white border"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:ae.slice(ie[0],ie[1]).filter((function(e){return e.selected})).length===ie[1]-ie[0],onChange:function(e){ne((function(t){for(var a=Object(S.a)(t),n=ie[0];n<ie[1];n++)a[n].selected=e.target.checked;return a}))}})),s.a.createElement("th",{className:"table-header text-truncate text-left"},"Subject"),s.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},["Type","Description","Duration","Status"][I]),s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,"Type")),s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,"Description")),s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,"Duration")),s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate"},s.a.createElement("div",null,"Status")))),s.a.createElement("tbody",null,ae.length?ae.slice(5*(M-1),5*(M-1)+5).map((function(e,n){return s.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(n)},s.a.createElement("td",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:e.selected,onChange:function(e){ne((function(t){var a=Object(S.a)(t);return a[5*(M-1)+n].selected=e.target.checked,a}))}})),s.a.createElement("td",{style:{whiteSpace:"nowrap"}},s.a.createElement("div",{className:"mb-2"},e.subject),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"text-primary underline-link",onClick:function(){t(e),a()}},"Edit"),s.a.createElement("div",{className:"px-2"},"|"),s.a.createElement("div",{className:"text-danger underline-link",onClick:Object(g.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.k)([e._id],{status:"Deleted"});case 2:(a=t.sent).error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:a.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Notification was deleted",message:"Notification was successfully deleted",type:"success"}}),m.a.dispatch({type:"UPDATE_USER",userProperty:{update:Date.now()}})),le(!se);case 5:case"end":return t.stop()}}),t)})))},"Delete"))),s.a.createElement("td",{className:"".concat(0===I?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",null,e.type)),s.a.createElement("td",{className:"".concat(1===I?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",{style:{minWidth:"200px"},className:"text-clamp-4 cursor-pointer user-select-none",onClick:function(e){var t=e.currentTarget;t.classList.contains("text-clamp-4")?t.classList.remove("text-clamp-4"):t.classList.add("text-clamp-4")}},e.description)),s.a.createElement("td",{className:"".concat(2===I?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",{className:"d-flex mb-2"},s.a.createElement("div",{style:{width:"55px"}},"From:"),s.a.createElement("div",null,s.a.createElement("div",{style:{whiteSpace:"nowrap"}},w.a.format(new Date(e.start_date),"DD/MM/YYYY @ hh:mm A")))),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{style:{width:"55px"}},"To:"),s.a.createElement("div",null,s.a.createElement("div",{style:{whiteSpace:"nowrap"}},w.a.format(new Date(e.end_date),"DD/MM/YYYY @ hh:mm A"))))),s.a.createElement("td",{className:"".concat(3===I?"d-table-cell":"d-none d-xl-table-cell")},e.status))})):s.a.createElement("tr",null,s.a.createElement("td",{colSpan:6,className:" text-center py-5"},"0 results found"))))))),s.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-sm-end"},s.a.createElement("div",{className:"col-auto"},s.a.createElement(D.a,{count:Math.ceil(ae.length/5),current:M,setCurrent:R})))))))},K=a(356),X=a(354),Z=a(111),$=a(239),ee=a(351),te=Object(ee.a)((function(e){return{inputRoot:{"& .MuiOutlinedInput-notchedOutline":{border:"none"}}}})),ae=Object(Z.a)({palette:{primary:{main:"rgb(255, 0, 64)"},secondary:{main:"#202020"}}}),ne=function(e){var t=te();return s.a.createElement($.a,{theme:ae},s.a.createElement(K.a,Object.assign({},e,{classes:t,multiple:!0,id:"tags-outlined",filterSelectedOptions:!0,renderInput:function(t){return s.a.createElement(X.a,Object.assign({},t,{variant:"outlined",placeholder:e.placeholder}))}})))};var ce=Object(f.b)((function(e,t){return Object(n.a)({publicUsers:e.publicUsers,user:e.user},t)}))((function(e){var t=e.currentNotification,a=e.getBack,n=e.publicUsers,l=e.user,o=["App","Email","System"],u=Date.now(),d=Object(r.useState)({type:"",subject:"",start_date:u,end_date:u,receivers:[],description:"",status:"Drafted"}),p=Object(c.a)(d,2),b=p[0],v=p[1],f=["Sent","Drafted","Deleted"],h=Object(r.useState)(""),x=Object(c.a)(h,2),O=x[0],j=x[1],S=Object(r.useState)(!1),k=Object(c.a)(S,2),C=k[0],D=k[1],T=[{valid:b.subject,error:"Subject is required"},{valid:b.type,error:"Select notification type"},{valid:b.receivers.length,error:"Select at least one receiver"},{valid:b.description,error:"Description is required"}];Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(r.useEffect)((function(){v(t)}),[t]);return s.a.createElement("div",{className:"row no-gutters p-sm-5 p-4"},s.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Edit notification"),s.a.createElement("div",{className:"row no-gutters"},"Edit existing notification")),s.a.createElement("div",{className:"col-60",style:{maxWidth:"800px"}},s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Subject"),s.a.createElement("div",{className:"col-60"},s.a.createElement("input",{disabled:"System"===b.type,type:"text",className:"w-100 ".concat("System"===b.type?"input-light-disabled":"input-light"," px-3"),value:b.subject,onChange:function(e){e.persist(),v((function(t){return Object.assign({},t,{subject:e.target.value})}))}}))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Type"),s.a.createElement(_.a,{disabled:"System"===b.type,popoverClass:"col-sm-30 col-60",className:"input-light".concat("System"===b.type?"-disabled":""," col-60"),btnName:b.type?b.type:"Select",items:o,onSelect:function(e){return v((function(t){return Object.assign({},t,{type:o[e]})}))}})),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Notification to"),s.a.createElement(ne,{disabled:"System"===b.type,value:b.receivers,onChange:function(e,t){v((function(e){return Object.assign({},e,{receivers:t})}))},placeholder:"Search by username",color:"primary",className:"col-md-30 col-60 input-light-resize".concat("System"===b.type?"-disabled":""),options:Object.keys({All:"All","All users":"User","All admins":"Administrator","Inactive users":"Inactive","Active users":"Active"}).concat(Object.values(n).filter((function(e){return"Deleted"!==e.status}))),getOptionLabel:function(e){return e.display_name?e.display_name:e}})),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Description"),s.a.createElement("div",{className:"col-60"},s.a.createElement("textarea",{disabled:"System"===b.type,value:b.description,onChange:function(e){e.persist();var t=e.target.value;t.split(" ").length<=500&&v((function(e){return Object.assign({},e,{description:t})}))},className:"".concat("System"===b.type?"textarea-light-disabled":"textarea-light"," w-100"),style:{height:"150px"}})),s.a.createElement("div",{className:"col-60 ".concat(b.description.split(" ").length<=499?"text-muted":"text-danger")},b.description?500-b.description.split(" ").length:500,"words left")),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 pr-sm-3 mb-4"},s.a.createElement("div",{className:"row no-gutters"},"Date"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},s.a.createElement(B.a,{value:w.a.format(new Date(b.start_date),"DD/MM/YYYY"),component:function(e){return s.a.createElement("div",{className:"position-relative"},s.a.createElement(i.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement("input",Object.assign({disabled:"System"===b.type},e,{className:"input-light".concat("System"===b.type?"-disabled":""," w-100 pl-5 pr-3"),placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(b.start_date),a=e.getFullYear(),n=e.getMonth(),c=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(c),v((function(e){return Object.assign({},e,{start_date:t.getTime()})}))}}})),s.a.createElement("div",{className:"col-auto position-relative input-light".concat("System"===b.type?"-disabled":""),style:{width:"150px"}},s.a.createElement(i.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),"System"===b.type?s.a.createElement("div",{className:"w-100 pl-5"},w.a.format(new Date(b.start_date),"hh:mm A")):s.a.createElement(W.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(c.a)(t,2),n=a[0],r=a[1],s=new Date(b.start_date);s.setHours(n),s.setMinutes(r),v((function(e){return Object.assign({},e,{start_date:s.getTime()})}))}},value:new Date(b.start_date)}))))))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Status"),s.a.createElement(_.a,{disabled:"System"===b.type,popoverClass:"col-sm-30 col-60",className:"input-light".concat("System"===b.type?"-disabled":""," col-60"),btnName:b.status?b.status:"Select status",items:f,onSelect:function(e){return v((function(t){return Object.assign({},t,{status:f[e]})}))}})),s.a.createElement("div",{style:{height:"50px",opacity:O?1:0},className:"row no-gutters align-items-center text-danger my-2"},O),"System"!==b.type?s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:a},"Cancel"),s.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(g.a)(E.a.mark((function e(){var t,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=T.filter((function(e){return!e.valid}))).length){e.next=5;break}j(t[0].error),e.next=20;break;case 5:return D(!0),e.next=8,Object(N.u)(b);case 8:if(n=e.sent,D(!1),!n.error){e.next=14;break}m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:n.error,type:"failure"}}),e.next=20;break;case 14:return m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Notification edited",message:"Notification was successfully edited",type:"success"}}),e.next=17,Object(N.Q)(l._id);case 17:c=e.sent,m.a.dispatch({type:"SET_USER",user:c}),a();case 20:case"end":return e.stop()}}),e)})))},s.a.createElement(y.a,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:C,size:20}),"Save")):s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:a},"Go back"))))}));var re=Object(f.b)((function(e,t){return Object(n.a)({publicUsers:e.publicUsers,user:e.user},t)}))((function(e){var t=e.publicUsers,a=e.getBack,n=e.user,l=["App","Email","System"],o=Date.now(),u=Object(r.useState)({type:"",subject:"",receivers:[],start_date:o,end_date:o,description:"",status:"Sent"}),d=Object(c.a)(u,2),p=d[0],b=d[1],v=Object(r.useState)(""),f=Object(c.a)(v,2),h=f[0],x=f[1],O=Object(r.useState)(!1),j=Object(c.a)(O,2),S=j[0],k=j[1],C=["Sent","Drafted","Deleted"],D=[{valid:p.subject,error:"Subject is required"},{valid:p.type,error:"Select notification type"},{valid:p.receivers.length,error:"Select at least one receiver"},{valid:p.description,error:"Description is required"}];return s.a.createElement("div",{className:"row no-gutters p-sm-5 p-4"},s.a.createElement("div",{className:"col-60 py-3 border-bottom mb-4"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Add new notification"),s.a.createElement("div",{className:"row no-gutters"},"Create a brand new notification and add to this site")),s.a.createElement("div",{className:"col-60",style:{maxWidth:"800px"}},s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Subject"),s.a.createElement("div",{className:"col-60"},s.a.createElement("input",{type:"text",className:"w-100 input-light px-3",value:p.subject,onChange:function(e){e.persist(),b((function(t){return Object.assign({},t,{subject:e.target.value})}))}}))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Type"),s.a.createElement(_.a,{popoverClass:"col-sm-30 col-60",className:"input-light col-60 w-100",btnName:p.type?p.type:"Select",items:l,onSelect:function(e){return b((function(t){return Object.assign({},t,{type:l[e]})}))}})),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Notification to"),s.a.createElement(ne,{value:p.receivers,onChange:function(e,t){b((function(e){return Object.assign({},e,{receivers:t})}))},placeholder:"Search by username",color:"primary",className:"col-md-30 col-60 input-light-resize",options:Object.keys({All:"All","All users":"User","All admins":"Administrator","Inactive users":"Inactive","Active users":"Active"}).concat(Object.values(t).filter((function(e){return"Deleted"!==e.status}))),getOptionLabel:function(e){return e.display_name?e.display_name:e}})),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Description"),s.a.createElement("div",{className:"col-60"},s.a.createElement("textarea",{value:p.description,onChange:function(e){e.persist();var t=e.target.value;t.split(" ").length<=500&&b((function(e){return Object.assign({},e,{description:t})}))},className:"textarea-light w-100",style:{height:"150px"}})),s.a.createElement("div",{className:"col-60 ".concat(p.description.split(" ").length<=499?"text-muted":"text-danger")},p.description?500-p.description.split(" ").length:500,"words left")),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-xl-40 col-md-50 col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 pr-sm-3 mb-4"},s.a.createElement("div",{className:"row no-gutters"},"Date"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-auto mr-2",style:{width:"182px"}},s.a.createElement(B.a,{value:w.a.format(new Date(p.start_date),"DD/MM/YYYY"),component:function(e){return s.a.createElement("div",{className:"position-relative"},s.a.createElement(i.c,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement("input",Object.assign({},e,{className:"input-light w-100 pl-5 pr-3",placeholder:"YYYY-MM-DD"})))},onDayChange:function(e){if(e){var t=new Date(p.start_date),a=e.getFullYear(),n=e.getMonth(),c=e.getDate();t.setFullYear(a),t.setMonth(n),t.setDate(c),b((function(e){return Object.assign({},e,{start_date:t.getTime()})}))}}})),s.a.createElement("div",{className:"col-auto position-relative input-light",style:{width:"150px"}},s.a.createElement(i.h,{style:{position:"absolute",top:0,bottom:0,margin:"auto",left:"18px"}}),s.a.createElement(W.a,{clearIcon:null,clockIcon:null,className:"w-100 pl-5",onChange:function(e){if(e){var t=e.split(":"),a=Object(c.a)(t,2),n=a[0],r=a[1],s=new Date(p.start_date);s.setHours(n),s.setMinutes(r),b((function(e){return Object.assign({},e,{start_date:s.getTime()})}))}},value:new Date(p.start_date)}))))))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Status"),s.a.createElement(_.a,{popoverClass:"col-sm-30 col-60",className:"input-light col-60",btnName:p.status?p.status:"Select status",items:C,onSelect:function(e){return b((function(t){return Object.assign({},t,{status:C[e]})}))}})),s.a.createElement("div",{style:{height:"50px",opacity:h?1:0},className:"row no-gutters align-items-center text-danger my-2"},h),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 mb-3 col-60 col-sm-auto",onClick:a},"Cancel"),s.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small mb-3 col-60 col-sm-auto",onClick:Object(g.a)(E.a.mark((function e(){var t,c,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=D.filter((function(e){return!e.valid}))).length){e.next=5;break}x(t[0].error),e.next=20;break;case 5:return k(!0),e.next=8,Object(N.e)(p);case 8:if(c=e.sent,k(!1),!c.error){e.next=14;break}m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:c.error,type:"failure"}}),e.next=20;break;case 14:return m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Notification created",message:"Notification was successfully created",type:"success"}}),e.next=17,Object(N.Q)(n._id);case 17:r=e.sent,m.a.dispatch({type:"SET_USER",user:r}),a();case 20:case"end":return e.stop()}}),e)})))},s.a.createElement(y.a,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:S,size:20}),"Save"))))})),se=a(325);var le=Object(f.b)((function(e,t){return Object(n.a)({ratings:e.ratings,publicUsers:e.publicUsers},t)}))((function(e){var t=e.setEditUser,a=e.setEditUserSection,l=e.setAddNewUserSection,o=e.publicUsers,u=(e.ratings,Object(r.useState)("")),d=Object(c.a)(u,2),p=d[0],b=d[1],v=Object(r.useState)(""),f=Object(c.a)(v,2),h=f[0],w=f[1],y=Object(r.useState)("User"),x=Object(c.a)(y,2),O=x[0],j=x[1],C=Object(r.useState)(0),I=Object(c.a)(C,2),A=I[0],Y=I[1],U=Object(r.useState)(1),M=Object(c.a)(U,2),R=M[0],P=M[1],F=Object(r.useState)(""),L=Object(c.a)(F,2),B=L[0],z=L[1],W=Object(r.useState)(""),q=Object(c.a)(W,2),G=q[0],H=q[1],J=Object(r.useState)(""),Q=Object(c.a)(J,2),V=Q[0],K=Q[1],X=Object(r.useState)([]),Z=Object(c.a)(X,2),$=Z[0],ee=Z[1],te=Object(r.useState)([]),ae=Object(c.a)(te,2),ne=ae[0],ce=ae[1],re=Object(r.useState)(!1),le=Object(c.a)(re,2),oe=le[0],ie=le[1];Object(r.useEffect)((function(){function e(){return(e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.V)();case 2:t=e.sent,ee(t.map((function(e){return Object.assign({},e,{selected:!1})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[oe]),Object(r.useEffect)((function(){var e=Object(S.a)($);$.length&&(V&&("User"===O?e=e.filter((function(e){return e.display_name.toLowerCase().includes(V.toLowerCase())})):"Email"===O&&(e=e.filter((function(e){return e.email.toLowerCase().includes(V.toLowerCase())})))),B&&(e=e.filter((function(e){return e.role===B}))),G&&(e=e.filter((function(e){return e.status===G})))),ce(e)}),[V,B,$,G]);var me=[5*(R-1),5*(R-1)+5];me[1]>=ne.length&&(me[1]=me[1]-(me[1]-ne.length));var ue=function(){var e=Object(g.a)(E.a.mark((function e(){var c,r,s,l,i=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length>0&&void 0!==i[0]&&i[0]&&z("All"===h?"":h),!(c=ne.filter((function(e){return e.selected}))).length){e.next=15;break}if("Edit"!==p){e.next=9;break}t(c[0]),a(),e.next=15;break;case 9:return r={},"Delete"===p?r.status="Deleted":"Inactivate"===p?r.status="Inactive":"Block"===p?r.status="Blocked":"Activate"===p&&(r.status="Active"),e.next=13,Object(N.t)(c.map((function(e){return e._id})),c.map((function(e){return o[e._id]._id})),r);case 13:(s=e.sent).error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:s.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Users updated",message:"User were successfully updated",type:"success"}}),ie(!oe),l=Object(n.a)({},o),c.forEach((function(e){l[e._id].status=r.status})),m.a.dispatch({type:"SET_PUBLICUSERS",publicUsers:l}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(g.a)(E.a.mark((function e(t,a,n){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.t)(a,n,t);case 2:(c=e.sent).error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:c.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Users updated",message:"User were successfully updated",type:"success"}}),ie(!oe));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),pe=["Block","Inactivate","Activate","Delete"],be=["Email","Role","Last login","Activity","Status"];return s.a.createElement("div",{className:"row no-gutters admin-screen"},s.a.createElement("div",{className:"col-60 border-bottom"},s.a.createElement("div",{className:"row no-gutters justify-content-between pb-3 align-items-end"},s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"row no-gutters admin-screen-title"},"Users"),s.a.createElement("div",{className:"row no-gutters"},"Add, edit and delete users")),s.a.createElement("div",{className:"col-auto btn-custom btn-custom-primary btn-natural",onClick:function(){return l()}},"Add New"))),s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 py-5"},s.a.createElement("div",{className:"row no-gutters h6 mb-3"},s.a.createElement("div",{className:"col-auto ".concat(G?"text-dark":"text-primary"),onClick:function(){return H("")}},"All (",$.length,")"),["Active","Inactive","Blocked"].map((function(e,t){return s.a.createElement(s.a.Fragment,{key:"status-".concat(t)},s.a.createElement("div",{className:"col-auto px-2 text-muted"},"|"),s.a.createElement("div",{className:"col-auto cursor-pointer ".concat(G===e?"text-primary":"text-dark"),onClick:function(){return H(e)}},e," (",$.filter((function(t){return t.status===e})).length,")"))}))),s.a.createElement("div",{className:"row no-gutters justify-content-between"},s.a.createElement("div",{className:"col-sm-auto col-60"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return b(pe[e])},items:pe,btnName:p||"Select Action",className:"input-light px-3 col-auto"}))),s.a.createElement("div",{className:"col-60 col-sm-auto pb-3 mr-sm-3"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{popoverClass:"col-60 col-sm-auto",onSelect:function(e){return w(["All","Administrator","User"][e])},items:["All","Administrator","User"],btnName:h||"Select Role",className:"input-light px-3 col-auto"}))),s.a.createElement("div",{onClick:function(){return ue(!0)},className:"btn-custom btn-custom-primary col-60 col-sm-auto mb-3 mr-3 btn-xsmall"},"Apply"))),s.a.createElement("div",{className:"col-60 d-block d-sm-none"},s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement(_.a,{popoverClass:"w-100",onSelect:function(e){return j(["User","Email"][e])},className:"input-light col-60",items:["User","Email"],btnName:"Search by ".concat(O)})),s.a.createElement("div",{className:"row no-gutters mb-3"},s.a.createElement("div",{className:"col-60 position-relative"},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{className:"input-light w-100 pr-5 pl-3",value:V,onChange:function(e){e.persist(),K(e.target.value)}})))),s.a.createElement("div",{className:"col-auto mb-3 d-none d-sm-block"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(_.a,{onSelect:function(e){return j(["User","Email"][e])},className:"table-input-prepend-select col-auto",items:["User","Email"],btnName:"Search by ".concat(O)}),s.a.createElement("div",{className:"col position-relative"},s.a.createElement(i.m,{fontSize:"20px",style:{position:"absolute",top:0,bottom:0,margin:"auto",right:"18px"}}),s.a.createElement("input",{value:V,onChange:function(e){e.persist(),K(e.target.value)},className:"table-input pr-5 pl-3",style:{minWidth:"300px"}}))))),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement(T.a,{style:{minWidth:"100%"},onSwipedLeft:function(){Y(A+1<4?A+1:A)},onSwipedRight:function(){Y(A-1>=0?A-1:A)}},s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table bg-white border"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:ne.slice(me[0],me[1]).filter((function(e){return e.selected})).length===me[1]-me[0],onChange:function(e){ce((function(t){for(var a=Object(S.a)(t),n=me[0];n<me[1];n++)a[n].selected=e.target.checked;return a}))}})),s.a.createElement("th",{className:"table-header text-truncate text-left"},s.a.createElement("div",{className:"d-none d-lg-block"},"Display Name"),s.a.createElement("div",{className:"d-block d-lg-none"},"Name")),s.a.createElement("th",{className:"d-table-cell d-xl-none table-header text-truncate"},be[A]),be.map((function(e,t){return s.a.createElement("th",{className:"d-none d-xl-table-cell table-header text-truncate",key:"column-".concat(t)},s.a.createElement("div",null,e))})))),s.a.createElement("tbody",null,ne.length?ne.slice(5*(R-1),5*(R-1)+5).map((function(e,c){return s.a.createElement("tr",{className:"font-weight-600 bg-light",key:"shortlist-item-".concat(c)},s.a.createElement("td",{className:"text-center"},s.a.createElement(k.a,{color:"primary",checked:e.selected,onChange:function(e){ce((function(t){var a=Object(S.a)(t);return a[5*(R-1)+c].selected=e.target.checked,a}))}})),s.a.createElement("td",{style:{whiteSpace:"nowrap"}},s.a.createElement("div",null,s.a.createElement("div",{style:{whiteSpace:"nowrap"}},s.a.createElement("div",{className:"d-inline-block mr-2"},s.a.createElement("div",{className:"square-50 rounded-circle bg-image",style:{backgroundImage:"url(".concat(e.photo,")")}})),s.a.createElement("div",{className:"d-none d-md-inline-block align-top"},s.a.createElement("div",{className:"text-primary mb-2 text-truncate",style:{maxWidth:"300px"}},e.display_name),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"text-primary underline-link",onClick:function(){t(e),a()}},"Edit"),s.a.createElement("div",{className:"px-2"},"|"),s.a.createElement("div",{className:"text-primary underline-link",onClick:function(){de({status:"Blocked"},[e._id],[o[e._id]._id])}},"Block"),s.a.createElement("div",{className:"px-2"},"|"),s.a.createElement("div",{className:"text-danger underline-link",onClick:Object(g.a)(E.a.mark((function t(){var a,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.n)([e._id],[o[e._id]._id]);case 2:(a=t.sent).error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:a.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Users deleted",message:"User were successfully deleted",type:"success"}}),ie(!oe),(c=Object(n.a)({},o))[e._id].status="Deleted",m.a.dispatch({type:"SET_PUBLICUSERS",publicUsers:c}));case 4:case"end":return t.stop()}}),t)})))},"Delete")))))),s.a.createElement("td",{className:"".concat(0===A?"d-table-cell":"d-none d-xl-table-cell")},s.a.createElement("div",null,e.email)),s.a.createElement("td",{className:"".concat(1===A?"d-table-cell":"d-none d-xl-table-cell")},e.role),s.a.createElement("td",{className:"".concat(2===A?"d-table-cell":"d-none d-xl-table-cell")},e.last_login?Object(se.format)(e.last_login):"No data"),s.a.createElement("td",{className:"".concat(3===A?"d-table-cell":"d-none d-xl-table-cell")},e.last_activity?Object(se.format)(e.last_activity):"No data"),s.a.createElement("td",{className:"".concat("Active"===e.status?"text-green":"Inactive"===e.status?"text-orange":"text-danger"," ").concat(4===A?"d-table-cell":"d-none d-xl-table-cell")},e.status))})):s.a.createElement("tr",null,s.a.createElement("td",{colSpan:7,className:" text-center py-5"},"0 results found"))))))),s.a.createElement("div",{className:"row no-gutters justify-content-center justify-content-sm-end"},s.a.createElement("div",{className:"col-auto"},s.a.createElement(D.a,{count:Math.ceil(ne.length/5),current:R,setCurrent:P})))))))})),oe=a(19);var ie=Object(f.b)((function(e,t){return Object(n.a)({publicUsers:e.publicUsers},t)}))((function(e){var t=e.getBack,a=e.publicUsers,n=Object(r.useState)({first_name:"",last_name:"",display_name:"",email:"",username:"",password:"",re_password:"",status:"Active",role:"User"}),l=Object(c.a)(n,2),o=l[0],i=l[1],u=Object(r.useState)(""),d=Object(c.a)(u,2),p=d[0],v=d[1],f=Object(r.useState)(!1),h=Object(c.a)(f,2),w=h[0],x=h[1],O=[{valid:o.email,error:"Email is required"},{valid:Object(oe.d)(o.email),error:"Email is not valid"},{valid:o.password,error:"Password is required"},{valid:/[^\w\s]/.test(o.password)||/\d/.test(o.password),error:"Password must contain number or symbol"},{valid:o.password===o.re_password,error:"Passwords don't match"},{valid:o.password.length>=6,error:"Password must contain at least 6 characters"},{valid:!Object.values(a).map((function(e){return e.email})).includes(o.email),error:"This email address is taken"}],j=["Active","Inactive","Blocked"],S=["Administrator","User"];return s.a.createElement("div",{className:"row no-gutters p-md-5 p-4"},s.a.createElement("div",{className:"col-60",style:{maxWidth:"800px"}},s.a.createElement("div",{className:"row no-gutters border-bottom py-3 mb-5"},s.a.createElement("div",{className:"col-60 admin-screen-title"},"Add User"),s.a.createElement("div",{className:"col-60"},"Add brand new user")),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-sm-30 col-60 pr-sm-3 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"First name"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{spellCheck:!1,value:o.first_name,onChange:function(e){e.persist(),i((function(t){return Object.assign({},t,{first_name:e.target.value})}))},type:"text",className:"px-3 input-light w-100"}))),s.a.createElement("div",{className:"col-sm-30 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Last name"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{spellCheck:!1,value:o.last_name,onChange:function(e){e.persist(),i((function(t){return Object.assign({},t,{last_name:e.target.value})}))},type:"text",className:"px-3 input-light w-100"})))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Display name"),s.a.createElement("div",{className:"col-60 mb-1"},s.a.createElement("input",{spellCheck:!1,value:o.display_name,onChange:function(e){e.persist(),i((function(t){return Object.assign({},t,{display_name:e.target.value})}))},type:"text",className:"px-3 input-light w-100"})),s.a.createElement("div",{className:"col-60 text-muted"},"This name will be visible for everyone")),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"*Email"),s.a.createElement("div",{className:"col-60"},s.a.createElement("input",{spellCheck:!1,value:o.email,onChange:function(e){e.persist(),i((function(t){return Object.assign({},t,{email:e.target.value})}))},type:"text",className:"px-3 input-light w-100"}))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"*Password"),s.a.createElement("div",{className:"col-60 mb-1"},s.a.createElement("input",{spellCheck:!1,value:o.password,onChange:function(e){e.persist(),i((function(t){return Object.assign({},t,{password:e.target.value})}))},type:"password",className:"px-3 input-light w-100"})),s.a.createElement("div",{className:"col-60 text-muted"},"Must be at least 6 characters and must contain a number or symbol")),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"*Confirm Password"),s.a.createElement("div",{className:"col-60 mb-1"},s.a.createElement("input",{spellCheck:!1,value:o.re_password,onChange:function(e){e.persist(),i((function(t){return Object.assign({},t,{re_password:e.target.value})}))},type:"password",className:"px-3 input-light w-100"})),s.a.createElement("div",{className:"col-60 text-muted"},"Must be at least 6 characters and must contain a number or symbol")),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-sm-20 col-60 pr-sm-3 mb-4"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 mb-1"},"Status"),s.a.createElement(_.a,{popoverClass:"w-100",onSelect:function(e){return i((function(t){return Object.assign({},t,{status:j[e]})}))},items:j,btnName:o.status?o.status:"Select",className:"input-light px-3 col-60"}))),s.a.createElement("div",{className:"col-sm-20 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 mb-1"},"Role"),s.a.createElement(_.a,{popoverClass:"w-100",onSelect:function(e){return i((function(t){return Object.assign({},t,{role:S[e]})}))},items:S,btnName:o.role?o.role:"Select",className:"input-light px-3 col-60"})))),s.a.createElement("div",{style:{height:"50px",opacity:p?1:0},className:"row no-gutters align-items-center text-danger"},p),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 col-sm-auto col-60 mb-3",onClick:function(){return t()}},"Cancel"),s.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small col-sm-auto col-60 mb-3",onClick:Object(g.a)(E.a.mark((function e(){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=O.filter((function(e){return!e.valid}))).length){e.next=5;break}v(a[0].error),e.next=11;break;case 5:return x(!0),e.next=8,Object(N.g)(o);case 8:n=e.sent,x(!1),n.error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:n.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"User created",message:"User was successfully created",type:"success"}}),m.a.dispatch({type:"UPDATE_PUBLICUSERS",publicUser:Object(b.a)({},n.id,Object.assign({},o,{user_id:n.id,_id:n.pid}))}),t());case 11:case"end":return e.stop()}}),e)})))},s.a.createElement(y.a,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:w,size:20}),"Save"))))}));var me=Object(f.b)((function(e,t){return Object(n.a)({no_display_name_characters:e.settings.no_display_name_characters},t)}))((function(e){var t=e.currentUser,a=e.getBack,l=e.no_display_name_characters,o=Object(r.useState)({first_name:"",last_name:"",display_name:"",email:"",username:"",password:"",re_password:"",status:"Active",role:"Administrator"}),i=Object(c.a)(o,2),u=i[0],d=i[1],p=Object(r.useState)(""),b=Object(c.a)(p,2),v=b[0],f=b[1],h=Object(r.useState)(!1),w=Object(c.a)(h,2),x=w[0],O=w[1];Object(r.useEffect)((function(){t&&d(Object.assign({},t,{re_password:"",password:""}))}),[t]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]);var j=[{valid:u.display_name.length<=l,error:"Display name is too long"},{valid:/[^\w\s]/.test(u.password)||/\d/.test(u.password),error:"Password must contain number or symbol"},{valid:u.password===u.re_password,error:"Passwords don't match"},{valid:u.password.length>=6,error:"Password must contain at least 6 characters"}],S=["Active","Inactive","Blocked"],k=["Administrator","User"];return s.a.createElement("div",{className:"row no-gutters p-md-5 p-4"},s.a.createElement("div",{className:"col-60",style:{maxWidth:"800px"}},s.a.createElement("div",{className:"row no-gutters border-bottom py-3 mb-5"},s.a.createElement("div",{className:"col-60 admin-screen-title"},"Edit User"),s.a.createElement("div",{className:"col-60"},"Edit existing user")),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-sm-30 col-60 pr-sm-3 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"First name"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{spellCheck:!1,value:u.first_name,onChange:function(e){e.persist(),d((function(t){return Object.assign({},t,{first_name:e.target.value})}))},type:"text",className:"px-3 input-light w-100"}))),s.a.createElement("div",{className:"col-sm-30 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters mb-1"},"Last name"),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("input",{spellCheck:!1,value:u.last_name,onChange:function(e){e.persist(),d((function(t){return Object.assign({},t,{last_name:e.target.value})}))},type:"text",className:"px-3 input-light w-100"})))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Display name"),s.a.createElement("div",{className:"col-60 mb-1"},s.a.createElement("input",{spellCheck:!1,value:u.display_name,onChange:function(e){e.persist(),d((function(t){return Object.assign({},t,{display_name:e.target.value})}))},type:"text",className:"px-3 input-light w-100"})),s.a.createElement("div",{className:"col-60 text-muted"},"This name will be visible for everyone")),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Email"),s.a.createElement("div",{className:"col-60"},s.a.createElement("input",{spellCheck:!1,value:u.email,onChange:function(e){e.persist(),d((function(t){return Object.assign({},t,{email:e.target.value})}))},type:"text",className:"px-3 input-light w-100"}))),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Password"),s.a.createElement("div",{className:"col-60 mb-1"},s.a.createElement("input",{spellCheck:!1,value:u.password,onChange:function(e){e.persist(),d((function(t){return Object.assign({},t,{password:e.target.value})}))},type:"password",className:"px-3 input-light w-100"})),s.a.createElement("div",{className:"col-60 text-muted"},"Must be at least 6 characters and must contain a number or symbol")),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-60 mb-1"},"Confirm Password"),s.a.createElement("div",{className:"col-60 mb-1"},s.a.createElement("input",{spellCheck:!1,value:u.re_password,onChange:function(e){e.persist(),d((function(t){return Object.assign({},t,{re_password:e.target.value})}))},type:"password",className:"px-3 input-light w-100"})),s.a.createElement("div",{className:"col-60 text-muted"},"Must be at least 6 characters and must contain a number or symbol")),s.a.createElement("div",{className:"row no-gutters mb-4"},s.a.createElement("div",{className:"col-sm-20 col-60 pr-sm-3 mb-4"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 mb-1"},"Status"),s.a.createElement(_.a,{popoverClass:"w-100",onSelect:function(e){return d((function(t){return Object.assign({},t,{status:S[e]})}))},items:S,btnName:u.status?u.status:"Select",className:"input-light px-3 col-60"}))),s.a.createElement("div",{className:"col-sm-20 col-60 mb-4"},s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-60 mb-1"},"Role"),s.a.createElement(_.a,{popoverClass:"w-100",onSelect:function(e){return d((function(t){return Object.assign({},t,{role:k[e]})}))},items:k,btnName:u.role?u.role:"Select",className:"input-light px-3 col-60"})))),s.a.createElement("div",{style:{height:"50px",opacity:v?1:0},className:"row no-gutters align-items-center text-danger"},v),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"btn-custom btn-custom-secondary btn-small mr-sm-3 col-sm-auto col-60 mb-3",onClick:function(){return a()}},"Cancel"),s.a.createElement("div",{className:"btn-custom btn-custom-primary btn-small col-sm-auto col-60 mb-3",onClick:Object(g.a)(E.a.mark((function e(){var t,c,r,s,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,c=Object(n.a)({},u),u.password&&(r=j.filter((function(e){return!e.valid}))).length&&(t=!1,f(r[0].error)),""===c.password&&(delete c.password,delete c.re_password),!t){e.next=11;break}return O(!0),e.next=8,Object(N.z)(c);case 8:s=e.sent,O(!1),s.error?m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"Error",message:s.error,type:"failure"}}):(m.a.dispatch({type:"SET_NOTIFICATION",notification:{title:"User updated",message:"User was successfully updated",type:"success"}}),(l=m.a.getState().publicUsers[u._id]).status=u.status,l.role=u.role,m.a.dispatch({type:"UPDATE_PUBLICUSERS",publicUser:l}),a());case 11:case"end":return e.stop()}}),e)})))},s.a.createElement(y.a,{color:"white",style:{position:"absolute",left:"10px",top:0,bottom:0,margin:"auto",display:"flex",alignItems:"center"},loading:x,size:20}),"Save"))))})),ue=6,de=7,pe=8,be=9,ve=10,Ee=11,ge=12,Ne=13,fe=14,he=15;t.default=Object(f.b)((function(e,t){return Object(n.a)({dashboardMenuOpened:e.dashboardMenuOpened},t)}))((function(e){var t=e.dashboardMenuOpened,a=Object(r.useState)(0),n=Object(c.a)(a,2),l=n[0],o=n[1],m=Object(r.useState)(null),u=Object(c.a)(m,2),d=u[0],b=u[1],v=Object(r.useState)(null),E=Object(c.a)(v,2),g=E[0],N=E[1],f=Object(r.useState)(null),h=Object(c.a)(f,2),w=h[0],y=h[1],x=Object(r.useState)(null),S=Object(c.a)(x,2),_=S[0],k=S[1],C=Object(r.useState)(null),D=Object(c.a)(C,2),T=D[0],I=D[1],A=Object(r.useState)(null),Y=Object(c.a)(A,2),M=Y[0],L=Y[1];return s.a.createElement("div",{className:"row no-gutters justify-content-center",style:{minHeight:window.innerHeight}},s.a.createElement("div",{className:"col-60"},s.a.createElement("div",{className:"row no-gutters h-100 position-relative bg-light"},s.a.createElement(j,{isMenuOpened:t,setSection:o,section:l}),s.a.createElement("div",{className:"col-auto d-none d-lg-block",style:{width:"300px"}},s.a.createElement(p,{section:l,setSection:o})),s.a.createElement("div",{className:"col"},l>=6&&s.a.createElement("div",{className:"row no-gutters px-md-5 px-4 pt-4",style:{marginBottom:"-40px"}},s.a.createElement("div",{className:"col-auto cursor-pointer"},s.a.createElement(i.a,{fontSize:"24px",onClick:function(){return o(6===l||7===l?2:8===l||9===l?3:10===l||11===l?4:12===l||13===l?5:14===l||15===l?1:0)}}))),0===l?s.a.createElement(O,null):1===l?s.a.createElement(le,{setAddNewUserSection:function(){return o(he)},setEditUser:function(e){return L(e)},setEditUserSection:function(){return o(fe)}}):2===l?s.a.createElement(U,{setEditReview:function(e){return b(e)},setEditReviewSection:function(){return o(ue)},setEditComment:function(e){return N(e)},setEditCommentSection:function(){return o(de)}}):3===l?s.a.createElement(F,{setAddNewAnouncementSection:function(){return o(be)},setEditAnnouncement:function(e){return y(e)},setEditAnnouncementSection:function(){o(pe)}}):4===l?s.a.createElement(H,{setAddNewPromotionSection:function(){return o(Ee)},setEditPromotion:function(e){return k(e)},setEditPromotionSection:function(){return o(ve)}}):5===l?s.a.createElement(V,{setAddNewNotificationSection:function(){return o(Ne)},setEditNotification:function(e){return I(e)},setEditNotificationSection:function(){return o(ge)}}):6===l?s.a.createElement(R,{currentReview:d,getBack:function(){return o(2)}}):7===l?s.a.createElement(P,{currentComment:g,getBack:function(){return o(2)}}):8===l?s.a.createElement(q,{getBack:function(){return o(3)},currentAnnouncement:w}):9===l?s.a.createElement(G,{getBack:function(){return o(3)}}):10===l?s.a.createElement(J,{currentPromotion:_,getBack:function(){return o(4)}}):11===l?s.a.createElement(Q,{getBack:function(){return o(4)}}):12===l?s.a.createElement(ce,{currentNotification:T,getBack:function(){return o(5)}}):13===l?s.a.createElement(re,{getBack:function(){return o(5)}}):14===l?s.a.createElement(me,{currentUser:M,getBack:function(){return o(1)}}):15===l?s.a.createElement(ie,{getBack:function(){return o(1)}}):""))))}))}}]);
//# sourceMappingURL=4.f92ff7d9.chunk.js.map